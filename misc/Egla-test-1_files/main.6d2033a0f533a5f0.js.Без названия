(self.webpackChunkfrontend_arm=self.webpackChunkfrontend_arm||[]).push([[179],{4413:(Qt,$,o)=>{"use strict";function e(I){const{anchorOffset:F=0,focusOffset:ot=0}=I.ownerDocument.getSelection()||{};return[Math.min(F,ot),Math.max(F,ot)]}o.d($,{A_:()=>T,C8:()=>bt,CV:()=>St,D2:()=>ut,fD:()=>V,gI:()=>g});class a{constructor(F){this.element=F,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,"\n")}set value(F){this.element.innerHTML=F.replace(/\n$/,"\n\n")}get selectionStart(){return e(this.element)[0]}get selectionEnd(){return e(this.element)[1]}setSelectionRange(F,ot){!function t(I,[F,ot]){var nt,At,Dt,Wt;const Nt=I.ownerDocument,Rt=Nt.createRange();Rt.setStart(I.firstChild||I,Math.min(F,null!==(At=null===(nt=I.textContent)||void 0===nt?void 0:nt.length)&&void 0!==At?At:0)),Rt.setEnd(I.lastChild||I,Math.min(ot,null!==(Wt=null===(Dt=I.textContent)||void 0===Dt?void 0:Dt.length)&&void 0!==Wt?Wt:0));const Bt=Nt.getSelection();Bt&&(Bt.removeAllRanges(),Bt.addRange(Rt))}(this.element,[F??0,ot??0])}select(){this.setSelectionRange(0,this.value.length)}}const g=I=>I.isContentEditable?function i(I){const F=new a(I);return new Proxy(I,{get(ot,nt){if(nt in F)return F[nt];const At=ot[nt];return"function"==typeof At?At.bind(ot):At},set:(ot,nt,At,Dt)=>Reflect.set(nt in F?F:ot,nt,At,Dt)})}(I):I.querySelector("input,textarea")||I,T={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class _{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const F=this.past.pop();F&&this.now&&(this.future.push(this.now),this.updateElement(F,"historyUndo"))}redo(){const F=this.future.pop();F&&this.now&&(this.past.push(this.now),this.updateElement(F,"historyRedo"))}updateHistory(F){if(!this.now)return void(this.now=F);const ot=this.now.value!==F.value,nt=this.now.selection.some((At,Dt)=>At!==F.selection[Dt]);!ot&&!nt||(ot&&(this.past.push(this.now),this.future=[]),this.now=F)}updateElement(F,ot){this.now=F,this.updateElementState(F,{inputType:ot,data:null})}}function v(I){return"string"==typeof I}function C(I,F,ot,nt){let At="";for(let Dt=F.length;Dt<I.length;Dt++){const Wt=I[Dt]||"",Nt=nt?.value[Dt]===Wt;if(!v(Wt)||Wt===ot&&!Nt)return At;At+=Wt}return At}function D(I,F){return Array.isArray(F)?I.length===F.length&&Array.from(I).every((ot,nt)=>{const At=F[nt]||"";return v(At)?ot===At:ot.match(At)}):F.test(I)}function O(I,F,ot=null){if(D(I.value,F))return I;const{value:nt,selection:At}=Array.isArray(F)?function y(I,F,ot){let nt=null,At=null;const Dt=Array.from(I.value).reduce((Nt,Rt,Bt)=>{const k=Nt+C(F,Nt,Rt,ot),yt=F[k.length]||"";return null===nt&&Bt>=I.selection[0]&&(nt=k.length),null===At&&Bt>=I.selection[1]&&(At=k.length),v(yt)?k+yt:Rt.match(yt)?k+Rt:k},""),Wt=C(F,Dt,"",ot);return{value:D(Dt+Wt,F)?Dt+Wt:Dt,selection:[nt??Dt.length,At??Dt.length]}}(I,F,ot):function E({value:I,selection:F},ot){const[nt,At]=F;let Dt=nt,Wt=At;return{value:Array.from(I).reduce((Rt,Bt,B)=>{const k=Rt+Bt;return nt===B&&(Dt=Rt.length),At===B&&(Wt=Rt.length),k.match(ot)?k:Rt},""),selection:[Dt,Wt]}}(I,F);return{selection:At,value:Array.isArray(F)?nt.slice(0,F.length):nt}}function M(I,F){if(!Array.isArray(F))return I;const[ot,nt]=I.selection,At=[],Dt=Array.from(I.value).reduce((Wt,Nt,Rt)=>{const Bt=F[Rt]||"";return Rt===ot&&At.push(Wt.length),Rt===nt&&At.push(Wt.length),v(Bt)&&Bt===Nt?Wt:Wt+Nt},"");return At.length<2&&At.push(...new Array(2-At.length).fill(Dt.length)),{value:Dt,selection:[At[0],At[1]]}}class U{constructor(F,ot){this.initialElementState=F,this.maskOptions=ot,this.value="",this.selection=[0,0];const{value:nt,selection:At}=O(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=nt,this.selection=At}addCharacters([F,ot],nt){const{value:At,maskOptions:Dt}=this,Wt=this.getMaskExpression({value:At.slice(0,F)+nt+At.slice(ot),selection:[F+nt.length,F+nt.length]}),Nt={value:At,selection:[F,ot]},Rt=M(Nt,Wt),[Bt,B]=function f({value:I,selection:F},ot,nt){const[At,Dt]=F;return{value:I,selection:"replace"===("function"==typeof nt?nt({value:I,selection:F}):nt)?[At,Math.max(At+ot.length,Dt)]:[At,Dt]}}(Rt,nt,Dt.overwriteMode).selection,k=Rt.value.slice(0,Bt)+nt,yt=k.length,Y=O({value:k+Rt.value.slice(B),selection:[yt,yt]},Wt,Nt);if(At.slice(0,F)===O({value:k,selection:[yt,yt]},Wt,Nt).value||function h(I,...F){return F.every(({value:ot,selection:nt})=>ot===I.value&&nt[0]===I.selection[0]&&nt[1]===I.selection[1])}(this,Y))throw new Error("Invalid mask value");this.value=Y.value,this.selection=Y.selection}deleteCharacters([F,ot]){if(F===ot||!ot)return;const{value:nt}=this,At=this.getMaskExpression({value:nt.slice(0,F)+nt.slice(ot),selection:[F,F]}),Dt={value:nt,selection:[F,ot]},Wt=M(Dt,At),[Nt,Rt]=Wt.selection,B=O({value:Wt.value.slice(0,Nt)+Wt.value.slice(Rt),selection:[Nt,Nt]},At,Dt);this.value=B.value,this.selection=B.selection}getMaskExpression(F){const{mask:ot}=this.maskOptions;return"function"==typeof ot?ot(F):ot}}class R{constructor(F){this.element=F,this.listeners=[]}listen(F,ot,nt){const At=ot;this.element.addEventListener(F,At,nt),this.listeners.push(()=>this.element.removeEventListener(F,At,nt))}destroy(){this.listeners.forEach(F=>F())}}const A_CTRL=1,A_ALT=2,A_SHIFT=4,A_META=8;function w(I,F,ot){return I.ctrlKey===!!(F&A_CTRL)&&I.altKey===!!(F&A_ALT)&&I.shiftKey===!!(F&A_SHIFT)&&I.metaKey===!!(F&A_META)&&I.keyCode===ot}function V(I,F){var ot;const nt=I.value;if("string"==typeof F)I.value=F;else{const[At,Dt]=F.selection;I.value=F.value,I.matches(":focus")&&(null===(ot=I.setSelectionRange)||void 0===ot||ot.call(I,At,Dt))}I.value!==nt&&I.dispatchEvent(new Event("input",{bubbles:!0}))}function et({value:I,selection:F},ot){const[nt,At]=F;if(nt!==At)return[nt,At];const Dt=ot?I.slice(nt).indexOf("\n")+1||I.length:I.slice(0,At).lastIndexOf("\n")+1;return[ot?nt:Dt,ot?Dt:At]}function tt({value:I,selection:F},ot){const[nt,At]=F;return nt!==At?[nt,At]:(ot?[nt,At+1]:[nt-1,At]).map(Wt=>Math.min(Math.max(Wt,0),I.length))}const ht=/\s+$/g,it=/^\s+/g,It=/\s/;function st({value:I,selection:F},ot){const[nt,At]=F;if(nt!==At)return[nt,At];if(ot){const Rt=I.slice(nt),[Bt]=Rt.match(it)||[""],B=Rt.trimStart().search(It);return[nt,-1!==B?nt+Bt.length+B:I.length]}const Dt=I.slice(0,At),[Wt]=Dt.match(ht)||[""],Nt=Dt.trimEnd().split("").reverse().findIndex(Rt=>It.exec(Rt));return[-1!==Nt?At-Wt.length-Nt:0,At]}function dt(I=[]){return(F,...ot)=>I.reduce((nt,At)=>Object.assign(Object.assign({},nt),At(nt,...ot)),F)}function St(I,F){const ot=Object.assign(Object.assign({},T),F),nt=dt(ot.preprocessors),At=dt(ot.postprocessors),Dt="string"==typeof I?{value:I,selection:[0,0]}:I,{elementState:Wt}=nt({elementState:Dt,data:""},"validation"),Nt=new U(Wt,ot),{value:Rt,selection:Bt}=At(Nt,Dt);return"string"==typeof I?Rt:{value:Rt,selection:Bt}}class bt extends _{constructor(F,ot){super(),this.element=F,this.maskitoOptions=ot,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new R(this.element),this.options=Object.assign(Object.assign({},T),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=dt(this.options.preprocessors),this.postprocessor=dt(this.options.postprocessors),this.teardowns=this.options.plugins.map(nt=>nt(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",nt=>function p(I){return w(I,A_CTRL,89)||w(I,A_CTRL|A_SHIFT,90)||w(I,A_META|A_SHIFT,90)}(nt)?(nt.preventDefault(),this.redo()):function L(I){return w(I,A_CTRL,90)||w(I,A_META,90)}(nt)?(nt.preventDefault(),this.undo()):void 0),this.eventListener.listen("beforeinput",nt=>{var At,Dt,Wt;const Nt=nt.inputType.includes("Forward");switch(this.updateHistory(this.elementState),nt.inputType){case"historyUndo":return nt.preventDefault(),this.undo();case"historyRedo":return nt.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:nt,isForward:Nt,selection:tt(this.elementState,Nt)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:nt,isForward:Nt,selection:st(this.elementState,Nt),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:nt,isForward:Nt,selection:et(this.elementState,Nt),force:!0});case"insertCompositionText":case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(nt);default:return this.handleInsert(nt,null!==(Wt=null!==(At=nt.data)&&void 0!==At?At:null===(Dt=nt.dataTransfer)||void 0===Dt?void 0:Dt.getData("text/plain"))&&void 0!==Wt?Wt:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:nt})=>{"insertCompositionText"!==nt&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(F=>F?.())}updateElementState({value:F,selection:ot},nt){const At=this.elementState.value;this.updateValue(F),this.updateSelectionRange(ot),nt&&At!==F&&this.dispatchInputEvent(nt)}get elementState(){const{value:F,selectionStart:ot,selectionEnd:nt}=this.element;return{value:F,selection:[ot??0,nt??0]}}get maxLength(){const{maxLength:F}=this.element;return-1===F?1/0:F}updateSelectionRange([F,ot]){var nt;const{element:At}=this;At.matches(":focus")&&(At.selectionStart!==F||At.selectionEnd!==ot)&&(null===(nt=At.setSelectionRange)||void 0===nt||nt.call(At,F,ot))}updateValue(F){this.element.value=F}ensureValueFitsMask(){this.updateElementState(St(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(F={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},F),{bubbles:!0,cancelable:!1})))}handleDelete({event:F,selection:ot,isForward:nt,force:At=!1}){const Dt={value:this.elementState.value,selection:ot},[Wt,Nt]=Dt.selection,{elementState:Rt}=this.preprocessor({elementState:Dt,data:""},nt?"deleteForward":"deleteBackward"),Bt=new U(Rt,this.options),[B,k]=Rt.selection;Bt.deleteCharacters([B,k]);const yt=this.postprocessor(Bt,Dt);if(Dt.value.slice(0,Wt)+Dt.value.slice(Nt)!==yt.value||At||this.element.isContentEditable){if(function m(I,...F){return F.every(({value:ot})=>ot===I.value)}(Dt,Rt,Bt,yt))return F.preventDefault(),this.updateSelectionRange(nt?[k,k]:[B,B]);this.upcomingElementState=yt}}handleInsert(F,ot){const{options:nt,maxLength:At,element:Dt,elementState:Wt}=this,{elementState:Nt,data:Rt=ot}=this.preprocessor({data:ot,elementState:Wt},"insert"),Bt=new U(Nt,nt);try{Bt.addCharacters(Nt.selection,Rt)}catch{return F.preventDefault()}const[B,k]=Nt.selection,yt=Wt.value.slice(0,B)+ot+Wt.value.slice(k),Y=this.postprocessor(Bt,Wt);if(Y.value.length>At)return F.preventDefault();(yt!==Y.value||Dt.isContentEditable)&&(this.upcomingElementState=Y,"replace"===nt.overwriteMode&&yt.length>At&&this.dispatchInputEvent({inputType:"insertText",data:ot}))}handleEnter(F){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(F,"\n")}}function ut(I){return(F,ot)=>{var nt,At;const Dt=null!==(nt=F.selectionStart)&&void 0!==nt?nt:0,Wt=null!==(At=F.selectionEnd)&&void 0!==At?At:0;V(F,{value:St(F.value,I||ot),selection:[Dt,Wt]})}}},1260:(Qt,$,o)=>{"use strict";o.d($,{A7:()=>Ue,H$:()=>ln,f8:()=>Ei,gA:()=>Bn,jX:()=>Ee,n9:()=>Ke,nQ:()=>Ae,rC:()=>ji,tr:()=>je,vZ:()=>ei});var e=o(4413);function t(Ie,ze,pn){const fn=Math.min(Number(pn),Math.max(Number(ze),Number(Ie)));return Ie instanceof Date?new Date(fn):fn}function a(Ie){return Ie.replaceAll(/\W/g,"").length}function i(Ie,{day:ze,month:pn,year:fn}={}){const an=new Date(Ie);return ze&&an.setDate(an.getDate()+ze),pn&&an.setMonth(an.getMonth()+pn),fn&&an.setFullYear(an.getFullYear()+fn),an}const g=Ie=>{var ze,pn,fn,an,Mn,Tn;return{day:null!==(pn=null===(ze=Ie.match(/d/g))||void 0===ze?void 0:ze.length)&&void 0!==pn?pn:0,month:null!==(an=null===(fn=Ie.match(/m/g))||void 0===fn?void 0:fn.length)&&void 0!==an?an:0,year:null!==(Tn=null===(Mn=Ie.match(/y/g))||void 0===Mn?void 0:Mn.length)&&void 0!==Tn?Tn:0}};function T(Ie){return{day:String(Ie.getDate()).padStart(2,"0"),month:String(Ie.getMonth()+1).padStart(2,"0"),year:String(Ie.getFullYear()).padStart(4,"0"),hours:String(Ie.getHours()).padStart(2,"0"),minutes:String(Ie.getMinutes()).padStart(2,"0"),seconds:String(Ie.getSeconds()).padStart(2,"0"),milliseconds:String(Ie.getMilliseconds()).padStart(3,"0")}}function m(Ie,ze){return!(Ie.length<ze.length)&&Ie.split(/\D/).every(pn=>!/^0+$/.exec(pn))}function h(Ie,ze,pn){const fn=a(ze);return Ie.replace(pn,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${fn}}`,"g"))||[]}function f(Ie,ze){const pn=ze.replaceAll(/[^dmy]/g,""),fn=Ie.replaceAll(/\D+/g,""),an={day:fn.slice(pn.indexOf("d"),pn.lastIndexOf("d")+1),month:fn.slice(pn.indexOf("m"),pn.lastIndexOf("m")+1),year:fn.slice(pn.indexOf("y"),pn.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(an).filter(([Mn,Tn])=>!!Tn).sort(([Mn],[Tn])=>ze.toLowerCase().indexOf(Mn.slice(0,1))>ze.toLowerCase().indexOf(Tn.slice(0,1))?1:-1))}function v(Ie,ze){var pn,fn,an,Mn,Tn,bn,ie;const We=2===(null===(pn=Ie.year)||void 0===pn?void 0:pn.length)?`20${Ie.year}`:Ie.year,Le=new Date(Number(We??"0"),Number(null!==(fn=Ie.month)&&void 0!==fn?fn:"1")-1,Number(null!==(an=Ie.day)&&void 0!==an?an:"1"),Number(null!==(Mn=ze?.hours)&&void 0!==Mn?Mn:"0"),Number(null!==(Tn=ze?.minutes)&&void 0!==Tn?Tn:"0"),Number(null!==(bn=ze?.seconds)&&void 0!==bn?bn:"0"),Number(null!==(ie=ze?.milliseconds)&&void 0!==ie?ie:"0"));return Le.setFullYear(Number(We??"0")),Le}const C=", ";function D({day:Ie,month:ze,year:pn,hours:fn,minutes:an,seconds:Mn,milliseconds:Tn},{dateMode:bn,dateTimeSeparator:ie=C,timeMode:We}){var Le;const un=2===(null===(Le=bn.match(/y/g))||void 0===Le?void 0:Le.length)?pn?.slice(-2):pn;return(bn+(We?ie+We:"")).replaceAll(/d+/g,Ie??"").replaceAll(/m+/g,ze??"").replaceAll(/y+/g,un??"").replaceAll(/H+/g,fn??"").replaceAll("MSS",Tn??"").replaceAll(/M+/g,an??"").replaceAll(/S+/g,Mn??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}const y={day:31,month:12,year:9999},E=[".",",","\u0431","\u044e"],O=new Date("0001-01-01"),M=new Date("9999-12-31"),U={hours:23,minutes:59,seconds:59,milliseconds:999},R={hours:0,minutes:0,seconds:0,milliseconds:0},A="\xa0",S="\u200b",w="\u2013",p="\u2014",L="-",V="\u2212",et="\u30fc",tt=":",ht="\uff1a",it=new RegExp(`[${A}APM]+$`,"g"),It=new RegExp(`${A}[AP]M$`,"g"),st=[":","."],dt={hours:2,minutes:2,seconds:2,milliseconds:3};function St({dateString:Ie,dateModeTemplate:ze,dateSegmentsSeparator:pn,offset:fn,selection:[an,Mn]}){const Tn=f(Ie,ze),bn=Object.entries(Tn),ie={};for(const[un,Rn]of bn){const Fn=D(ie,{dateMode:ze}),si=y[un],Ii=fn+Fn.length+(Fn.length&&pn.length)+g(ze)[un],Vi=Ii>=an&&Ii===Mn;if(Vi&&Number(Rn)>Number(si))return{validatedDateString:"",updatedSelection:[an,Mn]};if(Vi&&Number(Rn)<1)return{validatedDateString:"",updatedSelection:[an,Mn]};ie[un]=Rn}const We=D(ie,{dateMode:ze}),Le=We.length-Ie.length;return{validatedDateString:We,updatedSelection:[an+Le,Mn+Le]}}const bt=/[\\^$.*+?()[\]{}|]/g,u=new RegExp(bt.source);function ut(Ie){return Ie&&u.test(Ie)?Ie.replaceAll(bt,String.raw`\$&`):Ie}function Z(Ie,{prefix:ze,postfix:pn}){var fn,an;const Mn=new RegExp(`^${ut(ze)}`),Tn=new RegExp(`${ut(pn)}$`),[bn=""]=null!==(fn=Ie.match(Mn))&&void 0!==fn?fn:[],[ie=""]=null!==(an=Ie.match(Tn))&&void 0!==an?an:[];return{extractedPrefix:bn,extractedPostfix:ie,cleanValue:Ie.replace(Mn,"").replace(Tn,"")}}function F(Ie){return Ie}function ot(Ie){return!Ie||"object"==typeof Ie&&0===Object.keys(Ie).length}const nt=/^0+$/;function At(Ie,ze,pn=0){const fn=Ie.padEnd(ze.length,"0");if(Number(fn)<=Number(ze))return{validatedSegmentValue:Ie,prefixedZeroesCount:pn};if(fn.endsWith("0"))return At(`0${Ie.slice(0,ze.length-1)}`,ze,pn+1);const an=Ie.slice(0,ze.length-1);return nt.exec(an)?{validatedSegmentValue:"",prefixedZeroesCount:pn}:At(`${an}0`,ze,pn)}function Dt(Ie){return Ie.replaceAll(new RegExp(ht,"g"),tt)}function Wt(Ie){return Ie.replaceAll(/[\uff10-\uff19]/g,ze=>String.fromCharCode(ze.charCodeAt(0)-65248))}function Nt(){return({elementState:Ie,data:ze})=>{const{value:pn,selection:fn}=Ie;return{elementState:{selection:fn,value:Dt(pn)},data:Dt(ze)}}}function Rt({dateModeTemplate:Ie,dateSegmentSeparator:ze,splitFn:pn,uniteFn:fn}){return({value:an,selection:Mn})=>{var Tn;const[bn,ie]=Mn,{dateStrings:We,restPart:Le=""}=pn(an),un=[];let Rn=0;We.forEach(si=>{const Di=f(si,Ie),Vi=Object.entries(Di).reduce((gi,[Ni,zi])=>{const{validatedSegmentValue:Mo,prefixedZeroesCount:io}=At(zi,`${y[Ni]}`);return Rn+=io,Object.assign(Object.assign({},gi),{[Ni]:Mo})},{});un.push(D(Vi,{dateMode:Ie}))});const Fn=fn(un,an)+(null!==(Tn=We[We.length-1])&&void 0!==Tn&&Tn.endsWith(ze)?ze:"")+Le;return Rn&&Fn.slice(ie+Rn,ie+Rn+ze.length)===ze&&(Rn+=ze.length),{selection:[bn+Rn,ie+Rn],value:Fn}}}function Bt({dateModeTemplate:Ie,firstDateEndSeparator:ze,dateSegmentSeparator:pn,pseudoFirstDateEndSeparators:fn}){return({elementState:an,data:Mn})=>{const{value:Tn,selection:bn}=an,[ie,We]=bn,Le=function _(Ie,ze){const pn=a(ze),[fn=""]=new RegExp(`(\\D*\\d){${pn}}`).exec(Ie)||[];return fn}(Tn,Ie),un=fn.filter(Di=>!ze.includes(Di)&&Di!==pn),Rn=new RegExp(`[${un.join("")}]`,"gi"),Fn=Le&&Tn.length>Le.length?Le+Tn.slice(Le.length).replace(/^[\D\s]*/,ze):Tn,si=Fn.length-Tn.length;return{elementState:{selection:[ie+si,We+si],value:Fn},data:Mn.replace(Rn,ze)}}}function B(){return({elementState:Ie,data:ze})=>{const{value:pn,selection:fn}=Ie;return{elementState:{selection:fn,value:Wt(pn)},data:Wt(ze)}}}function k(Ie){return Array.from(Ie.replace(" AA","")).map(ze=>st.includes(ze)?ze:/\d/).concat(Ie.includes("AA")?[A,/[AP]/i,/M/i]:[])}function Y(Ie){return function yt(Ie,ze){return Object.fromEntries(Object.entries(Ie).map(([pn,fn])=>[pn,ze(String(fn),dt[pn])]))}(Ie,(ze,pn)=>ze.padStart(pn,"0"))}const xt={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};function z(Ie,ze){const pn=Ie.replaceAll(/\D+/g,"");let fn=0;return Object.fromEntries(ze.split(/\W/).filter(an=>xt[an]).map(an=>{const Mn=pn.slice(fn,fn+an.length);return fn+=an.length,[xt[an],Mn]}))}const at=/^\D*/,Pt=/\D*$/,De=new RegExp(`[${st.map(ut).join("")}]$`);function Ut({value:Ie,selection:ze},{mode:pn,timeSegmentMaxValues:fn=U}){const[an,Mn]=ze,Tn=z(Ie,pn),bn=Object.entries(Tn),ie=Y(fn),We={};let Le=0;for(const[Ii,Vi]of bn){const gi=ie[Ii],{validatedSegmentValue:Ni,prefixedZeroesCount:zi}=At(Vi,String(gi));Le+=zi,We[Ii]=Ni}const[un=""]=Ie.match(/\D+$/g)||[],Rn=function Gt({hours:Ie="",minutes:ze="",seconds:pn="",milliseconds:fn=""}){return`${Ie}:${ze}:${pn}.${fn}`.replace(at,"").replace(Pt,"")}(We)+un,Fn=Math.max(Rn.length-Ie.length,0);let si=an+Le+Fn,Di=Mn+Le+Fn;return si===Di&&Le&&Rn.slice(0,Di+1).match(De)&&(si++,Di++),{value:Rn,selection:[si,Di]}}function Ot({timeMode:Ie,timeSegmentMinValues:ze=R,timeSegmentMaxValues:pn=U,parseValue:fn=(an=>({timeString:an}))}){const an=new RegExp(`[^\\d${st.map(ut).join("")}]+`);return({elementState:Mn,data:Tn},bn)=>{if("insert"!==bn)return{elementState:Mn,data:Tn};const{value:ie,selection:We}=Mn,[Le,un]=We,Rn=Tn.replace(an,""),Fn=un+Rn.length,si=ie.slice(0,Le)+Rn+ie.slice(Fn),{timeString:Di,restValue:Ii=""}=fn(si),Vi=Object.entries(z(Di,Ie));let gi=Ii.length;for(const[Ni,zi]of Vi){const Mo=ze[Ni],io=pn[Ni],qo=Number(zi),$o=gi+dt[Ni];if($o>=Le&&$o<=Fn&&qo!==t(qo,Mo,io))return{elementState:Mn,data:""};gi+=zi.length+1}return{elementState:Mn,data:Tn}}}function Ft(Ie){if(!Ie.includes("AA"))return F;const ze=/^[AP]$/gi;return({elementState:pn,data:fn})=>{const{value:an,selection:Mn}=pn,Tn=an.toUpperCase(),bn=fn.toUpperCase();return Tn.match(It)&&bn.match(ze)?{elementState:{value:Tn.replaceAll(It,""),selection:Mn},data:`${bn}M`}:{elementState:{selection:Mn,value:Tn},data:bn}}}function le(Ie){return Ie.includes("AA")?({value:ze,selection:pn},fn)=>{if(!ze.match(it)||ze.match(It))return{value:ze,selection:pn};const[an,Mn]=pn;if(fn.value.match(It)){const ie=ze.replace(it,"");return{value:ie,selection:[Math.min(an,ie.length),Math.min(Mn,ie.length)]}}const Tn=`${A}${ze.includes("P")?"P":"A"}M`,bn=ze.replace(it,ie=>ie!==A?Tn:ie);return{value:bn,selection:Mn>=bn.indexOf(Tn)?[bn.length,bn.length]:pn}}:F}function ne(Ie,ze){const pn=g(ze);return Object.fromEntries(Object.entries(Ie).map(([fn,an])=>{const Mn=pn[fn];return[fn,an.length===Mn&&/^0+$/.exec(an)?"1".padStart(Mn,"0"):an]}))}function Ge({dateModeTemplate:Ie,min:ze=O,max:pn=M,rangeSeparator:fn="",dateSegmentSeparator:an="."}){return({value:Mn,selection:Tn})=>{const bn=fn&&Mn.endsWith(fn),ie=h(Mn,Ie,fn);let We="";for(const Le of ie){We+=We?fn:"";const un=f(Le,Ie);m(Le,Ie)?We+=D(T(t(v(un),ze,pn)),{dateMode:Ie}):We+=D(ne(un,Ie),{dateMode:Ie})+(Le.endsWith(an)?an:"")}return{selection:Tn,value:We+(bn?fn:"")}}}function Se({dateModeTemplate:Ie,dateSegmentsSeparator:ze,rangeSeparator:pn="",dateTimeSeparator:fn=C}){return({elementState:an,data:Mn})=>{var Tn;const bn=pn?new RegExp(`${pn}|-`):fn,ie=Mn.split(bn),We=Mn.includes(fn)?[null!==(Tn=ie[0])&&void 0!==Tn?Tn:""]:ie;if(We.every(Le=>Le.trim().split(/\D/).filter(Boolean).length===Ie.split(ze).length)){const Le=We.map(un=>function Pe(Ie,ze,pn){const fn=Ie.split(/\D/).filter(Boolean),an=ze.split(pn);return fn.map((Tn,bn)=>{var ie,We;return bn===an.length-1?Tn:Tn.padStart(null!==(We=null===(ie=an[bn])||void 0===ie?void 0:ie.length)&&void 0!==We?We:0,"0")}).join(pn)}(un,Ie,ze)).join(pn);return{elementState:an,data:`${Le}${Mn.includes(fn)&&fn+ie[1]||""}`}}return{elementState:an,data:Mn}}}function Ue(Ie){const ze=new RegExp(`${ut(Ie)}$`);return Ie?({value:pn,selection:fn},an)=>{if(!pn&&!an.value.endsWith(Ie))return{value:pn,selection:fn};if(!pn.endsWith(Ie)&&!an.value.endsWith(Ie))return{selection:fn,value:pn+Ie};const Mn=an.value.replace(ze,""),Tn=an.selection[1]>=Mn.length,bn=function I(Ie,ze){let pn="";for(let fn=0;fn<Ie.length;fn++){if(Ie[fn]!==ze[fn])return pn;pn+=Ie[fn]}return pn}(Mn,pn);return{selection:fn,value:Array.from(Ie).reverse().reduce((ie,We,Le)=>{const un=ie.length-1-Le;return ie[un]!==We||bn[un]===We&&Tn?ie.slice(0,un+1)+We+ie.slice(un+1):ie},pn)}}:F}function Ee(Ie){return Ie?({value:ze,selection:pn},fn)=>{if(ze.startsWith(Ie)||!ze&&!fn.value.startsWith(Ie))return{value:ze,selection:pn};const[an,Mn]=pn,Tn=Array.from(Ie).reduce((ie,We,Le)=>ie[Le]===We?ie:ie.slice(0,Le)+We+ie.slice(Le),ze),bn=Tn.length-ze.length;return{selection:[an+bn,Mn+bn],value:Tn}}:F}function de({dateModeTemplate:Ie,dateSegmentsSeparator:ze,rangeSeparator:pn=""}){return({elementState:fn,data:an})=>{const{value:Mn,selection:Tn}=fn;if(an===ze)return{elementState:fn,data:Tn[0]===Mn.length?an:""};const bn=an.replaceAll(new RegExp(`[^\\d${ut(ze)}${pn}]`,"g"),"");if(!bn)return{elementState:fn,data:""};const[ie,We]=Tn;let Le=We+an.length;const un=Mn.slice(0,ie)+bn+Mn.slice(Le),Rn=h(un,Ie,pn);let Fn="";const si=!!pn&&un.includes(pn);for(const Ii of Rn){const{validatedDateString:Vi,updatedSelection:gi}=St({dateString:Ii,dateModeTemplate:Ie,dateSegmentsSeparator:ze,offset:Fn.length,selection:[ie,Le]});if(Ii&&!Vi)return{elementState:fn,data:""};Le=gi[1],Fn+=si&&!Fn?Vi+pn:Vi}const Di=Fn.slice(ie,Le);return{elementState:{selection:Tn,value:Fn.slice(0,ie)+Di.split(ze).map(Ii=>"0".repeat(Ii.length)).join(ze)+Fn.slice(Le)},data:Di}}}function ae(Ie,ze,pn){return(fn,an)=>{const Mn=()=>ze(fn,an);return fn.addEventListener(Ie,Mn,pn),()=>fn.removeEventListener(Ie,Mn,pn)}}function Bn(Ie){return(ze,pn)=>{const fn=ze.ownerDocument;let an=0;const Mn=()=>an++,Tn=()=>{an=Math.max(--an,0)},bn=()=>{if(ze.matches(":focus")){if(an)return fn.addEventListener("mouseup",bn,{once:!0,passive:!0});Ie(ze,pn)}};return fn.addEventListener("selectionchange",bn,{passive:!0}),ze.addEventListener("mousedown",Mn,{passive:!0}),fn.addEventListener("mouseup",Tn,{passive:!0}),()=>{fn.removeEventListener("selectionchange",bn),fn.removeEventListener("mousedown",Mn),fn.removeEventListener("mouseup",Tn)}}}function Ae(Ie){return Bn(ze=>{var pn,fn;const an=null!==(pn=ze.selectionStart)&&void 0!==pn?pn:0,Mn=null!==(fn=ze.selectionEnd)&&void 0!==fn?fn:0,[Tn,bn]=Ie(ze.value,[an,Mn]);(Tn>an||bn<Mn)&&ze.setSelectionRange(t(an,Tn,bn),t(Mn,Tn,bn))})}function re(Ie){return Ie<0?()=>{}:ze=>{const pn=fn=>{const an=Number(ze.selectionStart),Mn=ze.value.toUpperCase();if("ArrowUp"!==fn.key&&"ArrowDown"!==fn.key||an<Ie)return;fn.preventDefault();const Tn=Mn.includes("A")?"P":Mn.includes("P")||"ArrowUp"===fn.key?"A":"P",bn=`${A}${Tn}M`;(0,e.fD)(ze,{value:Mn.length===Ie?Mn+bn:Mn.replace(it,bn),selection:[an,an]})};return ze.addEventListener("keydown",pn),()=>ze.removeEventListener("keydown",pn)}}const wn=()=>{};function oe({step:Ie,fullMode:ze,timeSegmentMaxValues:pn}){const fn=function Ht(Ie){return new Map([["hours",xn(Ie,"HH")],["milliseconds",xn(Ie,"MSS")],["minutes",xn(Ie,"MM")],["seconds",xn(Ie,"SS")]])}(ze);return Ie<=0?wn:an=>{const Mn=Tn=>{var bn;if("ArrowUp"!==Tn.key&&"ArrowDown"!==Tn.key)return;Tn.preventDefault();const ie=null!==(bn=an.selectionStart)&&void 0!==bn?bn:0,We=function ce({segmentsIndexes:Ie,selectionStart:ze}){for(const[pn,fn]of Ie.entries()){const[an,Mn]=fn;if(an<=ze&&ze<=Mn)return pn}return null}({segmentsIndexes:fn,selectionStart:ie});if(!We)return;const Le=function me({selection:Ie,value:ze,toAdd:pn,max:fn}){const[an,Mn]=Ie,bn=function En(Ie,ze){return Ie<0&&(Ie+=Math.floor(Math.abs(Ie)/ze+1)*ze),Ie%ze}(Number(ze.slice(an,Mn).padEnd(Mn-an,"0"))+pn,fn+1);return ze.slice(0,an)+String(bn).padStart(Mn-an,"0")+ze.slice(Mn,ze.length)}({selection:fn.get(We),value:an.value,toAdd:"ArrowUp"===Tn.key?Ie:-Ie,max:pn[We]});(0,e.fD)(an,{value:Le,selection:[ie,ie]})};return an.addEventListener("keydown",Mn),()=>an.removeEventListener("keydown",Mn)}}function xn(Ie,ze){const pn=Ie.indexOf(ze);return-1===pn?[-1,-1]:[pn,pn+ze.length]}function je({mode:Ie,separator:ze=".",max:pn,min:fn}){const an=Ie.split("/").join(ze);return Object.assign(Object.assign({},e.A_),{mask:Array.from(an).map(Mn=>ze.includes(Mn)?Mn:/\d/),overwriteMode:"replace",preprocessors:[B(),({elementState:Ie},ze)=>{const{value:pn,selection:fn}=Ie;if(!pn||function xe(Ie,[ze,pn]){return pn===Ie.length}(pn,fn))return{elementState:Ie};const[an,Mn]=fn,Tn=pn.slice(an,Mn).replaceAll(/\d/g,"0"),bn=pn.slice(0,an)+Tn+pn.slice(Mn);return Tn.replaceAll(/\D/g,"")?"validation"===ze||"insert"===ze&&an===Mn?{elementState:{selection:fn,value:bn}}:{elementState:{selection:"deleteBackward"===ze||"insert"===ze?[an,an]:[Mn,Mn],value:bn}}:{elementState:Ie}},Se({dateModeTemplate:an,dateSegmentsSeparator:ze}),de({dateModeTemplate:an,dateSegmentsSeparator:ze})],postprocessors:[Rt({dateModeTemplate:an,dateSegmentSeparator:ze,splitFn:Mn=>({dateStrings:[Mn]}),uniteFn:([Mn=""])=>Mn}),Ge({min:fn,max:pn,dateModeTemplate:an,dateSegmentSeparator:ze})]})}const ke=[L,w,p,V,et];function we({dateModeTemplate:Ie,rangeSeparator:ze,minLength:pn,maxLength:fn,max:an=M}){return ot(pn)&&ot(fn)?F:({value:Mn,selection:Tn})=>{const bn=h(Mn,Ie,ze);if(2!==bn.length||bn.some(si=>!m(si,Ie)))return{value:Mn,selection:Tn};const[ie,We]=bn.map(si=>v(f(si,Ie)));if(!ie||!We)return{value:Mn,selection:Tn};const Le=i(ie,Object.assign(Object.assign({},pn),{day:pn?.day&&pn.day-1})),un=ot(fn)?an:i(ie,Object.assign(Object.assign({},fn),{day:fn?.day&&fn.day-1})),Rn=t(We,Le,an);return{selection:Tn,value:bn[0]+ze+D(T(Rn>un?un:Rn),{dateMode:Ie})}}}function Ne({dateModeTemplate:Ie,rangeSeparator:ze}){return({value:pn,selection:fn})=>{const an=h(pn,Ie,ze),Mn=2===an.length&&an.every(Rn=>m(Rn,Ie)),[Tn,bn]=fn;if(!((Tn>=pn.length||0===Tn&&bn>=pn.length)&&Mn))return{value:pn,selection:fn};const[Le,un]=an.map(Rn=>v(f(Rn,Ie)));return{selection:fn,value:Le&&un&&Le>un?an.reverse().join(ze):pn}}}function Ke({mode:Ie,min:ze,max:pn,minLength:fn,maxLength:an,dateSeparator:Mn=".",rangeSeparator:Tn=`${A}${w}${A}`}){const bn=Ie.split("/").join(Mn),ie=Array.from(bn).map(We=>Mn.includes(We)?We:/\d/);return Object.assign(Object.assign({},e.A_),{mask:[...ie,...Array.from(Tn),...ie],overwriteMode:"replace",preprocessors:[B(),Bt({dateModeTemplate:bn,dateSegmentSeparator:Mn,firstDateEndSeparator:Tn,pseudoFirstDateEndSeparators:ke}),({elementState:Ie},ze)=>{const{value:pn,selection:fn}=Ie;if(!pn||function xe(Ie,[ze,pn]){return pn===Ie.length}(pn,fn))return{elementState:Ie};const[an,Mn]=fn,Tn=pn.slice(an,Mn).replaceAll(/\d/g,"0"),bn=pn.slice(0,an)+Tn+pn.slice(Mn);return Tn.replaceAll(/\D/g,"")?"validation"===ze||"insert"===ze&&an===Mn?{elementState:{selection:fn,value:bn}}:{elementState:{selection:"deleteBackward"===ze||"insert"===ze?[an,an]:[Mn,Mn],value:bn}}:{elementState:Ie}},Se({dateModeTemplate:bn,rangeSeparator:Tn,dateSegmentsSeparator:Mn}),de({dateModeTemplate:bn,rangeSeparator:Tn,dateSegmentsSeparator:Mn})],postprocessors:[Rt({dateModeTemplate:bn,dateSegmentSeparator:Mn,splitFn:We=>({dateStrings:h(We,bn,Tn)}),uniteFn:(We,Le)=>We.reduce((un,Rn,Fn)=>un+Rn+(!Fn&&Le.includes(Tn)?Tn:""),"")}),Ge({min:ze,max:pn,dateModeTemplate:bn,rangeSeparator:Tn,dateSegmentSeparator:Mn}),we({dateModeTemplate:bn,minLength:fn,maxLength:an,max:pn,rangeSeparator:Tn}),Ne({dateModeTemplate:bn,rangeSeparator:Tn})]})}const kn=/[^dmy]/g,ui=/^\D*/;function eo(Ie,ze){const pn=ze.replaceAll(kn,"").length,[fn=""]=new RegExp(`(\\d[^\\d]*){0,${pn-1}}\\d?`).exec(Ie)||[],[an=""]=ui.exec(Ie.slice(fn.length))||[];return[fn,Ie.slice(fn.length+an.length)]}function Pn({dateModeTemplate:Ie,timeMode:ze,min:pn=O,max:fn=M,dateTimeSeparator:an}){return({value:Mn,selection:Tn})=>{const[bn,ie]=eo(Mn,Ie),We=f(bn,Ie),Le=z(ie,ze);if(!function qe(Ie,{dateMode:ze,timeMode:pn,dateTimeSeparator:fn=C}){var an;return Ie.length>=ze.length+pn.length+fn.length&&(null!==(an=Ie.split(fn)[0])&&void 0!==an?an:"").split(/\D/).every(Mn=>!/^0+$/.exec(Mn))}(Mn,{dateMode:Ie,timeMode:ze,dateTimeSeparator:an})){const Di=ne(We,Ie),{year:Ii,month:Vi,day:gi}=m(bn,Ie)?T(t(v(Di),pn,fn)):Di,Ni=D(Object.assign({year:Ii,month:Vi,day:gi},Le),{dateMode:Ie,dateTimeSeparator:an,timeMode:ze});return{selection:Tn,value:Ni+Mn.slice(Ni.length)}}const Rn=t(v(We,Le),pn,fn),[Fn=""]=Mn.match(/\D+$/g)||[];return{selection:Tn,value:D(T(Rn),{dateMode:Ie,dateTimeSeparator:an,timeMode:ze})+Fn}}}function tn({dateModeTemplate:Ie,dateSegmentsSeparator:ze,dateTimeSeparator:pn,timeMode:fn,timeSegmentMaxValues:an}){return({elementState:Mn,data:Tn})=>{const{value:bn,selection:ie}=Mn;if(Tn===ze)return{elementState:Mn,data:ie[0]===bn.length?Tn:""};const We=Tn.replaceAll(/\D/g,"");if(!We)return{elementState:Mn,data:Tn};const[Le,un]=ie;let Rn=un+Tn.length;const Fn=bn.slice(0,Le)+We+bn.slice(Rn),[si,Di]=eo(Fn,Ie);let Ii="";const Vi=Fn.includes(pn),{validatedDateString:gi,updatedSelection:Ni}=St({dateString:si,dateSegmentsSeparator:ze,dateModeTemplate:Ie,offset:0,selection:[Le,Rn]});if(si&&!gi)return{elementState:Mn,data:""};Rn=Ni[1],Ii+=gi;const zi=Ut({value:Di,selection:[Le,Rn]},{mode:fn,timeSegmentMaxValues:an});Rn=zi.selection[1],Ii+=Vi?pn+zi.value:zi.value;const Mo=Ii.slice(Le,Rn);return{elementState:{selection:ie,value:Ii.slice(0,Le)+Mo.split(ze).map(io=>"0".repeat(io.length)).join(ze)+Ii.slice(Rn)},data:Mo}}}function ln({dateMode:Ie,timeMode:ze,dateSeparator:pn=".",min:fn,max:an,dateTimeSeparator:Mn=C,timeStep:Tn=0}){const bn=ze.includes("AA"),ie=Ie.split("/").join(pn),We=Object.assign(Object.assign({},U),bn?{hours:12}:{}),Le=Object.assign(Object.assign({},R),bn?{hours:1}:{}),un=`${ie}${Mn}${ze}`;return Object.assign(Object.assign({},e.A_),{mask:[...Array.from(ie).map(Rn=>pn.includes(Rn)?Rn:/\d/),...Mn.split(""),...k(ze)],overwriteMode:"replace",preprocessors:[B(),Nt(),Bt({dateModeTemplate:ie,dateSegmentSeparator:pn,firstDateEndSeparator:Mn,pseudoFirstDateEndSeparators:Mn.split("")}),({elementState:Ie},ze)=>{const{value:pn,selection:fn}=Ie;if(!pn||function xe(Ie,[ze,pn]){return pn===Ie.length}(pn,fn))return{elementState:Ie};const[an,Mn]=fn,Tn=pn.slice(an,Mn).replaceAll(/\d/g,"0"),bn=pn.slice(0,an)+Tn+pn.slice(Mn);return Tn.replaceAll(/\D/g,"")?"validation"===ze||"insert"===ze&&an===Mn?{elementState:{selection:fn,value:bn}}:{elementState:{selection:"deleteBackward"===ze||"insert"===ze?[an,an]:[Mn,Mn],value:bn}}:{elementState:Ie}},Ft(ze),Se({dateModeTemplate:ie,dateSegmentsSeparator:pn,dateTimeSeparator:Mn}),Ot({timeMode:ze,timeSegmentMinValues:Le,timeSegmentMaxValues:We,parseValue:Rn=>{const[Fn,si]=eo(Rn,ie);return{timeString:si,restValue:Fn+Mn}}}),tn({dateModeTemplate:ie,dateSegmentsSeparator:pn,dateTimeSeparator:Mn,timeMode:ze,timeSegmentMaxValues:We})],postprocessors:[le(ze),Rt({dateModeTemplate:ie,dateSegmentSeparator:pn,splitFn:Rn=>{const[Fn,si]=eo(Rn,ie);return{dateStrings:[Fn],restPart:si}},uniteFn:([Rn],Fn)=>Rn+(Fn.includes(Mn)?Mn:"")}),Pn({min:fn,max:an,dateModeTemplate:ie,timeMode:ze,dateTimeSeparator:Mn})],plugins:[oe({step:Tn,fullMode:un,timeSegmentMaxValues:U}),re(un.indexOf("AA"))]})}function Zn({prefix:Ie,postfix:ze}){return({elementState:pn,data:fn})=>{const{cleanValue:an}=Z(fn,{prefix:Ie,postfix:ze});return{elementState:pn,data:an}}}function Jn({decimalSeparator:Ie,isNegativeAllowed:ze,precision:pn,thousandSeparator:fn,prefix:an,postfix:Mn,decimalPseudoSeparators:Tn=[],pseudoMinuses:bn=[],minusSign:ie}){const We=hi(an),Le=String.raw`\d`,un=ze?`[${ie}${bn.map(Ii=>`\\${Ii}`).join("")}]?`:"",Rn=fn?`[${Le}${ut(fn).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${Le}]*`,Fn=Number.isFinite(pn)?pn:"",si=pn>0?`([${ut(Ie)}${Tn.map(ut).join("")}]${Le}{0,${Fn}})?`:"",Di=hi(Mn);return new RegExp(`^${We}${un}${Rn}${si}${Di}$`)}function hi(Ie){return Ie?`${Ie.split("").map(ze=>`${ut(ze)}?`).join("")}`:""}function ei(Ie,ze="."){const pn=!!new RegExp(`^\\D*[${V}\\${L}${w}${p}${et}]`).exec(Ie),fn=ut(ze),an=Ie.replaceAll(new RegExp(`${fn}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${fn}]`,"g"),"").replace(ze,".");return an?+`${pn?L:""}${an}`:NaN}function oi(Ie,{decimalSeparator:ze,minusSign:pn}){const[fn="",an=""]=Ie.split(ze),Mn=ut(pn),[,Tn="",bn=""]=new RegExp(`^(?:[^\\d${Mn}])?(${Mn})?(.*)`).exec(fn)||[];return{minus:Tn,integerPart:bn,decimalPart:an}}function mi({decimalSeparator:Ie,precision:ze,decimalZeroPadding:pn,prefix:fn,postfix:an}){return ze<=0||!pn?F:({value:Mn,selection:Tn})=>{const{cleanValue:bn,extractedPrefix:ie,extractedPostfix:We}=Z(Mn,{prefix:fn,postfix:an});if(Number.isNaN(ei(bn,Ie)))return{value:Mn,selection:Tn};const[Le,un=""]=bn.split(Ie);return{value:ie+Le+Ie+un.padEnd(ze,"0")+We,selection:Tn}}}function Zi({prefix:Ie,postfix:ze,decimalSeparator:pn,minusSign:fn}){return({value:an,selection:Mn})=>{const[Tn]=Mn,{cleanValue:bn,extractedPrefix:ie,extractedPostfix:We}=Z(an,{prefix:Ie,postfix:ze}),{minus:Le,integerPart:un,decimalPart:Rn}=oi(bn,{decimalSeparator:pn,minusSign:fn}),Fn=!un&&!Rn&&bn.includes(pn);return!un&&!Number(Rn)&&Tn===(Le+ie).length||Fn?{selection:Mn,value:ie+Le+We}:{value:an,selection:Mn}}}function Qi({decimalSeparator:Ie,decimalPseudoSeparators:ze,pseudoMinuses:pn,prefix:fn,postfix:an,minusSign:Mn}){let Tn=!0;const bn=Jn({decimalSeparator:Ie,decimalPseudoSeparators:ze,pseudoMinuses:pn,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0,minusSign:Mn});return({elementState:ie,data:We})=>{if(!Tn)return{elementState:ie,data:We};Tn=!1;const{value:Le,selection:un}=ie,[Rn,Fn]=un,{extractedPrefix:si,cleanValue:Di,extractedPostfix:Ii}=Z(Le,{prefix:fn,postfix:an}),Vi=(0,e.CV)({selection:[Math.max(Rn-si.length,0),t(Fn-si.length,0,Di.length)],value:Di},{mask:bn}),[gi,Ni]=Vi.selection;return{elementState:{selection:[gi+si.length,Ni+si.length],value:si+Vi.value+Ii},data:We}}}function uo({min:Ie,max:ze,decimalSeparator:pn,minusSign:fn}){return({value:an,selection:Mn})=>{const Tn=ei(an,pn),bn=Tn>0?Math.min(Tn,ze):Math.max(Tn,Ie);if(Tn&&bn!==Tn){const ie=`${bn}`.replace(".",pn).replace(L,fn);return{value:ie,selection:[ie.length,ie.length]}}return{value:an,selection:Mn}}}function Ui({decimalSeparator:Ie,thousandSeparator:ze,decimalZeroPadding:pn}){return({elementState:fn,data:an},Mn)=>{const{value:Tn,selection:bn}=fn,[ie,We]=bn,Le=Tn.slice(ie,We),un=pn?[Ie,ze]:[ze],Rn=pn&&ie>Tn.indexOf(Ie)&&!!Le.match(/^0+$/gi);return"deleteBackward"!==Mn&&"deleteForward"!==Mn||!un.includes(Le)&&!Rn?{elementState:fn,data:an}:{elementState:{value:Tn,selection:"deleteForward"===Mn?[We,We]:[ie,ie]},data:an}}}function Ki({decimalSeparator:Ie,precision:ze,prefix:pn,postfix:fn}){const an=new RegExp(`^\\D*${ut(Ie)}`);return({elementState:Mn,data:Tn})=>{const{value:bn,selection:ie}=Mn,{cleanValue:We,extractedPrefix:Le}=Z(bn,{prefix:pn,postfix:fn}),[un,Rn]=ie,Fn=t(un-Le.length,0,We.length),si=t(Rn-Le.length,0,We.length);return ze<=0||We.slice(0,Fn).includes(Ie)||We.slice(si).includes(Ie)||!Tn.match(an)?{elementState:Mn,data:Tn}:{elementState:Mn,data:/\d+/.exec(We.slice(0,Fn))?Tn:`0${Tn}`}}}function Gi({validCharacter:Ie,pseudoCharacters:ze,prefix:pn,postfix:fn}){const an=new RegExp(`[${ze.join("")}]`,"gi");return({elementState:Mn,data:Tn})=>{const{value:bn,selection:ie}=Mn,{cleanValue:We,extractedPostfix:Le,extractedPrefix:un}=Z(bn,{prefix:pn,postfix:fn});return{elementState:{selection:ie,value:un+We.replace(an,Ie)+Le},data:Tn.replace(an,Ie)}}}function sn({decimalSeparator:Ie,prefix:ze,postfix:pn}){return({elementState:fn,data:an})=>{const{value:Mn,selection:Tn}=fn,[bn,ie]=Tn,{cleanValue:We}=Z(Mn,{prefix:ze,postfix:pn});return{elementState:fn,data:!We.includes(Ie)||Mn.slice(bn,ie+1).includes(Ie)?an:an.replaceAll(new RegExp(ut(Ie),"gi"),"")}}}function fi({thousandSeparator:Ie,decimalSeparator:ze,prefix:pn,postfix:fn,minusSign:an}){return Ie?({value:Tn,selection:bn})=>{const[ie,We]=bn;let[Le,un]=bn;const{cleanValue:Rn,extractedPostfix:Fn,extractedPrefix:si}=Z(Tn,{prefix:pn,postfix:fn}),{minus:Di,integerPart:Ii,decimalPart:Vi}=oi(Rn,{decimalSeparator:ze,minusSign:an}),gi=Rn.length-(Di+Ii+(Rn.includes(ze)?ze+Vi:"")).length;gi>0&&ie&&ie<=gi&&(Le-=gi),gi>0&&We&&We<=gi&&(un-=gi);const Ni=Array.from(Ii).reduceRight((zi,Mo,io)=>{const $o=!(!io&&Mo===Ie||!zi.length||(zi.length+1)%4!=0),tr=Mo===Ie||((...Tn)=>Tn.every(bn=>/\s/.test(bn)))(Mo,Ie);return $o&&tr?Ie+zi:!$o&&tr?(io&&io<=ie&&Le--,io&&io<=We&&un--,zi):$o?(io<ie&&Le++,io<We&&un++,Mo+Ie+zi):Mo+zi},"");return{value:si+Di+Ni+(Rn.includes(ze)?ze:"")+Vi+Fn,selection:[Le,un]}}:F}function Xt({precision:Ie,decimalSeparator:ze,prefix:pn,postfix:fn}){if(Ie>0)return F;const an=new RegExp(`${ut(ze)}.*$`,"g");return({elementState:Mn,data:Tn})=>{const{value:bn,selection:ie}=Mn,{cleanValue:We,extractedPrefix:Le,extractedPostfix:un}=Z(bn,{prefix:pn,postfix:fn}),[Rn,Fn]=ie,si=Le+We.replace(an,"")+un;return{elementState:{selection:[Math.min(Rn,si.length),Math.min(Fn,si.length)],value:si},data:Tn.replace(an,"")}}}const Ye=[0,0];function se({decimalSeparator:Ie,thousandSeparator:ze,prefix:pn,postfix:fn}){const an=function Yi({decimalSeparator:Ie,thousandSeparator:ze,prefix:pn,postfix:fn}){const an=Tn=>{const bn=ut(ze);return Tn.replace(new RegExp(`^(\\D+)?[0${bn}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${bn}]+(?=[1-9])`),"$1")},Mn=(Tn,bn)=>{const ie=Tn.slice(0,bn),We=Tn.slice(bn).startsWith("0");return ie.length-an(ie).length+(We?1:0)};return({value:Tn,selection:bn})=>{const[ie,We]=bn,{cleanValue:Le,extractedPrefix:un,extractedPostfix:Rn}=Z(Tn,{prefix:pn,postfix:fn}),Fn=Le.includes(Ie),[si="",Di=""]=Le.split(Ie),Ii=an(si);if(si===Ii)return{value:Tn,selection:bn};const Vi=ie-Mn(Tn,ie),gi=We-Mn(Tn,We);return{value:un+Ii+(Fn?Ie:"")+Di+Rn,selection:[Math.max(Vi,0),Math.max(gi,0)]}}}({decimalSeparator:Ie,thousandSeparator:ze,prefix:pn,postfix:fn});return ae("blur",Mn=>{const Tn=an({value:Mn.value,selection:Ye},{value:"",selection:Ye}).value;(0,e.fD)(Mn,Tn)},{capture:!0})}function Ve({min:Ie,max:ze,decimalSeparator:pn}){return ae("blur",(fn,an)=>{const Mn=ei(fn.value,pn),Tn=t(Mn,Ie,ze);!Number.isNaN(Mn)&&Mn!==Tn&&(0,e.fD)(fn,(0,e.CV)(function wi(Ie){var ze;const pn=String(Ie),[fn="",an]=pn.split("e-");let Mn=pn;if(an){const[,Tn]=fn.split("."),bn=Number(an)+(null!==(ze=Tn?.length)&&void 0!==ze?ze:0);Mn=Ie.toFixed(bn)}return Mn}(Tn),an))},{capture:!0})}function An({decimalSeparator:Ie,prefix:ze,postfix:pn}){return ae("blur",fn=>{const{cleanValue:an,extractedPostfix:Mn,extractedPrefix:Tn}=Z(fn.value,{prefix:ze,postfix:pn}),bn=Tn+an.replace(new RegExp(`^(\\D+)?${ut(Ie)}`),`$10${Ie}`)+Mn;(0,e.fD)(fn,bn)},{capture:!0})}function Ei({max:Ie=Number.MAX_SAFE_INTEGER,min:ze=Number.MIN_SAFE_INTEGER,precision:pn=0,thousandSeparator:fn=A,decimalSeparator:an=".",decimalPseudoSeparators:Mn,decimalZeroPadding:Tn=!1,prefix:bn="",postfix:ie="",minusSign:We=V}={}){const Le=[L,w,p,et,V].filter(Fn=>Fn!==fn&&Fn!==an&&Fn!==We),un=function Li({decimalSeparator:Ie,thousandSeparator:ze,decimalPseudoSeparators:pn=E}){return pn.filter(fn=>fn!==ze&&fn!==Ie)}({decimalSeparator:an,thousandSeparator:fn,decimalPseudoSeparators:Mn}),Rn=bn.endsWith(an)&&pn>0?`${bn}${S}`:bn;return Object.assign(Object.assign({},e.A_),{mask:Jn({decimalSeparator:an,precision:pn,thousandSeparator:fn,prefix:Rn,postfix:ie,isNegativeAllowed:ze<0,minusSign:We}),preprocessors:[B(),Qi({decimalSeparator:an,decimalPseudoSeparators:un,pseudoMinuses:Le,prefix:Rn,postfix:ie,minusSign:We}),Zn({prefix:Rn,postfix:ie}),Gi({validCharacter:We,pseudoCharacters:Le,prefix:Rn,postfix:ie}),Gi({validCharacter:an,pseudoCharacters:un,prefix:Rn,postfix:ie}),Ki({decimalSeparator:an,precision:pn,prefix:Rn,postfix:ie}),Ui({decimalSeparator:an,decimalZeroPadding:Tn,thousandSeparator:fn}),Xt({precision:pn,decimalSeparator:an,prefix:Rn,postfix:ie}),sn({decimalSeparator:an,prefix:Rn,postfix:ie})],postprocessors:[uo({decimalSeparator:an,min:ze,max:Ie,minusSign:We}),Ee(Rn),Ue(ie),fi({decimalSeparator:an,thousandSeparator:fn,prefix:Rn,postfix:ie,minusSign:We}),mi({decimalSeparator:an,decimalZeroPadding:Tn,precision:pn,prefix:Rn,postfix:ie}),Zi({prefix:Rn,postfix:ie,decimalSeparator:an,minusSign:We})],plugins:[se({decimalSeparator:an,thousandSeparator:fn,prefix:Rn,postfix:ie}),An({decimalSeparator:an,prefix:Rn,postfix:ie}),Ve({min:ze,max:Ie,decimalSeparator:an})],overwriteMode:Tn?({value:Fn,selection:[si]})=>si<=Fn.indexOf(an)?"shift":"replace":"shift"})}function ji({mode:Ie,timeSegmentMaxValues:ze={},timeSegmentMinValues:pn={},step:fn=0}){const an=Ie.includes("AA"),Mn=Object.assign(Object.assign(Object.assign({},U),an?{hours:12}:{}),ze),Tn=Object.assign(Object.assign(Object.assign({},R),an?{hours:1}:{}),pn);return{mask:k(Ie),preprocessors:[B(),Nt(),({elementState:Ie},ze)=>{const{value:pn,selection:fn}=Ie;if(!pn||function xe(Ie,[ze,pn]){return pn===Ie.length}(pn,fn))return{elementState:Ie};const[an,Mn]=fn,Tn=pn.slice(an,Mn).replaceAll(/\d/g,"0"),bn=pn.slice(0,an)+Tn+pn.slice(Mn);return Tn.replaceAll(/\D/g,"")?"validation"===ze||"insert"===ze&&an===Mn?{elementState:{selection:fn,value:bn}}:{elementState:{selection:"deleteBackward"===ze||"insert"===ze?[an,an]:[Mn,Mn],value:bn}}:{elementState:Ie}},Ft(Ie),Ot({timeMode:Ie,timeSegmentMinValues:Tn,timeSegmentMaxValues:Mn})],postprocessors:[le(Ie),bn=>Ut(bn,{mode:Ie,timeSegmentMaxValues:Mn})],plugins:[oe({fullMode:Ie,step:fn,timeSegmentMaxValues:Mn}),re(Ie.indexOf("AA"))],overwriteMode:"replace"}}},3040:(Qt,$,o)=>{"use strict";o.d($,{L:()=>C});var e=o(5861),t=o(7582),a=o(6814),i=o(9862),g=o(5879),T=o(5742),_=o(8451),m=o(7328),h=o(708),f=o(8180),v=o(7398);class C{constructor(){this.isLoaded=new m.t(1),this.httpClient=(0,g.f3M)(i.eN),this.location=(0,g.f3M)(T.ST),this.locationStrategy=(0,g.f3M)(a.S$),this._config={apiUrl:this.location.origin+this.locationStrategy.getBaseHref()+"api"}}get isLoaded$(){return this.isLoaded.asObservable()}get config(){return this._config}get(y){return this._config[y]}get$(y){return this.isLoaded$.pipe((0,f.q)(1),(0,v.U)(()=>this._config[y]))}load(){var y=this;return(0,e.Z)(function*(){try{const E=yield(0,h.n)(y.httpClient.get("assets/config/env.config.json"));Object.assign(y.config,E),y.isLoaded.next(!0)}catch(E){console.error(E),y.isLoaded.next(!1)}})()}ngOnDestroy(){this.isLoaded.complete()}static{this.\u0275fac=function(E){return new(E||C)}}static{this.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}}(0,t.gn)([_.UM],C.prototype,"isLoaded$",null)},8441:(Qt,$,o)=>{"use strict";o.r($),o.d($,{CallClinicService:()=>Ge,ClinicColor:()=>p,ClinicComboboxComponent:()=>Zo,ClinicComponent:()=>xr,ClinicMapComponent:()=>ar,ClinicRestService:()=>Nt,ClinicService:()=>Li,ClinicSortFieldDescriptions:()=>w,ClinicSortFields:()=>S,LIMIT_LIST:()=>dt,SearchTypes:()=>A,ZOOM_ADDRESS_POINT:()=>St,clinicDictProvider:()=>rs,isClusterClinicDTO:()=>y,isItemClinicDTO:()=>E,isItemResultClinicSearchDTO:()=>D});var e=o(1993),t=o(5879),a=o(4190),i=o(4728),g=o(5586),T=o(6814),_=o(7019),m=o(6237),h=o(8767),f=o(375),v=o(9397),C=o(9773);const D=m.v5,y=m.N,E=wt=>(0,m.Vz)(wt);var O=o(1564),M=o(7354),U=o(7582),R=o(8451);const A={MAP:"map",LIST:"list"},S={RATING:"priority"},w=[{name:S.RATING,displayName:"\u041f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"}],p={DEFAULT:"#FF0000"};function L(wt,nn){1&wt&&(t.TgZ(0,"app-badge",11),t._uU(1,"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430"),t.qZA()),2&wt&&t.Q6J("status","error")}function V(wt,nn){1&wt&&(t.TgZ(0,"app-badge"),t._uU(1,"\u041f\u0440\u044f\u043c\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f"),t.qZA())}function et(wt,nn){1&wt&&(t.TgZ(0,"app-badge"),t._uU(1,"\u0414\u043e\u0441\u0442\u0443\u043f \u043f\u043e \u0413\u041f"),t.qZA())}function tt(wt,nn){if(1&wt&&(t.O4$(),t.kcU(),t.TgZ(0,"div",3)(1,"h4",4)(2,"span",5),t._uU(3),t.qZA(),t._uU(4,", "),t.TgZ(5,"span",6),t._uU(6),t.qZA()(),t.TgZ(7,"div",7),t.YNc(8,L,2,1,"app-badge",8),t.YNc(9,V,2,0,"app-badge",9),t.YNc(10,et,2,0,"app-badge",9),t.qZA(),t.TgZ(11,"p",10),t._uU(12),t.qZA(),t.TgZ(13,"p",10),t._uU(14),t.qZA()()),2&wt){const X=nn.tuiLet,Yt=t.oxw();t.xp6(3),t.Oqu(Yt.clinic.code),t.xp6(3),t.Oqu(Yt.clinic.name),t.xp6(2),t.Q6J("ngIf",Yt.clinic.isFranchise&&X===Yt.PolicyFranchiseStatus.NOT_ACTIVATED),t.xp6(1),t.Q6J("ngIf",Yt.clinic.isDirectAccess),t.xp6(1),t.Q6J("ngIf",!1===Yt.clinic.isDirectAccess),t.xp6(2),t.Oqu(Yt.clinic.rating.rating),t.xp6(2),t.Oqu(Yt.clinic.address)}}class ht{constructor(){this._color=p.DEFAULT,this.franchiseStatusId$=(0,t.f3M)(_.mM),this.PolicyFranchiseStatus=_.lw}set color(nn){nn&&nn.trim()&&(this._color=nn)}get markerIconHref(){return"assets/icons/"+(this.clinic.isFranchise?"franchise.marker.svg#franchise-marker.icon":"default.marker.svg#default.marker")}static{this.\u0275fac=function(X){return new(X||ht)}}static{this.\u0275cmp=t.Xpm({type:ht,selectors:[["app-clinic-list-item"]],inputs:{clinic:"clinic",color:"color"},standalone:!0,features:[t.jDz],decls:5,vars:8,consts:[[1,"clinic-item"],[1,"marker-icon"],["class","clinic-item__content",4,"tuiLet"],[1,"clinic-item__content"],[1,"clinic-item__title"],[1,"clinic-item__code"],[1,"clinic-item__name"],[1,"clinic-item__badges"],[3,"status",4,"ngIf"],[4,"ngIf"],[1,"clinic-item__text"],[3,"status"]],template:function(X,Yt){1&X&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"use"),t.qZA(),t.YNc(3,tt,15,7,"div",2),t.ALo(4,"async"),t.qZA()),2&X&&(t.ekj("clinic-item_excluded",Yt.clinic.isExcluded),t.xp6(1),t.Udp("color",Yt._color),t.xp6(1),t.uIk("href",Yt.markerIconHref,null,"xlink"),t.xp6(1),t.Q6J("tuiLet",t.lcZ(4,6,Yt.franchiseStatusId$)))},dependencies:[T.Ov,h.i,_.FN,T.O5],styles:[".selected[_nghost-%COMP%]   .clinic-item[_ngcontent-%COMP%]{background-color:var(--tui-background-accent-opposite)}.selected[_nghost-%COMP%]   .clinic-item__title[_ngcontent-%COMP%]{color:var(--tui-background-base)}.selected[_nghost-%COMP%]   .clinic-item__text[_ngcontent-%COMP%]{color:#b8b8b8}.marker-icon[_ngcontent-%COMP%]{width:30px;height:40px;flex-shrink:0;font-size:20px}.clinic-item[_ngcontent-%COMP%]{padding:12px;display:flex;background-color:var(--tui-background-base-alt);border-radius:16px;cursor:pointer;transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.clinic-item[_ngcontent-%COMP%]:hover{background-color:var(--arm-hover)}.clinic-item_excluded[_ngcontent-%COMP%]   .clinic-item__content[_ngcontent-%COMP%], .clinic-item_excluded[_ngcontent-%COMP%]   .marker-icon[_ngcontent-%COMP%]{opacity:.5}.clinic-item__title[_ngcontent-%COMP%]{margin:0 0 4px}.clinic-item__text[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--tui-text-secondary)}.clinic-item__text[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.clinic-item__content[_ngcontent-%COMP%]{padding-left:8px}.clinic-item__priority[_ngcontent-%COMP%]{width:30px;height:40px}.clinic-item__badges[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}app-badge[_ngcontent-%COMP%]{margin:4px 0}"],changeDetection:0})}}(0,U.gn)([R.UM],ht.prototype,"markerIconHref",null);var it=o(9673),It=o(4664),st=o(7398);const dt=30,St=12,bt={ALL:"all",VARIANT:"variant"},u=[{code:bt.VARIANT,label:"\u043f\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"},{code:bt.ALL,label:"\u0432\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"}];class ut{static convertToMapDTO({location:nn,filterParam:X,searchQuery:Yt,clientPolicyGuid:Te,sysCode:Cn}){const{source:di,variants:ro,typeAssistanceIds:Mt,withFranchise:yn,...Ct}=X;return{type:A.MAP,filter:{source:di,...di===bt.ALL?{typeAssistanceIds:Mt}:{variants:ro},...Ct,withFranchise:!yn,clientPolicyGuid:Te,sysCode:Cn},searchQuery:Yt,zoom:nn.zoom,bounds:nn.bounds}}static convertToListDTO({searchQuery:nn,offset:X,sort:Yt,filterParam:Te,clientPolicyGuid:Cn,sysCode:di}){const{source:ro,variants:Mt,typeAssistanceIds:yn,withFranchise:Ct,...qt}=Te;return{type:A.LIST,searchQuery:nn,sort:Yt,filter:{source:ro,...ro===bt.ALL?{typeAssistanceIds:yn}:{variants:Mt},...qt,withFranchise:!Ct,clientPolicyGuid:Cn,sysCode:di},offset:X,limit:dt}}static convertClusterToSearchClinicListFromClusterDTO({bounds:nn,zoom:X,searchQuery:Yt,filterParam:Te,clientPolicyGuid:Cn,sysCode:di},ro=0){const{source:Mt,variants:yn,typeAssistanceIds:Ct,...qt}=Te;return{type:A.LIST,searchQuery:Yt,sort:{field:"priority",direction:_.UC.ASCENDING},filter:{source:Mt,...Mt===bt.ALL?{typeAssistanceIds:Ct}:{variants:yn},...qt,clientPolicyGuid:Cn,sysCode:di},bounds:nn,offset:ro,limit:dt,zoom:X}}static convertAdditionalFilter({withExcluded:nn,withFranchise:X,withDirectAccess:Yt,onlineClinic:Te,priorities:Cn,departmentTypeIds:di,diagnosticTypeIds:ro,doctorSpecialtyIds:Mt}){const yn=Ct=>Ct&&Ct.length?Ct:void 0;return{withExcluded:nn,withFranchise:X,withDirectAccess:Yt,onlineClinic:Te,priorities:yn(Cn),departmentTypeIds:yn(di),diagnosticTypeIds:yn(ro),doctorSpecialtyIds:yn(Mt)}}}var Z=o(2926),I=o(3718),F=o(581),ot=o(2816),At=o(9315),Dt=o(8180),Wt=o(692);let Nt=(()=>{class wt{constructor(X){this.aegleRestService=X,this.endPoint="clinics",this.policyParams$=(0,t.f3M)(Z.Cp),this.rootStore=(0,t.f3M)(Z.fT)}searchClinic(X){return this.aegleRestService.post(`/${this.endPoint}/map-points`,X)}fetchClinicDetails(X){return this.policyParams$.pipe((0,Dt.q)(1),(0,It.w)(([Yt,Te])=>this.aegleRestService.get(`/${this.endPoint}/${X}/detail-info`,Yt&&Te?{params:{clientPolicyGuid:Yt,sysCode:Te}}:void 0)))}fetchClinicsDirectory(X,Yt,Te){return(0,At.D)([this.rootStore.param$("guid").pipe((0,Dt.q)(1)),this.rootStore.param$("sysCode").pipe((0,Dt.q)(1))]).pipe((0,It.w)(([Cn,di])=>this.aegleRestService.post(`/${this.endPoint}/`,{searchQuery:Yt.length>1?{value:Yt}:void 0,filter:Cn&&di?{sysCode:di,clientPolicyGuid:Cn}:void 0,sort:X,offset:Te,limit:dt})),(0,st.U)(Cn=>Cn.items),(0,Dt.q)(1))}fetchCountOfHospitalizations(X,Yt){const Te=Date.now(),Cn=(0,I.Z)(function nt(wt){(0,ot.Z)(1,arguments);var nn=(0,F.Z)(wt);return nn.setDate(1),nn.setHours(0,0,0,0),nn}(Te),{representation:"date"});return this.aegleRestService.get(`/hospitalizations/get-hospitalizations-for-period?policyNumber=${X}&dateStart=${Cn}&clinicUid=${Yt}`).pipe((0,st.U)(di=>di.hospCount),(0,Dt.q)(1))}fetchClinicsVisitsHistory(X){return this.aegleRestService.get(`/${this.endPoint}/visits/${X}`).pipe((0,st.U)(Yt=>Yt.visits.map(Te=>({...Te,phones:Te.phones?.[0]??""}))))}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.LFG(Wt.DA))}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}}return wt})();const Rt={isLoading:!1,data:null,error:null};let Bt=(()=>{class wt extends it.m1{constructor(X){super(Rt),this.clinicRestService=X,this.clinics$=this.select(Yt=>Yt),this.setClinicList=this.updater((Yt,{items:Te})=>({...Rt,data:Te})),this.fetchClinicListFromCluster=this.effect(Yt=>Yt.pipe((0,v.b)(()=>this.setState(()=>({...Rt,isLoading:!0}))),(0,st.U)(Te=>ut.convertClusterToSearchClinicListFromClusterDTO(Te)),(0,It.w)(Te=>this.clinicRestService.searchClinic(Te).pipe((0,it._b)(Cn=>this.setClinicList(Cn),Cn=>{this.patchState({...Rt,error:Cn})})))))}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.LFG(Nt))}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac})}}return wt})();function B(wt,nn){if(1&wt&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&wt){const X=t.oxw(2).ngIf;t.xp6(1),t.hij("\u0412\u044b\u0431\u0440\u0430\u043d\u043e ",X.data.length,"")}}function k(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"app-clinic-list-item",7),t.NdJ("click",function(){const Cn=t.CHM(X).$implicit,di=t.oxw(3);return t.KtG(di.selectedClinic.emit(Cn))}),t.qZA()}if(2&wt){const X=nn.$implicit,Yt=t.oxw(3);t.ekj("selected",Yt.selectedClinicGuid===X.id),t.Q6J("clinic",X)("color",Yt.PriorityToColor[X.rating.priority])}}function yt(wt,nn){if(1&wt&&(t.ynx(0),t.TgZ(1,"header",2),t.YNc(2,B,2,1,"span",3),t.qZA(),t.TgZ(3,"tui-scrollbar")(4,"div",4),t.YNc(5,k,1,4,"app-clinic-list-item",5),t.qZA()(),t.BQk()),2&wt){const X=t.oxw().ngIf;t.xp6(2),t.Q6J("ngIf",X.data),t.xp6(3),t.Q6J("ngForOf",X.data)}}function Y(wt,nn){1&wt&&t._UZ(0,"dms-loader",8)}function xt(wt,nn){1&wt&&t._UZ(0,"app-data-fetch-error")}function z(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,yt,6,2,"ng-container",0),t.YNc(2,Y,1,0,"dms-loader",1),t.YNc(3,xt,1,0,"app-data-fetch-error",0),t.BQk()),2&wt){const X=nn.ngIf;t.xp6(1),t.Q6J("ngIf",X.data),t.xp6(1),t.Q6J("ngIf",X.isLoading),t.xp6(1),t.Q6J("ngIf",X.error)}}let at=(()=>{class wt{set cluster(X){this.clinicClusterStore.fetchClinicListFromCluster(X)}constructor(X){this.clinicClusterStore=X,this.selectedClinicGuid=null,this.selectedClinic=new t.vpe,this.clinics$=this.clinicClusterStore.clinics$}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(Bt))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-cluster"]],inputs:{PriorityToColor:"PriorityToColor",selectedClinicGuid:"selectedClinicGuid",cluster:"cluster"},outputs:{selectedClinic:"selectedClinic"},standalone:!0,features:[t._Bn([Bt]),t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["size","m",4,"ngIf"],[1,"cluster-header"],["class","cluster-header__title",4,"ngIf"],[1,"cluster-list"],[3,"selected","clinic","color","click",4,"ngFor","ngForOf"],[1,"cluster-header__title"],[3,"clinic","color","click"],["size","m"]],template:function(Yt,Te){1&Yt&&(t.YNc(0,z,4,3,"ng-container",0),t.ALo(1,"async")),2&Yt&&t.Q6J("ngIf",t.lcZ(1,1,Te.clinics$))},dependencies:[T.Ov,T.O5,O.D1,T.sg,M.gK,M.Ph,ht],styles:["[_nghost-%COMP%]{padding-bottom:8px;min-height:200px;width:100%;flex-direction:column;display:flex}[_nghost-%COMP%]   .cluster-header[_ngcontent-%COMP%]{width:100%;padding:12px}[_nghost-%COMP%]   .cluster-header__title[_ngcontent-%COMP%]{font:var(--tui-font-heading-3);line-height:36px}[_nghost-%COMP%]   dms-loader[_ngcontent-%COMP%], [_nghost-%COMP%]   app-data-fetch-error[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]   app-clinic-list-item[_ngcontent-%COMP%]{display:block;margin-bottom:8px}[_nghost-%COMP%]   app-clinic-list-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{flex-grow:1;width:100%;max-height:calc(var(--cluster-max-height) - 48px)}[_nghost-%COMP%]   .cluster-list[_ngcontent-%COMP%]{padding:0 8px}"],changeDetection:0})}}return wt})();var Pt=o(6232),Gt=o(6306);const De={isLoading:!1,data:null,error:null};let Ut=(()=>{class wt extends it.m1{constructor(X){super(De),this.clinicService=X,this.clinicDetails$=this.select(Yt=>Yt),this.setIsLoading=this.updater((Yt,Te)=>({data:null,error:null,isLoading:Te})),this.setData=this.updater((Yt,Te)=>({data:Te,error:null,isLoading:!1})),this.setError=this.updater((Yt,Te)=>({data:null,error:Te,isLoading:!1})),this.fetchClinic=this.effect(Yt=>Yt.pipe((0,v.b)(()=>this.setIsLoading(!0)),(0,It.w)(Te=>this.clinicService.fetchClinicDetails(Te).pipe((0,v.b)(Cn=>this.setData(Cn.clinic)),(0,Gt.K)(Cn=>(this.setError(Cn),Pt.E))))))}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.LFG(Nt))}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac})}}return wt})();var Q=o(2527),Ot=o(1534),Ft=o(5505),le=o(3719),ne=o(8645);let Ge=(()=>{class wt extends ne.x{ngOnDestroy(){this.complete()}static{this.\u0275fac=function(){let X;return function(Te){return(X||(X=t.n5z(wt)))(Te||wt)}}()}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"})}}return wt})();function Se(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"div")(1,"div",7)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"tui-icon",8),t.NdJ("click",function(Te){const di=t.CHM(X).$implicit,ro=t.oxw(2);return t.KtG(ro.callNumber.emit({event:Te,phone:di.normalized}))}),t.qZA()()()}if(2&wt){const X=nn.$implicit;t.xp6(3),t.Oqu(X.normalized),t.xp6(1),t.Q6J("dmsCopyToClipboard",X.normalized)}}function Pe(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Se,5,2,"div",4),t.BQk()),2&wt){const X=nn.$implicit;t.xp6(1),t.Q6J("ngForOf",X.phoneNumbers)}}function Ue(wt,nn){if(1&wt&&t._UZ(0,"div",9),2&wt){const X=t.oxw();t.Q6J("innerHTML",X.customRowValue,t.oJD)}}function Ee(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"app-note",10),t.NdJ("callClinic",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.callNumber.emit({event:Te.event,phone:Te.phone}))}),t.qZA()}if(2&wt){const X=t.oxw();t.Q6J("contentData",X.comment)}}let de=(()=>{class wt{constructor(){this.customRowLabel="\u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u044b",this.customRowValue=null,this.callNumber=new t.vpe}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-contact-block"]],inputs:{heading:"heading",clinicPhones:"clinicPhones",comment:"comment",customRowLabel:"customRowLabel",customRowValue:"customRowValue"},outputs:{callNumber:"callNumber"},standalone:!0,features:[t.jDz],decls:14,vars:5,consts:[[3,"heading"],[1,"content"],[1,"row"],[1,"text-label"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"contentData","callClinic",4,"ngIf"],[1,"phone"],["icon","@tui.copy","notificationText","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u041b\u041f\u0423 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d",1,"copy-icon",3,"dmsCopyToClipboard","click"],[3,"innerHTML"],[3,"contentData","callClinic"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"app-island-expand",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d / \u0424\u0430\u043a\u0441"),t.qZA(),t.YNc(5,Pe,2,1,"ng-container",4),t.qZA(),t.TgZ(6,"div",2)(7,"div",3),t._uU(8),t.qZA(),t.YNc(9,Ue,1,1,"div",5),t.qZA(),t.TgZ(10,"div",2)(11,"div",3),t._uU(12,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),t.qZA(),t.YNc(13,Ee,1,1,"app-note",6),t.qZA()()()),2&Yt&&(t.Q6J("heading",Te.heading),t.xp6(5),t.Q6J("ngForOf",Te.clinicPhones),t.xp6(3),t.Oqu(Te.customRowLabel),t.xp6(1),t.Q6J("ngIf",Te.customRowValue),t.xp6(4),t.Q6J("ngIf",Te.comment))},dependencies:[M.tF,T.O5,_.KC,T.sg,Ot.R,M.fT],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--tui-padding-s) 0}.row[_ngcontent-%COMP%]{--tui-border-normal: rgba(0, 0, 0, .07);padding:5.5px 12px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:#00000005;border:1px solid var(--tui-border-normal);border-radius:var(--tui-radius-xs)}.row[_ngcontent-%COMP%]   .text-label[_ngcontent-%COMP%]:last-child{padding:9px 0;font-size:14px}.text-label[_ngcontent-%COMP%]{margin-right:6px;font-size:13px;color:var(--tui-background-accent-opposite-pressed)}.phone[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:6px}.phone[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{color:var(--dms-icon-primary-color);cursor:pointer}"],changeDetection:0})}}return wt})();function ae(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"div",1)(1,"app-clinic-contact-block",2),t.NdJ("callNumber",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.onCallNumber(Te))}),t.qZA(),t.TgZ(2,"app-clinic-contact-block",3),t.NdJ("callNumber",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.onCallNumber(Te))}),t.qZA(),t.TgZ(3,"app-clinic-contact-block",4),t.NdJ("callNumber",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.onCallNumber(Te))}),t.qZA(),t.TgZ(4,"app-clinic-contact-block",5),t.NdJ("callNumber",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.onCallNumber(Te))}),t.qZA(),t.TgZ(5,"app-clinic-contact-block",6),t.NdJ("callNumber",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.onCallNumber(Te))}),t.qZA()()}if(2&wt){const X=nn.tuiLet;let Yt,Te,Cn,di,ro,Mt;t.xp6(1),t.Q6J("clinicPhones",null==X.infoService?null:X.infoService.phone)("customRowValue",null!==(Yt=null==X.infoService?null:X.infoService.infoserviceTimesheet)&&void 0!==Yt?Yt:null)("comment",null==X.infoService?null:X.infoService.comment),t.xp6(1),t.Q6J("clinicPhones",null==X.homeDoctor?null:X.homeDoctor.phone)("customRowValue",null!==(Te=null==X.homeDoctor?null:X.homeDoctor.homedoctorTimesheet)&&void 0!==Te?Te:null)("comment",null==X.homeDoctor?null:X.homeDoctor.comment),t.xp6(1),t.Q6J("clinicPhones",null!==(Cn=null==X.ambulance?null:X.ambulance.phone)&&void 0!==Cn?Cn:null)("comment",null==X.ambulance?null:X.ambulance.comment),t.xp6(1),t.Q6J("clinicPhones",null!==(di=null==X.admission?null:X.admission.phone)&&void 0!==di?di:null)("customRowValue",null!==(ro=null==X.admission?null:X.admission.email)&&void 0!==ro?ro:null)("comment",null==X.admission?null:X.admission.comment),t.xp6(1),t.Q6J("clinicPhones",null==X.hospitalRequest?null:X.hospitalRequest.phone)("customRowValue",null!==(Mt=null==X.hospitalRequest?null:X.hospitalRequest.email)&&void 0!==Mt?Mt:null)("comment",null==X.hospitalRequest?null:X.hospitalRequest.comment)}}let $e=(()=>{class wt{constructor(X){this.context=X,this.callService=(0,t.f3M)(Ge)}onCallNumber({event:X,phone:Yt}){X.stopPropagation(),X.preventDefault(),this.callService.next({clinic:this.context.data,phone:Yt})}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(g.yf))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-contacts"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","contacts",4,"tuiLet"],[1,"contacts"],["heading","\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0430\u044f",3,"clinicPhones","customRowValue","comment","callNumber"],["heading","\u0412\u044b\u0437\u043e\u0432 \u0432\u0440\u0430\u0447\u0430 \u043d\u0430 \u0434\u043e\u043c",3,"clinicPhones","customRowValue","comment","callNumber"],["heading","\u0421\u043a\u043e\u0440\u0430\u044f \u043c\u0435\u0434\u0438\u0446\u0438\u043d\u0441\u043a\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",3,"clinicPhones","comment","callNumber"],["heading","\u041f\u0440\u0438\u0435\u043c\u043d\u043e\u0435 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435","customRowLabel","E-mail",3,"clinicPhones","customRowValue","comment","callNumber"],["heading","\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e","customRowLabel","E-mail",3,"clinicPhones","customRowValue","comment","callNumber"]],template:function(Yt,Te){1&Yt&&t.YNc(0,ae,6,14,"div",0),2&Yt&&t.Q6J("tuiLet",Te.context.data.contacts)},dependencies:[h.i,de],styles:["[_nghost-%COMP%]{padding-bottom:8px;display:block;width:900px;height:100%;isolation:isolate}[_nghost-%COMP%]   .contacts[_ngcontent-%COMP%]{padding:.5rem;display:flex;flex-direction:column;gap:.5rem}"],changeDetection:0})}}return wt})();var Bn=o(7319),Ae=o(5619),Hn=o(3266);function rn(wt,nn){if(1&wt&&(t.ynx(0),t.TgZ(1,"button",4),t._UZ(2,"tui-icon",5),t.TgZ(3,"app-badge"),t._uU(4),t.ALo(5,"async"),t.qZA()(),t.BQk()),2&wt){const X=nn.ngIf,Yt=t.oxw();t.xp6(1),t.Q6J("config",X),t.xp6(3),t.Oqu(t.lcZ(5,2,Yt.commentsQuantity$))}}let re=(()=>{class wt{constructor(){this.commentsQuantity$=new Ae.X(0),this.StatusDpRequest=_.CR,this.registration$=(0,t.f3M)(Hn.ZG).registration$}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-contacts"]],standalone:!0,features:[t.jDz],decls:7,vars:3,consts:[[1,"header"],[1,"header-left"],[1,"header-right"],[4,"ngIf"],["libDmsOpenCommentsPopup","","type","button","tuiButton","","appearance","outline","size","s",1,"show-comments",3,"config"],["icon","messageSquareIcon"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t.qZA()(),t.TgZ(4,"div",2),t.YNc(5,rn,6,4,"ng-container",3),t.ALo(6,"async"),t.qZA()()),2&Yt&&(t.xp6(5),t.Q6J("ngIf",t.lcZ(6,1,Te.commentsConfig$)))},dependencies:[Ot.R,_.FN,T.Ov,Bn.jc,T.O5,Q.xG],styles:["[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"],changeDetection:0})}}return wt})();var wn=o(3452),oe=o(6223),Ht=o(4085),xn=o(1459),ce=o(3069),me=o(7244),En=o(8293),_n=o(7494),Qe=o(1018);function xe(wt,nn){if(1&wt&&(t._UZ(0,"tui-data-list-wrapper",4),t.ALo(1,"tuiStringifyContent")),2&wt){const X=t.oxw();t.Q6J("items",X.variants)("itemContent",t.lcZ(1,2,X.stringify))}}function je(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"input",8),t.NdJ("ngModelChange",function(Te){t.CHM(X);const Cn=t.oxw(2);return t.KtG(Cn.currentRisk=Te)})("click",function(Te){return Te.stopPropagation()}),t.qZA()}if(2&wt){const X=t.oxw().$implicit,Yt=t.oxw();t.Q6J("ngModel",Yt.currentRisk)("value",X)}}function ke(wt,nn){if(1&wt&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&wt){const X=t.oxw(2).$implicit;t.xp6(1),t.Oqu(X.type)}}function we(wt,nn){if(1&wt&&(t.ynx(0),t._uU(1),t.ALo(2,"number"),t.TgZ(3,"app-badge",15),t._uU(4),t.qZA(),t.BQk()),2&wt){const X=t.oxw(2).$implicit,Yt=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,3,X.franchisePercent,"1.0"),"% "),t.xp6(2),t.Q6J("status",Yt.franchiseBadgeStatus),t.xp6(1),t.Oqu(Yt.getFranchiseStatusText(Yt.statusFranchisePolicy))}}function Ne(wt,nn){1&wt&&(t.ynx(0),t._uU(1,"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"),t.BQk())}function Ke(wt,nn){if(1&wt&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&wt){const X=t.oxw(2).$implicit;t.xp6(1),t.Oqu(X.startDate)}}function qe(wt,nn){if(1&wt&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&wt){const X=t.oxw(2).$implicit;t.xp6(1),t.Oqu(X.endDate)}}function kn(wt,nn){if(1&wt&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&wt){const X=t.oxw(2).$implicit;t.xp6(1),t.Oqu(X.riskExtName)}}function ui(wt,nn){if(1&wt&&(t.TgZ(0,"div",9)(1,"p",10)(2,"span",11),t._uU(3,"\u0412\u0438\u0434 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f"),t.qZA(),t.YNc(4,ke,2,1,"span",12),t.qZA(),t.TgZ(5,"p",10)(6,"span",11),t._uU(7,"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430"),t.qZA(),t.TgZ(8,"span",13),t.YNc(9,we,5,6,"ng-container",14),t.YNc(10,Ne,2,0,"ng-container",14),t.qZA()(),t.TgZ(11,"p",10)(12,"span",11),t._uU(13,"\u0414\u0430\u0442\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),t.qZA(),t.YNc(14,Ke,2,1,"span",12),t.qZA(),t.TgZ(15,"p",10)(16,"span",11),t._uU(17,"\u0414\u0430\u0442\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),t.qZA(),t.YNc(18,qe,2,1,"span",12),t.qZA(),t.TgZ(19,"p",10)(20,"span",11),t._uU(21,"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435"),t.qZA(),t.YNc(22,kn,2,1,"span",12),t.qZA()()),2&wt){const X=t.oxw().$implicit,Yt=t.oxw(),Te=t.MAs(6);t.xp6(1),t.ekj("empty",!X.type),t.xp6(3),t.Q6J("ngIf",X.type)("ngIfElse",Te),t.xp6(5),t.Q6J("ngIf",X.franchiseStatusId===Yt.RiskFranchiseStatus.AVAILABLE&&null!==Yt.statusFranchisePolicy),t.xp6(1),t.Q6J("ngIf",X.franchiseStatusId===Yt.RiskFranchiseStatus.NOT_AVAILABLE),t.xp6(1),t.ekj("empty",!X.startDate),t.xp6(3),t.Q6J("ngIf",X.startDate)("ngIfElse",Te),t.xp6(1),t.ekj("empty",!X.endDate),t.xp6(3),t.Q6J("ngIf",X.endDate)("ngIfElse",Te),t.xp6(1),t.ekj("empty",!X.riskExtName),t.xp6(3),t.Q6J("ngIf",X.riskExtName)("ngIfElse",Te)}}function eo(wt,nn){if(1&wt&&(t.TgZ(0,"dms-simple-accordion-item")(1,"div",5),t.YNc(2,je,1,2,"input",6),t._uU(3),t.qZA(),t.YNc(4,ui,23,18,"ng-template",7),t.qZA()),2&wt){const X=nn.$implicit,Yt=t.oxw();t.xp6(2),t.Q6J("ngIf",!Yt.disableSwitch),t.xp6(1),t.hij(" ",X.name," ")}}function Pn(wt,nn){1&wt&&(t.TgZ(0,"span",16),t._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA())}class tn{constructor(){this.disableSwitch=!1,this.variants=[],this.RiskFranchiseStatus=le.RiskFranchiseStatus,this.stringify=nn=>nn.name}set selectedVariant(nn){const X=this.variants.find(Yt=>Yt.variantGuid===nn.variantGuid);if(!X)throw this.currentVariant=this.variants[0],new Error(`\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435 variantGuid \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0438\u0437 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u043a\u043b\u0438\u043d\u0438\u043ae ${this.clinic.name} ${this.clinic.guid}`);this.currentVariant=X,this.currentRisk=this.currentVariant?.risks.find(Yt=>Yt.code===nn.risks[0])}get franchiseBadgeStatus(){return _.lw.ACTIVATED===this.statusFranchisePolicy?"success":"error"}getFranchiseStatusText(nn){return _.$K[nn]}ngAfterViewInit(){if(this.currentRisk){const nn=this.currentVariant?.risks.findIndex(X=>X.code===this.currentRisk?.code);void 0!==nn&&this.riskAccordionItemRefs.get(nn)&&this.riskAccordionItemRefs.get(nn)?.open()}}static{this.\u0275fac=function(X){return new(X||tn)}}static{this.\u0275cmp=t.Xpm({type:tn,selectors:[["app-clinic-details-variant"]],viewQuery:function(X,Yt){if(1&X&&t.Gf(wn.dD,5),2&X){let Te;t.iGM(Te=t.CRH())&&(Yt.riskAccordionItemRefs=Te)}},inputs:{clinic:"clinic",disableSwitch:"disableSwitch",variants:"variants",statusFranchisePolicy:"statusFranchisePolicy",selectedVariant:"selectedVariant"},standalone:!0,features:[t.jDz],decls:7,vars:4,consts:[["tuiTextfieldSize","m",1,"clinic-variant",3,"ngModel","stringify","disabled","ngModelChange"],[3,"items","itemContent",4,"tuiDataList"],[4,"ngFor","ngForOf"],["emptyRef",""],[3,"items","itemContent"],[1,"clinic-risk-header"],["tuiRadio","","type","radio","size","m",3,"ngModel","value","ngModelChange","click",4,"ngIf"],["dmsSimpleAccordionItemContent",""],["tuiRadio","","type","radio","size","m",3,"ngModel","value","ngModelChange","click"],[1,"clinic-risk"],[1,"clinic-risk__row"],[1,"clinic-risk__label"],["class","clinic-risk__value",4,"ngIf","ngIfElse"],[1,"clinic-risk__value"],[4,"ngIf"],[3,"status"],[1,"clinic-content__value"]],template:function(X,Yt){1&X&&(t.TgZ(0,"tui-select",0),t.NdJ("ngModelChange",function(Cn){return Yt.currentVariant=Cn}),t._uU(1," \u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f "),t.YNc(2,xe,2,4,"tui-data-list-wrapper",1),t.qZA(),t.TgZ(3,"dms-simple-accordion"),t.YNc(4,eo,5,2,"dms-simple-accordion-item",2),t.qZA(),t.YNc(5,Pn,2,0,"ng-template",null,3,t.W1O)),2&X&&(t.Q6J("ngModel",Yt.currentVariant)("stringify",Yt.stringify)("disabled",Yt.variants.length<2),t.xp6(4),t.Q6J("ngForOf",null==Yt.currentVariant?null:Yt.currentVariant.risks))},dependencies:[_n.eC,Qe.gX,ce.hr,me.Jy,me.uJ,me.OI,Ht.Q,En.cn,En.sz,oe.u5,oe.Fj,oe._,oe.JJ,oe.On,_.FN,wn.XD,T.JJ,T.O5,M.FA,M.YV,T.sg,M.AV,xn._M],styles:[".clinic-variant[_ngcontent-%COMP%]{margin-bottom:8px}.clinic-risk-header[_ngcontent-%COMP%]{display:flex;align-items:center}.clinic-risk-header[_ngcontent-%COMP%]   tui-radio[_ngcontent-%COMP%]{margin-right:12px}.clinic-risk[_ngcontent-%COMP%]{min-height:40px;background-color:var(--tui-background-base-alt)}.clinic-risk__row[_ngcontent-%COMP%]{margin:0;padding:10px 12px;display:flex;border-bottom:1px solid var(--arm-border-color)}.clinic-risk__row[_ngcontent-%COMP%]:last-child{border-bottom:none}.clinic-risk__row.empty[_ngcontent-%COMP%]{color:var(--empty-text);background-color:var(--arm-empty-background)}.clinic-risk__label[_ngcontent-%COMP%]{width:100%;margin-right:12px;max-width:162px;color:var(--tui-background-accent-opposite-pressed)}.clinic-risk__value[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.clinic-risk[_ngcontent-%COMP%]   app-badge[_ngcontent-%COMP%]{flex-shrink:0}"],changeDetection:0})}}(0,U.gn)([R.UM],tn.prototype,"getFranchiseStatusText",null);var ln=o(8131),Zn=o(2181),Jn=o(3620),hi=o(7081),ei=o(3997),wi=o(2572);const oi={locationMap:m.PX,cluster:null,clinic:null};let Li=(()=>{class wt extends it.m1{constructor(X,Yt){super(oi),this.policyParams$=X,this.statusFranchisePolicy=Yt,this.selectedCluster$=this.select(Te=>Te.cluster),this.selectedClinic$=this.select(Te=>Te.clinic),this.locationMap$=this.select(Te=>Te.locationMap),this.setLocationMap=this.updater((Te,Cn)=>({...Te,locationMap:Cn})),this.selectClinic=this.updater((Te,Cn)=>({...Te,clinic:Cn})),this.selectCluster=this.effect(Te=>Te.pipe((0,v.b)(Cn=>Cn||this.patchState(()=>({cluster:null}))),(0,Zn.h)(Cn=>!!Cn),(0,ln.IC)(()=>[this.filterParam$,this.searchQuery$,this.locationMap$,this.policyParams$]),(0,st.U)(([Cn,di,ro,Mt,[yn,Ct]])=>({id:Cn.id,bounds:Cn.clusterBounds,total:Cn.total,filterParam:{...di,withFranchise:!di.withFranchise},zoom:Mt.zoom,searchQuery:ro,clientPolicyGuid:yn,sysCode:Ct})),(0,v.b)(Cn=>this.patchState(()=>({cluster:Cn}))))),this.isNewClient=(0,t.f3M)(_.J6),this.mainControl=new oe.NI({source:this.isNewClient?bt.ALL:bt.VARIANT},{nonNullable:!0,updateOn:"submit"}),this.filterForm=new oe.cw({withFranchise:new oe.NI({value:!1,disabled:!0},{nonNullable:!0}),withExcluded:new oe.NI({value:!1,disabled:!1},{nonNullable:!0}),withDirectAccess:new oe.NI({value:!1,disabled:!1},{nonNullable:!0}),onlineClinic:new oe.NI(!0,{nonNullable:!0}),priorities:new oe.NI([],{nonNullable:!0}),departmentTypeIds:new oe.NI([],{nonNullable:!0}),diagnosticTypeIds:new oe.NI([],{nonNullable:!0}),doctorSpecialtyIds:new oe.NI([],{nonNullable:!0})}),this.searchListForm=new oe.cw({sort:new oe.NI({value:{direction:_.UC.ASCENDING,field:"priority"},disabled:!0},{nonNullable:!0}),searchQuery:new oe.NI({value:""},{nonNullable:!0})}),this.sorting$=(0,M.UD)(this.searchListForm.controls.sort).pipe((0,C.R)(this.destroy$),(0,Jn.b)(300),(0,st.U)(Te=>Te.direction?Te:void 0),(0,hi.d)(1)),this.searchQuery$=(0,M.UD)(this.searchListForm.controls.searchQuery).pipe((0,C.R)(this.destroy$),(0,Jn.b)(300),(0,ei.x)((Te,Cn)=>!!(Te===Cn||Te&&Cn&&Te.value===Cn.value)),(0,st.U)(Te=>Te.value&&this.searchListForm.valid?Te:void 0),(0,hi.d)(1)),this.filterParam$=(0,wi.a)([(0,M.UD)(this.mainControl),(0,M.UD)(this.filterForm).pipe((0,Jn.b)(300),(0,st.U)(Te=>ut.convertAdditionalFilter(Te)))]).pipe((0,C.R)(this.destroy$),(0,st.U)(([Te,Cn])=>({...Te,...Cn})),(0,hi.d)(1)),this.variantFilter$=this.filterParam$.pipe((0,st.U)(({variants:Te})=>Te),(0,Zn.h)(Te=>!!Te)),this.toggleAvailabilityWithFranchiseFilter()}toggleAvailabilityWithFranchiseFilter(){(0,M.UD)(this.mainControl).pipe((0,C.R)(this.destroy$),(0,ln.IC)(()=>this.statusFranchisePolicy)).subscribe(([{source:X},Yt])=>{X===bt.ALL?(this.filterForm.controls.withFranchise.disable(),this.filterForm.controls.withExcluded.disable(),this.filterForm.controls.withDirectAccess.disable()):(Yt>-1?this.filterForm.controls.withFranchise.enable():this.filterForm.controls.withFranchise.disable(),this.filterForm.controls.withExcluded.enable(),this.filterForm.controls.withDirectAccess.enable())})}resetState(){this.patchState(oi)}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.LFG(Z.Cp),t.LFG(_.mM))}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac})}}return wt})();var mi=o(2071),Zi=o(1393),Qi=o(5929),Yi=o(9298),uo=o(5738),Ui=o(3019),Ki=o(7921),sn=(o(8442),o(6266)),Xt=(o(6456),o(334)),se=(o(1977),o(5086));o(6918);let bn=(()=>{class wt{constructor(){this.el=(0,Qi.AG)(),this.rla=(0,t.f3M)(a.Od,{optional:!0}),this.observer=this.rla&&(0,t.f3M)(mi.IM,{optional:!0})?.pipe((0,Zn.h)(()=>!!this.rla?.isActive)),this.sub=(0,Ui.T)(this.observer||Pt.E,this.rla?.isActiveChange.pipe((0,Zn.h)(Boolean))||Pt.E,this.el.matches("button")?(0,Zi.mL)(this.el,"click").pipe((0,It.w)(()=>(0,Zi.mL)(this.el.parentElement,"click").pipe((0,Dt.q)(1)))):Pt.E).pipe((0,e.sL)()).subscribe(()=>this.el.dispatchEvent(new CustomEvent("tui-tab-activate",{bubbles:!0})))}ngOnDestroy(){(0,Yi.V8)(this.el)&&this.el.blur()}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275dir=t.lG2({type:wt,selectors:[["a","tuiTab","",3,"routerLink",""],["a","tuiTab","","routerLink","","routerLinkActive",""],["button","tuiTab",""]],hostAttrs:["type","button"],standalone:!0,features:[t.zW0([uo.M])]})}}return wt})();const We=(0,R.JN)({underline:!0,exposeActive:!0,itemsLimit:1/0,minMoreWidth:0,size:"l"});let un=(()=>{class wt{static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["ng-component"]],hostAttrs:[1,"tui-tabs"],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(Yt,Te){},styles:['[tuiTab]{transition-property:color,box-shadow,opacity,background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:flex;flex-shrink:0;box-sizing:border-box;justify-content:space-between;line-height:1.5rem;align-items:center;white-space:nowrap;cursor:pointer;outline:none;color:inherit;margin-left:24px}tui-tabs[data-size=m]+[tuiTab],tui-tabs[data-size=m] [tuiTab],[tuiTabs][data-size=m] [tuiTab]{margin-left:16px;font:var(--tui-font-text-s)}[tuiTab]:disabled{opacity:var(--tui-disabled-opacity);pointer-events:none}[tuiTab]._active{color:var(--tui-text-primary);box-shadow:none}[tuiTab]:focus-visible{outline:2px solid var(--tui-border-focus);outline-offset:-2px}tui-tabs._underline [tuiTab]:hover:not(._active),[tuiTabs]._underline [tuiTab]:hover:not(._active){box-shadow:inset 0 -2px var(--tui-border-normal)}tui-tabs>[tuiTab]:first-child,[tuiTabs]>[tuiTab]:first-child,tui-tabs>:not(.t-overflown)>[tuiTab]:first-child{margin-left:0}tui-tabs>[tuiTab]~:not(.t-overflown)>[tuiTab]:first-child{margin-left:var(--tui-tab-margin, 1.5rem)}[tuiTab][tuiIcons]:before{font-size:1rem;margin-inline-end:.5rem}[tuiTab][tuiIcons]:after{font-size:1rem;margin-inline-start:.5rem}[tuiTab]:empty:after,[tuiTab]:empty:before{margin:.5rem}@media (hover: hover) and (pointer: fine){[tuiTab]:hover{color:var(--tui-text-primary)}}[tuiTabs],tui-tabs{scrollbar-width:none;-ms-overflow-style:none;position:relative;display:flex;font:var(--tui-font-text-m);color:var(--tui-text-secondary);box-shadow:inset 0 -1px var(--tui-border-normal);overflow:auto;isolation:isolate}[tuiTabs]::-webkit-scrollbar,tui-tabs::-webkit-scrollbar,[tuiTabs]::-webkit-scrollbar-thumb,tui-tabs::-webkit-scrollbar-thumb{display:none}[tuiTabs][data-size=l]:not([data-vertical]),tui-tabs[data-size=l]:not([data-vertical]){block-size:var(--tui-height-l)}[tuiTabs][data-size=m]:not([data-vertical]),tui-tabs[data-size=m]:not([data-vertical]){block-size:var(--tui-height-m)}[tuiTabs]:before,tui-tabs:before{transition-property:width,left;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;left:var(--t-left);bottom:0;block-size:2px;inline-size:var(--t-width);background:var(--t-color);animation:tuiPresent 1ms}[tuiTabs]._underline:before,tui-tabs._underline:before{content:""}tui-tabs[data-vertical],[tuiTabs][data-vertical]{flex-direction:column;box-shadow:inset -1px 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab],[tuiTabs][data-vertical] [tuiTab]{min-block-size:2.75rem;block-size:auto;white-space:normal;margin:0;text-align:start;padding:.25rem 1.25rem .25rem 0}tui-tabs[data-vertical] [tuiTab]:after,[tuiTabs][data-vertical] [tuiTab]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;right:0;display:block;block-size:100%;inline-size:2px;background:var(--tui-background-accent-1);transform:scaleX(0);transform-origin:right;margin:0}tui-tabs[data-vertical] [tuiTab]:hover,[tuiTabs][data-vertical] [tuiTab]:hover{box-shadow:inset -2px 0 var(--tui-border-normal)}tui-tabs[data-vertical] [tuiTab]._active:after,[tuiTabs][data-vertical] [tuiTab]._active:after{transform:none}tui-tabs[data-vertical][data-size=m] [tuiTab],[tuiTabs][data-vertical][data-size=m] [tuiTab]{min-block-size:2.25rem;font:var(--tui-font-text-s)}tui-tabs[data-vertical][data-vertical=right],[tuiTabs][data-vertical][data-vertical=right]{box-shadow:inset 1px 0 var(--tui-border-normal)}tui-tabs[data-vertical][data-vertical=right] [tuiTab],[tuiTabs][data-vertical][data-vertical=right] [tuiTab]{text-align:end;padding:.25rem 0 .25rem 1.25rem}tui-tabs[data-vertical][data-vertical=right] [tuiTab]:after,[tuiTabs][data-vertical][data-vertical=right] [tuiTab]:after{right:auto;left:0;transform-origin:left}tui-tabs[data-vertical][data-vertical=right] [tuiTab]:hover,[tuiTabs][data-vertical][data-vertical=right] [tuiTab]:hover{box-shadow:inset 2px 0 var(--tui-border-normal)}\n'],encapsulation:2,changeDetection:0})}}return wt})(),Rn=(()=>{class wt{constructor(){this.el=(0,Qi.AG)(),this.injector=(0,t.f3M)(t.gxx),this.nothing=(0,R.__)(un),this.size=(0,t.f3M)(We).size,this.activeItemIndex=0,this.activeItemIndexChange=new t.vpe}get tabs(){return Array.from(this.el.querySelectorAll("[tuiTab]"))}get activeElement(){return this.tabs[this.activeItemIndex]||null}moveFocus(X,Yt){const{tabs:Te}=this;(0,Yi.VR)(Te.indexOf(X),Te,Yt)}ngAfterViewChecked(){(0,t.T8G)(()=>{this.markTabAsActive()},{injector:this.injector})}onActivate(X,Yt){const Te=this.tabs.findIndex(Cn=>Cn===Yt);X.stopPropagation(),Te!==this.activeItemIndex&&(this.activeItemIndexChange.emit(Te),this.activeItemIndex=Te)}markTabAsActive(){const{tabs:X,activeElement:Yt}=this;X.forEach(Te=>{const Cn=Te===Yt;Te.classList.toggle("_active",Cn),Te.setAttribute("tabIndex",Cn?"0":"-1")})}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275dir=t.lG2({type:wt,hostVars:1,hostBindings:function(Yt,Te){1&Yt&&t.NdJ("tui-tab-activate",function(di){return Te.onActivate(di,di.target)}),2&Yt&&t.uIk("data-size",Te.size)},inputs:{size:"size",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},standalone:!0})}}return wt})(),Fn=(()=>{class wt{constructor(){this.el=(0,Qi.AG)(),this.options=(0,t.f3M)(We),this.tabs=(0,t.f3M)(Rn),this.children=sn.Mm,this.sub=(0,t.f3M)(mi.IM,{self:!0}).pipe((0,Zi.fL)(),(0,e.sL)()).subscribe(()=>this.refresh()),this.underline=this.options.underline}ngAfterViewChecked(){this.scrollTo(this.tabs.activeItemIndex),this.refresh()}onKeyDownArrow(X,Yt){this.tabs.moveFocus(X,Yt)}refresh(){const{activeElement:X}=this.tabs;if(X&&!X.isConnected)return;const{offsetLeft:Yt=0,offsetWidth:Te=0}=X||{};this.el.style.setProperty("--t-left",(0,R.O9)(Yt)),this.el.style.setProperty("--t-width",(0,R.O9)(Te))}scrollTo(X){const Yt=this.tabs.tabs[X];if(!Yt)return;const{offsetLeft:Te,offsetWidth:Cn}=Yt;Te<this.el.scrollLeft&&(this.el.scrollLeft=Te),Te+Cn>this.el.scrollLeft+this.el.offsetWidth&&(this.el.scrollLeft=Te+Cn-this.el.offsetWidth)}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275dir=t.lG2({type:wt,selectors:[["tui-tabs",3,"vertical",""],["nav","tuiTabs","",3,"vertical",""]],contentQueries:function(Yt,Te,Cn){if(1&Yt&&t.Suo(Cn,bn,4),2&Yt){let di;t.iGM(di=t.CRH())&&(Te.children=di)}},hostVars:4,hostBindings:function(Yt,Te){1&Yt&&t.NdJ("animationend",function(){return Te.refresh()})("keydown.arrowRight.prevent",function(di){return Te.onKeyDownArrow(di.target,1)})("keydown.arrowLeft.prevent",function(di){return Te.onKeyDownArrow(di.target,-1)}),2&Yt&&(t.Udp("--t-color",!0===Te.underline?"var(--tui-background-accent-1)":Te.underline),t.ekj("_underline",Te.underline))},inputs:{underline:"underline"},standalone:!0,features:[t._Bn([mi.IM,{provide:mi.bq,useValue:{childList:!0,characterData:!0,subtree:!0}}]),t.zW0([{directive:Rn,inputs:["activeItemIndex","activeItemIndex","size","size"],outputs:["activeItemIndexChange","activeItemIndexChange"]}])]})}}return(0,U.gn)([R.UM],wt.prototype,"scrollTo",null),wt})();(0,R.JN)();function Ni(wt,nn){1&wt&&(t.ynx(0),t._uU(1,"\u20bd"),t.BQk())}function zi(wt,nn){1&wt&&(t.TgZ(0,"app-badge",12),t._uU(1,"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430"),t.qZA()),2&wt&&t.Q6J("status","error")}function Mo(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,zi,2,1,"app-badge",11),t.BQk()),2&wt){const X=nn.tuiLet,Yt=t.oxw();t.xp6(1),t.Q6J("ngIf",Yt.getFranchiseStatusIdFromVariant(X)&&Yt.statusFranchisePolicy===Yt.PolicyFranchiseStatus.NOT_ACTIVATED)}}function io(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"tui-tabs",13),t.NdJ("activeItemIndexChange",function(Te){t.CHM(X);const Cn=t.oxw();return t.KtG(Cn.activeTabIndex=Te)}),t.TgZ(1,"button",14),t._uU(2,"\u0414\u0430\u043d\u043d\u044b\u0435 \u041b\u041f\u0423"),t.qZA(),t.TgZ(3,"button",14),t._uU(4,"\u0414\u0430\u043d\u043d\u044b\u0435 \u041a\u043b\u0438\u0435\u043d\u0442\u0430 \u043f\u043e \u041b\u041f\u0423"),t.qZA()()}if(2&wt){const X=t.oxw();t.Q6J("activeItemIndex",X.activeTabIndex)("underline",!1)}}function qo(wt,nn){if(1&wt&&(t.TgZ(0,"p",21),t._uU(1),t._UZ(2,"button",26),t.qZA()),2&wt){const X=t.oxw(2);t.xp6(1),t.hij(" ",X.clinic.code," "),t.xp6(1),t.Q6J("dmsCopyToClipboard",X.clinic.code)}}function $o(wt,nn){1&wt&&(t.TgZ(0,"p",21),t._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA())}function tr(wt,nn){if(1&wt&&(t.TgZ(0,"div",15)(1,"p",16),t._uU(2),t.qZA(),t.TgZ(3,"p",21),t._uU(4),t._UZ(5,"button",27),t.qZA()()),2&wt){const X=t.oxw(2);t.xp6(2),t.Oqu("C\u0442\u0430\u0440\u044b\u0439 \u043a\u043e\u0434 \u041b\u041f\u0423"),t.xp6(2),t.hij(" ",X.clinic.oldCode," "),t.xp6(1),t.Q6J("dmsCopyToClipboard",X.clinic.oldCode)}}function mr(wt,nn){1&wt&&t.GkF(0)}function er(wt,nn){if(1&wt&&(t.TgZ(0,"div",15)(1,"p",16),t._uU(2),t.qZA(),t.TgZ(3,"p",21),t._uU(4),t.qZA()()),2&wt){const X=t.oxw(2);t.xp6(2),t.Oqu("\u041c\u041f \u0432 \u041b\u041f\u0423"),t.xp6(2),t.Oqu(X.clinic.profiles.join(", "))}}function po(wt,nn){1&wt&&t.GkF(0)}function Ti(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"div",21)(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"tui-icon",28),t.NdJ("click",function(Te){const di=t.CHM(X).ngIf,ro=t.oxw(3);return t.KtG(ro.callClinic(Te,di))}),t.qZA()()}if(2&wt){const X=nn.ngIf;t.xp6(2),t.Oqu(X),t.xp6(1),t.Q6J("dmsCopyToClipboard",X)}}function Wi(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Ti,4,2,"div",17),t.BQk()),2&wt){const X=nn.ngIf,Yt=t.oxw(2);let Te;t.xp6(1),t.Q6J("ngIf",X.reminderPhoneFull||Yt.getFirstPhoneNumber(X.phone)||Yt.getFirstPhoneNumber(null!==(Te=null==Yt.clinic.contacts.infoService?null:Yt.clinic.contacts.infoService.phone)&&void 0!==Te?Te:null))}}function so(wt,nn){1&wt&&(t.ynx(0),t.TgZ(1,"p",21),t._uU(2,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA(),t.BQk())}function Ko(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"div")(1,"div",21)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"tui-icon",28),t.NdJ("click",function(Te){const di=t.CHM(X).$implicit,ro=t.oxw(3);return t.KtG(ro.callClinic(Te,di.normalized))}),t.qZA()()()}if(2&wt){const X=nn.$implicit;t.xp6(3),t.Oqu(X.normalized),t.xp6(1),t.Q6J("dmsCopyToClipboard",X.normalized)}}function cr(wt,nn){1&wt&&(t.TgZ(0,"p",21),t._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA())}function Uo(wt,nn){if(1&wt&&(t.TgZ(0,"div",15)(1,"p",16),t._uU(2,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d / \u0424\u0430\u043a\u0441"),t.qZA(),t.TgZ(3,"div",29),t.YNc(4,Ko,5,2,"div",30),t.qZA(),t.YNc(5,cr,2,0,"p",17),t.qZA()),2&wt){const X=nn.tuiLet,Yt=t.oxw(2);t.ekj("empty",0===X.length),t.xp6(4),t.Q6J("ngForOf",Yt.getClinicContacts()),t.xp6(1),t.Q6J("ngIf",0===X.length)}}function bo(wt,nn){1&wt&&(t.TgZ(0,"p",21),t._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA())}function qi(wt,nn){1&wt&&t.GkF(0)}function xo(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"app-note",33),t.NdJ("callClinic",function(Te){t.CHM(X);const Cn=t.oxw(3);return t.KtG(Cn.callClinic(Te.event,Te.phone))}),t.qZA()}if(2&wt){const X=t.oxw().tuiLet;t.Q6J("contentData",X)}}function Lo(wt,nn){1&wt&&(t.TgZ(0,"p",21),t._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA())}function Fi(wt,nn){if(1&wt&&(t.TgZ(0,"div",31)(1,"div",16),t._uU(2,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),t.qZA(),t.YNc(3,xo,1,1,"app-note",32),t.YNc(4,Lo,2,0,"p",17),t.qZA()),2&wt){const X=nn.tuiLet;t.ekj("empty",!(null!=X&&X.description)),t.xp6(3),t.Q6J("ngIf",X&&X.description),t.xp6(1),t.Q6J("ngIf",!(null!=X&&X.description))}}function Go(wt,nn){if(1&wt&&(t.TgZ(0,"div",15)(1,"p",16),t._uU(2,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.qZA(),t.TgZ(3,"p",21),t._uU(4),t.qZA()()),2&wt){const X=t.oxw(2);t.xp6(4),t.Oqu(X.clinic.comment)}}(0,Xt.fx)({align:"right"});const gn=function(wt){return{label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u041b\u041f\u0423",value:wt}},Yn=function(wt){return{$implicit:wt}},te=function(wt){return{label:"\u0410\u0434\u0440\u0435\u0441",value:wt}},hn=function(wt){return{label:"\u0421\u0430\u0439\u0442",value:wt}};function In(wt,nn){if(1&wt){const X=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"p",16),t._uU(3,"\u041a\u043e\u0434 \u041b\u041f\u0423"),t.qZA(),t.YNc(4,qo,3,2,"p",17),t.YNc(5,$o,2,0,"p",17),t.qZA(),t.YNc(6,tr,6,3,"div",18),t.YNc(7,mr,1,0,"ng-container",19),t.YNc(8,er,5,2,"div",18),t.YNc(9,po,1,0,"ng-container",19),t.TgZ(10,"div",15)(11,"p",16),t._uU(12,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u0443\u0440\u044b"),t.qZA(),t.YNc(13,Wi,2,1,"ng-container",3),t.YNc(14,so,3,0,"ng-container",3),t.qZA(),t.YNc(15,Uo,6,4,"div",20),t.TgZ(16,"div",15)(17,"p",16),t._uU(18,"\u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u044b"),t.qZA(),t.TgZ(19,"p",21),t._uU(20),t.qZA(),t.YNc(21,bo,2,0,"p",17),t.qZA(),t.YNc(22,qi,1,0,"ng-container",19),t.YNc(23,Fi,5,4,"div",22),t.TgZ(24,"div",23)(25,"a",24),t.NdJ("click",function(){t.CHM(X);const Te=t.oxw();return t.KtG(Te.openClinicContactsDialog())}),t._uU(26," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f "),t._UZ(27,"tui-icon",25),t.qZA()(),t.YNc(28,Go,5,1,"div",18),t.BQk()}if(2&wt){const X=t.oxw(),Yt=t.MAs(18);t.xp6(4),t.Q6J("ngIf",X.clinic.code),t.xp6(1),t.Q6J("ngIf",!X.clinic.code),t.xp6(1),t.Q6J("ngIf",X.clinic.oldCode),t.xp6(1),t.Q6J("ngTemplateOutlet",Yt)("ngTemplateOutletContext",t.VKq(23,Yn,t.VKq(21,gn,X.clinic.status))),t.xp6(1),t.Q6J("ngIf",X.clinic.profiles),t.xp6(1),t.Q6J("ngTemplateOutlet",Yt)("ngTemplateOutletContext",t.VKq(27,Yn,t.VKq(25,te,X.clinic.address))),t.xp6(1),t.ekj("empty",!X.clinic.contacts),t.xp6(3),t.Q6J("ngIf",X.clinic.contacts.registry),t.xp6(1),t.Q6J("ngIf",!X.clinic.contacts),t.xp6(1),t.Q6J("tuiLet",X.getClinicContacts()),t.xp6(1),t.ekj("empty",!(null!=X.clinic.contacts.registry&&X.clinic.contacts.registry.registryTimesheet)),t.xp6(4),t.Oqu(null==X.clinic.contacts.registry?null:X.clinic.contacts.registry.registryTimesheet),t.xp6(1),t.Q6J("ngIf",!(null!=X.clinic.contacts.registry&&X.clinic.contacts.registry.registryTimesheet)),t.xp6(1),t.Q6J("ngTemplateOutlet",Yt)("ngTemplateOutletContext",t.VKq(31,Yn,t.VKq(29,hn,X.clinic.site))),t.xp6(1),t.Q6J("tuiLet",null==X.clinic.contacts.registry?null:X.clinic.contacts.registry.comment),t.xp6(5),t.Q6J("ngIf",X.clinic.comment)}}function ai(wt,nn){if(1&wt&&t._UZ(0,"app-clinic-details-variant",35),2&wt){const X=nn.ngIf,Yt=t.oxw(2);t.Q6J("clinic",Yt.clinic)("variants",Yt.clinic.variants)("statusFranchisePolicy",Yt.statusFranchisePolicy)("selectedVariant",X[0])("disableSwitch",Yt.clinic.isExcluded)}}function Bi(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,ai,1,5,"app-clinic-details-variant",34),t.ALo(2,"async"),t.BQk()),2&wt){const X=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,X.variantFilter$))}}function No(wt,nn){if(1&wt&&(t.TgZ(0,"a",40),t._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0438\u0441\u044c"),t.qZA()),2&wt){const X=t.oxw(2);t.Q6J("href",X.clinic.onlineClinicLink||null,t.LSH)}}function zo(wt,nn){1&wt&&(t.TgZ(0,"button",41),t._uU(1,"\u041e\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0438\u0441\u044c"),t.qZA()),2&wt&&t.Q6J("disabled",!0)}function ao(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"footer",36),t.YNc(1,No,2,1,"a",37),t.YNc(2,zo,2,1,"button",38),t.TgZ(3,"button",39),t.NdJ("click",function(){t.CHM(X);const Te=t.oxw();return t.KtG(Te.selectClinic())}),t._uU(4,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"),t.qZA()()}if(2&wt){const X=t.oxw();t.xp6(1),t.Q6J("ngIf",X.clinic.onlineClinicLink),t.xp6(1),t.Q6J("ngIf",!X.clinic.onlineClinicLink)}}function Me(wt,nn){if(1&wt&&(t.TgZ(0,"div",15)(1,"p",16),t._uU(2),t.qZA(),t.TgZ(3,"p",21),t._uU(4),t.qZA()()),2&wt){const X=t.oxw().$implicit;t.xp6(2),t.Oqu(X.label),t.xp6(2),t.Oqu(X.value)}}function Qn(wt,nn){if(1&wt&&(t.TgZ(0,"div",43)(1,"p",16),t._uU(2),t.qZA(),t.TgZ(3,"p",21),t._uU(4,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),t.qZA()()),2&wt){const X=t.oxw().$implicit;t.xp6(2),t.Oqu(X.label)}}function J(wt,nn){if(1&wt&&(t.YNc(0,Me,5,2,"div",18),t.YNc(1,Qn,5,1,"div",42)),2&wt){const X=nn.$implicit;t.Q6J("ngIf",X.value),t.xp6(1),t.Q6J("ngIf",!X.value)}}class Zt{constructor(nn,X){this.clinicService=nn,this.injector=X,this.PriorityToColor={},this.statusFranchisePolicy=null,this.selectedClinic=new t.vpe,this.callClinicEvent=new t.vpe,this.destroyRef=(0,t.f3M)(t.ktI),this.sheetService=(0,t.f3M)(M.q6),this.PolicyFranchiseStatus=_.lw,this.variantFilter$=this.clinicService.variantFilter$,this.activeTabIndex=0}getFranchiseStatusIdFromVariant(nn){const X=this.clinic.isFranchise?+le.RiskFranchiseStatus.AVAILABLE:+le.RiskFranchiseStatus.NOT_AVAILABLE;if(nn?.length&&this.clinic.variants.length){const Yt=nn[0].risks[0],Te=this.clinic.variants[0].risks.find(Cn=>Cn.code===Yt);if(Te)return Number(Te.franchiseStatusId)}return X}get priorityColor(){return this.PriorityToColor[Number(this.clinic.priority)]}selectClinic(){this.selectedClinic.emit(this.clinic)}callClinic(nn,X){nn.preventDefault(),this.callClinicEvent.emit({clinic:this.clinic,phone:X})}getClinicContacts(){return this.clinic.contacts.registry?.phone?.map(nn=>nn.phoneNumbers).flat()??[]}getFirstPhoneNumber(nn){const X=nn?.map(Yt=>Yt.phoneNumbers).flat();return X&&X.length>0?X[0].normalized:null}openClinicContactsDialog(){this.sheetService.open(new g.Al($e,this.injector),{header:new g.Al(re,this.injector),data:this.clinic,dismissible:!1,closeable:!0}).pipe((0,e.sL)(this.destroyRef)).subscribe()}static{this.\u0275fac=function(X){return new(X||Zt)(t.Y36(Li),t.Y36(t.zs3))}}static{this.\u0275cmp=t.Xpm({type:Zt,selectors:[["app-clinic-details-card"]],inputs:{PriorityToColor:"PriorityToColor",statusFranchisePolicy:"statusFranchisePolicy",clinic:"clinic"},outputs:{selectedClinic:"selectedClinic",callClinicEvent:"callClinicEvent"},standalone:!0,features:[t.jDz],decls:19,vars:13,consts:[["dmsDynamicHeightEl","",1,"clinic-header"],[1,"clinic-header__title"],[1,"clinic-rating-icon"],[4,"ngIf"],[3,"routerLink"],[4,"tuiLet"],[1,"clinic-rating-text"],[3,"activeItemIndex","underline","activeItemIndexChange",4,"ngIf"],[1,"clinic-content"],["class","clinic-footer",4,"ngIf"],["row",""],[3,"status",4,"ngIf"],[3,"status"],[3,"activeItemIndex","underline","activeItemIndexChange"],["tuiTab",""],[1,"clinic-content__row"],[1,"clinic-content__label"],["class","clinic-content__value",4,"ngIf"],["class","clinic-content__row",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","clinic-content__row",3,"empty",4,"tuiLet"],[1,"clinic-content__value"],["class","clinic-content__column",3,"empty",4,"tuiLet"],[1,"clinic-content__contacts","clinic-content__row"],["tuiLink","",3,"click"],["icon","appIconArrowRight"],["tuiIconButton","","iconStart","@tui.copy","size","xs","appearance","action-grayscale","notificationText","\u041a\u043e\u0434 \u041b\u041f\u0423 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",3,"dmsCopyToClipboard"],["tuiIconButton","","iconStart","@tui.copy","appearance","action-grayscale","size","xs","notificationText","C\u0442\u0430\u0440\u044b\u0439 \u043a\u043e\u0434 \u041b\u041f\u0423 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",3,"dmsCopyToClipboard"],["icon","@tui.copy","notificationText","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u041b\u041f\u0423 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d",1,"copy-icon",3,"dmsCopyToClipboard","click"],[1,"clinic-content-phones"],[4,"ngFor","ngForOf"],[1,"clinic-content__column"],[3,"contentData","callClinic",4,"ngIf"],[3,"contentData","callClinic"],[3,"clinic","variants","statusFranchisePolicy","selectedVariant","disableSwitch",4,"ngIf"],[3,"clinic","variants","statusFranchisePolicy","selectedVariant","disableSwitch"],[1,"clinic-footer"],["target","_blank","tuiButton","","size","m","appearance","secondary","type","button",3,"href",4,"ngIf"],["tuiButton","","size","m","appearance","secondary","type","button",3,"disabled",4,"ngIf"],["tuiButton","","type","submit","size","m","appearance","primary",3,"click"],["target","_blank","tuiButton","","size","m","appearance","secondary","type","button",3,"href"],["tuiButton","","size","m","appearance","secondary","type","button",3,"disabled"],["class","clinic-content__row empty",4,"ngIf"],[1,"clinic-content__row","empty"]],template:function(X,Yt){1&X&&(t.TgZ(0,"header",0)(1,"h4",1)(2,"span",2)(3,"strong"),t.YNc(4,Ni,2,0,"ng-container",3),t.qZA()(),t.TgZ(5,"a",4),t._uU(6),t.qZA(),t.YNc(7,Mo,2,1,"ng-container",5),t.ALo(8,"async"),t.TgZ(9,"p",6),t._uU(10),t.qZA()(),t.YNc(11,io,5,2,"tui-tabs",7),t.qZA(),t.TgZ(12,"tui-scrollbar")(13,"section",8),t.YNc(14,In,29,33,"ng-container",3),t.YNc(15,Bi,3,3,"ng-container",3),t.qZA()(),t.YNc(16,ao,5,2,"footer",9),t.YNc(17,J,2,2,"ng-template",null,10,t.W1O)),2&X&&(t.xp6(2),t.Udp("background-color",Yt.priorityColor),t.xp6(2),t.Q6J("ngIf",Yt.clinic.isFranchise),t.xp6(1),t.Q6J("routerLink",null),t.xp6(1),t.Oqu(Yt.clinic.name),t.xp6(1),t.Q6J("tuiLet",t.lcZ(8,11,Yt.variantFilter$)),t.xp6(3),t.Oqu(Yt.clinic.rating),t.xp6(1),t.Q6J("ngIf",Yt.clinic.variants.length),t.xp6(3),t.Q6J("ngIf",0===Yt.activeTabIndex),t.xp6(1),t.Q6J("ngIf",1===Yt.activeTabIndex),t.xp6(1),t.Q6J("ngIf",!Yt.clinic.isExcluded))},dependencies:[M.cd,a.rH,_.FN,bn,Fn,O.D1,T.O5,T.tP,h.i,tn,T.Ov,T.sg,Q.xG,M.fT,Ot.R,Ft.lI,_.KC],styles:["tui-tabs[_ngcontent-%COMP%]{--tui-height-l: 56px;padding-top:16px;overflow:hidden;box-shadow:none}tui-tabs[_ngcontent-%COMP%]   [tuiTab][_ngcontent-%COMP%]{--tui-tab-margin: 0;--tui-text-primary: var(--tui-background-accent-opposite-pressed);border-radius:var(--tui-radius-l);background-color:var(--tui-background-base-alt);color:var(--tui-background-accent-opposite-pressed);transition-property:background-color,background-image,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;padding:8px 24px;width:100%;justify-content:center;flex-shrink:1;font:var(--tui-font-heading-4);white-space:nowrap;cursor:pointer}tui-tabs[_ngcontent-%COMP%]   [tuiTab][_ngcontent-%COMP%]:focus{color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite);border:none}tui-tabs[_ngcontent-%COMP%]   [tuiTab][_ngcontent-%COMP%]:focus   .badge[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-base)}tui-tabs[_ngcontent-%COMP%]   [tuiTab]._active[_ngcontent-%COMP%]{--tui-text-primary: var(--tui-background-base);color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite)}[_nghost-%COMP%]{padding-bottom:8px;display:flex;width:100%;height:100%;flex-direction:column}.clinic-header[_ngcontent-%COMP%]{padding:12px 12px 16px}.clinic-header__title[_ngcontent-%COMP%]{margin:0;padding:0 56px;min-height:42px;text-align:center}.clinic-header__title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:0;display:block}.clinic-header__title[_ngcontent-%COMP%]   app-badge[_ngcontent-%COMP%]{margin:6px 0}.clinic-header[_ngcontent-%COMP%]   .clinic-rating-text[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-text-s);color:var(--tui-text-secondary)}.clinic-header[_ngcontent-%COMP%]   .clinic-rating-icon[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;display:flex;width:36px;height:36px;justify-content:center;align-items:center;color:var(--tui-background-base);background-color:#ff0500;border-radius:50%}.clinic-header[_ngcontent-%COMP%]   .clinic-rating-icon[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:flex;width:16px;height:16px;justify-content:center;align-items:center;font-size:14px;line-height:1;font-weight:400;color:var(--tui-background-base);background-color:#333c;border-radius:50%}tui-scrollbar[_ngcontent-%COMP%]{max-height:calc(100vh - var(--header-height) - 148px)}.clinic-content[_ngcontent-%COMP%]{padding:0 8px;font:var(--tui-font-text-s);color:var(--tui-text-primary)}.clinic-content__contacts[_ngcontent-%COMP%]{height:80px;justify-content:center;align-items:center}.clinic-content__row[_ngcontent-%COMP%]{margin:0 0 4px;padding:10px 12px;display:flex;min-height:40px;background-color:var(--tui-background-base-alt);border-radius:8px}.clinic-content__row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.clinic-content__row.empty[_ngcontent-%COMP%]{color:var(--empty-text);background-color:var(--arm-empty-background)}.clinic-content__column[_ngcontent-%COMP%]{margin:0 0 4px;padding:12px;background-color:var(--tui-background-base-alt);border-radius:8px}.clinic-content__column.empty[_ngcontent-%COMP%]{color:var(--empty-text);background-color:var(--arm-empty-background)}.clinic-content__label[_ngcontent-%COMP%]{margin:0;min-width:166px;color:var(--tui-background-accent-opposite-pressed)}.clinic-content__workingTime[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-wrap:wrap;list-style:none}.clinic-content__workingTime[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.clinic-content__workingTime[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tui-background-accent-opposite-pressed)}.clinic-content__value[_ngcontent-%COMP%]{margin:0;display:flex;width:100%;justify-content:space-between}.clinic-content[_ngcontent-%COMP%]   tui-select[_ngcontent-%COMP%]{margin:0 0 4px}.clinic-content-phones[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;row-gap:6px}.clinic-content-phones[_ngcontent-%COMP%]   .clinic-content__value[_ngcontent-%COMP%]{column-gap:8px}.clinic-footer[_ngcontent-%COMP%]{padding:12px 12px 4px;display:grid;grid-auto-flow:column;grid-auto-columns:222px;grid-gap:0 12px}.clinic-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:400}.badge[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-accent-1);--badge-color: var(--tui-background-accent-1);display:inline-block;padding:0 4px;font:var(--tui-font-text-xs);color:var(--badge-text-color);border:1px solid var(--badge-color);border-radius:var(--tui-radius-l)}.badge.warning[_ngcontent-%COMP%]{color:var(--tui-text-negative);border-color:var(--tui-text-negative)}.copy-icon[_ngcontent-%COMP%]{color:var(--dms-icon-primary-color);cursor:pointer}"],changeDetection:0})}}(0,U.gn)([R.UM],Zt.prototype,"getFranchiseStatusIdFromVariant",null),(0,U.gn)([R.UM],Zt.prototype,"priorityColor",null),(0,U.gn)([R.UM],Zt.prototype,"getClinicContacts",null),(0,U.gn)([R.UM],Zt.prototype,"getFirstPhoneNumber",null);class Et{constructor(){this.typesAssistanceDictionary=new _.Iu(Hn.U.MA_TYPE),this.departmentsDictionary=new _.ST(Hn.U.LPU_DEPARTMENT),this.specialtiesDictionary=new _.ST(Hn.U.SPECIALIZATION),this.diagnosticsDictionary=new _.ST(Hn.U.DIAGNOSTIC_TYPE),this.ratingsDictionary=new _.Mb(Hn.U.LPU_RATING)}get departments$(){return this.departmentsDictionary.simpleDictItems$}get diagnostics$(){return this.diagnosticsDictionary.simpleDictItems$}get specialties$(){return this.specialtiesDictionary.simpleDictItems$}get typesAssistance$(){return(0,wi.a)([this.typesAssistanceDictionary.simpleDictItems$.pipe((0,st.U)(nn=>nn.map(({value:X,uid:Yt,code:Te})=>({uid:Yt,code:Te,name:X})))),this.typesAssistanceDictionary.isLoading$,this.typesAssistanceDictionary.error$]).pipe((0,st.U)(([nn,X,Yt])=>({isLoading:X,error:Yt,data:nn})))}get clinicRatings$(){return this.ratingsDictionary.simpleDictItems$}get priorityToColor$(){return this.clinicRatings$.pipe((0,Zn.h)(nn=>!!nn),(0,st.U)(nn=>Object.fromEntries(nn.map(X=>[X.priority,X.color]))))}init(){this.ratingsDictionary.init(),this.typesAssistanceDictionary.init(),this.departmentsDictionary.init(),this.diagnosticsDictionary.init(),this.specialtiesDictionary.init()}static{this.\u0275fac=function(X){return new(X||Et)}}static{this.\u0275prov=t.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}}function on(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"app-clinic-details-card",5),t.NdJ("selectedClinic",function(Te){t.CHM(X);const Cn=t.oxw(3);return t.KtG(Cn.selectClinic(Te))})("callClinicEvent",function(Te){t.CHM(X);const Cn=t.oxw(3);return t.KtG(Cn.callClinic(Te))}),t.ALo(1,"async"),t.qZA()}if(2&wt){const X=nn.ngIf,Yt=t.oxw(2).ngIf,Te=t.oxw();t.Q6J("clinic",Yt.data)("PriorityToColor",X)("statusFranchisePolicy",t.lcZ(1,3,Te.statusFranchisePolicy$))}}function ii(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,on,2,5,"app-clinic-details-card",4),t.ALo(2,"async"),t.BQk()),2&wt){const X=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,X.PriorityToColor$))}}function Si(wt,nn){1&wt&&t._UZ(0,"dms-loader",6)}function Oo(wt,nn){1&wt&&t._UZ(0,"app-data-fetch-error")}function rr(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"dms-island",1),t.NdJ("closed",function(){t.CHM(X);const Te=t.oxw();return t.KtG(Te.deselected.emit())}),t.YNc(1,ii,3,3,"ng-container",2),t.YNc(2,Si,1,0,"dms-loader",3),t.YNc(3,Oo,1,0,"app-data-fetch-error",2),t.qZA()}if(2&wt){const X=nn.ngIf;t.xp6(1),t.Q6J("ngIf",X.data),t.xp6(1),t.Q6J("ngIf",X.isLoading),t.xp6(1),t.Q6J("ngIf",X.error)}}(0,U.gn)([R.UM],Et.prototype,"departments$",null),(0,U.gn)([R.UM],Et.prototype,"diagnostics$",null),(0,U.gn)([R.UM],Et.prototype,"specialties$",null),(0,U.gn)([R.UM],Et.prototype,"typesAssistance$",null),(0,U.gn)([R.UM],Et.prototype,"clinicRatings$",null),(0,U.gn)([R.UM],Et.prototype,"priorityToColor$",null);let jo=(()=>{class wt{constructor(X,Yt,Te){this.statusFranchisePolicy$=X,this.clinicDetailsStore=Yt,this.clinicDictionaryService=Te,this.deselected=new t.vpe,this.selectedClinic=new t.vpe,this.callClinicEvent=new t.vpe,this.PriorityToColor$=this.clinicDictionaryService.priorityToColor$,this.clinic$=this.clinicDetailsStore.clinicDetails$}set guid(X){X&&this.clinicDetailsStore.fetchClinic(X)}selectClinic(X){this.selectedClinic.emit(X)}callClinic(X){this.callClinicEvent.emit(X)}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(_.mM),t.Y36(Ut),t.Y36(Et))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-details"]],inputs:{guid:"guid"},outputs:{deselected:"deselected",selectedClinic:"selectedClinic",callClinicEvent:"callClinicEvent"},standalone:!0,features:[t._Bn([Ut]),t.jDz],decls:2,vars:3,consts:[[3,"closed",4,"ngIf"],[3,"closed"],[4,"ngIf"],["size","s",4,"ngIf"],[3,"clinic","PriorityToColor","statusFranchisePolicy","selectedClinic","callClinicEvent",4,"ngIf"],[3,"clinic","PriorityToColor","statusFranchisePolicy","selectedClinic","callClinicEvent"],["size","s"]],template:function(Yt,Te){1&Yt&&(t.YNc(0,rr,4,3,"dms-island",0),t.ALo(1,"async")),2&Yt&&t.Q6J("ngIf",t.lcZ(1,1,Te.clinic$))},dependencies:[_.ag,T.Ov,T.O5,M.Ph,M.gK,Zt],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   dms-island[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;min-height:300px}"],changeDetection:0})}}return wt})();var Nr=o(4767),Io=o(5375),_e=o(8337);let W=(()=>{class wt extends it.m1{constructor(){super({ratingSelectionModel:new _e.Ov(!0,[],!0),priorities:[]}),this.ratingSelectionModel$=this.select(X=>X.ratingSelectionModel),this.changedRatingSelectionModel$=this.ratingSelectionModel$.pipe((0,It.w)(X=>X.changed),(0,C.R)(this.destroy$),(0,Jn.b)(450)),this.setPriorities=this.updater((X,Yt)=>({...X,priorities:Yt.map(Te=>Te.priority)})),this.setSelected=this.effect(X=>X.pipe((0,ln.IC)(()=>this.ratingSelectionModel$),(0,v.b)(([Yt,Te])=>Te.setSelection(...Yt)))),this.toggleAllRow=this.effect(X=>X.pipe((0,ln.IC)(()=>this.state$),(0,v.b)(([,{priorities:Yt,ratingSelectionModel:Te}])=>{Te.selected.length!==Yt.length?Te.setSelection(...Yt):Te.clear()})))}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac})}}return wt})();function rt(wt,nn){if(1&wt&&(t.TgZ(0,"button",4),t._uU(1," \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041b\u041f\u0423 "),t.qZA()),2&wt){const X=nn.tuiLet;t.ekj("applied",X),t.Q6J("iconStart",X?"@tui.check":"")}}function zt(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"li")(1,"label",6)(2,"input",9),t.NdJ("ngModelChange",function(){const Cn=t.CHM(X).$implicit,di=t.oxw(3).ngIf;return t.KtG(di.toggle(Cn.priority))}),t.qZA(),t.TgZ(3,"span",10),t._UZ(4,"span"),t._uU(5),t.qZA()()()}if(2&wt){const X=nn.$implicit,Yt=t.oxw(3).ngIf;t.xp6(2),t.Q6J("ngModel",Yt.isSelected(X.priority)),t.xp6(2),t.Udp("background-color",X.color),t.xp6(1),t.hij(" ",X.rating," ")}}function pe(wt,nn){if(1&wt){const X=t.EpF();t.ynx(0),t.TgZ(1,"ul",5)(2,"li")(3,"label",6)(4,"input",7),t.NdJ("change",function(Te){t.CHM(X);const Cn=t.oxw(3);return t.KtG(Te?Cn.toggleAllRows():null)}),t.qZA(),t._uU(5," \u0412\u0441\u0435 "),t.qZA()(),t.YNc(6,zt,6,4,"li",8),t.qZA(),t.BQk()}if(2&wt){const X=nn.ngIf,Yt=t.oxw(2).ngIf;t.xp6(4),t.Q6J("ngModel",Yt.selected.length===X.length),t.xp6(2),t.Q6J("ngForOf",X)}}function Be(wt,nn){if(1&wt&&t.YNc(0,pe,7,2,"ng-container",0),2&wt){const X=t.oxw(2);t.Q6J("ngIf",X._clinicRatings)}}function On(wt,nn){if(1&wt&&(t.ynx(0),t.TgZ(1,"div",1),t.YNc(2,rt,2,3,"button",2),t.YNc(3,Be,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.BQk()),2&wt){const X=nn.ngIf,Yt=t.MAs(4);t.xp6(1),t.Q6J("tuiDropdown",Yt)("tuiDropdownMaxHeight",697),t.xp6(1),t.Q6J("tuiLet",X.selected.length>0)}}let Sn=(()=>{class wt{set clinicRatings(X){X&&this.clinicFilterRatingStore.setPriorities(X),this._clinicRatings=X}constructor(X){this.clinicFilterRatingStore=X,this.onTouchedFn=null}registerOnChange(X){this.clinicFilterRatingStore.changedRatingSelectionModel$.subscribe(Yt=>X(Yt.source.selected))}registerOnTouched(X){this.onTouchedFn=X}writeValue(X){X?.length?this.clinicFilterRatingStore.setSelected(X):this.clinicFilterRatingStore.toggleAllRow()}toggleAllRows(){this.clinicFilterRatingStore.toggleAllRow()}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(W))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-filter-rating"]],inputs:{clinicRatings:"clinicRatings"},standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0},W]),t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["tuiDropdownOpen","","tuiDropdownAppearance","cloud",3,"tuiDropdown","tuiDropdownMaxHeight"],["tuiButton","","size","xs","appearance","filter","type","button",3,"iconStart","applied",4,"tuiLet"],["content",""],["tuiButton","","size","xs","appearance","filter","type","button",3,"iconStart"],[1,"clinic-filter-rating"],[1,"clinic-filter-rating__label"],["tuiSwitch","","type","checkbox","size","s",1,"clinic-filter-rating__toggle",3,"ngModel","change"],[4,"ngFor","ngForOf"],["tuiSwitch","","type","checkbox","size","s",1,"clinic-filter-rating__toggle",3,"ngModel","ngModelChange"],[1,"clinic-filter-rating__indicator"]],template:function(Yt,Te){1&Yt&&(t.YNc(0,On,5,3,"ng-container",0),t.ALo(1,"async")),2&Yt&&t.Q6J("ngIf",t.lcZ(1,1,Te.clinicFilterRatingStore.ratingSelectionModel$))},dependencies:[Xt.Ek,Xt.td,Xt.Bb,T.Ov,h.i,Io.AE,oe.u5,oe.Wl,oe.JJ,oe.On,T.sg,T.O5,Q.xG],styles:['.clinic-filter-rating[_ngcontent-%COMP%]{margin:0;padding:12px 16px;list-style:none}.clinic-filter-rating__label[_ngcontent-%COMP%]{cursor:pointer}.clinic-filter-rating__indicator[_ngcontent-%COMP%]{position:relative;padding-left:24px;display:inline-block}.clinic-filter-rating__indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;width:16px;height:16px;content:"";background-color:#ff0500;border-radius:50%;transform:translateY(-50%)}.clinic-filter-rating__toggle[_ngcontent-%COMP%]{margin-right:8px;--tui-border-normal: #dad6d6}.clinic-filter-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;display:block}.clinic-filter-rating[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}'],changeDetection:0})}}return wt})();var Gn=o(8651);function ni(wt,nn){if(1&wt&&(t.TgZ(0,"button",3),t._uU(1),t.qZA()),2&wt){const X=nn.tuiLet,Yt=t.oxw();t.ekj("applied",X),t.Q6J("iconStart",X?"@tui.check":""),t.xp6(1),t.hij(" ",Yt.labelText," ")}}function Lt(wt,nn){if(1&wt&&(t.TgZ(0,"button",12),t._uU(1),t.qZA()),2&wt){const X=nn.$implicit;t.Q6J("value",X.code),t.xp6(1),t.hij(" ",X.name," ")}}function $t(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Lt,2,2,"button",11),t.BQk()),2&wt){const X=nn.tuiLet;t.xp6(1),t.Q6J("ngForOf",X)}}function mt(wt,nn){if(1&wt&&(t.TgZ(0,"tui-data-list"),t.YNc(1,$t,2,1,"ng-container",10),t.ALo(2,"tuiHideSelected"),t.qZA()),2&wt){const X=t.oxw().tuiLet,Yt=t.oxw().ngIf,Te=t.oxw(2);t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,1,Te.filter(Yt,X)))}}function ue(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"tui-multi-select",8),t.NdJ("ngModelChange",function(Te){t.CHM(X);const Cn=t.oxw(3);return t.KtG(Cn.changedTypes(Te))})("searchChange",function(Te){t.CHM(X);const Cn=t.oxw(3);return t.KtG(Cn.changedSearch(Te))}),t._uU(1),t.YNc(2,mt,3,3,"tui-data-list",9),t.qZA()}if(2&wt){const X=t.oxw(3);t.Q6J("tuiTextfieldCleaner",!0)("ngModel",X.typesSelectionModel.selected)("editable",!0)("stringify",X.stringify)("rows",10)("identityMatcher",X.identifyMatcher),t.xp6(1),t.hij(" ",X.labelText," ")}}function He(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"label",15),t._uU(1),t.TgZ(2,"input",16),t.NdJ("ngModelChange",function(){const Cn=t.CHM(X).$implicit,di=t.oxw(4);return t.KtG(di.typesSelectionModel.select(Cn.code))}),t.qZA()()}if(2&wt){const X=nn.$implicit,Yt=t.oxw(4);t.ekj("active",Yt.typesSelectionModel.isSelected(X.code)),t.xp6(1),t.hij(" ",X.name," "),t.xp6(1),t.Q6J("ngModel",Yt.typesSelectionModel.isSelected(X.code))}}function ci(wt,nn){if(1&wt&&(t.TgZ(0,"div",13),t.YNc(1,He,3,4,"label",14),t.qZA()),2&wt){const X=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",X.popularTypes)}}function Hi(wt,nn){if(1&wt&&(t.TgZ(0,"div",5),t.YNc(1,ue,3,7,"tui-multi-select",6),t.ALo(2,"async"),t.YNc(3,ci,2,1,"div",7),t.qZA()),2&wt){const X=t.oxw(2);t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,2,X.search$)),t.xp6(2),t.Q6J("ngIf",X.popularTypes.length>0)}}function So(wt,nn){if(1&wt&&t.YNc(0,Hi,4,4,"div",4),2&wt){const X=t.oxw();t.Q6J("ngIf",X._typesState)}}class Co{constructor(){this.labelText="",this.search=new Ae.X(null),this.search$=this.search.asObservable().pipe((0,Jn.b)(300)),this.typesSelectionModel=new _e.Ov(!0,[],!0),this.popularTypes=[],this.CodeToName=new Map,this.destroyRef=(0,t.f3M)(t.ktI),this.onTouchedFn=null,this.identifyMatcher=(nn,X)=>nn===X.code,this.stringify=nn=>this.CodeToName&&this.CodeToName.get(nn)||""}set typesState(nn){this._typesState=nn,nn&&(this.popularTypes=[],this.CodeToName=new Map,nn.forEach(X=>{this.CodeToName.set(X.code,X.name),X.isPopular&&this.popularTypes.push(X)}))}filter(nn,X){return nn.filter(Yt=>(0,sn.LQ)(Yt.name,X||""))}changedSearch(nn){this.search.next(nn)}registerOnChange(nn){this.typesSelectionModel.changed.pipe((0,e.sL)(this.destroyRef),(0,Jn.b)(450)).subscribe(X=>nn(X.source.selected.length>0?X.source.selected:void 0))}registerOnTouched(nn){this.onTouchedFn=nn}writeValue(nn){nn&&this.typesSelectionModel.setSelection(...nn)}changedTypes(nn){this.typesSelectionModel.setSelection(...nn)}ngOnDestroy(){this.search.complete()}static{this.\u0275fac=function(X){return new(X||Co)}}static{this.\u0275cmp=t.Xpm({type:Co,selectors:[["app-clinic-filter-specific-type"]],inputs:{labelText:"labelText",typesState:"typesState"},standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>Co),multi:!0}]),t.jDz],decls:4,vars:3,consts:[["tuiDropdownOpen","","tuiDropdownAppearance","cloud",3,"tuiDropdown","tuiDropdownMaxHeight"],["tuiButton","","size","xs","appearance","filter","type","button",3,"iconStart","applied",4,"tuiLet"],["content",""],["tuiButton","","size","xs","appearance","filter","type","button",3,"iconStart"],["class","clinic-filter-specific-type",4,"ngIf"],[1,"clinic-filter-specific-type"],["class","b-form","tuiTextfieldIconLeft","@tui.search",3,"tuiTextfieldCleaner","ngModel","editable","stringify","rows","identityMatcher","ngModelChange","searchChange",4,"tuiLet"],["class","clinic-filter-specific-type__buttons",4,"ngIf"],["tuiTextfieldIconLeft","@tui.search",1,"b-form",3,"tuiTextfieldCleaner","ngModel","editable","stringify","rows","identityMatcher","ngModelChange","searchChange"],[4,"tuiDataList"],[4,"tuiLet"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"],[1,"clinic-filter-specific-type__buttons"],["class","clinic-filter-specific-type-button",3,"active",4,"ngFor","ngForOf"],[1,"clinic-filter-specific-type-button"],["type","checkbox",1,"visually-hidden",3,"ngModel","ngModelChange"]],template:function(X,Yt){if(1&X&&(t.TgZ(0,"div",0),t.YNc(1,ni,2,4,"button",1),t.qZA(),t.YNc(2,So,1,1,"ng-template",null,2,t.W1O)),2&X){const Te=t.MAs(3);t.Q6J("tuiDropdown",Te)("tuiDropdownMaxHeight",697),t.xp6(1),t.Q6J("tuiLet",Yt.typesSelectionModel.selected.length>0)}},dependencies:[Xt.Ek,Xt.td,Xt.Bb,h.i,T.O5,Gn.lm,Gn.VT,Gn.E6,Gn.bJ,Qe.qi,Qe.gX,Qe.bH,En.cn,En.be,En.aR,oe.u5,oe.Wl,oe.JJ,oe.On,T.sg,T.Ov,Q.xG],styles:[".clinic-filter-specific-type[_ngcontent-%COMP%]{padding:12px;width:534px}.clinic-filter-specific-type__buttons[_ngcontent-%COMP%]{padding-top:12px;display:flex;flex-wrap:wrap;gap:8px}.clinic-filter-specific-type-button[_ngcontent-%COMP%]{border-radius:var(--tui-radius-l);background-color:var(--tui-background-base-alt);color:var(--tui-background-accent-opposite-pressed);transition-property:background-color,background-image,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;cursor:pointer;padding:6px 16px}.clinic-filter-specific-type-button[_ngcontent-%COMP%]:focus{color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite);border:none}.clinic-filter-specific-type-button[_ngcontent-%COMP%]:focus   .badge[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-base)}.clinic-filter-specific-type-button.active[_ngcontent-%COMP%]{color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite)}.clinic-filter-specific-type-button[_ngcontent-%COMP%]   .visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}"],changeDetection:0})}}function Xo(wt,nn){1&wt&&t._UZ(0,"tui-icon",11)}function nr(wt,nn){1&wt&&t._UZ(0,"app-clinic-filter-rating",12),2&wt&&t.Q6J("clinicRatings",nn.ngIf)}function Lr(wt,nn){1&wt&&t._UZ(0,"app-clinic-filter-specific-type",13),2&wt&&t.Q6J("typesState",nn.ngIf)}function dr(wt,nn){if(1&wt&&(t.ynx(0),t._UZ(1,"app-clinic-filter-specific-type",14),t.BQk()),2&wt){const X=nn.ngIf;t.xp6(1),t.Q6J("typesState",X)}}function lr(wt,nn){1&wt&&t._UZ(0,"app-clinic-filter-specific-type",15),2&wt&&t.Q6J("typesState",nn.ngIf)}function fr(wt,nn){1&wt&&(t.TgZ(0,"label",7),t._UZ(1,"input",16),t._uU(2," \u041f\u0440\u044f\u043c\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f "),t.qZA())}function Or(wt,nn){1&wt&&(t.TgZ(0,"label",7),t._UZ(1,"input",17),t._uU(2," \u0418\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0444\u0440\u0430\u043d\u0448\u0438\u0437\u043d\u044b\u0435 "),t.qZA())}function Fe(wt,nn){1&wt&&(t.TgZ(0,"label",7),t._UZ(1,"input",18),t._uU(2," \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0435 "),t.qZA())}(0,U.gn)([R.UM],Co.prototype,"filter",null);let cn=(()=>{class wt{constructor(X,Yt){this.dictionaryService=X,this.clinicService=Yt,this.openedRequiredFilter=new t.vpe,this.clinicRatingsDictionary$=this.dictionaryService.clinicRatings$,this.departmentsDictionary$=this.dictionaryService.departments$,this.diagnostics$=this.dictionaryService.diagnostics$,this.specialties$=this.dictionaryService.specialties$,this.mainFilter$=(0,M.UD)(this.clinicService.mainControl),this.filterForm=this.clinicService.filterForm,this.ClinicSources=bt}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(Et),t.Y36(Li))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-header"]],outputs:{openedRequiredFilter:"openedRequiredFilter"},standalone:!0,features:[t.jDz],decls:20,vars:19,consts:[[1,"clinic-header",3,"formGroup"],["tuiButton","","size","xs","iconStart","@tui.check","appearance","filter","type","button",1,"applied",3,"click"],["icon","@tui.warning",4,"ngIf"],["formControlName","priorities",3,"clinicRatings",4,"ngIf"],["formControlName","departmentTypeIds","labelText","\u0412\u0438\u0434 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u044f",3,"typesState",4,"ngIf"],[4,"ngIf"],["formControlName","doctorSpecialtyIds","labelText","\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0440\u0430\u0447\u0430",3,"typesState",4,"ngIf"],[1,"filter-toggle"],["tuiCheckbox","","type","checkbox","size","m","formControlName","onlineClinic"],[1,"toggle-group"],["class","filter-toggle",4,"ngIf"],["icon","@tui.warning"],["formControlName","priorities",3,"clinicRatings"],["formControlName","departmentTypeIds","labelText","\u0412\u0438\u0434 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u044f",3,"typesState"],["formControlName","diagnosticTypeIds","labelText","\u0412\u0438\u0434 \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438",3,"typesState"],["formControlName","doctorSpecialtyIds","labelText","\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0440\u0430\u0447\u0430",3,"typesState"],["tuiCheckbox","","type","checkbox","size","m","formControlName","withDirectAccess"],["tuiCheckbox","","type","checkbox","size","m","formControlName","withFranchise"],["tuiCheckbox","","type","checkbox","size","m","formControlName","withExcluded"]],template:function(Yt,Te){if(1&Yt&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return Te.openedRequiredFilter.emit()}),t._uU(2," \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b "),t.YNc(3,Xo,1,0,"tui-icon",2),t.ALo(4,"async"),t.qZA(),t.YNc(5,nr,1,1,"app-clinic-filter-rating",3),t.ALo(6,"async"),t.YNc(7,Lr,1,1,"app-clinic-filter-specific-type",4),t.ALo(8,"async"),t.YNc(9,dr,2,1,"ng-container",5),t.ALo(10,"async"),t.YNc(11,lr,1,1,"app-clinic-filter-specific-type",6),t.ALo(12,"async"),t.TgZ(13,"label",7),t._UZ(14,"input",8),t._uU(15," \u041e\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0438\u0441\u044c "),t.qZA(),t.TgZ(16,"div",9),t.YNc(17,fr,3,0,"label",10),t.YNc(18,Or,3,0,"label",10),t.YNc(19,Fe,3,0,"label",10),t.qZA()()),2&Yt){let Cn;t.Q6J("formGroup",Te.filterForm),t.xp6(3),t.Q6J("ngIf",(null==(Cn=t.lcZ(4,9,Te.mainFilter$))?null:Cn.source)===Te.ClinicSources.ALL),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,11,Te.clinicRatingsDictionary$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,13,Te.departmentsDictionary$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,15,Te.diagnostics$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(12,17,Te.specialties$)),t.xp6(6),t.Q6J("ngIf",Te.filterForm.controls.withDirectAccess.enabled),t.xp6(1),t.Q6J("ngIf",Te.filterForm.controls.withFranchise.enabled),t.xp6(1),t.Q6J("ngIf",Te.filterForm.controls.withExcluded.enabled)}},dependencies:[oe.UX,oe.Wl,oe.JJ,oe.JL,oe.sg,oe.u,Q.xG,T.Ov,Nr.u3,T.O5,Sn,Co,Ot.R],styles:[".clinic-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:100%;gap:0 8px}.clinic-header[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]{align-items:baseline;align-self:center;max-width:300px;display:flex;flex-wrap:wrap;gap:8px}@media (min-width: 1600px){.clinic-header[_ngcontent-%COMP%]   .toggle-group[_ngcontent-%COMP%]{max-width:none}}"],changeDetection:0})}}return wt})();var ve=o(232),en=o(5526),zn=o(1711);function Mi(wt,nn){1&wt&&(t.TgZ(0,"span",6),t._uU(1,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"),t.qZA())}function ti(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"label",2)(1,"input",3),t.NdJ("ngModelChange",function(){const Cn=t.CHM(X).$implicit,di=t.oxw();return t.KtG(di.selectedSource=Cn.code)}),t.qZA(),t.TgZ(2,"span",4),t.YNc(3,Mi,2,0,"span",5),t._uU(4),t.qZA()()}if(2&wt){const X=nn.$implicit,Yt=t.oxw();t.xp6(1),t.Q6J("ngModel",X.code===Yt.selectedSource)("disabled",X.code===Yt.selectedSource),t.xp6(2),t.Q6J("ngIf",X.code===Yt.ClinicSources.ALL&&X.code===Yt.selectedSource),t.xp6(1),t.hij(" ",X.label," ")}}let _i=(()=>{class wt{constructor(){this.ClinicSources=bt,this.isNewClient=(0,t.f3M)(_.J6),this.sources=this.isNewClient?u.filter(X=>X.code===bt.ALL):u,this.onChangeFn=null,this.onTouchedFn=null}get selectedSource(){return this._selectedSource}set selectedSource(X){this._selectedSource=X,this.onChangeFn&&this.onChangeFn(this._selectedSource)}registerOnChange(X){this.onChangeFn=X}writeValue(X){this.selectedSource=X}registerOnTouched(X){this.onTouchedFn=X}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-filter-source"]],standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0}]),t.jDz],decls:2,vars:1,consts:[[1,"toggle-group"],["class","toggle-labeled",4,"ngFor","ngForOf"],[1,"toggle-labeled"],["tuiSwitch","","type","checkbox","size","m",3,"ngModel","disabled","ngModelChange"],[1,"field-label__text"],["class","field-badge",4,"ngIf"],[1,"field-badge"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"p",0),t.YNc(1,ti,5,4,"label",1),t.qZA()),2&Yt&&(t.xp6(1),t.Q6J("ngForOf",Te.sources))},dependencies:[Io.AE,T.O5,oe.u5,oe.Wl,oe.JJ,oe.On,T.sg],styles:[".toggle-labeled[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;align-items:center;cursor:pointer;--tui-disabled-opacity: 1}.toggle-labeled[_ngcontent-%COMP%]:last-child{margin-bottom:0}.toggle-labeled[_ngcontent-%COMP%]   [tuiSwitch][_ngcontent-%COMP%]{margin-right:8px}.toggle-group[_ngcontent-%COMP%]{margin:0}.field-badge[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-accent-1);--badge-color: var(--tui-background-accent-1);display:inline-block;padding:0 4px;font:var(--tui-font-text-xs);color:var(--badge-text-color);border:1px solid var(--badge-color);border-radius:var(--tui-radius-l);margin-right:4px;--badge-text-color: var(--tui-text-negative);--badge-color: var(--tui-text-negative)}"],changeDetection:0})}}return wt})();function vi(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"label",1)(1,"input",2),t.NdJ("ngModelChange",function(){const Cn=t.CHM(X).$implicit,di=t.oxw();return t.KtG(di.typesAssistanceSelectionModel.toggle(Cn.code))}),t.qZA(),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&wt){const X=nn.$implicit,Yt=t.oxw();t.xp6(1),t.Q6J("ngModel",Yt.typesAssistanceSelectionModel.isSelected(X.code)),t.xp6(2),t.Oqu(X.name)}}let no=(()=>{class wt{constructor(){this.typesAssistance=[],this.typesAssistanceSelectionModel=new _e.Ov(!0,[],!0),this.onTouchedFn=null,this.destroyRef=(0,t.f3M)(t.ktI)}registerOnChange(X){this.typesAssistanceSelectionModel.changed.pipe((0,e.sL)(this.destroyRef)).subscribe(Yt=>X(Yt.source.selected))}registerOnTouched(X){this.onTouchedFn=X}writeValue(X){X?.length&&this.typesAssistanceSelectionModel.setSelection(...X)}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-filter-types-assistance"]],inputs:{typesAssistance:"typesAssistance"},standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0}]),t.jDz],decls:1,vars:1,consts:[["class","filter-type-assistance",4,"ngFor","ngForOf"],[1,"filter-type-assistance"],["tuiSwitch","","type","checkbox","size","m",3,"ngModel","ngModelChange"]],template:function(Yt,Te){1&Yt&&t.YNc(0,vi,4,2,"label",0),2&Yt&&t.Q6J("ngForOf",Te.typesAssistance)},dependencies:[Io.AE,oe.u5,oe.Wl,oe.JJ,oe.On,T.sg],styles:[".filter-type-assistance[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;gap:8px;align-items:center;cursor:pointer}.filter-type-assistance[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}}return wt})();function ho(wt,nn){1&wt&&t._UZ(0,"img",9)}const ir=function(wt){return[wt]},to=function(wt,nn){return{variantGuid:wt,risks:nn}};function sr(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"label",6)(1,"input",7),t.NdJ("ngModelChange",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.changedRisk(Te))}),t.qZA(),t.TgZ(2,"span"),t.YNc(3,ho,1,0,"img",8),t._uU(4),t.qZA()()}if(2&wt){const X=nn.$implicit,Yt=t.oxw().$implicit,Te=t.oxw(3);t.xp6(1),t.Q6J("identityMatcher",Te.identityMatcherFn)("ngModel",Te.filterVariant)("value",t.WLB(8,to,Yt.variantGuid,t.VKq(6,ir,X.code))),t.xp6(2),t.Q6J("ngIf",Te.getIsFranchise(X.franchiseStatusId)),t.xp6(1),t.AsE(" ",X.name," ",X.riskExtName," ")}}function Fo(wt,nn){if(1&wt&&(t.TgZ(0,"div",3)(1,"p",4),t._uU(2),t.qZA(),t.YNc(3,sr,5,11,"label",5),t.qZA()),2&wt){const X=nn.$implicit;t.xp6(2),t.AsE("",X.name," ",X.type,""),t.xp6(1),t.Q6J("ngForOf",X.risks)}}function co(wt,nn){1&wt&&(t.TgZ(0,"div",10)(1,"span"),t._uU(2,"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"),t.qZA()())}function br(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Fo,4,3,"div",1),t.YNc(2,co,3,0,"div",2),t.BQk()),2&wt){const X=nn.ngIf;t.xp6(1),t.Q6J("ngForOf",X),t.xp6(1),t.Q6J("ngIf",0===X.length)}}function or(wt,nn){1&wt&&t._UZ(0,"dms-loader")}function Cr(wt,nn){1&wt&&t._UZ(0,"app-data-fetch-error")}function ur(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,br,3,2,"ng-container",0),t.ALo(2,"async"),t.YNc(3,or,1,0,"dms-loader",0),t.YNc(4,Cr,1,0,"app-data-fetch-error",0),t.BQk()),2&wt){const X=nn.ngIf,Yt=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,Yt.variants$)),t.xp6(2),t.Q6J("ngIf",X.isLoading),t.xp6(1),t.Q6J("ngIf",X.error)}}let Ir=(()=>{class wt{constructor(){this.variantStore=(0,t.f3M)(le.VariantStore),this.variants$=this.variantStore.variants$.pipe((0,Zn.h)(Boolean),(0,st.U)(X=>X.variants.filter(Yt=>Yt.isActive))),this.variantsState$=this.variantStore.state$,this.onChangeFn=null,this.onTouchedFn=null,this.filterVariant=null,this.identityMatcherFn=(X,Yt)=>X?.variantGuid===Yt?.variantGuid&&X?.risks[0]===Yt?.risks[0]}getIsFranchise(X){return Number(X)>0}writeValue(X){if(X){const[Yt]=X;this.filterVariant=Yt}else this.filterVariant=null}registerOnChange(X){this.onChangeFn=X}registerOnTouched(X){this.onTouchedFn=X}changedRisk(X){this.filterVariant=X,this.onChangeFn&&this.onChangeFn([X])}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-filter-variants"]],standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0}]),t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["class","variant",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],[1,"variant"],[1,"variant__title"],["class","risk",4,"ngFor","ngForOf"],[1,"risk"],["tuiRadio","","type","radio","size","m",3,"identityMatcher","ngModel","value","ngModelChange"],["class","franchise-badge","ngSrc","assets/icons/franchise.icon.svg","alt","\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430","width","16","height","16",4,"ngIf"],["ngSrc","assets/icons/franchise.icon.svg","alt","\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430","width","16","height","16",1,"franchise-badge"],[1,"empty"]],template:function(Yt,Te){1&Yt&&(t.YNc(0,ur,5,5,"ng-container",0),t.ALo(1,"async")),2&Yt&&t.Q6J("ngIf",t.lcZ(1,1,Te.variantsState$))},dependencies:[T.Ov,T.O5,T.sg,oe.u5,oe.Fj,oe._,oe.JJ,oe.On,M.gK,M.Ph,xn._M,xn.Q,T.Zd],styles:["[_nghost-%COMP%]{padding:0 0 16px}[_nghost-%COMP%]   .variant[_ngcontent-%COMP%]{padding:16px 16px 11px;font:var(--tui-font-text-s);color:var(--tui-text-primary);border-bottom:1px solid var(--arm-border-color)}[_nghost-%COMP%]   .variant[_ngcontent-%COMP%]:last-child{border-bottom:none}[_nghost-%COMP%]   .variant__title[_ngcontent-%COMP%]{margin:0 0 12px}[_nghost-%COMP%]   .risk[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;align-items:center;color:var(--tui-text-05);cursor:pointer;gap:8px}[_nghost-%COMP%]   .risk[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .risk[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;gap:4px}[_nghost-%COMP%]   dms-loader[_ngcontent-%COMP%]{padding:16px 0 0}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{display:flex;min-height:155px;justify-content:center;align-items:center;color:var(--tui-text-05)}"],changeDetection:0})}}return wt})();function go(wt,nn){1&wt&&(t.TgZ(0,"section",1)(1,"h4",5),t._uU(2,"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f"),t.qZA(),t._UZ(3,"app-clinic-filter-variants",6),t.qZA())}function Sr(wt,nn){1&wt&&t._UZ(0,"dms-loader")}function Zr(wt,nn){if(1&wt&&t._UZ(0,"app-clinic-filter-types-assistance",9),2&wt){const X=t.oxw(3);t.Q6J("typesAssistance",X.typesAssistance.data)}}function Xr(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Sr,1,0,"dms-loader",7),t.YNc(2,Zr,1,1,"app-clinic-filter-types-assistance",8),t.BQk()),2&wt){const X=t.oxw(2);t.xp6(1),t.Q6J("ngIf",X.typesAssistance.isLoading),t.xp6(1),t.Q6J("ngIf",X.typesAssistance.data)}}function Jr(wt,nn){if(1&wt&&(t.TgZ(0,"section",1)(1,"h4",2),t._uU(2,"\u0412\u0438\u0434\u044b \u043c\u0435\u0434. \u043f\u043e\u043c\u043e\u0449\u0438"),t.qZA(),t.YNc(3,Xr,3,2,"ng-container",7),t.qZA()),2&wt){const X=t.oxw();t.xp6(3),t.Q6J("ngIf",X.typesAssistance)}}let Hr=(()=>{class wt{constructor(){this.typesAssistance=null,this.isNewClient=(0,t.f3M)(_.J6),this.form=new oe.cw({source:new oe.NI(this.isNewClient?bt.ALL:bt.VARIANT,{nonNullable:!0,validators:[oe.kI.required]}),variants:new oe.NI({value:[],disabled:this.isNewClient},{nonNullable:!0,validators:[oe.kI.required]}),typeAssistanceIds:new oe.NI({value:[],disabled:!this.isNewClient},{nonNullable:!0,validators:[oe.kI.required]})}),this.destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.syncForm()}syncForm(){this.form.controls.source.valueChanges.pipe((0,e.sL)(this.destroyRef),(0,v.b)(X=>{X===bt.ALL?(this.form.controls.variants.disable(),this.form.controls.typeAssistanceIds.enable()):(this.form.controls.variants.enable(),this.form.controls.typeAssistanceIds.disable())})).subscribe()}writeValue(X){X&&this.form.patchValue(X)}registerOnChange(X){this.form.valueChanges.pipe((0,e.sL)(this.destroyRef)).subscribe(X)}registerOnTouched(X){this._onTouched=X}validate(){return this.form.invalid?{required:!0}:null}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-required-filters-form"]],inputs:{typesAssistance:"typesAssistance"},standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0},{provide:oe.Cf,useExisting:(0,t.Gpc)(()=>wt),multi:!0}]),t.jDz],decls:7,vars:3,consts:[[1,"main-filter",3,"formGroup"],[1,"main-filter__island"],[1,"main-filter__subtitle"],["formControlName","source",1,"main-filter__content"],["class","main-filter__island",4,"ngIf"],[1,"main-filter__subtitle","divider"],["formControlName","variants"],[4,"ngIf"],["class","main-filter__content","formControlName","typeAssistanceIds",3,"typesAssistance",4,"ngIf"],["formControlName","typeAssistanceIds",1,"main-filter__content",3,"typesAssistance"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"div",0)(1,"section",1)(2,"h4",2),t._uU(3,"\u041b\u041f\u0423"),t.qZA(),t._UZ(4,"app-clinic-filter-source",3),t.qZA(),t.YNc(5,go,4,0,"section",4),t.YNc(6,Jr,4,1,"section",4),t.qZA()),2&Yt&&(t.Q6J("formGroup",Te.form),t.xp6(5),t.Q6J("ngIf",Te.form.controls.variants.enabled),t.xp6(1),t.Q6J("ngIf",Te.form.controls.typeAssistanceIds.enabled))},dependencies:[oe.u5,oe.JJ,oe.JL,M.gK,oe.UX,oe.sg,oe.u,T.O5,_i,Ir,no],styles:[".main-filter[_ngcontent-%COMP%]{padding:0 12px}.main-filter__subtitle[_ngcontent-%COMP%]{margin:0;padding:var(--tui-padding-l)}.main-filter__subtitle.divider[_ngcontent-%COMP%]{border-bottom:1px solid var(--arm-border-color)}.main-filter__content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l) var(--tui-padding-l) var(--tui-padding-l)}.main-filter__island[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;flex-direction:column;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-s)}.main-filter__island[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.main-filter__island[_ngcontent-%COMP%]   dms-loader[_ngcontent-%COMP%]{margin:auto;padding:16px 0}"],changeDetection:0})}}return wt})();const hr=function(){return[]};let zr=(()=>{class wt{constructor(X,Yt,Te){this.context=X,this.clinicDictionaryService=Yt,this.clinicService=Te,this.form=new oe.cw({main:this.clinicService.mainControl})}search(){this.form.controls.main.invalid?this.form.controls.main.markAsTouched():this.context.completeWith(!0)}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(g.yf),t.Y36(Et),t.Y36(Li))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinics-required-filters-dialog"]],standalone:!0,features:[t._Bn([{provide:se.Z4,useValue:{required:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0438\u0441\u043a \u0438\u043b\u0438 \u0412\u041c\u041f (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 \u0432\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b)"}}]),t.jDz],decls:18,vars:10,consts:[[1,"main-filter-dialog",3,"formGroup","ngSubmit"],[1,"main-filter-dialog__header"],[1,"main-filter-dialog__title"],["tuiIconButton","","tuiButtonClose","","type","button","size","m","appearance","secondary-grayscale",1,"t-close",3,"click"],[1,"main-filter-dialog__description"],["formControlName","main",3,"typesAssistance"],[1,"main-filter-dialog__footer"],["formControlName","main",3,"error"],["tuiButton","","size","m","appearance","secondary","type","button",3,"click"],["tuiButton","","size","m","appearance","primary","type","submit"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return Te.search()}),t.TgZ(1,"header",1)(2,"h3",2),t._uU(3,"\u0412\u044b\u0431\u043e\u0440 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return Te.context.completeWith(!1)}),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u0430\u0440\u0442\u043e\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),t.qZA()(),t.TgZ(7,"tui-scrollbar"),t._UZ(8,"app-clinic-required-filters-form",5),t.ALo(9,"async"),t.qZA(),t.TgZ(10,"footer",6),t._UZ(11,"tui-error",7),t.ALo(12,"async"),t.ALo(13,"tuiFieldError"),t.TgZ(14,"button",8),t.NdJ("click",function(){return Te.context.completeWith(!1)}),t._uU(15,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA(),t.TgZ(16,"button",9),t._uU(17,"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),t.qZA()()()),2&Yt&&(t.Q6J("formGroup",Te.form),t.xp6(8),t.Q6J("typesAssistance",t.lcZ(9,3,Te.clinicDictionaryService.typesAssistance$)),t.xp6(3),t.Q6J("error",t.lcZ(12,5,t.lcZ(13,7,t.DdM(9,hr)))))},dependencies:[oe.UX,oe._Y,oe.JJ,oe.JL,oe.sg,oe.u,Q.xG,O.D1,Hr,ve.e,en.A,T.Ov,zn.u],styles:["[_nghost-%COMP%]{margin-right:-12px;margin-left:-12px;display:block;overflow:hidden;width:597px;height:90vh}.main-filter-dialog[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;font:var(--tui-font-text-s)}.main-filter-dialog__header[_ngcontent-%COMP%]{padding-right:12px;padding-left:12px;padding-bottom:16px;box-shadow:0 0 25px #00000040}.main-filter-dialog__title[_ngcontent-%COMP%]{margin:0 0 4px}.main-filter-dialog__description[_ngcontent-%COMP%]{margin:0;color:var(--tui-text-secondary)}.main-filter-dialog__footer[_ngcontent-%COMP%]{z-index:10;margin-top:auto;padding-top:16px;padding-right:12px;padding-left:12px;text-align:right;box-shadow:0 0 25px #00000040}.main-filter-dialog__footer[_ngcontent-%COMP%]   tui-error[_ngcontent-%COMP%]{margin-top:-.25rem;margin-bottom:8px;text-align:left}.main-filter-dialog__footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:152px;font-weight:400}.main-filter-dialog__footer[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{margin-right:12px}.main-filter-dialog[_ngcontent-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{padding:16px 0}"],changeDetection:0})}}return wt})();var Vr=o(2460),os=o(932);const Fr={offset:0,total:null,items:null,isLoading:!1,error:null};let Wr=(()=>{class wt extends it.m1{constructor(X,Yt,Te){super(Fr),this.clinicRestService=X,this.clinicService=Yt,this.policyParams$=Te,this.clinics$=this.select(this.state$,({items:Cn})=>Cn),this.offset$=this.select(this.state$,({offset:Cn})=>Cn),this.total$=this.select(this.state$,({total:Cn})=>Cn),this.isLoading$=this.select(this.state$,({isLoading:Cn})=>Cn),this.error$=this.select(this.state$,({error:Cn})=>Cn),this.isFullListLoaded$=this.select(this.state$,({total:Cn,items:di})=>!(!Cn||!di||Cn!==di.length)),this.fetchPage=this.effect(Cn=>Cn.pipe((0,Jn.b)(200),(0,Vr.M)(this.isFullListLoaded$),(0,v.b)(([,di])=>di?this.patchState({isLoading:!1}):null),(0,Zn.h)(([,di])=>!di),(0,Vr.M)(this.clinicService.searchQuery$,this.offset$,this.clinicService.sorting$,this.clinicService.filterParam$,this.policyParams$),(0,st.U)(([,di,ro,Mt,yn,[Ct,qt]])=>ut.convertToListDTO({searchQuery:di,offset:ro,sort:Mt,filterParam:yn,clientPolicyGuid:Ct,sysCode:qt})),(0,v.b)(({offset:di})=>this.setState(ro=>di>0?{...ro,offset:di,isLoading:!0}:{...Fr,isLoading:!0})),(0,It.w)(di=>this.clinicRestService.searchClinic(di).pipe((0,it._b)(ro=>this.setItems(ro),ro=>this.patchState({error:ro,isLoading:!1}),()=>this.setIsLoading(!1)))))),this.setIsLoading=this.updater((Cn,di)=>({...Cn,isLoading:di})),this.setItems=this.updater((Cn,di)=>({...Cn,isLoading:!1,error:null,items:[...Cn.items||[],...di.items],offset:Cn.offset+dt,total:di.total}))}listenSearchAndFilterParams(){const X=(0,wi.a)([this.clinicService.searchQuery$,this.clinicService.filterParam$,this.clinicService.sorting$,this.policyParams$]).pipe((0,v.b)(()=>this.setState(()=>({...Fr,isLoading:!0}))),(0,st.U)(()=>{}),(0,os.g)(1));this.fetchPage(X)}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.LFG(Nt),t.LFG(Li),t.LFG(Z.Cp))}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac})}}return wt})();var $r=o(4224),Qr=o(1962);const Ar=function(){return[]};let wr=(()=>{class wt{constructor(X){this.fb=X,this.onTouchedFn=null,this.form=this.fb.nonNullable.group({value:this.fb.nonNullable.control("",[M.ad.minLengthTrimmed(2,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 2 \u0438 \u0431\u043e\u043b\u0435\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u0430")])}),this.destroyRef=(0,t.f3M)(t.ktI),this.form.markAllAsTouched()}writeValue(X){X&&this.form.patchValue(X)}registerOnChange(X){this.form.valueChanges.pipe((0,e.sL)(this.destroyRef)).subscribe(()=>X(this.form.invalid?{value:""}:this.form.getRawValue()))}registerOnTouched(X){this.onTouchedFn=X}validate(){return this.form.valid?null:{searchQuery:{...this.form.errors}}}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(oe.qu))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-search-form"]],standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0},{provide:oe.Cf,useExisting:(0,t.Gpc)(()=>wt),multi:!0}]),t.jDz],decls:7,vars:8,consts:[[3,"formGroup"],["formControlName","value","tuiTextfieldSize","m","tuiTextfieldIconLeft","@tui.search",3,"tuiTextfieldCleaner"],["tuiTextfieldLegacy",""],["formControlName","value",3,"error"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"form",0)(1,"tui-input",1),t._uU(2," \u041f\u043e\u0438\u0441\u043a "),t._UZ(3,"input",2),t.qZA(),t._UZ(4,"tui-error",3),t.ALo(5,"async"),t.ALo(6,"tuiFieldError"),t.qZA()),2&Yt&&(t.Q6J("formGroup",Te.form),t.xp6(1),t.Q6J("tuiTextfieldCleaner",!0),t.xp6(3),t.Q6J("error",t.lcZ(5,3,t.lcZ(6,5,t.DdM(7,Ar)))))},dependencies:[T.ez,T.Ov,oe.UX,oe._Y,oe.JJ,oe.JL,oe.sg,oe.u,$r.Qf,$r.K3,$r.wU,Qr.MB,En.cn,En.be,En.sz,En.aR,ve.e,en.A],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .group[_ngcontent-%COMP%]{margin-bottom:4px}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;padding:0 8px}"],changeDetection:0})}}return wt})();function G(wt,nn){if(1&wt&&(t.TgZ(0,"button",12),t._uU(1),t.qZA()),2&wt){const X=nn.$implicit;t.Q6J("value",X.name),t.xp6(1),t.hij(" ",X.displayName," ")}}function fe(wt,nn){if(1&wt&&(t.TgZ(0,"tui-data-list",10)(1,"tui-opt-group"),t.YNc(2,G,2,2,"button",11),t.qZA()()),2&wt){const X=t.oxw();t.xp6(2),t.Q6J("ngForOf",X.fields)}}let Tt=(()=>{class wt{constructor(){this.fields=[],this.form=new oe.cw({field:new oe.NI("",{nonNullable:!0,validators:[oe.kI.required]}),direction:new oe.NI(void 0,{nonNullable:!0,validators:[oe.kI.required]})}),this.onTouchedFn=null,this.destroyRef=(0,t.f3M)(t.ktI)}get sortIconName(){const X=this.form.controls.direction.value;return X?X===_.UC.ASCENDING?"@tui.sort-ascending":"@tui.sort-descending":"@tui.sort-off"}changeSort(){const X=this.form.controls.direction.value;this.form.patchValue({direction:X?X===_.UC.ASCENDING?_.UC.DESCENDING:void 0:_.UC.ASCENDING},{emitEvent:!0})}writeValue(X){X&&this.form.patchValue(X)}registerOnChange(X){this.form.valueChanges.pipe((0,e.sL)(this.destroyRef)).subscribe(X)}registerOnTouched(X){this.onTouchedFn=X}validate(){return this.form.valid?null:{sort:{...this.form.errors}}}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-sort-bar"]],inputs:{fields:"fields"},standalone:!0,features:[t._Bn([{provide:oe.JU,useExisting:(0,t.Gpc)(()=>wt),multi:!0},{provide:oe.Cf,useExisting:(0,t.Gpc)(()=>wt),multi:!0}]),t.jDz],decls:14,vars:6,consts:[[3,"formGroup"],["tuiDropdownOpen","","tuiDropdownLimitWidth","fixed",3,"tuiDropdownMaxHeight","tuiDropdown","tuiDropdownEnabled"],[1,"sorting"],["tuiDropdownHost",""],[1,"sort-title"],["icon","appIconSorting",1,"icon"],["type","button",1,"sort-menu",3,"disabled"],[1,"sorting-button",3,"click"],[3,"icon"],["sortFieldListRef",""],[1,"sort-fields"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"]],template:function(Yt,Te){if(1&Yt&&(t.ynx(0,0),t.TgZ(1,"div",1)(2,"p",2,3)(4,"span",4),t._UZ(5,"tui-icon",5),t.TgZ(6,"span"),t._uU(7,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"),t.qZA()(),t.TgZ(8,"button",6),t._uU(9,"\u041f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return Te.changeSort()}),t._UZ(11,"tui-icon",8),t.qZA()()(),t.BQk(),t.YNc(12,fe,3,1,"ng-template",null,9,t.W1O)),2&Yt){const Cn=t.MAs(13);t.Q6J("formGroup",Te.form),t.xp6(1),t.Q6J("tuiDropdownMaxHeight",500)("tuiDropdown",Cn)("tuiDropdownEnabled",Te.fields.length>1),t.xp6(7),t.Q6J("disabled",Te.fields.length<2),t.xp6(3),t.Q6J("icon",Te.sortIconName)}},dependencies:[Qe.qi,Qe.bH,Qe.c4,Xt.Ek,Xt.td,Xt.Bb,Ot.R,T.sg,oe.UX,oe.JL,oe.sg],styles:["tui-hosted-dropdown[_ngcontent-%COMP%]{width:100%}.sorting[_ngcontent-%COMP%]{margin:0;padding:14px 12px;width:100%;display:flex;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-s)}.sorting-button[_ngcontent-%COMP%]{border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer}.sort-fields[_ngcontent-%COMP%]{width:100%}.sort-title[_ngcontent-%COMP%]{margin:0 auto 0 0;padding:0;color:#7f7f7f}.sort-title[_ngcontent-%COMP%]   tui-svg[_ngcontent-%COMP%]{margin-right:8px;width:24px;height:24px;color:var(--tui-background-accent-opposite-hover)}.sort-menu[_ngcontent-%COMP%]{border:none;margin:0 8px 0 0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;padding:0 4px;color:var(--tui-background-accent-1)}.sort-menu[disabled][_ngcontent-%COMP%]{cursor:default}"],changeDetection:0})}}return wt})();function Jt(wt,nn){if(1&wt&&t._UZ(0,"app-sort-bar",7),2&wt){const X=t.oxw(2);t.Q6J("@tuiFadeIn",X.DURATION_OPTIONS)("fields",X.ClinicSortFieldDescriptions)}}function Ze(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"app-clinic-list-item",8),t.NdJ("click",function(){const Cn=t.CHM(X).$implicit,di=t.oxw(2);return t.KtG(di.selectedClinic.emit(Cn))}),t.ALo(1,"async"),t.qZA()}if(2&wt){const X=nn.$implicit,Yt=t.oxw(2);let Te;t.ekj("selected",Yt.selectedClinicGuid===X.id),t.Q6J("clinic",X)("color",null==(Te=t.lcZ(1,4,Yt.PriorityToColor$))?null:Te[X.rating.priority])}}function Vn(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"dms-float-card-list",1),t.NdJ("fetchedNextPage",function(){t.CHM(X);const Te=t.oxw();return t.KtG(Te.clinicSearchStore.fetchPage())}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.TgZ(4,"div",2)(5,"h3",3),t._uU(6,"\u041f\u043e\u0438\u0441\u043a \u041b\u041f\u0423"),t.qZA(),t._UZ(7,"app-clinic-search-form",4),t.YNc(8,Jt,1,2,"app-sort-bar",5),t.qZA(),t.YNc(9,Ze,2,6,"ng-template",6),t.qZA()}if(2&wt){const X=nn.tuiLet,Yt=t.oxw();t.Q6J("points",X)("total",t.lcZ(1,6,Yt.clinicSearchStore.total$))("isLoading",!!t.lcZ(2,8,Yt.clinicSearchStore.isLoading$))("error",t.lcZ(3,10,Yt.clinicSearchStore.error$)),t.xp6(4),t.Q6J("formGroup",Yt.form),t.xp6(4),t.Q6J("ngIf",X&&X.length>0)}}let Kn=(()=>{class wt{constructor(X,Yt){this.clinicService=X,this.clinicSearchStore=Yt,this.selectedClinicGuid=null,this.selectedClinic=new t.vpe,this.PriorityToColor$=(0,t.f3M)(Et).priorityToColor$,this.form=this.clinicService.searchListForm,this.ClinicSortFieldDescriptions=w,this.DURATION_OPTIONS=_.hk}ngOnInit(){this.clinicSearchStore.fetchPage(),this.clinicSearchStore.listenSearchAndFilterParams()}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(Li),t.Y36(Wr))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-search"]],inputs:{selectedClinicGuid:"selectedClinicGuid"},outputs:{selectedClinic:"selectedClinic"},standalone:!0,features:[t._Bn([Wr]),t.jDz],decls:2,vars:3,consts:[[3,"points","total","isLoading","error","fetchedNextPage",4,"tuiLet"],[3,"points","total","isLoading","error","fetchedNextPage"],[1,"clinic-search__header",3,"formGroup"],[1,"clinic-search__title"],["formControlName","searchQuery"],["formControlName","sort",3,"fields",4,"ngIf"],["dmsCardItemFloatList",""],["formControlName","sort",3,"fields"],[3,"clinic","color","click"]],template:function(Yt,Te){1&Yt&&(t.YNc(0,Vn,10,12,"dms-float-card-list",0),t.ALo(1,"async")),2&Yt&&t.Q6J("tuiLet",t.lcZ(1,1,Te.clinicSearchStore.clinics$))},dependencies:[_.OZ,T.Ov,oe.UX,oe.JJ,oe.JL,oe.sg,oe.u,wr,_.P3,Tt,ht,h.i,T.O5],styles:[".clinic-search__header[_ngcontent-%COMP%]{padding:8px}.clinic-search__title[_ngcontent-%COMP%]{margin:0 0 8px;padding:4px}app-clinic-search[_ngcontent-%COMP%]{display:block}app-sort-bar[_ngcontent-%COMP%]{margin-top:8px;display:block}app-data-fetch-error[_ngcontent-%COMP%]{position:relative;padding:16px;z-index:10}"],data:{animation:[f.QF]},changeDetection:0})}}return wt})();var Ai=o(7328);const ko={isLoading:!1,data:null,error:null,address:null};let Ao=(()=>{class wt extends it.m1{constructor(X,Yt,Te){super({isLoading:!1,address:null,data:null,error:null}),this.clinicRestService=X,this.clinicService=Yt,this.policyParams$=Te,this.initialConfigMap$=this.clinicService.locationMap$.pipe((0,Dt.q)(1),(0,st.U)(Cn=>({...m.js,location:Cn}))),this.address$=this.select(Cn=>Cn.address).pipe((0,ei.x)((Cn,di)=>!(Cn!==di&&!Cn?.coordinates.every(ro=>di?.coordinates.includes(ro))))),this.center=new Ai.t(1),this.center$=this.center.asObservable(),this.selectedCluster$=this.clinicService.selectedCluster$,this.selectedClinic$=this.clinicService.selectedClinic$,this.clinicPoints$=this.select(this.state$,Cn=>Cn.data),this.isLoading$=this.select(this.state$,Cn=>Cn.isLoading),this.error$=this.select(this.state$,Cn=>Cn.error),this.setItems=this.updater((Cn,di)=>({...ko,data:di.items,address:di.address||null})),this.getClinicPoints=this.effect(Cn=>Cn.pipe((0,v.b)(()=>this.patchState({isLoading:!0})),(0,It.w)(di=>this.clinicRestService.searchClinic(di).pipe((0,it._b)(ro=>this.setItems(ro),ro=>(this.patchState({error:ro,isLoading:!1,data:null}),Pt.E),()=>this.patchState({isLoading:!1}))))))}init(){this.address$.pipe((0,C.R)(this.destroy$),(0,Zn.h)(X=>!!X)).subscribe(({coordinates:X})=>this.center.next({center:X,zoom:St}))}ngOnDestroy(){super.ngOnDestroy(),this.clinicService.resetState(),this.center.complete()}listenMapLocationAndFilterParams(){(0,wi.a)([this.clinicService.locationMap$,this.clinicService.filterParam$,this.clinicService.searchQuery$]).pipe((0,C.R)(this.destroy$),(0,ln.IC)(()=>this.policyParams$),(0,st.U)(([[X,Yt,Te],[Cn,di]])=>ut.convertToMapDTO({location:X,searchQuery:Te,filterParam:Yt,clientPolicyGuid:Cn,sysCode:di}))).subscribe(this.getClinicPoints)}setLocation(X){this.clinicService.setLocationMap(X)}selectClinic(X){this.clinicService.selectClinic(X)}deselectClinic(){this.clinicService.selectClinic(null)}selectCluster(X){this.clinicService.selectCluster(X)}deselectCluster(){this.clinicService.selectCluster(null)}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.LFG(Nt),t.LFG(Li),t.LFG(Z.Cp))}}static{this.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac})}}return wt})();const Eo=wt=>E(wt)?`\n      <div class="hint">\n        <p class="hint-clinic-name">${wt.name}</p>\n        <p class="hint-clinic-rating">${wt.rating.rating}</p>\n      </div>`:null;function Xi(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"med-map",9),t.NdJ("changedLocation",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.store.setLocation(Te))})("selectedEntityOrCluster",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.selectClinicOrCluster(Te))}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.ALo(4,"async"),t.qZA()}if(2&wt){const X=nn.ngIf,Yt=t.oxw().tuiLet,Te=t.oxw().ngIf,Cn=t.oxw(2);t.Q6J("config",X)("addressMarker",t.lcZ(1,8,Cn.store.address$))("location",t.lcZ(2,10,Cn.store.center$))("markersIsLoading",!!t.lcZ(3,12,Cn.isLoading$))("selectedEntity",Yt.clinic)("selectedClusterId",(null==Yt||null==Yt.cluster?null:Yt.cluster.id)||null)("createMarkerElement",Cn.getCreateMarkerElementFn(Te))("entities",t.lcZ(4,14,Cn.clinicPoints$))}}function Bo(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"header",10)(1,"app-clinic-header",11),t.NdJ("openedRequiredFilter",function(){t.CHM(X);const Te=t.oxw(4);return t.KtG(Te.changeRequiredFilters())}),t.qZA()()}if(2&wt){const X=t.oxw(4);t.Q6J("@tuiFadeIn",X.DURATION_OPTIONS)("closeable",!1)}}function _o(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"dms-island",12)(1,"app-clinic-search",13),t.NdJ("selectedClinic",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.selectClinic(Te))}),t.qZA()()}if(2&wt){const X=t.oxw().tuiLet,Yt=t.oxw(3);t.ekj("disabled",X.cluster),t.Q6J("closeable",!1),t.xp6(1),t.Q6J("selectedClinicGuid",(null==X.clinic?null:X.clinic.id)||null)("@tuiFadeIn",Yt.DURATION_OPTIONS)}}function wo(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"dms-island",14),t.NdJ("closed",function(){t.CHM(X);const Te=t.oxw(4);return t.KtG(Te.deselectCluster())}),t.TgZ(1,"app-clinic-cluster",15),t.NdJ("selectedClinic",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.selectClinic(Te))}),t.qZA()()}if(2&wt){const X=t.oxw().tuiLet,Yt=t.oxw().ngIf;t.xp6(1),t.Q6J("cluster",X.cluster)("selectedClinicGuid",(null==X.clinic?null:X.clinic.id)||null)("PriorityToColor",Yt)}}function Dr(wt,nn){if(1&wt){const X=t.EpF();t.TgZ(0,"dms-island",16),t.NdJ("closed",function(){t.CHM(X);const Te=t.oxw(4);return t.KtG(Te.deselectClinic())}),t.TgZ(1,"app-clinic-details",17),t.NdJ("deselected",function(){t.CHM(X);const Te=t.oxw(4);return t.KtG(Te.deselectClinic())})("selectedClinic",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.selectClinicProcess(Te))})("callClinicEvent",function(Te){t.CHM(X);const Cn=t.oxw(4);return t.KtG(Cn.callClinic(Te))}),t.qZA()()}if(2&wt){const X=t.oxw().tuiLet,Yt=t.oxw(3);t.Q6J("@tuiFadeIn",Yt.DURATION_OPTIONS),t.xp6(1),t.Q6J("guid",X.clinic.id)}}function Er(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Xi,5,16,"med-map",4),t.ALo(2,"async"),t.YNc(3,Bo,2,2,"header",5),t.YNc(4,_o,2,5,"dms-island",6),t.YNc(5,wo,2,3,"dms-island",7),t.YNc(6,Dr,2,2,"dms-island",8),t.BQk()),2&wt){const X=nn.tuiLet,Yt=t.oxw(2).tuiLet,Te=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,5,Te.store.initialConfigMap$)),t.xp6(2),t.Q6J("ngIf",Yt),t.xp6(1),t.Q6J("ngIf",Yt),t.xp6(1),t.Q6J("ngIf",X.cluster),t.xp6(1),t.Q6J("ngIf",X.clinic)}}const kr=function(wt,nn){return{clinic:wt,cluster:nn}};function gr(wt,nn){if(1&wt&&(t.ynx(0),t.YNc(1,Er,7,7,"ng-container",3),t.ALo(2,"async"),t.ALo(3,"async"),t.BQk()),2&wt){const X=t.oxw(2);t.xp6(1),t.Q6J("tuiLet",t.WLB(5,kr,t.lcZ(2,1,X.selectedClinic$),t.lcZ(3,3,X.selectedCluster$)))}}function Jo(wt,nn){if(1&wt&&(t.TgZ(0,"section",1),t.YNc(1,gr,4,8,"ng-container",2),t.ALo(2,"async"),t.qZA()),2&wt){const X=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,X.PriorityToColor$))}}let ar=(()=>{class wt{constructor(X,Yt,Te,Cn,di,ro,Mt){this.dialogService=X,this.injector=Yt,this.context=Te,this.renderer=Cn,this.clinicDictionaryService=di,this.callService=ro,this.store=Mt,this.DURATION_OPTIONS=_.hk,this.selectedClinic$=this.store.selectedClinic$,this.selectedCluster$=this.store.selectedCluster$,this.PriorityToColor$=this.clinicDictionaryService.priorityToColor$,this.clinicPoints$=this.store.clinicPoints$,this.isLoading$=this.store.isLoading$,this.error$=this.store.error$,this.requiredActionsIsDone$=this.openRequiredFilterDialog().pipe((0,v.b)(yn=>yn?this.store.listenMapLocationAndFilterParams():this.context.completeWith()))}ngOnInit(){this.clinicDictionaryService.init(),this.store.init()}selectClinic(X){this.store.selectClinic(X)}selectClinicOrCluster(X){E(X)?this.selectClinic(X):y(X)&&this.store.selectCluster(X)}callClinic(X){this.callService.next(X)}selectClinicProcess(X){this.context.completeWith(X)}deselectClinic(){this.store.deselectClinic()}deselectCluster(){this.store.deselectCluster()}changeRequiredFilters(){this.openRequiredFilterDialog().subscribe(X=>{X&&(this.deselectCluster(),this.deselectClinic())})}getCreateMarkerElementFn(X){return(Yt,Te)=>{const Cn=Te>12,di=this.renderer.createElement("div");this.renderer.addClass(di,"map-marker"),E(Yt)&&Yt.isExcluded&&this.renderer.addClass(di,"map-marker_excluded");const ro=this.renderer.createElement("div");if(Cn){const yn=E(Yt)?Yt.isFranchise?m.sq.FRANCHISE:m.sq.DEFAULT:m.sq.CLUSTER;ro.innerHTML=`<svg><use xlink:href="${yn}"></svg>`}const Mt=E(Yt)?X[Number(Yt.rating?.priority)]:"#4666F8";if(this.renderer.addClass(ro,"map-marker-inner"),Cn||this.renderer.addClass(di,"point"),this.renderer.setStyle(di,"color",Mt),Cn&&y(Yt)){const yn=this.renderer.createElement("span");this.renderer.appendChild(yn,this.renderer.createText(String(Yt.total>99?99:Yt.total))),this.renderer.appendChild(ro,yn)}return this.renderer.appendChild(di,ro),di}}openRequiredFilterDialog(){return this.dialogService.open(new g.Al(zr,this.injector),{size:"auto",dismissible:!1,closeable:!1}).pipe((0,C.R)(this.store.destroy$))}static{this.\u0275fac=function(Yt){return new(Yt||wt)(t.Y36(i.RO),t.Y36(t.zs3),t.Y36(g.yf),t.Y36(t.Qsj),t.Y36(Et),t.Y36(Ge),t.Y36(Ao))}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-map"]],standalone:!0,features:[t._Bn([Ao,{provide:m.hn,useValue:Eo}]),t.jDz],decls:2,vars:3,consts:[["class","clinics",4,"tuiLet"],[1,"clinics"],[4,"ngIf"],[4,"tuiLet"],[3,"config","addressMarker","location","markersIsLoading","selectedEntity","selectedClusterId","createMarkerElement","entities","changedLocation","selectedEntityOrCluster",4,"ngIf"],["dmsMapHeader","",3,"closeable",4,"ngIf"],["class","clinics__aside",3,"disabled","closeable",4,"ngIf"],["class","clinics__selected-cluster",3,"closed",4,"ngIf"],["class","clinics__selected-item",3,"closed",4,"ngIf"],[3,"config","addressMarker","location","markersIsLoading","selectedEntity","selectedClusterId","createMarkerElement","entities","changedLocation","selectedEntityOrCluster"],["dmsMapHeader","",3,"closeable"],[3,"openedRequiredFilter"],[1,"clinics__aside",3,"closeable"],[3,"selectedClinicGuid","selectedClinic"],[1,"clinics__selected-cluster",3,"closed"],[3,"cluster","selectedClinicGuid","PriorityToColor","selectedClinic"],[1,"clinics__selected-item",3,"closed"],[3,"guid","deselected","selectedClinic","callClinicEvent"]],template:function(Yt,Te){1&Yt&&(t.YNc(0,Jo,3,3,"section",0),t.ALo(1,"async")),2&Yt&&t.Q6J("tuiLet",t.lcZ(1,1,Te.requiredActionsIsDone$))},dependencies:[T.Ov,T.O5,_.ag,at,cn,jo,_.KE,h.i,Kn,m.Lv],styles:[".clinics[_ngcontent-%COMP%]{--width: 480px;--position-top: calc(var(--map-header-height) + var(--tui-padding-s));--cluster-position-top: calc(var(--position-top) + 48px);position:relative}.clinics__header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0}.clinics__aside[_ngcontent-%COMP%]{--float-card-list-max-height: calc(100vh - var(--position-top) - var(--tui-padding-s));position:absolute;top:var(--position-top);left:var(--tui-padding-s);width:var(--width);display:block}.clinics__selected-item[_ngcontent-%COMP%]{top:var(--position-top);right:var(--tui-padding-s);position:absolute;max-height:calc(100vh - var(--position-top) - var(--tui-padding-s) * 2);width:var(--width)}.clinics__selected-cluster[_ngcontent-%COMP%]{--cluster-max-height: calc(100vh - var(--cluster-position-top) - (var(--tui-padding-s) * 2));z-index:10;position:absolute;top:var(--cluster-position-top);left:var(--tui-padding-s);width:var(--width);max-height:var(--cluster-max-height)}.clinics[_ngcontent-%COMP%]   med-map[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh}"],data:{animation:[f.QF]},changeDetection:0})}}return wt})(),xr=(()=>{class wt{constructor(){this.dialogService=(0,t.f3M)(i.RO),this.injector=(0,t.f3M)(t.zs3),this.router=(0,t.f3M)(a.F0),this.destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.openMapDialog().subscribe({complete:()=>this.backToClientPolicyCard()})}openMapDialog(){return this.dialogService.open(new g.Al(ar,this.injector),{size:"page",dismissible:!1,closeable:!0}).pipe((0,e.sL)(this.destroyRef))}backToClientPolicyCard(){this.router.navigateByUrl(this.router.url.replace("clinics","main"))}static{this.\u0275fac=function(Yt){return new(Yt||wt)}}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic"]],standalone:!0,features:[t._Bn([]),t.jDz],decls:0,vars:0,template:function(Yt,Te){},styles:["[_nghost-%COMP%]{flex-grow:1;background-color:var(--tui-background-base);border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}"],changeDetection:0})}}return wt})();var Tr=o(4017);let Zo=(()=>{class wt extends Tr.NN{constructor(){super(...arguments),this.focused=!1,this.clinicItems=[],this.clinicRestService=(0,t.f3M)(Nt),this.manuallySearch$=new ne.x,this.offset=0,this.searchValue="",this.pageSize=30,this.destroy$=(0,t.f3M)(t.ktI),this.clinicDictStore$=this.manuallySearch$.pipe((0,Ki.O)(""),(0,It.w)(X=>this.getClinics(X)),(0,e.sL)(this.destroy$))}getClinics(X){return this.clinicRestService.fetchClinicsDirectory({direction:"asc",field:"name"},X,this.offset).pipe((0,st.U)(Yt=>(this.clinicItems=[...this.clinicItems,...Yt],this.clinicItems.map(Te=>({value:Te.name,code:Te.name})))),(0,e.sL)(this.destroy$))}fetchNextPage(){this.offset+=this.pageSize,this.manuallySearch$.next(this.searchValue)}searchChange(X){null!==X&&(this.offset=0,this.clinicItems=[],this.searchValue=X,this.manuallySearch$.next(X))}static{this.\u0275fac=function(){let X;return function(Te){return(X||(X=t.n5z(wt)))(Te||wt)}}()}static{this.\u0275cmp=t.Xpm({type:wt,selectors:[["app-clinic-combobox"]],standalone:!0,features:[t._Bn([(0,Tr.wB)(wt)]),t.qOj,t.jDz],decls:3,vars:4,consts:[[3,"ngModel","dict","ngModelChange","scrolledBottom","searchChange"]],template:function(Yt,Te){1&Yt&&(t.TgZ(0,"app-remote-simple-dict-combobox",0),t.NdJ("ngModelChange",function(di){return Te.onChange(di)})("scrolledBottom",function(){return Te.fetchNextPage()})("searchChange",function(di){return Te.searchChange(di)}),t.ALo(1,"async"),t._uU(2,"\u041b\u041f\u0423 "),t.qZA()),2&Yt&&t.Q6J("ngModel",Te.value())("dict",t.lcZ(1,2,Te.clinicDictStore$))},dependencies:[_.Mc,oe.u5,oe.JJ,oe.On,T.Ov],encapsulation:2,changeDetection:0})}}return wt})();const rs=(0,t.MR2)([{provide:t.Xts,multi:!0,useValue:()=>{(0,t.f3M)(Et).init()}}])},545:(Qt,$,o)=>{"use strict";o.d($,{BA:()=>t,HX:()=>ht,Nt:()=>e});const e="chatCrmName",t="chat";var a=o(3040),i=o(9862),g=o(5879);let T=(()=>{class it{constructor(){this.api=(0,g.f3M)(a.L).get("apiUrl"),this.httpClient=(0,g.f3M)(i.eN)}getCrmChatId(st){return this.httpClient.get(`${this.api}/chat/get-id`,{params:{chatName:st}})}static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275prov=g.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})();var _=o(6814),m=o(1993),h=o(6223),f=o(7019),v=o(7354),C=o(8767),D=o(2527),y=o(232),E=o(5820),O=o(4224),M=o(8293),U=o(2181),R=o(8180),A=o(9397),S=o(9673),w=o(4664);const p={isLoading:!1,error:null,data:null};let L=(()=>{class it extends S.m1{resetState(){this.patchState(p),this.updateChatCrmId(null)}updateChatCrmId(st){this.parentContainer.control.controls.chatCrmId.patchValue(st)}updateChatCrmName(st){this.parentContainer.control.controls.chatCrmName.patchValue(st,{emitEvent:!1})}constructor(){super(p),this.crmChatRestService=(0,g.f3M)(T),this.parentContainer=(0,g.f3M)(h.gN),this.isLoading$=this.select(st=>st.isLoading),this.error$=this.select(st=>st.error),this.error=(0,m.O4)(this.error$),this.data$=this.select(st=>st.data),this.chatCrmIdData$=this.select(st=>st.data?.chatCrmId??null),this.isSuccessData$=this.select(st=>st.data?.success??!1),this.isSuccessData=(0,m.O4)(this.isSuccessData$),this.errorData$=this.select(st=>st.data?.error),this.errorData=(0,m.O4)(this.errorData$),this.latestCrmChatName="",this.latestValidCrmChatData={chatCrmId:null,chatCrmName:null},this.fetchCrmIdByName=this.effect(st=>st.pipe((0,A.b)(dt=>this.latestCrmChatName=dt),(0,A.b)(()=>this.patchState({isLoading:!0,error:null,data:null})),(0,w.w)(dt=>this.crmChatRestService.getCrmChatId(dt).pipe((0,S._b)(St=>{this.patchState({isLoading:!1,error:null,data:St}),this.updateChatCrmId(St.chatCrmId),St.success||(this.updateChatCrmName(this.latestValidCrmChatData.chatCrmName),this.updateChatCrmId(this.latestValidCrmChatData.chatCrmId))},St=>{this.patchState({isLoading:!1,data:null,error:St}),this.updateChatCrmName(this.latestValidCrmChatData.chatCrmName),this.updateChatCrmId(this.latestValidCrmChatData.chatCrmId)})))))}static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275prov=g.Yz7({token:it,factory:it.\u0275fac})}}return it})();var V=o(1962);function et(it,It){if(1&it&&(g.TgZ(0,"a",7),g._uU(1,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0447\u0430\u0442"),g.qZA()),2&it){const st=g.oxw(2);g.Q6J("href",st.crmChatUrl+"edit/"+st.chatCrmIdControl.value,g.LSH)}}function tt(it,It){if(1&it){const st=g.EpF();g.ynx(0),g.TgZ(1,"div",1)(2,"tui-input",2),g._uU(3," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0447\u0430\u0442\u0430 "),g._UZ(4,"input",3),g.qZA(),g.TgZ(5,"button",4),g.NdJ("click",function(){g.CHM(st);const St=g.oxw();return g.KtG(St.fetchCrmChatIdByName())}),g._uU(6," \u041d\u0430\u0439\u0442\u0438 \u0447\u0430\u0442 "),g.qZA(),g.YNc(7,et,2,1,"a",5),g.qZA(),g._UZ(8,"tui-error",6),g.BQk()}if(2&it){const st=It.tuiLet,dt=g.oxw();g.xp6(5),g.Q6J("disabled",!dt.chatCrmNameControl.value)("loading",st),g.xp6(2),g.Q6J("ngIf",dt.chatCrmIdControl.value&&!st),g.xp6(1),g.Q6J("error",dt.chatErrorMessage())}}let ht=(()=>{class it{constructor(){this.parentContainer=(0,g.f3M)(h.gN),this.crmChatStore=(0,g.f3M)(L),this.crmChatUrl=(0,g.f3M)(a.L).get("CRM_CHAT"),this.extCrmChatNameToken$=(0,g.f3M)(f.aQ),this.destroyRef=(0,g.f3M)(g.ktI),this.chatErrorMessage=(0,g.Flj)(()=>!this.crmChatStore.isSuccessData()&&this.crmChatStore.errorData()?`\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0447\u0430\u0442\u0430 ${this.crmChatStore.latestCrmChatName}`:this.crmChatStore.error()?"\u0421\u0435\u0440\u0432\u0438\u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0434\u043d\u0435\u0435":null)}ngOnInit(){this.extCrmChatNameToken$.pipe((0,U.h)(Boolean),(0,R.q)(1),(0,A.b)(st=>{this.chatCrmNameControl.patchValue(st,{emitEvent:!1}),this.fetchCrmChatIdByName()}),(0,m.sL)(this.destroyRef)).subscribe(),this.chatCrmNameControl.valueChanges.pipe((0,A.b)(()=>this.crmChatStore.resetState()),(0,m.sL)(this.destroyRef)).subscribe(),(0,v.UD)(this.chatCrmIdControl).pipe((0,U.h)(Boolean),(0,U.h)(()=>!!this.chatCrmNameControl.value),(0,A.b)(st=>{this.crmChatStore.latestValidCrmChatData={chatCrmId:st,chatCrmName:this.chatCrmNameControl.value}}),(0,m.sL)(this.destroyRef)).subscribe(),this.crmChatStore.isLoading$.pipe((0,A.b)(st=>st?this.chatCrmNameControl.disable({emitEvent:!1}):this.chatCrmNameControl.enable({emitEvent:!1})),(0,m.sL)(this.destroyRef)).subscribe()}get form(){return this.parentContainer.control}get chatCrmNameControl(){return this.form.controls.chatCrmName}get chatCrmIdControl(){return this.form.controls.chatCrmId}fetchCrmChatIdByName(){this.crmChatStore.fetchCrmIdByName(this.chatCrmNameControl.value)}ngOnDestroy(){this.form.patchValue({chatCrmId:null,chatCrmName:null},{emitEvent:!1})}static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275cmp=g.Xpm({type:it,selectors:[["app-crm-chat"]],standalone:!0,features:[g._Bn([L],[{provide:h.gN,useFactory:()=>(0,g.f3M)(h.gN,{skipSelf:!0})}]),g.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],[1,"chat-wrapper"],["formControlName","chatCrmName","tuiTextfieldSize","m",1,"chat-input"],["tuiTextfieldLegacy",""],["size","m","tuiButton","","type","button","appearance","primary",1,"chat-apply-btn",3,"disabled","loading","click"],["tuiButton","","iconStart","chatIcon","size","xs","appearance","outline","class","chat-open-btn","target","_blank",3,"href",4,"ngIf"],[3,"error"],["tuiButton","","iconStart","chatIcon","size","xs","appearance","outline","target","_blank",1,"chat-open-btn",3,"href"]],template:function(dt,St){1&dt&&(g.YNc(0,tt,9,4,"ng-container",0),g.ALo(1,"async")),2&dt&&g.Q6J("tuiLet",g.lcZ(1,1,St.crmChatStore.isLoading$))},dependencies:[h.u5,h.JJ,_.O5,h.UX,h.u,O.Qf,O.K3,O.wU,V.MB,M.cn,M.sz,D.xG,_.Ov,y.e,E.R,C.i],styles:[".chat-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:10px}.chat-wrapper[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{width:228px}.chat-wrapper[_ngcontent-%COMP%]   .chat-apply-btn[_ngcontent-%COMP%]{--t-size: 32px;--t-padding: 0 .773rem}.chat-wrapper[_ngcontent-%COMP%]   .chat-open-btn[_ngcontent-%COMP%]{padding:0 13.25px!important}"],changeDetection:0})}}return it})()},1646:(Qt,$,o)=>{"use strict";o.d($,{cx:()=>R,GV:()=>C,c:()=>U,Ub:()=>E,Vl:()=>O,_6:()=>y});var e=o(5879),t=o(7019),a=o(2550),i=o(2926),g=o(4664),T=o(4911),_=o(8504),m=o(8180),h=o(7398),f=o(8413),v=o(692);let C=(()=>{class A{constructor(w){this.aegleRestService=w,this.endPoint="dp-request",this.policyParams$=(0,e.f3M)(i.Cp).pipe((0,m.q)(1)),this.appGlobalUserUtcOffset=(0,e.f3M)(t.JJ)}createDPRequest(w,p){return this.policyParams$.pipe((0,g.w)(([L,V])=>{const et={EmployeeDatetime:(0,a.P1)(),EmployeeTimezone:this.appGlobalUserUtcOffset};return this.aegleRestService.post(`/${this.endPoint}`,{...w,extCaseCrmId:p,clientPolicyGuid:L,sysCode:V},{headers:et})}))}createDPRequestWOClients(w,p){const L={EmployeeDatetime:(0,a.P1)(),EmployeeTimezone:this.appGlobalUserUtcOffset};return this.aegleRestService.post(`/${this.endPoint}-wo-client`,{...w,extCaseCrmId:p},{headers:L}).pipe((0,h.U)(V=>({...V,body:{...V.body,diagnosis:V.body.diagnosis.map(et=>et.uid)},registration:{...V.registration,createdAt:(0,a.rd)(V.registration.createdAt,V.registration.createdAtTimeZone)??"",updatedAt:(0,a.rd)(V.registration.updatedAt,V.registration.createdAtTimeZone)??"",createdAtTimeZone:this.appGlobalUserUtcOffset,updatedAtTimeZone:this.appGlobalUserUtcOffset}})))}createChildDPRequest(w){const p={employeeDateTime:(0,a.P1)(),employeeTimeZone:this.appGlobalUserUtcOffset};return this.policyParams$.pipe((0,g.w)(([L])=>this.aegleRestService.post(`/${this.endPoint}/child-request`,{...w,parentRequestId:Number(w.parentRequestId),clientPolicyGuid:L,...p}).pipe((0,h.U)(V=>({...V,body:{...V.body,diagnosis:V.body.diagnosis.map(et=>et.uid)}})))))}getDpRequest(w){return this.aegleRestService.get(`/${this.endPoint}/fullinfo/${w}`).pipe((0,h.U)(p=>({...p,body:{...p.body,diagnosis:p.body.diagnosis.map(L=>L.uid)}})))}updateRegRequest(w,p){const L=f.H2.convertToDto(p,this.appGlobalUserUtcOffset);return this.aegleRestService.post(`/dp-request/reg-request/${w}`,L)}updateRegRequestAndNextStatus(w,p){const L=f.H2.convertToDto(p,this.appGlobalUserUtcOffset);return this.aegleRestService.post(`/dp-request/reg-request/${w}/next-status`,L)}updateServAgreeRequest(w,p){const L=f.nb.convertToDto(p);return this.aegleRestService.post(`/dp-request/serv_agree/${w}`,L)}updateServAgreeRequestAndNextStatus(w,p){const L=f.nb.convertToDto(p);return this.aegleRestService.post(`/dp-request/serv_agree/${w}/next-status`,L)}saveLinkedServicesAndTasks(w,p){return this.aegleRestService.post(`/dp-request/${w}/tasks`,p,{headers:{employeeTimeZone:this.appGlobalUserUtcOffset}})}cancelService(w,p){return this.aegleRestService.post("/dp-request/tasks/cancel",{id:w,cancelServiceReasonCode:p})}getTaskListByRequestId(w){return this.aegleRestService.get(`/dp-request/${w}/tasks`).pipe((0,h.U)(p=>({...p,tasks:p.tasks.map(L=>(0,f.z7)(L)),services:p.services.map(L=>(0,f.Rm)(L,p.tasks))})))}saveDetailsOfTask(w,p){const L={employeeTimeZone:this.appGlobalUserUtcOffset};return(0,T.P)(()=>p.task.id?this.aegleRestService.put(`/dp-request/${w}/tasks`,p,{headers:L}):(0,_._)(()=>new Error("Task id is not exist")))}updateTaskStatusOrAssigneeEmployee(w,p){return this.aegleRestService.patch(`/employee/task-groups/${w}`,{tasks:p})}setExecFilial(w,p){return this.aegleRestService.patch(`/dp-request/${w}/set-exec-filial`,{execFilialCode:p})}removeDraft(w){return this.aegleRestService.delete("/dp-request",{params:{objectId:w}})}static{this.\u0275fac=function(p){return new(p||A)(e.LFG(v.DA))}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();var D=o(7667);let y=(()=>{class A extends D.M${constructor(){super(...arguments),this.restService=(0,e.f3M)(v.DA),this.endPoint="/statistics/list"}fetchStat(w){return this.restService.post(this.endPoint,w)}static{this.\u0275fac=function(){let w;return function(L){return(w||(w=e.n5z(A)))(L||A)}}()}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac})}}return A})(),E=(()=>{class A{constructor(){this.aegleRestService=(0,e.f3M)(v.DA),this.endPoint="/smp"}createAmbulanceOrder(w){return this.aegleRestService.post(`${this.endPoint}/post-smp-order`,w)}updateAmbulanceOrder(w){return this.aegleRestService.post(`${this.endPoint}/update-order`,w).pipe((0,h.U)(p=>(0,a.yl)(p,["datetimeDeparture","datetimeArrival","datetimeCompletion"],p.msInfoGroupRequestTimeZone)))}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac})}}return A})(),O=(()=>{class A extends D.PZ{constructor(){super(...arguments),this.routerStore=(0,e.f3M)(i.fT)}filter$(w){return this.routerStore.queryParam$(w)}set(w){this.routerStore.setQueryParams(w)}static{this.\u0275fac=function(){let w;return function(L){return(w||(w=e.n5z(A)))(L||A)}}()}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac})}}return A})();var M=o(1728);let U=(()=>{class A extends M.mx{constructor(){super(...arguments),this.endPoint="/notification",this.aegleRestService=(0,e.f3M)(v.DA),this.appGlobalUserUtcOffset=(0,e.f3M)(t.JJ)}getSamples(w,p){const L={typeDocCode:w};return p&&(L.source=p),this.aegleRestService.get(`${this.endPoint}/patterns`,{params:L})}getSampleText(w){return this.aegleRestService.post(`${this.endPoint}/pattern`,{typeDocCode:w.typeDocCode,patternCode:w.patternCode,groupNumber:w.groupNumber,tags:w.tags,policyNumber:w.policyNumber,requestId:w.requestId})}getMessage(w){return this.aegleRestService.post(`/v2${this.endPoint}/message`,w)}getMessages(w){return this.aegleRestService.get(`${this.endPoint}/messages`,{params:{goldenId:w.goldenId,requestId:w.requestId,timeZone:this.appGlobalUserUtcOffset}})}static{this.\u0275fac=function(){let w;return function(L){return(w||(w=e.n5z(A)))(L||A)}}()}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac})}}return A})(),R=(()=>{class A{constructor(){this.endpoint="/v1/comment",this.aegleRestService=(0,e.f3M)(v.DA)}getComments(w){return this.aegleRestService.post(`${this.endpoint}/get`,w)}getPinnedComments(w){return this.aegleRestService.post(`${this.endpoint}/get-pinned`,w)}addComment(w){return this.aegleRestService.post(`${this.endpoint}/add`,w)}editComment(w){return this.aegleRestService.post(`${this.endpoint}/edit`,w)}deleteComment(w){return this.aegleRestService.post(`${this.endpoint}/toggle-delete`,w)}togglePinComment(w){return this.aegleRestService.post(`${this.endpoint}/toggle-pin`,w)}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},3266:(Qt,$,o)=>{"use strict";o.d($,{t5:()=>F.t5,ms:()=>F.ms,gq:()=>F.gq,cx:()=>w.cx,Cf:()=>p.Cf,rM:()=>ut,GV:()=>w.GV,ZG:()=>p.ZG,j:()=>p.j,cA:()=>p.cA,q5:()=>F.q5,pQ:()=>p.pQ,U:()=>F.U,wH:()=>p.wH,mg:()=>p.mg,Po:()=>p.Po,gi:()=>p.gi,mz:()=>p.mz,VB:()=>p.VB,k1:()=>p.k1,Dy:()=>F.Dy,m9:()=>F.m9,sn:()=>F.sn,i5:()=>F.i5,w4:()=>F.w4,pt:()=>F.pt,Tg:()=>p.Tg,V_:()=>p.V_,KX:()=>F.KX,LJ:()=>F.LJ,DP:()=>p.DP,c:()=>w.c,yI:()=>F.yI,KK:()=>p.KK,G9:()=>F.G9,hE:()=>p.hE,mN:()=>F.mN,Ub:()=>w.Ub,dm:()=>F.dm,Vl:()=>w.Vl,_6:()=>w._6,iv:()=>p.iv,iH:()=>F.iH,eK:()=>p.eK,pv:()=>F.pv,$W:()=>p.$W,JP:()=>p.JP,_H:()=>I,L3:()=>F.L3,Pc:()=>F.Pc,Rq:()=>F.Rq,F3:()=>F.F3,n8:()=>F.n8,Fm:()=>F.Fm,yp:()=>F.Tg,oW:()=>F.oW,_C:()=>F._C,VD:()=>F.VD,JU:()=>p.JU});var e=o(7582),t=o(6814),a=o(5879),i=o(7319),g=o(1912),T=o(7019),_=o(4287),m=o(7667),h=o(7354),f=o(4221),v=o(8767),C=o(8451),D=o(1534),y=o(2527),E=o(3650),O=o(5619),M=o(2572),U=o(7234),R=o(8180),A=o(7398),S=o(4664),w=o(1646),p=o(4157);function L(ot,nt){1&ot&&a._UZ(0,"dms-loader",5)}function V(ot,nt){1&ot&&a._UZ(0,"app-data-fetch-error")}function et(ot,nt){1&ot&&(a.TgZ(0,"div",19),a._UZ(1,"tui-icon",20),a.qZA())}function tt(ot,nt){if(1&ot&&(a.TgZ(0,"app-badge",21),a._uU(1),a.qZA()),2&ot){const At=a.oxw(4).tuiLet;a.xp6(1),a.hij(" ",At.requestStatus.value," ")}}function ht(ot,nt){if(1&ot&&(a.TgZ(0,"div",15),a.YNc(1,et,2,0,"div",16),a.ALo(2,"async"),a.TgZ(3,"div",17),a._uU(4),a.qZA(),a.YNc(5,tt,2,1,"app-badge",18),a.qZA()),2&ot){const At=a.oxw(3).tuiLet,Dt=a.oxw(2);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,3,Dt.store.isUrgent$)),a.xp6(3),a.hij("\u2116",At.regNumber,""),a.xp6(1),a.Q6J("ngIf",At.requestStatus)}}function it(ot,nt){if(1&ot){const At=a.EpF();a.ynx(0),a.TgZ(1,"button",25),a.NdJ("updateCommentsQuantity",function(Wt){a.CHM(At);const Nt=a.oxw(6);return a.KtG(Nt.updateCommentsQuantity(Wt))}),a._UZ(2,"tui-icon",26),a.TgZ(3,"app-badge"),a._uU(4),a.ALo(5,"async"),a.qZA()(),a.BQk()}if(2&ot){const At=nt.ngIf,Dt=a.oxw(6);a.xp6(1),a.Q6J("config",At),a.xp6(3),a.Oqu(a.lcZ(5,2,Dt.commentsQuantity$))}}function It(ot,nt){if(1&ot&&(a.TgZ(0,"div",22),a.YNc(1,it,6,4,"ng-container",0),a.ALo(2,"async"),a.TgZ(3,"button",23),a._UZ(4,"tui-icon",24),a.qZA()()),2&ot){const At=a.oxw(3).tuiLet,Dt=a.oxw(2);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,3,Dt.commentsConfig$)),a.xp6(2),a.Q6J("entityDescription",Dt.getEntityDescription(At.regNumber))("statisticParams",Dt.getStatisticConfig(At.requestId))}}function st(ot,nt){if(1&ot&&(a.ynx(0),a.TgZ(1,"app-island-expand",7),a.ALo(2,"async"),a.TgZ(3,"div",8)(4,"div",9)(5,"div",10),a._uU(6,"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"),a.qZA(),a.TgZ(7,"div",11),a._uU(8),a.ALo(9,"fixedDateBasedOnTimeZone"),a.qZA()(),a.TgZ(10,"div",9)(11,"div",10),a._uU(12,"\u0427\u0430\u0441\u043e\u0432\u043e\u0439 \u043f\u043e\u044f\u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),a.qZA(),a.TgZ(13,"div",12),a._uU(14),a.qZA()(),a.TgZ(15,"div",9)(16,"div",10),a._uU(17,"\u0424\u0438\u043b\u0438\u0430\u043b \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),a.qZA(),a.TgZ(18,"div",12),a._uU(19),a.qZA()(),a.TgZ(20,"div",9)(21,"div",10),a._uU(22,"\u0424\u0438\u043b\u0438\u0430\u043b \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),a.qZA(),a.TgZ(23,"div",12),a._uU(24),a.qZA()()()(),a.YNc(25,ht,6,5,"ng-template",null,13,a.W1O),a.YNc(27,It,5,5,"ng-template",null,14,a.W1O),a.BQk()),2&ot){const At=a.MAs(26),Dt=a.MAs(28),Wt=a.oxw(2).tuiLet,Nt=a.oxw(2);a.xp6(1),a.ekj("urgent",a.lcZ(2,9,Nt.store.isUrgent$)),a.Q6J("heading",At)("rightHeaderContent",Dt)("isExpand",!1),a.xp6(7),a.hij(" ",a.xi3(9,11,Wt.createdAt,"dd.MM.y, HH:mm:ss")," "),a.xp6(6),a.Oqu(Wt.clientTimeZone),a.xp6(5),a.Oqu(null==Wt.registrationFilial?null:Wt.registrationFilial.value),a.xp6(5),a.Oqu(null==Wt.executorFilial?null:Wt.executorFilial.value)}}function dt(ot,nt){if(1&ot&&(a.ynx(0),a.YNc(1,st,29,14,"ng-container",6),a.BQk()),2&ot){const At=a.oxw().tuiLet,Dt=a.MAs(5);a.xp6(1),a.Q6J("ngIf",At)("ngIfElse",Dt)}}function St(ot,nt){1&ot&&(a.TgZ(0,"div",27),a._uU(1,"\u041d\u043e\u0432\u043e\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435"),a.qZA())}function bt(ot,nt){if(1&ot&&(a.TgZ(0,"header",2),a.YNc(1,L,1,0,"dms-loader",3),a.YNc(2,V,1,0,"app-data-fetch-error",0),a.YNc(3,dt,2,2,"ng-container",0),a.YNc(4,St,2,0,"ng-template",null,4,a.W1O),a.qZA()),2&ot){const At=nt.tuiLet,Dt=a.oxw().ngIf;a.xp6(1),a.Q6J("ngIf",Dt.isLoading&&!At),a.xp6(1),a.Q6J("ngIf",Dt.error),a.xp6(1),a.Q6J("ngIf",!Dt.isLoading&&!Dt.error)}}function u(ot,nt){if(1&ot&&(a.ynx(0),a.YNc(1,bt,6,3,"header",1),a.BQk()),2&ot){const At=nt.ngIf;a.xp6(1),a.Q6J("tuiLet",At.registration)}}class ut{constructor(){this.store=(0,a.f3M)(p.ZG),this.sourceCode=(0,a.f3M)(h.Uc),this.profileStore=(0,a.f3M)(f.yh),this.commentsApiService=(0,a.f3M)(w.cx),this.destroyRef=(0,a.f3M)(a.ktI),this.commentsQuantity$=new O.X(0)}createdAt(nt){return(0,E.Z)(nt)}getStatisticConfig(nt){return{sourceCode:this.sourceCode,parentType:"DPRequest",parentId:nt.toString(),parentGuid:null,pageSize:null}}getEntityDescription(nt){return`\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u2116${nt}`}ngOnInit(){this.setCommentsConfig(),this.getCommentsQuantity()}setCommentsConfig(){this.commentsConfig$=(0,M.a)([this.store.registration$,this.profileStore.select(g.CurrentUserKeycloakProfileSelector)]).pipe((0,U.n)(([nt,At])=>!nt||!At),(0,R.q)(1),(0,A.U)(([nt,At])=>nt?{header:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",sourceCode:this.sourceCode,objectType:"dp_request",author:At?.username,objectId:nt.requestId,objectUId:"",canDelete:!1,canPin:!0,highlightPinned:!0,canShowReplies:!0,maxPinnedComments:3,maxRepliesLadderLevel:8}:null))}getCommentsQuantity(){this.commentsConfig$.pipe((0,U.n)(nt=>!nt),(0,R.q)(1),(0,S.w)(nt=>this.commentsApiService.getComments({sourceCode:nt?.sourceCode,objectType:nt?.objectType,objectUId:nt?.objectUId,objectId:nt?.objectId||void 0}))).subscribe(nt=>{this.commentsQuantity$.next(nt?.infoPagination?.totalItems||0)})}updateCommentsQuantity(nt){this.commentsQuantity$.next(nt)}static{this.\u0275fac=function(At){return new(At||ut)}}static{this.\u0275cmp=a.Xpm({type:ut,selectors:[["app-dp-request-header"]],standalone:!0,features:[a._Bn([{provide:m.M$,useClass:w._6},{provide:m.PZ,useClass:w.Vl}]),a.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["class","dp-request-header dms-island",4,"tuiLet"],[1,"dp-request-header","dms-island"],["size","s",4,"ngIf"],["newRequest",""],["size","s"],[4,"ngIf","ngIfElse"],[3,"heading","rightHeaderContent","isExpand"],[1,"dp-request-header__additional-info"],[1,"cell"],[1,"text-label"],[1,"dp-request-header__creationDate"],[1,"dp-request-header__text"],["reqNumber",""],["actions",""],[1,"dp-request-header__main-info"],["class","urgent-label",4,"ngIf"],[1,"dp-request-header__number"],["status","error",4,"ngIf"],[1,"urgent-label"],["icon","lightningIcon"],["status","error"],[1,"actions-container"],["dmsOpenStat","","tuiButton","","size","m","appearance","whiteblock","type","button",3,"entityDescription","statisticParams"],["icon","statisticsIcon"],["libDmsOpenCommentsPopup","","tuiButton","","size","m","appearance","whiteblock","type","button",1,"comments-button",3,"config","updateCommentsQuantity"],["icon","messageSquareIcon"],[1,"new-request"]],template:function(At,Dt){1&At&&(a.YNc(0,u,2,1,"ng-container",0),a.ALo(1,"async")),2&At&&a.Q6J("ngIf",a.lcZ(1,1,Dt.store.state$))},dependencies:[t.O5,D.R,T.FN,h.tF,y.xG,v.i,t.Ov,h.gK,h.Ph,m.lh,_.L,i.jc],styles:[".text-label[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-background-accent-opposite-pressed)}.dp-request-header[_ngcontent-%COMP%]{display:flex;width:100%;font:var(--tui-font-heading-3);border-top:1px solid var(--dms-border-color)}.dp-request-header__main-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.dp-request-header__main-info[_ngcontent-%COMP%]   .urgent-label[_ngcontent-%COMP%]{padding:7px 16px;display:flex;background:#ff4040;border-radius:var(--tui-radius-s)}.dp-request-header__main-info[_ngcontent-%COMP%]   .urgent-label[_ngcontent-%COMP%]   tui-svg[_ngcontent-%COMP%]{width:18px;height:18px}.dp-request-header__number[_ngcontent-%COMP%]{font:var(--tui-font-heading-2)}.dp-request-header__creationDate[_ngcontent-%COMP%], .dp-request-header__text[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.dp-request-header[_ngcontent-%COMP%]     app-island-expand{width:100%}.dp-request-header[_ngcontent-%COMP%]     app-island-expand>section{background:#f3f3f3}.dp-request-header[_ngcontent-%COMP%]     app-island-expand.urgent .dms-island-header{background:linear-gradient(180deg,#ffe5e5 0%,#fbeded 50.5%,#f5f5f5 100%);border-radius:var(--tui-radius-s) var(--tui-radius-s)}.dp-request-header[_ngcontent-%COMP%]     app-island-expand tui-expand{border-top:1px solid var(--tui-border-hover)}.dp-request-header[_ngcontent-%COMP%]     app-island-expand tui-expand .content{padding:0}.dp-request-header[_ngcontent-%COMP%]     app-island-expand .dms-island-header{align-items:center}.dp-request-header[_ngcontent-%COMP%]     app-island-expand .actions-container{margin-right:16px;display:flex;gap:8px}.dp-request-header[_ngcontent-%COMP%]     app-island-expand .actions-container button{width:3.5rem}  .dp-request-header__additional-info{display:flex}.dp-request-header[_ngcontent-%COMP%]   .new-request[_ngcontent-%COMP%]{padding:15px;width:100%;font:var(--tui-font-heading-2);background-color:#f3f3f3;border-radius:var(--tui-radius-s)}.dp-request-header[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:11px 28px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:var(--tui-background-base-alt);border-right:1px solid var(--tui-border-hover)}.dp-request-header[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]:first-child{padding:11px 16px;border-radius:var(--tui-radius-s) 0 0 var(--tui-radius-s)}.border-all[_nghost-%COMP%]   .dms-island[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m)}.comments-button[_ngcontent-%COMP%]{padding:0 12px 0 14px;width:auto!important}"],changeDetection:0})}}(0,e.gn)([C.UM],ut.prototype,"createdAt",null),(0,e.gn)([C.UM],ut.prototype,"getStatisticConfig",null),(0,e.gn)([C.UM],ut.prototype,"getEntityDescription",null);const Z=["*"];let I=(()=>{class ot{static{this.\u0275fac=function(Dt){return new(Dt||ot)}}static{this.\u0275cmp=a.Xpm({type:ot,selectors:[["app-task-put-off-state"]],standalone:!0,features:[a.jDz],ngContentSelectors:Z,decls:3,vars:0,consts:[[1,"put-off-block"],[1,"put-off-icon"]],template:function(Dt,Wt){1&Dt&&(a.F$t(),a.TgZ(0,"div",0),a._UZ(1,"div",1),a.Hsn(2),a.qZA())},styles:['.put-off-block[_ngcontent-%COMP%]{padding:0 6px;display:flex;align-items:center;font:var(--tui-font-text-xs);color:var(--tui-text-primary-on-accent-1);background-color:#858585;border:1px #7a7575 solid;border-radius:var(--tui-radius-s);gap:6px}.put-off-block[_ngcontent-%COMP%]   .put-off-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.put-off-block[_ngcontent-%COMP%]   .put-off-icon[_ngcontent-%COMP%]:before, .put-off-block[_ngcontent-%COMP%]   .put-off-icon[_ngcontent-%COMP%]:after{width:4px;height:10px;content:"";background:var(--tui-background-base);border:1px rgba(0,0,0,.2) solid;border-radius:2px}'],changeDetection:0})}}return ot})();var F=o(8413)},8413:(Qt,$,o)=>{"use strict";o.d($,{t5:()=>C,ms:()=>D,gq:()=>E,q5:()=>e,U:()=>v,Dy:()=>a,m9:()=>_,sn:()=>f,i5:()=>T,w4:()=>g,pt:()=>p,KX:()=>h,LJ:()=>m,yI:()=>V,G9:()=>A,mN:()=>tt,dm:()=>ht,iH:()=>y,pv:()=>t,L3:()=>u,Pc:()=>bt,Rq:()=>St,F3:()=>dt,n8:()=>st,Fm:()=>It,Tg:()=>L,oW:()=>B,WI:()=>Wt,_C:()=>F,VD:()=>ot,H2:()=>Dt,nb:()=>Rt,z7:()=>Z,Rm:()=>I});const e={REGISTER_REQ:"reg_request",APPROVE_SERVICE:"serv_agree"},t={APP:"\u0410\u041f\u041f",PND:"\u041f\u041d\u0414",SMP:"\u0421\u041c\u041f",HOSPITALIZATION:"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440",STOM:"\u0421\u0442\u043e\u043c",TELEMED:"\u0422\u041c\u041a",CLAIM:"clm",NEGATIVE:"neg"},a=[t.PND,t.SMP,t.HOSPITALIZATION,t.STOM],i="cons",g=[t.SMP,t.HOSPITALIZATION,t.APP],T=[t.SMP,t.HOSPITALIZATION],_=[t.APP],m=[t.CLAIM,t.NEGATIVE],h=[t.CLAIM,t.NEGATIVE,i],f=[t.NEGATIVE,t.CLAIM,i],v={SERVICES:"Services",CANCEL_REASON:"Cancel_Reason",CALL_RESULT_CANCEL:"Call_Result_Cancel",CALL_RESULT:"Call_Result",TELEMED_RESULT:"Tlm_Result",OBR_CATEGORY:"Obr_Category",EMPLOYEE_ACTION:"Task",SUBJECT:"Subject",SUBJECT_EXT:"Subject_Ext",SUBJECT_CATEGORY:"Subject_Category",REQUEST_MODE:"Request_Mode",REQUEST_STATUS:"Request_Status",REQUEST_TYPE:"Request_Type",EXECUTOR_TYPE:"Executer_Type",CONTROL_REASON:"Control_Reason",PARTNER_TYPE:"Partner_Type",HOSP_TERMS:"Gosp_Terms",HOSP_STAGES:"Gosp_Stage",HOSP_OTDEL:"Gosp_Otdel",ROOM_TYPE:"Room_Type",PND_RESULT:"PND_Result",HOSP_RESULT:"Gosp_Result",SMP_RESULT:"SMP_Result",SMP_PARTNER_TYPE:"SMP_Partner_Codes",MKB10:"Diagnosis_Mkb_10",COMPLAINTS:"Complaints",TASK_STATE:"Service_State",SPECIALIZATION:"Specialization",DIAGNOSTIC_TYPE:"Diagnostic_Type",LPU_DEPARTMENT:"Lpu_Department",MA_TYPE:"MA_Type",LPU_RATING:"LPU_Rating",LPU_REGIONS:"LPU_Regions",FILIAL:"Filial"},C={SUCCESS:"succ",CLINIC_REJECT:"denyL",CLIENT_REJECT:"denyC",AWAITING:"awaiting"},D={[C.CLINIC_REJECT]:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u0430\u0437\u0430 \u041b\u041f\u0423",[C.CLIENT_REJECT]:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u0430\u0437\u0430 \u041a\u043b\u0438\u0435\u043d\u0442\u0430",[C.AWAITING]:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435",[C.SUCCESS]:"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0437\u0432\u043e\u043d\u043e\u043a"},y={TMJ:"vnchs",CLEANING:"prof_hyg",DISEASE:"diseases",OPTG:"optg",TOOTH:"tooth"},E=[t.SMP,t.PND,t.HOSPITALIZATION,t.TELEMED],A={transfer_via_profile:null,app:t.APP,housecare:t.PND,tmc:t.TELEMED,emerg_call:t.SMP,call_ambulance:t.SMP,outpatient_care:t.APP,rep_hs:t.PND,hosp_org:t.HOSPITALIZATION,call_doct_home:t.PND,app:t.APP,homeserv:t.PND,call_smp:t.SMP},S_APP="\u0410\u043c\u0431\u0443\u043b\u0430\u0442\u043e\u0440\u043d\u043e-\u043f\u043e\u043b\u0438\u043a\u043b\u0438\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u043e\u043c\u043e\u0449\u044c",S_PND="\u041f\u043e\u043c\u043e\u0449\u044c \u043d\u0430 \u0434\u043e\u043c\u0443",S_SMP="\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u0421\u041c\u041f",p={transfer_via_profile:["\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u041b\u041f\u0423 \u043f\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044e","\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u041b\u041f\u0423 \u043f\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044e"],app:[S_APP,"\u0410\u041f\u041f"],housecare:[S_PND,"\u041f\u041d\u0414"],tmc:["\u0422\u041c\u041a","\u0422\u041c\u041a"],emerg_call:[S_SMP,"\u0432\u044b\u0437\u043e\u0432 \u0421\u041c\u041f"],call_ambulance:[S_SMP,"\u0432\u044b\u0437\u043e\u0432 \u0421\u041c\u041f"],outpatient_care:[S_APP,"\u0410\u041f\u041f"],rep_hs:[S_PND,"\u041f\u041d\u0414"],hosp_org:["\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440","\u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e"],call_doct_home:[S_PND,"\u041f\u041d\u0414"],app:[S_APP,"\u0410\u041f\u041f"],homeserv:[S_PND,"\u041f\u041d\u0414"],call_smp:[S_SMP,"\u0432\u044b\u0437\u043e\u0432 \u0421\u041c\u041f"]},L="techProblem",V={CLINIC:"lpu",LAB:"invitro",TELEMED:"tlm"};var tt=function(k){return k.MEDINS="2",k.LPU="1",k}(tt||{}),ht=function(k){return k.NEW="\u041d\u043e\u0432\u0430\u044f",k.IN_DISCUSSION="\u041d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438 (\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0421\u041c\u041f/\u041f\u041d\u0414 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e)",k.IN_REVIEW="\u041f\u0440\u0438\u043d\u044f\u0442\u0430 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u043e\u043c (\u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0438 \u0443 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430 \u0421\u041c\u041f/\u041f\u041d\u0414)",k.IN_WORK="\u0412\u0437\u044f\u0442\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0443",k.ASIGNED_ON_GROUP="\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u043d\u0430 \u0431\u0440\u0438\u0433\u0430\u0434\u0443",k.ASIGNED_ON_DOCTOR="\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u043d\u0430 \u0432\u0440\u0430\u0447\u0430",k.GOSPITALIZATIN_REQUEST="\u0417\u0430\u043f\u0440\u043e\u0441 \u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438",k.DISCTUSSION_STARTED="\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0430\u0447\u0430\u043b\u0438",k.REJECTED="\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430",k.COMPLETED="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430",k}(ht||{}),it=o(7019);const It={AGREED:"Agr",DONE:"done",NEED_AGREEMENT:"needAgr",NEED_ORGANIZATION:"needAgr",NEED_WORK:"paperwork",NOT_AGREED:"notAgr",WAITING_TMC:"tlmAwait",TECH_PROBLEM_TMC:"tlmtechproblem"},st={[It.NEED_WORK]:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435"},dt={[It.AGREED]:it.U7.SUCCESS,[It.DONE]:it.U7.SUCCESS,[It.NEED_AGREEMENT]:it.U7.ERROR,[It.NEED_ORGANIZATION]:it.U7.ERROR,[It.NEED_WORK]:it.U7.OTHER,[It.WAITING_TMC]:it.U7.INFO,[It.NOT_AGREED]:it.U7.ERROR,[It.TECH_PROBLEM_TMC]:it.U7.ERROR},St={DONE:"done",IN_PROGRESS:"in_progress",DELAYED:"delayed",NEW:"new",ASSIGNED:"assigned"},bt={[St.DONE]:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e",[St.IN_PROGRESS]:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",[St.DELAYED]:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e \u0434\u043e",[St.NEW]:"\u041d\u043e\u0432\u043e\u0435",[St.ASSIGNED]:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430"},u={[St.DONE]:it.U7.SUCCESS,[St.DELAYED]:it.U7.OTHER,[St.IN_PROGRESS]:it.U7.WARNING,[St.NEW]:it.U7.OTHER,[St.ASSIGNED]:it.U7.OTHER};var ut=o(2550);const Z=k=>k.isApproved?{...k,provider:k.provider?{...k.provider,clinics:k.provider?.clinics?.map(yt=>({...yt,createdAt:(0,ut.rd)(yt.createdAt,k.requestTimeZone??null)}))}:null,smpDatetimeArrival:(0,ut.rd)(k.smpDatetimeArrival??null,k.requestTimeZone??null)??k.smpDatetimeArrival,smpDatetimeDeparture:(0,ut.rd)(k.smpDatetimeDeparture??null,k.requestTimeZone??null)??k.smpDatetimeDeparture,smpDatetimeCompletion:(0,ut.rd)(k.smpDatetimeCompletion??null,k.requestTimeZone??null)??k.smpDatetimeCompletion,smpDatetimeArrivalPlan:k.smpDatetimeArrivalPlan}:k,I=(k,yt)=>{const Y=yt.find(xt=>xt.number===k.taskGroupNumber);return{...k,reception:{...k.reception,schedules:k.reception.schedules.map(xt=>({datetimePlanStart:(0,ut.rd)(xt.datetimePlanStart,Y?.requestTimeZone??null)??xt.datetimePlanStart,datetimePlanEnd:(0,ut.rd)(xt.datetimePlanEnd,Y?.requestTimeZone??null)??xt.datetimePlanEnd}))}}},F=k=>k.requestTypeCode===e.REGISTER_REQ,ot=k=>k.requestTypeCode===e.APPROVE_SERVICE;var nt=o(4657);const Dt=new class At{convertToDto(yt,Y){(!yt.chatCrmId||!yt.chatCrmName)&&(yt.chatCrmName=null,yt.chatCrmId=null);const{subjects:xt,subjectExtCode:z,...at}=yt;return{...at,subjects:xt?.map(Pt=>({subjectCode:Pt,subjectExtCode:z}))||null,employeeTimeZone:Y,requestTimezone:it.C6,requestRegionCode:it.gE}}convertFromDto({body:yt,task:Y}){return{...(0,nt.o)(yt),subjectExtCode:yt.subjectExtCode,comment:yt.comment,supervision:{controlReasonCode:Y&&Y.controlReasonCode,controlExecutorTypeCode:Y&&Y.controlExecutorTypeCode,controlExecuted:Y&&Y.controlExecuted},executorTypeCode:Y&&Y.executorTypeCode}}},Wt=k=>{const yt=new Set;return k?.forEach(Y=>Y.subjectExtCode&&yt.add(Y.subjectExtCode)),Array.from(yt)},Rt=new class Nt{convertToDto(yt){(!yt.chatCrmId||!yt.chatCrmName)&&(yt.chatCrmName=null,yt.chatCrmId=null);const{subjectExt:Y,extSubjectList:xt,...z}=yt,at=[];Y&&at.push(Y),xt&&at.push(...xt);let Pt=null;if(yt.subjects)if(1===yt.subjects.length){const[De]=yt.subjects;Pt=at.length?at.map(Ut=>({subjectCode:De,subjectExtCode:Ut})):[{subjectCode:De,subjectExtCode:null}]}else yt.subjects.length>1&&(Pt=yt.subjects.map(De=>({subjectCode:De,subjectExtCode:null})));const Gt={...z,subjects:Pt};return Gt.subjects?.some(De=>De.subjectCode===t.HOSPITALIZATION||De.subjectCode===t.PND)&&(Gt.requestTimezone=it.C6),Gt}convertFromDto(yt){const Y={...(0,nt.o)(yt),meta:yt.meta??{},isNoTelemed:yt.noTelemed,diagnosis:yt.diagnosis,complaints:yt.complaints};if(Y.subjects&&Y.subjects?.length>0){const xt=Y.subjects[0],z=Wt(yt.subjectData);if(_.includes(xt))return z.length>1&&(Y.extSubjectList=z),1===z.length&&(Y.extSubjectList=[z[0]]),Y;z.length>1&&(Y.extSubjectList=z),1===z.length&&(Y.subjectExt=z[0])}return Y}},B=new(o(5879).OlP)("Provide UrlTree for navigate after update dp request")},4657:(Qt,$,o)=>{"use strict";o.d($,{o:()=>e});const e=t=>({requestTypeCode:t.requestTypeCode,contactMethodCode:t.contactMethodCode,chatCrmName:t.chatCrmName,chatCrmId:t.chatCrmId,requestorCategoryCode:t.requestorCategoryCode,subjects:[...new Set(t.subjectData.map(a=>a.subjectCode))],subjectExtCode:t.subjectExtCode,comment:t.comment,isUrgent:t.urgent})},4157:(Qt,$,o)=>{"use strict";o.d($,{Cf:()=>Ft,ZG:()=>it,j:()=>z,cA:()=>Nt,pQ:()=>St,wH:()=>Rt,mg:()=>Pe,Po:()=>bt,gi:()=>u,mz:()=>Z,VB:()=>Gt,k1:()=>Pt,Tg:()=>xt,V_:()=>le,DP:()=>Q,KK:()=>yt,hE:()=>Wt,iv:()=>De,eK:()=>At,$W:()=>at,JP:()=>Y,JU:()=>Dt});var e=o(5879),t=o(4190),a=o(7019),i=o(2926),g=o(9673),T=o(8131),_=o(4728),m=o(2198),h=o(2096),f=o(2181),v=o(4664),C=o(4911),D=o(9773),y=o(7921),E=o(9315),O=o(6232),M=o(6306),U=o(7634),R=o(8504),A=o(9397),S=o(8180),w=o(7398),p=o(9779),L=o(1646),V=o(8413),et=o(4657);const tt={requestTypeCode:null,contactMethodCode:null,requestorCategoryCode:null,subjects:null,isUrgent:null},ht={isLoading:!1,error:null,registration:null,body:null,client:null,fetchedTasks:null};let it=(()=>{class Ue extends g.m1{openSaveSuccessDialog(de){return new Promise(ae=>{(0,h.of)(null).pipe((0,T.IC)(()=>this.registration$.pipe((0,f.h)(Boolean))),(0,v.w)(([,{regNumber:$e}])=>this.saveSuccessDialog$($e))).subscribe({complete:()=>ae(de)})})}initDpRequest(de=tt){this.updateDpRequest(de)}saveChildRequest(de){return this.patchState({isLoading:!0}),(0,C.P)(()=>de.pipe((0,A.b)({next:()=>this.patchState({isLoading:!1}),error:()=>this.patchState({isLoading:!1})})))}saveServAgreeRequest(de){const ae=this.saveServAgreeRequestWithoutDialog(de);return this.mapSaveRequest(ae)}saveServAgreeRequestWithoutDialog(de){return this.requestId$.pipe((0,v.w)(ae=>this.restService.updateServAgreeRequest(ae,de)))}saveRegRequest(de){const ae=this.requestId$.pipe((0,v.w)($e=>this.restService.updateRegRequest($e,de)));return this.mapSaveRequest(ae)}closeWithoutSave(){return this.navigateToDpRequestList().pipe((0,D.R)(this.destroy$),(0,S.q)(1)).subscribe()}constructor(){super(ht),this.dialog=(0,e.f3M)(_.RO),this.removeDraftConfirmDialog$=this.dialog.open(m.k2,{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a",data:{content:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a?",yes:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",no:"\u041e\u0442\u043c\u0435\u043d\u0430"}}),this.saveErrorDialog$=this.dialog.open(a.K9,{size:"m",closeable:!1,data:{label:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",content:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",isMainAction:!0}}),this.saveSuccessDialog$=de=>this.dialog.open("",{label:`\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 ${de} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e`,size:"m",closeable:!0,data:{button:"\u0425\u043e\u0440\u043e\u0448\u043e"}}),this.requestTableStore=(0,e.f3M)(p.PolicyRequestTableStore,{optional:!0}),this.restService=(0,e.f3M)(L.GV),this.requestId$=(0,e.f3M)(a.Up).pipe((0,f.h)(Boolean),(0,S.q)(1)),this.urlTree=(0,e.f3M)(V.oW),this.router=(0,e.f3M)(t.F0),this.client$=this.select(de=>de.client),this.clientExtId$=this.select(this.client$,de=>de?.id.toString()||null),this.policyParams$=(0,e.f3M)(i.Cp).pipe((0,y.O)([null,null])),this.body$=this.select(de=>de.body),this.isUrgent$=this.select(this.body$,de=>!!de&&de.isUrgent),this.registration$=this.select(de=>de.registration),this.fetchedTasks$=this.select(de=>de.fetchedTasks),this.isServAgree$=this.select(this.body$.pipe((0,f.h)(Boolean)),de=>!!de&&(0,V.VD)(de)),this.requestStatus$=this.registration$.pipe((0,w.U)(de=>de?.requestStatus.code)),this.createAt$=this.select(de=>de.registration?.createdAt),this.setRequest=this.updater((de,{fullInfo:ae,tasks:$e=null})=>({registration:ae.registration,body:this.convertBody(ae.body,$e),client:ae.body.client.find(Bn=>Bn.mainClient),fetchedTasks:$e,isLoading:!1,error:null})),this.setRegistrationRequest=this.updater((de,ae)=>({...de,registration:ae})),this.fetchDpRequest=this.effect(de=>de.pipe((0,T.IC)(()=>this.requestId$),(0,A.b)(()=>this.patchState({isLoading:!0,body:null,registration:null,error:null,fetchedTasks:null})),(0,v.w)(([,ae])=>Number(ae)?(0,E.D)([this.restService.getDpRequest(ae),this.fetchTasks(ae)]).pipe((0,g._b)(([$e,Bn])=>this.setRequest({fullInfo:$e,tasks:Bn}),$e=>{console.error($e),this.patchState({isLoading:!1,error:$e})})):O.E))),this.updateDpRequest=this.updater((de,ae=tt)=>({...de,isLoading:!1,error:null,registration:null,fetchedTasks:null,body:{...ae}})),this.removeDraft=this.effect(de=>de.pipe((0,v.w)(()=>this.removeDraftConfirmDialog$),(0,f.h)(Boolean),(0,T.IC)(()=>this.requestId$),(0,A.b)(()=>this.patchState({isLoading:!0})),(0,v.w)(([,ae])=>this.restService.removeDraft(ae).pipe((0,g._b)(()=>{this.patchState({isLoading:!1}),this.closeWithoutSave()},$e=>{console.error($e),this.patchState({isLoading:!1})}))))),this.updateRegRequest=this.effect(de=>de.pipe((0,T.IC)(()=>this.requestId$),(0,v.w)(([ae,$e])=>this.restService.updateRegRequest($e,ae).pipe((0,g._b)(()=>{},Bn=>console.error(Bn)))))),this.updateServAgreeRequest=this.effect(de=>de.pipe((0,T.IC)(()=>this.requestId$),(0,v.w)(([ae,$e])=>this.restService.updateServAgreeRequest($e,ae).pipe((0,g._b)(()=>{this.requestTableStore?.refetchPolicyRequests()},Bn=>{console.error(Bn)}))))),this.saveServAgreeRequestAndNextStatus=this.effect(de=>de.pipe((0,T.IC)(()=>this.requestId$),(0,v.w)(([ae,$e])=>{const Bn=this.restService.updateServAgreeRequestAndNextStatus($e,ae);return this.mapSaveRequest(Bn).pipe((0,g._b)(()=>{},Ae=>console.error(Ae)),(0,v.w)(()=>this.navigateToDpRequestList()))}))),this.saveRegRequestAndNextStatus=this.effect(de=>de.pipe((0,T.IC)(()=>this.requestId$),(0,v.w)(([ae,$e])=>{const Bn=this.restService.updateRegRequestAndNextStatus($e,ae);return this.mapSaveRequest(Bn).pipe((0,g._b)(()=>{},Ae=>console.error(Ae)),(0,v.w)(()=>this.navigateToDpRequestList()))})))}init(){this.fetchDpRequest()}mapSaveRequest(de){this.patchState({isLoading:!0});const ae=(0,C.P)(()=>de.pipe((0,M.K)($e=>this.saveErrorDialog$.pipe((0,U.z)(Bn=>Bn?ae:(0,R._)(()=>$e)))),(0,v.w)($e=>this.openSaveSuccessDialog($e)),(0,A.b)({next:()=>{this.patchState({isLoading:!1}),this.requestTableStore?.refetchPolicyRequests()},error:()=>this.patchState({isLoading:!1})})));return ae}convertBody(de,ae){if((0,V.VD)(de))return V.nb.convertFromDto(de);const $e=(0,V.WI)(de.subjectData);if(de.subjectExtCode=$e[0],(0,V._C)(de)&&ae){const{tasks:Bn}=ae;let Ae=null;if(Bn&&1===Bn.length){const Hn=Bn[0];Ae={controlExecuted:Hn.controlExecuted,controlExecutorTypeCode:Hn.controlExecutorTypeCode,controlReasonCode:Hn.controlReasonCode,executorTypeCode:Hn.executorTypeCode}}return V.H2.convertFromDto({body:de,task:Ae})}return(0,et.o)(de)}fetchTasks(de){return this.restService.getTaskListByRequestId(de).pipe((0,w.U)(ae=>{const{services:$e,tasks:Bn,stomItems:Ae}=ae;return $e?.length||Bn?.length||Ae?.length?ae:null}))}navigateToDpRequestList(){return this.urlTree.pipe((0,v.w)(de=>this.router.navigateByUrl(de,{state:{reason:a.bL.CONFIRMED_LEAVE_DP_REQUEST_PAGE}})))}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})();var It=o(6293);const st=(0,It.H)({selectId:Ue=>Ue.number}),{selectAll:dt}=st.getSelectors();let St=(()=>{class Ue extends g.m1{constructor(){super(st.getInitialState({isLoading:!1,error:null})),this.tasks$=this.select(de=>dt(de)),this.updateTask=this.updater((de,ae)=>({...st.updateOne({id:ae.number,changes:ae},de)})),this.addOne=this.updater((de,ae)=>({...st.addOne(ae,de)})),this.taskById=de=>this.state$.pipe((0,f.h)(ae=>!(ae.isLoading&&ae.error)),(0,w.U)(ae=>dt(ae).find($e=>$e.id===de)))}createNewTask(){const de={id:null,isApproved:!0,approvedByGp:!0,number:String(+this.get(ae=>ae.ids.length)+1)};return this.addOne(de),de.number}getTaskGroupNumber(){const de=this.get(({entities:ae})=>{const $e=Object.values(ae);return $e&&$e[$e.length-1]});return de?de.number:this.createNewTask()}updateTasks(de){if(de.length){const ae=this.get(Bn=>dt(Bn)),$e=de.map(Bn=>{const Ae=ae.find(Hn=>Bn.id===Hn.id);return Ae?{...Ae,...Bn,number:Bn.number}:Bn});this.patchState(Bn=>({...st.setAll($e,Bn)}))}else this.setState(ae=>({...st.removeAll(ae)})),this.createNewTask()}resetState(){this.setState(st.getInitialState({isLoading:!1,error:null}))}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})(),bt=(()=>{class Ue extends g.m1{static{this.initialState={id:null,number:"0",comment:"",isApproved:!1}}constructor(){super(Ue.initialState),this.updateTask=this.effect(de=>de.pipe((0,A.b)(ae=>this.patchState(ae))))}get taskGroupNumber(){return this.get(de=>de.number)}resetState(){this.setState({...Ue.initialState})}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const u=(0,It.H)({selectId:Ue=>Ue.number}),{selectAll:ut}=u.getSelectors();let Z=(()=>{class Ue extends g.m1{constructor(){super(u.getInitialState({})),this.services$=this.select(de=>ut(de)),this.taskNumberToServices$=this.services$.pipe((0,w.U)(de=>{const ae={};return de.forEach($e=>{const Bn=ae[$e.taskGroupNumber];ae[$e.taskGroupNumber]=Bn?[...Bn,$e]:[$e]}),ae})),this.addOne=this.updater((de,ae)=>({...u.addOne(ae,de)})),this.updateOne=this.updater((de,ae)=>({...u.updateOne(ae,de)})),this.setOne=this.updater((de,ae)=>({...u.setOne(ae,de)})),this.setMany=this.updater((de,ae)=>u.setMany(ae,de)),this.updateFieldsForMany=this.updater((de,ae)=>{const $e=ae.services.map(Bn=>({id:Bn.number,changes:ae.changes}));return{...u.updateMany($e,de)}}),this.removeOne=this.updater((de,ae)=>({...u.removeOne(ae.number,de)})),this.removeMany=this.updater((de,ae)=>({...u.removeMany(ae,de)}))}addNewService(de){this.addOne(this.createService(de))}createService({name:de,serviceId:ae,taskGroupNumber:$e,stomType:Bn,stomCode:Ae}){return{id:null,number:String(+this.get(rn=>rn.ids.length)+1),name:de,serviceId:ae,taskGroupNumber:$e,stomType:Bn,stomCode:Ae,isApprovalRequired:!0,isLimited:!1}}updateServices(de){const ae=this.get(Bn=>ut(Bn)),$e=de.map((Bn,Ae)=>{if(ae.length>0){const rn=ae.find(re=>re.id===Bn.id);if(rn)return{...rn,...Bn}}const Hn=String(Bn.number||++Ae);return{...Bn,number:Hn}});this.patchState(Bn=>({...u.setAll($e,Bn)}))}resetState(){this.setState(u.getInitialState({}))}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})();var I=o(6223),F=o(3266),ot=o(7354),nt=o(7081);let At=(()=>{class Ue{constructor(de){this.formBuilder=de,this.form=this.formBuilder.array([]),this.stomItems$=(0,ot.UD)(this.form),this.selectedStomItems$=this.stomItems$.pipe((0,w.U)(ae=>this.mapSelectedStomItems(ae))),this.controls$=this.stomItems$.pipe((0,w.U)(()=>Object.values(this.form.controls)),(0,nt.d)({refCount:!0,bufferSize:1})),this.hasSelectedItems$=this.controls$.pipe((0,w.U)(ae=>ae.length>0))}toggleTooth({code:de,status:ae}){const $e=this.getStomItemControlIndex(de);if($e>-1)this.form.removeAt($e);else{const Bn={stomCode:de,stomType:F.iH.TOOTH,complaints:[],diagnoses:[],damageMore50:!1,isToothRemoved:!1};ae&&(Bn.damageMore50=ae.damageMore50,Bn.isToothRemoved=ae.removed),this.addToothForm(de,Bn)}}selectStomCategory(de){this.addOtherItemForm(de,{complaints:[],diagnoses:[],stomType:de})}deselectStomItem(de){const ae=this.getStomItemControlIndex(de);this.form.removeAt(ae)}getStomItems(){return Object.values(this.form.getRawValue())}resetStomItems(de){de.forEach(ae=>{if(ae.stomCode){const $e=this.getStomItemControlIndex(ae.stomCode);$e>-1?this.form.at($e).reset(ae):this.addToothForm(ae.stomCode,ae)}else if(ae.stomType){const $e=this.getStomItemControlIndex(ae.stomType);$e>-1?this.form.at($e).reset(ae):this.addOtherItemForm(ae.stomType,ae)}})}addToothForm(de,ae){const $e=this.formBuilder.group({stomCode:[de],stomType:[ae.stomType],complaints:[ae.complaints],diagnoses:[ae.diagnoses],damageMore50:[!!ae?.damageMore50],isToothRemoved:[!!ae?.isToothRemoved]});this.form.push($e)}addOtherItemForm(de,ae){const $e=this.formBuilder.group({stomType:de,complaints:[ae.complaints,[I.kI.required]],diagnoses:[ae.diagnoses]});this.form.push($e)}getStomItemControlIndex(de){return this.form.value.findIndex(ae=>ae.stomCode===de||ae.stomType===de)}mapSelectedStomItems(de){return de.reduce((ae,$e)=>($e.stomCode?ae.teeth.add($e.stomCode):ae.stomCategories.add($e.stomType),ae),{teeth:new Set,stomCategories:new Set})}removeAllControls(){this.form.clear()}static{this.\u0275fac=function(ae){return new(ae||Ue)(e.LFG(I.qu))}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})();const Dt=[Z,St,bt,At];let Wt=(()=>{class Ue extends a.Iu{constructor(){super(V.U.CANCEL_REASON)}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),Nt=(()=>{class Ue extends a.Iu{constructor(){super(V.U.SUBJECT_EXT)}fetchBySubjectCode(de){this.filterDict([{filterDictionaryName:V.U.SUBJECT,filterDictionaryValues:[de]}])}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),Rt=(()=>{class Ue{constructor(){this.requestorCategoryStore=new a.Iu(V.U.OBR_CATEGORY),this.contactMethodsStore=new a.Iu(V.U.REQUEST_MODE),this.requestTypeStore=new a.Iu(V.U.REQUEST_TYPE),this.houseCallResultsStore=new a.Iu(V.U.PND_RESULT),this.hospitalizationCallResultsStore=new a.Iu(V.U.HOSP_RESULT)}init(){this.requestorCategoryStore.init(),this.contactMethodsStore.init(),this.requestTypeStore.init(),this.hospitalizationCallResultsStore.init(),this.houseCallResultsStore.init()}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})();var Bt=o(7582),B=o(1993),k=o(8451);class yt extends a.$o{constructor(){super(V.U.LPU_REGIONS),this.regionsTimezoneFormatted$=this.simpleItems$.pipe((0,w.U)(Ee=>Ee.map(de=>({...de,displayName:de.name+`, ${this.getMoscowRelativeOffsetLabel(de.timezone)}`})))),this.regionsTimezoneFormatted=(0,B.O4)(this.regionsTimezoneFormatted$),this.totalCountDict=(0,B.O4)(this.totalCountDict$),this.getDisplayNameByCode=(Ee,de=!1)=>{const ae=this.regionsTimezoneFormatted(),$e=this.getCodeField(),Bn=ae?.find(Ae=>Ae[$e]===Ee)?.displayName??"";return de?Bn.replace("\u041c\u0421\u041a","GMT"):Bn},this.getTimezoneValueByCode=Ee=>{const de=this.getItemByIdOrCode(Ee);return de?this.getTimeZoneUniqueField(de):null}}getMoscowRelativeOffsetLabel(Ee){if(!Ee)return"-";const de=Ee.match(/^([+-])(\d{2}):00$/);if(!de)return`UTC${Ee}`;const Ae=("+"===de[1]?1:-1)*parseInt(de[2],10)-3;return`\u041c\u0421\u041a${Ae>=0?"+":""}${Ae}`}static{this.\u0275fac=function(de){return new(de||yt)}}static{this.\u0275prov=e.Yz7({token:yt,factory:yt.\u0275fac,providedIn:"root"})}}(0,Bt.gn)([k.UM],yt.prototype,"getMoscowRelativeOffsetLabel",null);let Y=(()=>{class Ue{constructor(){this.lpuRegionsDict=(0,e.f3M)(yt),this.employeeActionDict=new a.Iu(V.U.EMPLOYEE_ACTION),this.providerTypesDict=new a.Iu(V.U.PARTNER_TYPE),this.callResultDict=new a.Iu(V.U.CALL_RESULT),this.callResultCancelDict=new a.Iu(V.U.CALL_RESULT_CANCEL),this.telemedResultDict=new a.Iu(V.U.TELEMED_RESULT),this.taskStateDict=new a.Iu(V.U.TASK_STATE)}init(){this.employeeActionDict.init(),this.callResultCancelDict.init(),this.providerTypesDict.init(),this.callResultDict.init(),this.telemedResultDict.init(),this.taskStateDict.init(),this.lpuRegionsDict.init()}filterCallResultCancelDict(de){this.callResultCancelDict.filterDict([{filterDictionaryName:V.U.CALL_RESULT,filterDictionaryValues:[de]}])}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),xt=(()=>{class Ue{constructor(){this.roomType=new a.Iu(V.U.ROOM_TYPE),this.hospTerms=new a.Iu(V.U.HOSP_TERMS),this.hospStages=new a.Iu(V.U.HOSP_STAGES),this.hospOtdel=new a.Iu(V.U.HOSP_OTDEL)}init(){this.roomType.init(),this.hospTerms.init(),this.hospStages.init(),this.hospOtdel.init()}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),z=(()=>{class Ue{constructor(){this.subjectsStore=new a.Iu(V.U.SUBJECT),this.subjectCategoryStore=new a.Iu(V.U.SUBJECT_CATEGORY),this.additionalSubjectsStore=new a.Iu(V.U.SUBJECT)}fetchSubjectCategories(){this.subjectCategoryStore.init()}fetchAdditionalSubjectsByCategory(de){this.additionalSubjectsStore.filterDict([{filterDictionaryName:V.U.SUBJECT_CATEGORY,filterDictionaryValues:[de]}])}fetchSubjectsByRequestType(de){const ae=this.subjectCategoryStore.simpleDictItems$.pipe((0,S.q)(1),(0,w.U)($e=>[{filterDictionaryName:V.U.REQUEST_TYPE,filterDictionaryValues:[de]},{filterDictionaryName:V.U.SUBJECT_CATEGORY,filterDictionaryValues:$e.map(Bn=>Bn.code),isExclude:!0}]));this.subjectsStore.filterDict(ae)}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),at=(()=>{class Ue{constructor(){this.executorTypesDict=new a.Iu(V.U.EXECUTOR_TYPE),this.controlReasonsDict=new a.Iu(V.U.CONTROL_REASON)}init(){this.executorTypesDict.init(),this.controlReasonsDict.init()}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),Pt=(()=>{class Ue{constructor(){this.services=new a.Mr(V.U.SERVICES),this.complaints=new a.Iu(V.U.COMPLAINTS),this.mkb10=new a.Mr(V.U.MKB10)}filterServices(de){const ae=[],$e=de&&de.filter(Bn=>!!this.complaints.getItemByIdOrCode(Bn));$e?.length&&ae.push({filterDictionaryName:V.U.COMPLAINTS,filterDictionaryValues:$e}),this.services.filterDict(ae)}filterComplaints(de){this.complaints.filterDict([this.getFilterBySubject(de)])}getFilterBySubject(de){return{filterDictionaryName:V.U.SUBJECT,filterDictionaryValues:de}}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),Gt=(()=>{class Ue{constructor(){this.smpPartnerTypesStore=new a.Iu(V.U.SMP_PARTNER_TYPE),this.smpResultsStore=new a.Iu(V.U.SMP_RESULT)}init(){this.smpPartnerTypesStore.init(),this.smpResultsStore.init()}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})(),De=(()=>{class Ue extends a.Iu{constructor(){super(V.U.REQUEST_STATUS),this.idsDict=(0,B.O4)(this.idsDict$),this.withoutRemovedStatusIds=(0,e.Flj)(()=>this.idsDict().filter(de=>de!==a.CR.REMOVED)),this.inProgressStatusId=(0,e.Flj)(()=>this.idsDict().find(de=>de===a.CR.IN_PROGRESS))}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}return Ue})();var Ut=o(1728);let Q=(()=>{class Ue extends Ut.A4{constructor(){super(...arguments),this.dialogs=(0,e.f3M)(_.RO)}onSuccess(){return this.dialogs.open(a.sz,{dismissible:!0,closeable:!1,required:!0,data:{label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e \u0432 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443",content:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0443\u0439\u0442\u0438 \u043a\u0430\u043a Push-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0432 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0412\u0421\u041a",closeButtonText:"\u0425\u043e\u0440\u043e\u0448\u043e",isRetryable:!1}})}onError(){return this.dialogs.open(a.K9,{dismissible:!0,closeable:!1,required:!0,data:{label:"\u0421\u0435\u0440\u0432\u0438\u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d",content:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u043f\u043e\u0437\u0436\u0435",closeButtonText:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",isMainAction:!1}})}static{this.\u0275fac=function(){let de;return function($e){return(de||(de=e.n5z(Ue)))($e||Ue)}}()}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})();var Ot=o(5619);let Ft=(()=>{class Ue{constructor(){this._wasSentAtLeastOnce$=new Ot.X(!1),this.wasSentAtLeastOnce$=this._wasSentAtLeastOnce$.asObservable()}markAsSent(){this._wasSentAtLeastOnce$.next(!0)}static{this.\u0275fac=function(ae){return new(ae||Ue)}}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})(),le=(()=>{class Ue extends Q{constructor(){super(...arguments),this.communicationSendTrackerService=(0,e.f3M)(Ft)}onSuccess(){return this.communicationSendTrackerService.markAsSent(),super.onSuccess()}static{this.\u0275fac=function(){let de;return function($e){return(de||(de=e.n5z(Ue)))($e||Ue)}}()}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})();var ne=o(2206),Ge=o(2572),Se=o(3997);let Pe=(()=>{class Ue extends ne.iZ{constructor(){super(...arguments),this.direction$=this.getFilterByCode("sortDirection").pipe((0,w.U)(de=>{const ae=Number(de);return!isNaN(ae)&&1===ae||-1===ae?ae:1})),this.sortField$=this.getFilterByCode("sortField"),this.dateTimeRange$=(0,Ge.a)({dateFrom:this.getFilterByCode("dateFrom").pipe((0,f.h)(Boolean),(0,Se.x)()),dateTo:this.getFilterByCode("dateTo").pipe((0,f.h)(Boolean),(0,Se.x)())})}static{this.\u0275fac=function(){let de;return function($e){return(de||(de=e.n5z(Ue)))($e||Ue)}}()}static{this.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac})}}return Ue})()},6697:(Qt,$,o)=>{"use strict";o.d($,{W:()=>R});var e=o(5879),t=o(6593),a=o(7019),i=o(2926),g=o(8525),T=o(4728),_=o(3647),m=o(5586),h=o(217),f=o(4664),v=o(6232),C=o(8180),D=o(8504),y=o(6306),E=o(692);let O=(()=>{class A{get isFileSaverSupported(){try{return!!new Blob}catch{return!1}}genType(w){if(!w||-1===w.lastIndexOf("."))return"text/plain";const p=w.substr(w.lastIndexOf(".")+1);switch(p){case"txt":return"text/plain";case"xml":case"html":return`text/${p}`;case"json":return"octet/stream";default:return`application/${p}`}}save(w,p,L,V){if(!w)throw new Error("Data argument should be a blob instance");const et=new Blob([w],{type:L||w.type||this.genType(p)});(0,h.saveAs)(et,decodeURI(p||"download"),V)}saveText(w,p,L){const V=new Blob([w]);this.save(V,p,void 0,L)}}return A.\u0275fac=function(w){return new(w||A)},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),R=(()=>{class A{constructor(w,p,L,V,et,tt,ht){this.aegleRestService=w,this.fileSaverService=p,this.dialogs=L,this.injector=V,this.sanitizer=et,this.pdfService=tt,this.policyParams$=ht}getFileLink(w){return this.aegleRestService.get("/medcard/file/",{params:{fileId:w}})}downloadFileByLink(w,p){return this.aegleRestService.get(w).pipe((0,f.w)(({link:L})=>{const V=L.replace("http://","/fta/");if(p.fileName.indexOf(".pdf")>-1||p.fileName.indexOf(".PDF")>-1){const et=this.sanitizer.bypassSecurityTrustResourceUrl(L.replace("http://","/pdf/"));return this.openPdfViewer(p.fileName,et)}return(0,h.saveAs)(V),v.E}),(0,y.K)(L=>this.showError(L,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")))}downloadFile(w){return this.policyParams$.pipe((0,C.q)(1),(0,f.w)(([,p])=>this.fetchDocumentClient({id:w.file.fileId,sysCode:p,storage:w.file.storage})),(0,f.w)(p=>{if(w.meta.fileType.indexOf(".pdf")>-1||w.meta.fileType.indexOf(".PDF")>-1){const L=a.Uo.base64ToArrayBuffer(p.file.content),V=new Blob([L],{type:"application/pdf"}),et=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(V));return this.openPdfViewer(w.file.fileName,et)}return this.fileSaverService.save(a.Uo.base64ToBlob(p.file.content),w.file.fileName,w.meta.fileType),v.E}))}openPdfViewer(w,p){return this.pdfService.open(p,{label:w,actions:new m.Al(g.oh,this.injector),data:{url:p}})}fetchDocumentClient({id:w,sysCode:p,storage:L}){return this.aegleRestService.get(`/file/${w}`,{params:{sysCode:p,storage:L}}).pipe((0,y.K)(V=>this.showError(V,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")))}showError(w,p="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u043e"){return this.dialogs.open(p,{label:"\u041e\u0448\u0438\u0431\u043a\u0430"}).pipe((0,f.w)(()=>(0,D._)(()=>w)))}static{this.\u0275fac=function(p){return new(p||A)(e.LFG(E.DA),e.LFG(O),e.LFG(T.RO),e.LFG(e.zs3),e.LFG(t.H7),e.LFG(_.CG),e.LFG(i.Cp))}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},162:(Qt,$,o)=>{"use strict";o.d($,{Rd:()=>p,CK:()=>A,Jx:()=>v,Zq:()=>ht,mR:()=>it,Cl:()=>St});var e=o(9862),t=o(5879),a=o(692),i=o(7019),g=o(2550),T=o(4664),_=o(6306),m=o(8504),h=o(8180),f=o(7398);class v{constructor(u){this.httpClient=(0,t.f3M)(e.eN),this.aegleRestService=(0,t.f3M)(a.DA),this.aegleRestUploadService=(0,t.f3M)(a.xc),this.appGlobalUserUtcOffset=(0,t.f3M)(i.JJ),this.endPoint=u.endPoint,this.parentDocType=u.parentDocType,this.requestParams$=u.requestParams$}uploadFile(u){return this.requestParams$.pipe((0,h.q)(1),(0,f.U)(ut=>{if(!ut.parentId||!ut.parentRegNumber)throw new Error(`Missing required params for upload. Your params: ${JSON.stringify(ut)}`);return Object.entries(ut).forEach(([Z,I])=>u.set(Z,I)),u.set("parentDocType",this.parentDocType),u}),(0,T.w)(ut=>this.aegleRestUploadService.post(`/${this.endPoint}`,ut)),(0,_.K)(ut=>(console.error(ut),(0,m._)(()=>ut))))}fetchFiles(){return this.requestParams$.pipe((0,T.w)(u=>this.aegleRestService.get(`/${this.endPoint}/files`,{params:{...u,parentDocType:this.parentDocType}})),(0,f.U)(u=>u.map(ut=>({...ut,createdAt:(0,g.rd)(ut.createdAt,this.appGlobalUserUtcOffset)}))))}editFile(u,ut){return this.aegleRestService.patch(`/${this.endPoint}`,ut,{params:{fileId:u}})}restoreFile(u){return this.aegleRestService.patch(`/${this.endPoint}/restore-from-trash`,{},{params:{fileId:u}})}moveToTrashFile(u){return this.aegleRestService.patch(`/${this.endPoint}/move-to-trash`,{},{params:{fileId:u}})}fetchFileCategories(){return this.httpClient.get("/assets/mock/file-categories.json").pipe((0,f.U)(({dictionary:u})=>u))}}var C=o(6814),D=o(4190),y=o(2926),E=o(8525),O=o(5505),M=o(5586),U=o(708);function R(bt,u){if(1&bt){const ut=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(ut);const I=t.oxw();return t.KtG(I.navigateToTask(I.ctx.$implicit.row.parentRegNumber))}),t._uU(1),t.qZA()}if(2&bt){const ut=t.oxw();t.xp6(1),t.hij(" \u2116 ",ut.ctx.$implicit.row.parentRegNumber," ")}}let A=(()=>{class bt{constructor(){this.ParentDocTypes=E.kk,this.router=(0,t.f3M)(D.F0),this.policyParams$=(0,t.f3M)(y.Cp),this.ctx=(0,t.f3M)(M.yf)}static get column(){return{code:"parentRegNumber",name:"\u041a \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044e",resizable:!1,width:"150",template:new M.Al(bt)}}navigateToTask(ut){(0,U.n)(this.policyParams$.pipe((0,h.q)(1))).then(([Z,I])=>this.router.navigate(["/clients",Z,{sysCode:I},"requests","list"],{preserveFragment:!0,queryParams:{regNumber:ut.startsWith("DP")?ut.replace("/","-"):ut}}))}static{this.\u0275fac=function(Z){return new(Z||bt)}}static{this.\u0275cmp=t.Xpm({type:bt,selectors:[["app-file-parent-reg-number"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","nowrap","tuiLink","",3,"click",4,"ngIf"],["tuiLink","",1,"nowrap",3,"click"]],template:function(Z,I){1&Z&&t.YNc(0,R,2,1,"button",0),2&Z&&t.Q6J("ngIf",I.ctx.$implicit.row.parentDocType===I.ParentDocTypes.DP_CARD&&I.ctx.$implicit.row.parentRegNumber)},dependencies:[C.O5,O.lI],encapsulation:2,changeDetection:0})}}return bt})();var S=o(5375),w=o(6223);let p=(()=>{class bt{constructor(){this.ctx=(0,t.f3M)(M.yf)}static get column(){return{code:"isOnClientVisibility",name:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0432 \u041c\u041f",resizable:!1,template:new M.Al(bt),width:"145"}}static{this.\u0275fac=function(Z){return new(Z||bt)}}static{this.\u0275cmp=t.Xpm({type:bt,selectors:[["app-client-visibility-cell"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"toggle-cell"],["tuiSwitch","","type","checkbox","size","m","disabled","",3,"ngModel"]],template:function(Z,I){1&Z&&(t.TgZ(0,"div",0),t._UZ(1,"input",1),t.qZA()),2&Z&&(t.xp6(1),t.Q6J("ngModel",I.ctx.$implicit.row.isOnClientVisibility))},dependencies:[w.u5,w.Wl,w.JJ,w.On,S.AE],styles:[".toggle-cell[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center}"],changeDetection:0})}}return bt})();var L=o(7244),V=o(8293),et=o(3175),tt=o(250);let ht=(()=>{class bt{constructor(){this.form=(0,t.f3M)(M.yf).$implicit,this.isOnClientVisibility=new w.NI(!1,{validators:[w.kI.required],nonNullable:!0})}static get content(){return new M.Al(bt)}ngOnInit(){this.form.setControl("isOnClientVisibility",this.isOnClientVisibility)}static{this.\u0275fac=function(Z){return new(Z||bt)}}static{this.\u0275cmp=t.Xpm({type:bt,selectors:[["app-med-doc-meta-form"]],standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[["appIsland",""],["tuiSwitch","","type","checkbox","size","m",3,"formControl"]],template:function(Z,I){1&Z&&(t.TgZ(0,"label",0),t._uU(1," \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0432 \u041c\u041f "),t._UZ(2,"input",1),t.qZA()),2&Z&&(t.ekj("disabled",I.isOnClientVisibility.disabled),t.xp6(2),t.Q6J("formControl",I.isOnClientVisibility))},dependencies:[w.UX,w.Wl,w.JJ,w.oH,L.Jy,V.cn,i.rL,S.AE,et.DA,tt.Mu],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{font:var(--tui-font-text-xs)}"],changeDetection:0})}}return bt})(),it=(()=>{class bt{constructor(){this.completedUpload=new t.vpe(!0),this.fileCategoryService=(0,t.f3M)(E.Zf),this.categories$=this.fileCategoryService.categories$,this.selectedCategory$=this.fileCategoryService.selectedCategory$,this.userService=(0,t.f3M)(i.KD),this.DmsUserPermission=i.OP,this.permissions=this.userService.permissions}static{this.\u0275fac=function(Z){return new(Z||bt)}}static{this.\u0275cmp=t.Xpm({type:bt,selectors:[["app-med-doc-upload"]],outputs:{completedUpload:"completedUpload"},standalone:!0,features:[t._Bn([E.VF]),t.jDz],decls:3,vars:7,consts:[["appFileUploadController","",3,"categories","selectedCategory","disabled","completedUpload"]],template:function(Z,I){if(1&Z&&(t.TgZ(0,"dms-file-upload",0),t.NdJ("completedUpload",function(){return I.completedUpload.emit()}),t.ALo(1,"async"),t.ALo(2,"async"),t.qZA()),2&Z){let F;t.Q6J("categories",t.lcZ(1,3,I.categories$))("selectedCategory",t.lcZ(2,5,I.selectedCategory$))("disabled",!(null!=(F=I.permissions())&&F.includes(I.DmsUserPermission.READ_UPLOAD_MEDCARD)))}},dependencies:[C.Ov,E.Qq,E.Yr],changeDetection:0})}}return bt})();const It=bt=>bt.source.code===E.T4.ARM_DOCTOR,St=[{provide:E.fx,useValue:{editIsAvailable:bt=>!bt.isTrashed&&Object.values(E.T4).indexOf(bt.source.code)>-1,removeIsAvailable:bt=>!bt.isTrashed&&E.T4.ARM_DOCTOR===bt.source.code,restoreIsAvailable:bt=>bt.isTrashed&&Object.values(E.T4).indexOf(bt.source.code)>-1,downloadActionViewMode:"icon",editActionViewMode:"icon",actionSize:"xs"}},{provide:E.NP,useValue:{accessRule:{main:{displayName:It,comment:It},meta:{isOnClientVisibility:It}}}}]},2880:(Qt,$,o)=>{"use strict";o.d($,{ST:()=>E,gO:()=>t,ze:()=>Ot,KS:()=>I,uf:()=>e,cQ:()=>L});const e={NEW:"NEW",PREORDER:"PREORDER",PARTIAL:"PARTIAL",COMPLETED:"COMPLETED",DELIVERED:"DELIVERED",CANCELED:"CANCELLED",ERROR:"ERROR",IN_WORK:"IN_WORK",ADDITIONAL_ORDER:"ADDITIONAL_ORDER",PARTIALLY_CANCELLED:"PARTIALLY_CANCELLED"},t={[e.PREORDER]:{name:"\u0417\u0430\u043a\u0430\u0437",badgeStatus:"other"},[e.NEW]:{name:"\u041d\u043e\u0432\u044b\u0439",badgeStatus:"other"},[e.PARTIAL]:{name:"\u0413\u043e\u0442\u043e\u0432 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e",badgeStatus:"info"},[e.COMPLETED]:{name:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d",badgeStatus:"success"},[e.DELIVERED]:{name:"\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f",badgeStatus:"other"},[e.CANCELED]:{name:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d",badgeStatus:"error"},[e.ERROR]:{name:"\u041e\u0448\u0438\u0431\u043a\u0430",badgeStatus:"error"},[e.IN_WORK]:{name:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",badgeStatus:"info"},[e.ADDITIONAL_ORDER]:{name:"\u0414\u043e\u043f. \u0437\u0430\u043a\u0430\u0437",badgeStatus:"info"},[e.PARTIALLY_CANCELLED]:{name:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e",badgeStatus:"warning"}};var a=o(5879),i=o(1993),g=o(4728),T=o(2198),_=o(4664),m=o(9397),h=o(6306),f=o(8504),v=o(6232),C=o(4716),D=o(692);let y=(()=>{class Ft{constructor(){this.aegleRestService=(0,a.f3M)(D.DA),this.endPoint="lab-diagnostics"}cancelPreorder(ne,Ge){return this.aegleRestService.delete(`/${this.endPoint}/preorder/${ne}`,{params:{taskRegNumber:Ge.replace("/","-")}})}fetchLabOrders(ne,Ge){return this.aegleRestService.get(`/${this.endPoint}/orders`,{params:{regNumber:ne,taskGroupNumber:Ge}})}static{this.\u0275fac=function(Ge){return new(Ge||Ft)}}static{this.\u0275prov=a.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}}return Ft})(),E=(()=>{class Ft{constructor(){this.cancelled=new a.vpe,this.cdr=(0,a.f3M)(a.sBO),this.labOrderService=(0,a.f3M)(y),this.dialog=(0,a.f3M)(g.RO),this.destroyRef=(0,a.f3M)(a.ktI),this.isLoading=!1}cancelLabOrder(){this.isLoading=!0,this.dialog.open(T.k2,{label:`\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 \u2116 ${this.orderRegNumber}`,size:"m",closeable:!1,data:{yes:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",no:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",content:`\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 \u2116 ${this.orderRegNumber}`},dismissible:!0}).pipe((0,_.w)(ne=>ne?this.labOrderService.cancelPreorder(this.orderRegNumber,this.regNumber).pipe((0,m.b)(()=>{this.cancelled.emit(this.orderRegNumber)}),(0,h.K)(Ge=>this.dialog.open("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0434\u043d\u0435\u0435",{label:"\u041e\u0448\u0438\u0431\u043a\u0430"}).pipe((0,_.w)(()=>(0,f._)(()=>Ge))))):v.E),(0,i.sL)(this.destroyRef),(0,C.x)(()=>{this.isLoading=!1,this.cdr.markForCheck()})).subscribe()}static{this.\u0275fac=function(Ge){return new(Ge||Ft)}}static{this.\u0275dir=a.lG2({type:Ft,selectors:[["","appCancelLabOrder",""]],hostVars:1,hostBindings:function(Ge,Se){1&Ge&&a.NdJ("click",function(){return Se.cancelLabOrder()}),2&Ge&&a.Ikx("disabled",Se.isLoading)},inputs:{orderRegNumber:"orderRegNumber",regNumber:"regNumber"},outputs:{cancelled:"cancelled"},standalone:!0})}}return Ft})();var O=o(6697);let M=(()=>{class Ft{constructor(){this.isLoading=!1,this.fileStorage=(0,a.f3M)(O.W),this.cdr=(0,a.f3M)(a.sBO),this.destroyRef=(0,a.f3M)(a.ktI)}saveFile(){this.isLoading=!0,this.fileStorage.downloadFileByLink(`/lab-diagnostics/results/file/${this.fileStorageId}`,{fileId:this.fileStorageId,fileName:this.fileName}).pipe((0,i.sL)(this.destroyRef),(0,C.x)(()=>{this.isLoading=!1,this.cdr.markForCheck()})).subscribe()}static{this.\u0275fac=function(Ge){return new(Ge||Ft)}}static{this.\u0275dir=a.lG2({type:Ft,selectors:[["","appDownloadLabResult",""]],hostVars:1,hostBindings:function(Ge,Se){1&Ge&&a.NdJ("click",function(){return Se.saveFile()}),2&Ge&&a.Ikx("disabled",Se.isLoading)},inputs:{fileName:"fileName",fileStorageId:"fileStorageId"},standalone:!0})}}return Ft})();var U=o(7019),R=o(9673),A=o(8131),S=o(2181),w=o(7398);const p={isLoading:!1,error:null,data:null};let L=(()=>{class Ft extends R.m1{constructor(){super(p),this.taskGroupNumber$=(0,a.f3M)(U.Ut),this.createLabOrderIsAvailable$=this.select(ne=>ne.data).pipe((0,w.U)(ne=>null===ne||ne.every(Ge=>Ge.status===e.CANCELED))),this.fetchOrdersByDpRequest=this.effect(ne=>ne.pipe((0,m.b)(()=>this.setState({isLoading:!0,error:null,data:null})),(0,A.IC)(()=>this.taskGroupNumber$),(0,S.h)(([,Ge])=>!!Ge),(0,_.w)(([Ge,Se])=>this.restService.fetchLabOrders(Ge,Se).pipe((0,R._b)(Pe=>this.setState({isLoading:!1,error:null,data:Pe.orders}),Pe=>this.setState({isLoading:!1,error:Pe,data:null})))))),this.restService=(0,a.f3M)(y)}setOrderCancelled(ne){this.patchState(Ge=>({data:Ge.data?.map(Se=>Se.regNumber===ne?{...Se,status:e.CANCELED}:Se)}))}static{this.\u0275fac=function(Ge){return new(Ge||Ft)}}static{this.\u0275prov=a.Yz7({token:Ft,factory:Ft.\u0275fac})}}return Ft})();var V=o(6814),et=o(7354),tt=o(5586),ht=o(6614),it=o(2926),It=o(7582),st=o(8451),dt=o(5505),St=o(1534),bt=o(2354);function u(Ft,le){if(1&Ft&&a._UZ(0,"tui-icon",6),2&Ft){const ne=a.oxw();a.ekj("expanded",ne.isExpand)}}function ut(Ft,le){if(1&Ft&&(a.TgZ(0,"div",9)(1,"p",2),a._uU(2),a.qZA(),a.TgZ(3,"p",3),a._uU(4),a.qZA()()),2&Ft){const ne=le.$implicit;a.xp6(2),a.Oqu(ne.article),a.xp6(2),a.Oqu(ne.name)}}function Z(Ft,le){if(1&Ft&&(a.TgZ(0,"tui-expand",7),a.YNc(1,ut,5,2,"div",8),a.qZA()),2&Ft){const ne=a.oxw();a.Q6J("expanded",ne.isExpand),a.xp6(1),a.Q6J("ngForOf",ne.product.products)}}let I=(()=>{class Ft{constructor(){this.isExpand=!1,this.toggleExpand=new a.vpe}static{this.\u0275fac=function(Ge){return new(Ge||Ft)}}static{this.\u0275cmp=a.Xpm({type:Ft,selectors:[["app-lab-order-product"]],inputs:{product:"product",isExpand:"isExpand"},outputs:{toggleExpand:"toggleExpand"},standalone:!0,features:[a.jDz],decls:8,vars:5,consts:[["type","button",1,"lab-product__header",3,"disabled","click"],[1,"lab-product__title"],[1,"lab-product__article"],[1,"lab-product__name"],["icon","@tui.chevron-up",3,"expanded",4,"ngIf"],[3,"expanded",4,"ngIf"],["icon","@tui.chevron-up"],[3,"expanded"],["class","lab-product__row",4,"ngFor","ngForOf"],[1,"lab-product__row"]],template:function(Ge,Se){1&Ge&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return Se.product.isProfile?Se.toggleExpand.emit():null}),a.TgZ(1,"span",1)(2,"strong",2),a._uU(3),a.qZA(),a.TgZ(4,"em",3),a._uU(5),a.qZA()(),a.YNc(6,u,1,2,"tui-icon",4),a.qZA(),a.YNc(7,Z,2,2,"tui-expand",5)),2&Ge&&(a.Q6J("disabled",!Se.product.isProfile),a.xp6(3),a.Oqu(Se.product.article),a.xp6(2),a.Oqu(Se.product.name),a.xp6(1),a.Q6J("ngIf",Se.product.isProfile),a.xp6(1),a.Q6J("ngIf",Se.product.isProfile))},dependencies:[bt.SV,St.R,V.O5,V.sg],styles:["[_nghost-%COMP%]{overflow:hidden;overflow-wrap:anywhere;background-color:var(--bg-lab-product, var(--tui-background-base));border-radius:var(--tui-radius-xxs)}.dark[_nghost-%COMP%]{display:block;background-color:var(--arm-main-background)}.lab-product__header[_ngcontent-%COMP%]{border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;padding:var(--tui-padding-s);display:flex;width:100%;justify-content:space-between;gap:8px;text-align:left}.lab-product__header[disabled][_ngcontent-%COMP%]{cursor:default}.lab-product__header[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;width:24px;height:24px;flex-shrink:0;align-self:center}.lab-product__header[_ngcontent-%COMP%]   tui-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.lab-product__article[_ngcontent-%COMP%]{margin:0 6px 0 0;font:var(--tui-font-text-xs);font-weight:400;color:var(--tui-text-06)}.lab-product__name[_ngcontent-%COMP%]{margin:0;font-style:normal}.lab-product__title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.lab-product__row[_ngcontent-%COMP%]{gap:var(--tui-padding-s);padding:var(--tui-padding-s);display:grid;grid-template-columns:repeat(2,1fr);border-bottom:1px solid var(--border-lab-product, #d9d9d9)}.lab-product__row[_ngcontent-%COMP%]:first-child{box-shadow:inset 0 10px 20px #0000001a}.lab-product__row[_ngcontent-%COMP%]:last-child{border-bottom:none}.dark[_nghost-%COMP%]   .lab-product__row[_ngcontent-%COMP%]{border-color:#c9c9c9}"],changeDetection:0})}}return Ft})();function F(Ft,le){if(1&Ft&&(a.TgZ(0,"div"),a._uU(1),a.qZA()),2&Ft){const ne=le.$implicit;a.xp6(1),a.Oqu(ne)}}function ot(Ft,le){if(1&Ft&&(a.TgZ(0,"div",4)(1,"div",5),a._uU(2),a.qZA(),a.TgZ(3,"div",6),a.YNc(4,F,2,1,"div",3),a.qZA()()),2&Ft){const ne=le.ngIf;a.xp6(2),a.hij(" ",ne.length>1?"\u0410\u0434\u0440\u0435\u0441\u0430 \u043a\u043b\u0438\u043d\u0438\u043a":"\u0410\u0434\u0440\u0435\u0441 \u043a\u043b\u0438\u043d\u0438\u043a\u0438"," "),a.xp6(2),a.Q6J("ngForOf",ne)}}function nt(Ft,le){if(1&Ft&&(a.TgZ(0,"p",9)(1,"time"),a._uU(2),a.ALo(3,"date"),a.qZA()()),2&Ft){const ne=le.$implicit;a.xp6(1),a.uIk("datetime",ne.fileCreatedAt),a.xp6(1),a.Oqu(a.xi3(3,2,ne.fileCreatedAt,"dd.MM.yyyy, HH:mm:ss"))}}function At(Ft,le){if(1&Ft&&(a.TgZ(0,"div",7)(1,"div",5),a._uU(2,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430"),a.qZA(),a.TgZ(3,"div",6),a.YNc(4,nt,4,5,"p",8),a.qZA()()),2&Ft){const ne=le.ngIf;a.xp6(4),a.Q6J("ngForOf",ne)}}function Dt(Ft,le){if(1&Ft&&(a.TgZ(0,"div",4)(1,"div",5),a._uU(2,"\u0417\u0430\u043a\u0430\u0437 \u0441\u043e\u0437\u0434\u0430\u043d"),a.qZA(),a.TgZ(3,"div",6),a._uU(4),a.ALo(5,"date"),a.qZA()()),2&Ft){const ne=a.oxw();a.xp6(4),a.hij(" ",a.xi3(5,1,ne.order.createdAt,"dd.MM.yyyy, HH:mm:ss")," ")}}function Wt(Ft,le){if(1&Ft&&(a.TgZ(0,"p",9)(1,"button",10),a._uU(2),a.qZA()()),2&Ft){const ne=le.$implicit;a.xp6(1),a.Q6J("fileName",ne.fileName)("fileStorageId",ne.fileStorageId),a.xp6(1),a.hij(" ",ne.fileName," ")}}function Nt(Ft,le){if(1&Ft&&(a.TgZ(0,"div",7)(1,"div",5),a._uU(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),a.qZA(),a.TgZ(3,"div",6),a.YNc(4,Wt,3,3,"p",8),a.qZA()()),2&Ft){const ne=le.ngIf;a.xp6(4),a.Q6J("ngForOf",ne)}}function Rt(Ft,le){if(1&Ft){const ne=a.EpF();a.TgZ(0,"app-lab-order-product",13),a.NdJ("toggleExpand",function(){const Pe=a.CHM(ne).index,Ue=a.oxw(2);return a.KtG(Ue.toggleExpandProfile(Pe))}),a.qZA()}if(2&Ft){const ne=le.$implicit,Ge=le.index,Se=a.oxw(2);a.Q6J("product",ne)("isExpand",Se.indexExpandedProfile===Ge)}}function Bt(Ft,le){if(1&Ft&&(a.ynx(0),a.TgZ(1,"h4"),a._uU(2,"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),a.qZA(),a.TgZ(3,"div",11),a.YNc(4,Rt,1,2,"app-lab-order-product",12),a.qZA(),a.BQk()),2&Ft){const ne=le.$implicit;a.xp6(4),a.Q6J("ngForOf",ne.products)}}class B{constructor(){this.indexExpandedProfile=null}toggleExpandProfile(le){this.indexExpandedProfile=this.indexExpandedProfile===le?null:le}getAddresses(){if(0===this.order.inz.length)return null;const le=this.order.inz.map(ne=>ne.laboratoryAddress);return 0===le.length?null:le}getResults(){if(0===this.order.inz.length)return null;const le=this.order.inz.flatMap(ne=>ne.results??[]);return 0===le.length?null:le}static{this.\u0275fac=function(ne){return new(ne||B)}}static{this.\u0275cmp=a.Xpm({type:B,selectors:[["app-lab-order"]],inputs:{order:"order"},standalone:!0,features:[a.jDz],decls:7,vars:5,consts:[[1,"dms-flex"],["class","dms-row dms-row__address",4,"ngIf"],["class","dms-row",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"dms-row","dms-row__address"],[1,"dms-row-label"],[1,"dms-row-text"],[1,"dms-row"],["class","lab-order__row",4,"ngFor","ngForOf"],[1,"lab-order__row"],["tuiLink","","appDownloadLabResult","",3,"fileName","fileStorageId"],[1,"lab-order__products"],[3,"product","isExpand","toggleExpand",4,"ngFor","ngForOf"],[3,"product","isExpand","toggleExpand"]],template:function(ne,Ge){1&ne&&(a.TgZ(0,"div",0),a.YNc(1,ot,5,2,"div",1),a.YNc(2,At,5,1,"div",2),a.qZA(),a.TgZ(3,"div",0),a.YNc(4,Dt,6,4,"div",1),a.YNc(5,Nt,5,1,"div",2),a.qZA(),a.YNc(6,Bt,5,1,"ng-container",3)),2&ne&&(a.xp6(1),a.Q6J("ngIf",Ge.getAddresses()),a.xp6(1),a.Q6J("ngIf",Ge.getResults()),a.xp6(2),a.Q6J("ngIf",Ge.order.createdAt),a.xp6(1),a.Q6J("ngIf",Ge.getResults()),a.xp6(1),a.Q6J("ngForOf",Ge.order.inz))},dependencies:[dt.lI,V.O5,V.uU,V.sg,I,M],styles:["[_nghost-%COMP%]{--tui-background-base: #ffffff;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;line-height:38px}.lab-order__row[_ngcontent-%COMP%]{margin:0 0 4px}.lab-order__row[_ngcontent-%COMP%]:last-child{margin:0}.lab-order__products[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:4px}.lab-order[_ngcontent-%COMP%]   time[_ngcontent-%COMP%]{margin-right:6px;font:var(--tui-font-text-xs);color:var(--tui-text-06)}.lab-order[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.dms-flex[_ngcontent-%COMP%]{display:flex;gap:var(--tui-padding-xs)}.dms-row[_ngcontent-%COMP%]{padding:10px 12px;display:flex;flex-basis:50%;background-color:var(--tui-background-base);border-radius:var(--tui-radius-xs);gap:0 12px}.dms-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dms-row__address[_ngcontent-%COMP%]{flex-grow:1}.dms-row-text[_ngcontent-%COMP%]{overflow-wrap:anywhere}.dms-row-label[_ngcontent-%COMP%]{width:100%;max-width:120px;flex-shrink:0;color:#646464}"],changeDetection:0})}}(0,It.gn)([st.UM],B.prototype,"getAddresses",null),(0,It.gn)([st.UM],B.prototype,"getResults",null);var k=o(2527);function yt(Ft,le){if(1&Ft&&(a.TgZ(0,"app-badge",3),a._uU(1),a.qZA()),2&Ft){const ne=a.oxw();a.Q6J("status",ne.LAB_PREORDER_STATUS[ne.order.status].badgeStatus)("theme",ne.theme),a.xp6(1),a.hij("",ne.LAB_PREORDER_STATUS[ne.order.status].name," ")}}function Y(Ft,le){if(1&Ft){const ne=a.EpF();a.TgZ(0,"button",4),a.NdJ("cancelled",function(Se){a.CHM(ne);const Pe=a.oxw();return a.KtG(Pe.cancelled.emit(Se))}),a._uU(1," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437\n"),a.qZA()}if(2&Ft){const ne=le.ngIf,Ge=a.oxw();a.Q6J("regNumber",ne)("orderRegNumber",Ge.order.regNumber)}}class xt{constructor(){this.cancelled=new a.vpe,this.theme="light",this.regNumber$=(0,a.f3M)(it.aP),this.LAB_PREORDER_STATUS=t}cancelIsAvailable(le){return le===e.PREORDER||le===e.NEW}getBadge(le){return t[le]}static{this.\u0275fac=function(ne){return new(ne||xt)}}static{this.\u0275cmp=a.Xpm({type:xt,selectors:[["app-lab-order-header"]],hostVars:1,hostBindings:function(ne,Ge){2&ne&&a.uIk("data-theme",Ge.theme)},inputs:{theme:"theme",order:"order"},outputs:{cancelled:"cancelled"},standalone:!0,features:[a.jDz],decls:6,vars:5,consts:[[1,"lab-order-title"],[3,"status","theme",4,"ngIf"],["type","button","tuiButton","","size","xs","appCancelLabOrder","",3,"regNumber","orderRegNumber","cancelled",4,"ngIf"],[3,"status","theme"],["type","button","tuiButton","","size","xs","appCancelLabOrder","",3,"regNumber","orderRegNumber","cancelled"]],template:function(ne,Ge){1&ne&&(a.TgZ(0,"div",0)(1,"span"),a._uU(2),a.qZA(),a.YNc(3,yt,2,3,"app-badge",1),a.qZA(),a.YNc(4,Y,2,2,"button",2),a.ALo(5,"async")),2&ne&&(a.xp6(2),a.hij("\u0417\u0430\u043a\u0430\u0437 \u2116 ",Ge.order.regNumber,""),a.xp6(1),a.Q6J("ngIf",Ge.getBadge(Ge.order.status)),a.xp6(1),a.Q6J("ngIf",Ge.cancelIsAvailable(Ge.order.status)&&a.lcZ(5,3,Ge.regNumber$)))},dependencies:[U.FN,E,k.xG,V.O5,V.Ov],styles:["[_nghost-%COMP%]{padding:var(--tui-padding-m);display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .lab-order-title[_ngcontent-%COMP%]{font:var(--tui-font-heading-4)}[_nghost-%COMP%]   .lab-order-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}"],changeDetection:0})}}function z(Ft,le){1&Ft&&a._UZ(0,"dms-loader")}function at(Ft,le){if(1&Ft){const ne=a.EpF();a.TgZ(0,"app-lab-order-header",7),a.NdJ("cancelled",function(Se){a.CHM(ne);const Pe=a.oxw(4);return a.KtG(Pe.labOrderStore.setOrderCancelled(Se))}),a.qZA()}if(2&Ft){const ne=a.oxw().$implicit;a.Q6J("order",ne)}}function Pt(Ft,le){if(1&Ft&&(a.TgZ(0,"app-island-expand",4),a.YNc(1,at,1,1,"ng-template",null,5,a.W1O),a._UZ(3,"app-lab-order",6),a.qZA()),2&Ft){const ne=le.$implicit,Ge=a.MAs(2);a.Q6J("heading",Ge)("isExpand",!1),a.xp6(3),a.Q6J("order",ne)}}function Gt(Ft,le){if(1&Ft&&(a.TgZ(0,"section",2),a.YNc(1,Pt,4,3,"app-island-expand",3),a.qZA()),2&Ft){const ne=le.ngIf;a.xp6(1),a.Q6J("ngForOf",ne)}}function De(Ft,le){if(1&Ft&&(a.ynx(0),a.YNc(1,z,1,0,"dms-loader",0),a.YNc(2,Gt,2,1,"section",1),a.BQk()),2&Ft){const ne=le.ngIf;a.xp6(1),a.Q6J("ngIf",ne.isLoading),a.xp6(1),a.Q6J("ngIf",ne.data)}}function Ut(Ft,le){if(1&Ft&&(a.ynx(0),a._uU(1),a.BQk()),2&Ft){const ne=le.polymorpheusOutlet;a.xp6(1),a.hij(" ",ne," ")}}function Q(Ft,le){if(1&Ft&&(a.ynx(0),a.YNc(1,Ut,2,1,"ng-container",8),a.BQk()),2&Ft){const ne=a.oxw();a.xp6(1),a.Q6J("polymorpheusOutlet",ne.createLabOrderButtonContent)}}(0,It.gn)([st.UM],xt.prototype,"cancelIsAvailable",null),(0,It.gn)([st.UM],xt.prototype,"getBadge",null);let Ot=(()=>{class Ft{constructor(){this.regNumber$=(0,a.f3M)(it.aP).pipe((0,S.h)(Boolean)),this.labOrderStore=(0,a.f3M)(L)}ngOnInit(){this.labOrderStore?.fetchOrdersByDpRequest(this.regNumber$.pipe((0,w.U)(ht.convertRegNumberRequest)))}static{this.\u0275fac=function(Ge){return new(Ge||Ft)}}static{this.\u0275cmp=a.Xpm({type:Ft,selectors:[["app-lab-order-list"]],inputs:{createLabOrderButtonContent:"createLabOrderButtonContent"},standalone:!0,features:[a._Bn([L]),a.jDz],decls:4,vars:6,consts:[[4,"ngIf"],["class","orders",4,"ngIf"],[1,"orders"],["class","lab-order",3,"heading","isExpand",4,"ngFor","ngForOf"],[1,"lab-order",3,"heading","isExpand"],["labOrderHeader",""],[3,"order"],[3,"order","cancelled"],[4,"polymorpheusOutlet"]],template:function(Ge,Se){1&Ge&&(a.YNc(0,De,3,2,"ng-container",0),a.ALo(1,"async"),a.YNc(2,Q,2,1,"ng-container",0),a.ALo(3,"async")),2&Ge&&(a.Q6J("ngIf",a.lcZ(1,2,Se.labOrderStore.state$)),a.xp6(2),a.Q6J("ngIf",Se.createLabOrderButtonContent&&a.lcZ(3,4,Se.labOrderStore.createLabOrderIsAvailable$)))},dependencies:[V.O5,V.Ov,et.gK,V.sg,B,et.tF,tt.s$,xt],styles:["app-lab-order-header[_ngcontent-%COMP%]{padding:0}app-island-expand[_ngcontent-%COMP%]{--tui-background-base: var(--tui-background-base-alt)}.orders[_ngcontent-%COMP%]{margin-bottom:var(--tui-padding-s);display:flex;flex-direction:column;gap:var(--tui-padding-s)}.orders[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}}return Ft})()},1089:(Qt,$,o)=>{"use strict";o.d($,{a:()=>T});var e=o(5879),t=o(692),a=o(2550),i=o(7398),g=o(6853);let T=(()=>{class _{constructor(){this.aegleRestService=(0,e.f3M)(t.DA)}fetchPolicyRequests(h,f,v){return this.aegleRestService.post("/dp-request/all-requests-for-grid",{ipId:h,policyNumber:f},{params:{...v}}).pipe((0,i.U)(C=>({requests:C.requests.map(D=>({...D,createdAt:(0,a.rd)(D.createdAt,D.timezoneCreated)??D.createdAt}))})))}fetchPolicyRequest(h,f){return this.aegleRestService.get(`/dp-request/shortform/${h}`,f?{params:{regNumber:f}}:void 0).pipe((0,i.U)(v=>({...v,tasks:v.tasks?.map(C=>(0,g.mY)(C))})),(0,i.U)(v=>({...v,tasks:v.tasks?.sort((C,D)=>(C.taskNumber??0)-(D.taskNumber??0))})))}fetchGpListByRequestId(h){return this.aegleRestService.get(`/gp/list-by-req/${h}`).pipe((0,i.U)(f=>f.map(v=>v.file?{...v,file:{...v.file,extension:"."+v.file.extension}}:v)))}fetchLabOrders(h){return this.aegleRestService.get("/lab-diagnostics/orders",{params:{regNumber:h}})}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac})}}return _})()},9779:(Qt,$,o)=>{"use strict";o.r($),o.d($,{PolicyRequestDialogComponent:()=>Xt,PolicyRequestGpStore:()=>e.CD,PolicyRequestLabOrdersStore:()=>e.wU,PolicyRequestPageComponent:()=>ao,PolicyRequestRestService:()=>a.a,PolicyRequestStore:()=>e.i5,PolicyRequestTableComponent:()=>ai,PolicyRequestTableFilterService:()=>e.K,PolicyRequestTableGpStore:()=>e.f3,PolicyRequestTableStore:()=>e._x,StatePolicyRequestTypes:()=>t.U,routes:()=>Qn,transformTaskDatesTimes:()=>e.mY});var e=o(6853),t=o(6398),a=o(1089),i=o(5879),g=o(4190),T=o(7019),_=o(2926),m=o(8525),h=o(7354),f=o(5586),v=o(9773),C=o(9397),D=o(4716),y=o(7398),E=o(8180),O=o(7582),M=o(6814),U=o(1993),R=o(3754),A=o(8767),S=o(8451),w=o(2527),p=o(5505),L=o(1534),V=o(2096),et=o(2880);const tt=function(){return["order"]},ht=function(J){return{cart:J}},it=function(J){return{outlets:J}},It=function(J){return["lab",J]},st=function(J){return{taskGroupNumber:J}};function dt(J,Zt){if(1&J&&(i.TgZ(0,"a",8),i._uU(1," \u0417\u0430\u043a\u0430\u0437 \u0432 \u0418\u043d\u0432\u0438\u0442\u0440\u043e "),i.qZA()),2&J){const Et=i.oxw(2);i.Q6J("routerLink",i.VKq(8,It,i.VKq(6,it,i.VKq(4,ht,i.DdM(3,tt)))))("queryParamsHandling","merge")("queryParams",i.VKq(10,st,Et.order.taskGroupNumber))}}function St(J,Zt){if(1&J&&(i.ynx(0),i.TgZ(1,"app-badge",6),i._uU(2),i.qZA(),i.YNc(3,dt,2,12,"a",7),i.BQk()),2&J){const Et=i.oxw();i.xp6(2),i.Oqu(Et.order.cancelReason.value||"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"),i.xp6(1),i.Q6J("ngIf",Et.hasCreatePreorder)}}function bt(J,Zt){if(1&J&&(i.TgZ(0,"app-badge",10),i._uU(1),i.qZA()),2&J){const Et=i.oxw(2);i.Q6J("status",Et.LAB_PREORDER_STATUS[Et.order.status].badgeStatus),i.xp6(1),i.hij("",Et.LAB_PREORDER_STATUS[Et.order.status].name," ")}}function u(J,Zt){if(1&J&&i.YNc(0,bt,2,2,"app-badge",9),2&J){const Et=i.oxw();i.Q6J("ngIf",Et.getBadge(Et.order.status))}}function ut(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"button",11),i.NdJ("cancelled",function(ii){i.CHM(Et);const Si=i.oxw();return i.KtG(Si.cancelled.emit(ii))}),i._uU(1," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 "),i.qZA()}if(2&J){const Et=i.oxw();i.Q6J("regNumber",Et.order.requestNum)("orderRegNumber",Et.order.regNumber)}}function Z(J,Zt){if(1&J&&(i.TgZ(0,"div",12)(1,"div",13),i._uU(2,"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043c\u0435\u043d\u044b \u0437\u0430\u043a\u0430\u0437\u0430"),i.qZA(),i.TgZ(3,"div",14),i._uU(4),i.qZA()()),2&J){const Et=i.oxw();i.xp6(4),i.Oqu(Et.order.cancelReason.comment)}}function I(J,Zt){if(1&J&&(i.TgZ(0,"div")(1,"span",18),i._uU(2),i.qZA(),i._uU(3),i.qZA()),2&J){const Et=Zt.$implicit;i.xp6(2),i.Oqu(Et.article),i.xp6(1),i.hij(" ",Et.name," ")}}function F(J,Zt){if(1&J&&(i.TgZ(0,"div",14),i.YNc(1,I,4,2,"div",17),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",Et.products)}}function ot(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"app-lab-order-product",20,21),i.NdJ("toggleExpand",function(){i.CHM(Et);const ii=i.MAs(1);return i.KtG(ii.isExpand=!ii.isExpand)}),i.qZA()}if(2&J){const Et=Zt.$implicit,on=i.MAs(1);i.Q6J("product",Et)("isExpand",on.isExpand)}}function nt(J,Zt){if(1&J&&(i.TgZ(0,"div",14),i.YNc(1,ot,2,2,"app-lab-order-product",19),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",Et.products)}}function At(J,Zt){if(1&J&&(i.TgZ(0,"div",12)(1,"div",13),i._uU(2,"\u0410\u0434\u0440\u0435\u0441 \u043a\u043b\u0438\u043d\u0438\u043a\u0438"),i.qZA(),i.TgZ(3,"div",14),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().$implicit;i.xp6(4),i.Oqu(Et.laboratoryAddress)}}function Dt(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(ii){i.CHM(Et);const Si=i.oxw().$implicit,Oo=i.oxw(3);return i.KtG(Oo.downloadFile(ii,Si))}),i._uU(1),i.qZA()}if(2&J){const Et=i.oxw().$implicit;i.xp6(1),i.hij(" ",Et.fileName," ")}}function Wt(J,Zt){1&J&&i._UZ(0,"br")}function Nt(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Dt,2,1,"button",22),i.YNc(2,Wt,1,0,"br",23),i.BQk()),2&J){const Et=Zt.$implicit,on=Zt.last,ii=i.oxw(3);i.xp6(1),i.Q6J("ngIf",ii.getFileExtension(Et.fileName)),i.xp6(1),i.Q6J("ngIf",!on)}}function Rt(J,Zt){if(1&J&&(i.TgZ(0,"div",12)(1,"div",13),i._uU(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),i.qZA(),i.TgZ(3,"div",14),i.YNc(4,Nt,3,2,"ng-container",17),i.qZA()()),2&J){const Et=i.oxw().$implicit;i.xp6(4),i.Q6J("ngForOf",Et.results)}}function Bt(J,Zt){if(1&J&&(i.TgZ(0,"section",15)(1,"div",12)(2,"div",13),i._uU(3,"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),i.qZA(),i.YNc(4,F,2,1,"div",16),i.YNc(5,nt,2,1,"div",16),i.qZA(),i.YNc(6,At,5,1,"div",4),i.YNc(7,Rt,5,1,"div",4),i.qZA()),2&J){const Et=Zt.$implicit,on=i.oxw();i.xp6(4),i.Q6J("ngIf",on.order.cancelReason.value),i.xp6(1),i.Q6J("ngIf",!on.order.cancelReason.value),i.xp6(1),i.Q6J("ngIf",Et.laboratoryAddress),i.xp6(1),i.Q6J("ngIf",null==Et.results?null:Et.results.length)}}class B{constructor(){this.cancelled=new i.vpe,this.hasCreatePreorder=!1,this.store=(0,i.f3M)(e.i5),this.LAB_PREORDER_STATUS=et.gO,this.LabOrderStatuses=et.uf}getFileExtension(Zt){const Et=Zt.match(/\.([a-z0-9]+)$/i)?.[0];return Et||null}downloadFile(Zt,Et){Zt.stopPropagation(),this.store.downloadLabFile(Et)}getBadge(Zt){return et.gO[Zt]}static{this.\u0275fac=function(Et){return new(Et||B)}}static{this.\u0275cmp=i.Xpm({type:B,selectors:[["app-policy-request-lab-order"]],inputs:{order:"order",hasCreatePreorder:"hasCreatePreorder"},outputs:{cancelled:"cancelled"},standalone:!0,features:[i.jDz],decls:8,vars:6,consts:[[1,"title"],[4,"ngIf","ngIfElse"],["statusTemplate",""],["tuiButton","","appCancelLabOrder","","class","lab-action",3,"regNumber","orderRegNumber","cancelled",4,"ngIf"],["class","row",4,"ngIf"],["class","inz",4,"ngFor","ngForOf"],["status","error"],["tuiButton","","class","lab-action","appearance","lab","size","m",3,"routerLink","queryParamsHandling","queryParams",4,"ngIf"],["tuiButton","","appearance","lab","size","m",1,"lab-action",3,"routerLink","queryParamsHandling","queryParams"],[3,"status",4,"ngIf"],[3,"status"],["tuiButton","","appCancelLabOrder","",1,"lab-action",3,"regNumber","orderRegNumber","cancelled"],[1,"row"],[1,"label"],[1,"value"],[1,"inz"],["class","value",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-label"],["class","dark",3,"product","isExpand","toggleExpand",4,"ngFor","ngForOf"],[1,"dark",3,"product","isExpand","toggleExpand"],["labOrderProduct",""],["tuiLink","",3,"click",4,"ngIf"],[4,"ngIf"],["tuiLink","",3,"click"]],template:function(Et,on){if(1&Et&&(i.TgZ(0,"div",0),i._uU(1),i.YNc(2,St,4,2,"ng-container",1),i.YNc(3,u,1,1,"ng-template",null,2,i.W1O),i.YNc(5,ut,2,2,"button",3),i.qZA(),i.YNc(6,Z,5,1,"div",4),i.YNc(7,Bt,8,4,"section",5)),2&Et){const ii=i.MAs(4);i.xp6(1),i.hij(" \u0417\u0430\u043a\u0430\u0437 \u2116 ",on.order.regNumber," "),i.xp6(1),i.Q6J("ngIf",on.order.status===on.LabOrderStatuses.CANCELED)("ngIfElse",ii),i.xp6(3),i.Q6J("ngIf",on.order.status!==on.LabOrderStatuses.CANCELED&&on.order.status!==on.LabOrderStatuses.PARTIAL),i.xp6(1),i.Q6J("ngIf",on.order.cancelReason.comment),i.xp6(1),i.Q6J("ngForOf",on.order.inz)}},dependencies:[M.O5,M.ax,T.FN,et.KS,g.rH,w.xG,p.lI,et.ST],styles:[".title[_ngcontent-%COMP%]{margin:16px 4px 12px;display:flex;align-items:center;font-size:16px;gap:var(--tui-padding-l)}.title[_ngcontent-%COMP%] + .title[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:8px}.row[_ngcontent-%COMP%]{--value-color: currentColor;display:flex;overflow:hidden;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs)}.row[_ngcontent-%COMP%]:not(:first-child){margin-top:4px}.label[_ngcontent-%COMP%]{margin:0;padding:var(--tui-padding-m);min-width:calc(170px + var(--tui-padding-m) * 2);max-width:min-content;color:var(--tui-background-accent-opposite-pressed)}.label--prepend[_ngcontent-%COMP%]{display:flex;gap:var(--tui-padding-m)}.value[_ngcontent-%COMP%]{padding:var(--tui-padding-m) var(--tui-padding-m) var(--tui-padding-m) 0;width:100%;white-space:pre-line;overflow-wrap:anywhere;color:var(--value-color)}.value--append[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.text-label[_ngcontent-%COMP%]{margin-right:6px;font-size:13px;color:var(--tui-background-accent-opposite-pressed)}.lab-action[_ngcontent-%COMP%]{margin-left:auto}.lab-action[tuiButton][data-appearance=lab][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1);background-color:var(--lab-color)}.title[_ngcontent-%COMP%]{margin:12px 4px}.title[_ngcontent-%COMP%]   app-badge[_ngcontent-%COMP%]{padding:2px 6px}.inz[_ngcontent-%COMP%]{margin-top:12px}.inz[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:var(--tui-padding-s) var(--tui-padding-s) var(--tui-padding-s) 0}app-lab-order-product[_ngcontent-%COMP%]:not(:first-child){margin-top:4px}"],changeDetection:0})}}(0,O.gn)([S.UM],B.prototype,"getBadge",null);var k=o(4287);function yt(J,Zt){1&J&&i._UZ(0,"tui-icon",7)}function Y(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0423\u0441\u043b\u0443\u0433\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.YNc(6,yt,1,0,"tui-icon",6),i.qZA()(),i.TgZ(7,"div",3)(8,"div",4),i._uU(9,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),i.qZA(),i.TgZ(10,"div",5),i._uU(11),i.qZA()(),i.TgZ(12,"div",3)(13,"div",4),i._uU(14,"\u0424\u0430\u043a\u0442\u043e\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u0438"),i.qZA(),i.TgZ(15,"div",5),i._uU(16),i.ALo(17,"fixedDateBasedOnTimeZone"),i.qZA()(),i.TgZ(18,"div",3)(19,"div",4),i._uU(20,"\u0424\u0418\u041e \u0432\u0440\u0430\u0447\u0430"),i.qZA(),i.TgZ(21,"div",5),i._uU(22),i.qZA()()()),2&J){const Et=Zt.$implicit;i.xp6(4),i.ekj("value--append",Et.isLimited),i.xp6(1),i.hij(" ",Et.serviceText," "),i.xp6(1),i.Q6J("ngIf",Et.isLimited),i.xp6(5),i.Oqu(Et.comment),i.xp6(5),i.Oqu(i.xi3(17,7,Et.dateTimeFact,"d MMMM y, HH:mm")),i.xp6(6),i.Oqu(Et.doctorFIO)}}function xt(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Y,23,10,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function z(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0414\u0430\u0442\u0430 \u0444\u0430\u043a\u0442\u043e\u0432\u043e\u0433\u043e \u0432\u044b\u0435\u0437\u0434\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.ALo(6,"fixedDateBasedOnTimeZone"),i.qZA()()()),2&J){const Et=Zt.$implicit;i.xp6(5),i.Oqu(i.xi3(6,1,Et.pndDatetimeFact,"d MMMM y"))}}function at(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,z,7,4,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function Pt(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0412\u0440\u0435\u043c\u044f \u0434\u043e\u0435\u0437\u0434\u0430"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().$implicit;i.xp6(4),i.Oqu(Et.datetimeArrivalPlan)}}function Gt(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0435\u0437\u0434\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.ALo(6,"fixedDateBasedOnTimeZone"),i.qZA()(),i.YNc(7,Pt,5,1,"div",8),i.TgZ(8,"div",3)(9,"div",4),i._uU(10,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),i.qZA(),i.TgZ(11,"div",5),i._uU(12),i.ALo(13,"fixedDateBasedOnTimeZone"),i.qZA()(),i.TgZ(14,"div",3)(15,"div",4),i._uU(16,"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f"),i.qZA(),i.TgZ(17,"div",5),i._uU(18),i.ALo(19,"fixedDateBasedOnTimeZone"),i.qZA()(),i.TgZ(20,"div",3)(21,"div",4),i._uU(22,"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0434\u0438\u0430\u0433\u043d\u043e\u0437"),i.qZA(),i.TgZ(23,"div",5),i._uU(24),i.qZA()()()),2&J){const Et=Zt.$implicit;i.xp6(5),i.Oqu(i.xi3(6,5,Et.medinsDatetimeDeparture,"d MMMM y, HH:mm")),i.xp6(2),i.Q6J("ngIf",Et.datetimeArrivalPlan),i.xp6(5),i.Oqu(i.xi3(13,8,Et.medinsDatetimeArrival,"d MMMM y, HH:mm")),i.xp6(6),i.Oqu(i.xi3(19,11,Et.medinsDatetimeCompletion,"d MMMM y, HH:mm")),i.xp6(6),i.Oqu(Et.medinsDiagnosis)}}function De(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Gt,25,14,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function Ut(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0423\u0441\u043b\u0443\u0433\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()(),i.TgZ(6,"div",3)(7,"div",4),i._uU(8,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438"),i.qZA(),i.TgZ(9,"div",5)(10,"app-badge",9),i._uU(11),i.qZA()()(),i.TgZ(12,"div",3)(13,"div",4),i._uU(14,"\u0424\u0418\u041e \u0432\u0440\u0430\u0447\u0430"),i.qZA(),i.TgZ(15,"div",5),i._uU(16),i.qZA()(),i.TgZ(17,"div",3)(18,"div",4),i._uU(19,"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0440\u0430\u0447\u0430"),i.qZA(),i.TgZ(20,"div",5),i._uU(21),i.qZA()(),i.TgZ(22,"div",3)(23,"div",4),i._uU(24,"\u0414\u0430\u0442\u0430 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438"),i.qZA(),i.TgZ(25,"div",5),i._uU(26),i.ALo(27,"fixedDateBasedOnTimeZone"),i.qZA()()()),2&J){const Et=Zt.$implicit,on=i.oxw(2);i.xp6(5),i.Oqu(Et.serviceText),i.xp6(5),i.Q6J("status",on.DmsStatusCodes.OTHER),i.xp6(1),i.Oqu(Et.consStatusName),i.xp6(5),i.Oqu(Et.doctorFIO),i.xp6(5),i.Oqu(Et.doctorSpecializationName),i.xp6(5),i.Oqu(i.xi3(27,6,Et.consDateTime,"d MMMM y, HH:mm"))}}function Q(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Ut,28,9,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function Ot(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0423\u0441\u043b\u0443\u0433\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()(),i.TgZ(6,"div",3)(7,"div",4),i._uU(8,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0444\u0430\u043a\u0442\u043e\u0432\u043e\u0439 \u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"),i.qZA(),i.TgZ(9,"div",5),i._uU(10),i.ALo(11,"fixedDateBasedOnTimeZone"),i.qZA()(),i.TgZ(12,"div",3)(13,"div",4),i._uU(14,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0444\u0430\u043a\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u043f\u0438\u0441\u043a\u0438"),i.qZA(),i.TgZ(15,"div",5),i._uU(16),i.ALo(17,"fixedDateBasedOnTimeZone"),i.qZA()()()),2&J){const Et=Zt.$implicit;i.xp6(5),i.Oqu(Et.serviceText),i.xp6(5),i.Oqu(i.xi3(11,3,Et.factHospitalizationStartDate,"d MMMM y, HH:mm")),i.xp6(6),i.Oqu(i.xi3(17,6,Et.factHospitalizationEndDate,"d MMMM y, HH:mm"))}}function Ft(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Ot,18,9,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function le(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0423\u0441\u043b\u0443\u0433\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()(),i.TgZ(6,"div",3)(7,"div",4),i._uU(8,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),i.qZA(),i.TgZ(9,"div",5),i._uU(10),i.qZA()(),i.TgZ(11,"div",3)(12,"div",4),i._uU(13,"\u0424\u0430\u043a\u0442\u043e\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u0438"),i.qZA(),i.TgZ(14,"div",5),i._uU(15),i.ALo(16,"fixedDateBasedOnTimeZone"),i.qZA()(),i.TgZ(17,"div",3)(18,"div",4),i._uU(19,"\u0424\u0418\u041e \u0432\u0440\u0430\u0447\u0430"),i.qZA(),i.TgZ(20,"div",5),i._uU(21),i.qZA()()()),2&J){const Et=Zt.$implicit;i.xp6(5),i.Oqu(Et.serviceText),i.xp6(5),i.Oqu(Et.comment),i.xp6(5),i.Oqu(i.xi3(16,4,Et.dateTimeFact,"d MMMM y, HH:mm")),i.xp6(6),i.Oqu(Et.doctorFIO)}}function ne(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,le,22,7,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function Ge(J,Zt){if(1&J&&(i.TgZ(0,"div",2)(1,"div",3)(2,"div",4),i._uU(3,"\u0423\u0441\u043b\u0443\u0433\u0430"),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()(),i.TgZ(6,"div",3)(7,"div",4),i._uU(8,"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"),i.qZA(),i.TgZ(9,"div",5),i._uU(10),i.qZA()(),i.TgZ(11,"div",3)(12,"div",4),i._uU(13,"\u0424\u0430\u043a\u0442\u043e\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u0438"),i.qZA(),i.TgZ(14,"div",5),i._uU(15),i.ALo(16,"fixedDateBasedOnTimeZone"),i.qZA()(),i.TgZ(17,"div",3)(18,"div",4),i._uU(19,"\u0424\u0418\u041e \u0432\u0440\u0430\u0447\u0430"),i.qZA(),i.TgZ(20,"div",5),i._uU(21),i.qZA()()()),2&J){const Et=Zt.$implicit;i.xp6(5),i.Oqu(Et.serviceText),i.xp6(5),i.Oqu(Et.comment),i.xp6(5),i.Oqu(i.xi3(16,4,Et.dateTimeFact,"d MMMM y, HH:mm")),i.xp6(6),i.Oqu(Et.doctorFIO)}}function Se(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Ge,22,7,"div",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}class Pe{constructor(){this.DmsStatusCodes=T.U7}getDifferenceDate(Zt,Et){const on=new Date(Et).getTime()-new Date(Zt).getTime(),ii=Math.floor(on/1e3/60/60);return`${ii}:${(on-1e3*ii*60*60)/1e3/60}`}static{this.\u0275fac=function(Et){return new(Et||Pe)}}static{this.\u0275cmp=i.Xpm({type:Pe,selectors:[["app-policy-request-task-services"]],inputs:{services:"services"},standalone:!0,features:[i.jDz],decls:7,vars:7,consts:[[4,"ngIf"],["class","service",4,"ngFor","ngForOf"],[1,"service"],[1,"row"],[1,"label"],[1,"value"],["class","icon-red","icon","@tui.triangle-alert",4,"ngIf"],["icon","@tui.triangle-alert",1,"icon-red"],["class","row",4,"ngIf"],[3,"status"]],template:function(Et,on){1&Et&&(i.YNc(0,xt,2,1,"ng-container",0),i.YNc(1,at,2,1,"ng-container",0),i.YNc(2,De,2,1,"ng-container",0),i.YNc(3,Q,2,1,"ng-container",0),i.YNc(4,Ft,2,1,"ng-container",0),i.YNc(5,ne,2,1,"ng-container",0),i.YNc(6,Se,2,1,"ng-container",0)),2&Et&&(i.Q6J("ngIf",null==on.services?null:on.services.app),i.xp6(1),i.Q6J("ngIf",null==on.services?null:on.services.pnd),i.xp6(1),i.Q6J("ngIf",null==on.services?null:on.services.smp),i.xp6(1),i.Q6J("ngIf",null==on.services?null:on.services.tmc),i.xp6(1),i.Q6J("ngIf",null==on.services?null:on.services.hospitalization),i.xp6(1),i.Q6J("ngIf",null==on.services?null:on.services.other),i.xp6(1),i.Q6J("ngIf",null==on.services?null:on.services.stom))},dependencies:[M.O5,M.sg,T.FN,L.R,k.L],styles:[".title[_ngcontent-%COMP%]{margin:16px 4px 12px;display:flex;align-items:center;font-size:16px;gap:var(--tui-padding-l)}.title[_ngcontent-%COMP%] + .title[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:8px}.row[_ngcontent-%COMP%]{--value-color: currentColor;display:flex;overflow:hidden;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs)}.row[_ngcontent-%COMP%]:not(:first-child){margin-top:4px}.label[_ngcontent-%COMP%]{margin:0;padding:var(--tui-padding-m);min-width:calc(170px + var(--tui-padding-m) * 2);max-width:min-content;color:var(--tui-background-accent-opposite-pressed)}.label--prepend[_ngcontent-%COMP%]{display:flex;gap:var(--tui-padding-m)}.value[_ngcontent-%COMP%]{padding:var(--tui-padding-m) var(--tui-padding-m) var(--tui-padding-m) 0;width:100%;white-space:pre-line;overflow-wrap:anywhere;color:var(--value-color)}.value--append[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}[_nghost-%COMP%]{display:contents}.service[_ngcontent-%COMP%]{margin-top:12px}.icon-red[_ngcontent-%COMP%]{color:#f46666}"],changeDetection:0})}}function Ue(J,Zt){1&J&&i._UZ(0,"app-data-fetch-error")}function Ee(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf,on=i.oxw(2);i.xp6(2),i.Oqu(on.subjectExtTitle(Et.requestCommonInfo.subjectNames)),i.xp6(2),i.Oqu(null==Et.requestCommonInfo.subjectExtNames?null:Et.requestCommonInfo.subjectExtNames.join(", "))}}function de(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0416\u0430\u043b\u043e\u0431\u0430 \u0438\u043b\u0438 \u0434\u0438\u0430\u0433\u043d\u043e\u0437"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(4),i.Oqu(null==Et.requestCommonInfo.complaints?null:Et.requestCommonInfo.complaints.join(", "))}}function ae(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(4),i.Oqu(null==Et.requestCommonInfo.agreedServices?null:Et.requestCommonInfo.agreedServices.join(", "))}}function $e(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u041d\u0435\u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(4),i.Oqu(null==Et.requestCommonInfo.disAgreedServices?null:Et.requestCommonInfo.disAgreedServices.join(", "))}}function Bn(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0410\u0434\u0440\u0435\u0441 \u0432\u044b\u0437\u043e\u0432\u0430"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=Zt.ngIf;i.xp6(4),i.Oqu(Et)}}function Ae(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",7),i._UZ(2,"tui-icon",8),i._uU(3," \u041d\u0435\u0433\u0430\u0442\u0438\u0432 \u0417\u041b "),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(5),i.Oqu(Et.requestCommonInfo.negativeReasonName)}}function Hn(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u0437\u043e\u0432\u0430 \u0421\u041c\u041f"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(4),i.Oqu(Et.requestCommonInfo.smpResultName)}}function rn(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u0437\u043e\u0432\u0430 \u041f\u041d\u0414"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(4),i.Oqu(Et.requestCommonInfo.pndResultName)}}function re(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw().ngIf;i.xp6(4),i.Oqu(Et.requestCommonInfo.hospitalizationResultName)}}function wn(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(ii){i.CHM(Et);const Si=i.oxw().$implicit,Oo=i.oxw(6);return i.KtG(Oo.downloadFile(ii,Si.file.id,Si.file.extension,Si.file.displayName))}),i._uU(1),i.qZA()}if(2&J){const Et=i.oxw().$implicit;i.xp6(1),i.hij(" ",Et.file.displayName," ")}}function oe(J,Zt){1&J&&i._UZ(0,"br")}function Ht(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,wn,2,1,"button",12),i.YNc(2,oe,1,0,"br",1),i.BQk()),2&J){const Et=Zt.$implicit,on=Zt.last;i.xp6(1),i.Q6J("ngIf",Et.file&&Et.file.id),i.xp6(1),i.Q6J("ngIf",!on)}}function xn(J,Zt){if(1&J&&(i.ynx(0),i.TgZ(1,"div",3)(2,"div",4),i._uU(3,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0413\u041f"),i.qZA(),i.TgZ(4,"div",5)(5,"dms-loader",10),i.ALo(6,"async"),i.YNc(7,Ht,3,2,"ng-container",11),i.qZA()()(),i.BQk()),2&J){const Et=i.oxw().tuiLet,on=i.oxw(4);i.xp6(5),i.Q6J("showLoader",!!i.lcZ(6,3,on.gpStore.isLoading$))("overlay",!0),i.xp6(2),i.Q6J("ngForOf",Et)}}function ce(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,xn,8,5,"ng-container",1),i.ALo(2,"async"),i.BQk()),2&J){const Et=Zt.tuiLet,on=i.oxw(4);i.xp6(1),i.Q6J("ngIf",!!i.lcZ(2,1,on.gpStore.isLoading$)||!(null==Et||!Et.length))}}function me(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,ce,3,3,"ng-container",9),i.ALo(2,"async"),i.BQk()),2&J){const Et=i.oxw(3);i.xp6(1),i.Q6J("tuiLet",i.lcZ(2,1,Et.allGp()))}}function En(J,Zt){if(1&J&&(i.TgZ(0,"app-badge",17),i._uU(1),i.qZA()),2&J){const Et=i.oxw(2).$implicit;i.Q6J("status",Et.taskStatusCode),i.xp6(1),i.Oqu(Et.taskStatusName)}}function _n(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u041b\u041f\u0423"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw(2).$implicit;i.xp6(4),i.Oqu(Et.lpuName)}}function Qe(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0410\u0434\u0440\u0435\u0441 \u041b\u041f\u0423"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA()()),2&J){const Et=i.oxw(2).$implicit;i.xp6(4),i.Oqu(Et.lpuAddress)}}function xe(J,Zt){if(1&J&&(i.TgZ(0,"div",3)(1,"div",4),i._uU(2,"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u0438 \u0440\u0438\u0441\u043a"),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i._UZ(5,"br"),i._uU(6),i.qZA()()),2&J){const Et=i.oxw(2).$implicit;i.xp6(4),i.Oqu(Et.variantName),i.xp6(2),i.Oqu(Et.riskCode)}}function je(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(ii){i.CHM(Et);const Si=i.oxw().$implicit,Oo=i.oxw(9);return i.KtG(Oo.downloadFile(ii,Si.file.id,Si.file.extension,Si.file.displayName))}),i._uU(1),i.qZA()}if(2&J){const Et=i.oxw().$implicit;i.xp6(1),i.hij(" ",Et.file.displayName," ")}}function ke(J,Zt){1&J&&i._UZ(0,"br")}function we(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,je,2,1,"button",12),i.YNc(2,ke,1,0,"br",1),i.BQk()),2&J){const Et=Zt.$implicit,on=Zt.last;i.xp6(1),i.Q6J("ngIf",Et.file&&Et.file.id),i.xp6(1),i.Q6J("ngIf",!on)}}function Ne(J,Zt){if(1&J&&(i.ynx(0),i.TgZ(1,"div",3)(2,"div",4),i._uU(3,"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0413\u041f"),i.qZA(),i.TgZ(4,"div",5)(5,"dms-loader",10),i.ALo(6,"async"),i.YNc(7,we,3,2,"ng-container",11),i.qZA()()(),i.BQk()),2&J){const Et=i.oxw().tuiLet,on=i.oxw(7);i.xp6(5),i.Q6J("showLoader",!!i.lcZ(6,3,on.gpStore.isLoading$))("overlay",!0),i.xp6(2),i.Q6J("ngForOf",Et)}}function Ke(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Ne,8,5,"ng-container",1),i.ALo(2,"async"),i.BQk()),2&J){const Et=Zt.tuiLet,on=i.oxw(7);i.xp6(1),i.Q6J("ngIf",!!i.lcZ(2,1,on.gpStore.isLoading$)||!(null==Et||!Et.length))}}function qe(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Ke,3,3,"ng-container",9),i.ALo(2,"async"),i.BQk()),2&J){const Et=i.oxw(2).$implicit,on=i.oxw(4);i.xp6(1),i.Q6J("tuiLet",i.lcZ(2,1,on.gpByTaskId(Et.id)))}}(0,O.gn)([S.UM],Pe.prototype,"getDifferenceDate",null);const kn=function(J,Zt,Et,on,ii,Si,Oo){return{smp:J,pnd:Zt,app:Et,tmc:on,other:ii,stom:Si,hospitalization:Oo}};function ui(J,Zt){if(1&J&&(i.ynx(0),i.TgZ(1,"div",14),i._uU(2),i.YNc(3,En,2,2,"app-badge",15),i.qZA(),i.YNc(4,_n,5,1,"div",6),i.YNc(5,Qe,5,1,"div",6),i.YNc(6,xe,7,2,"div",6),i.YNc(7,qe,3,3,"ng-container",1),i._UZ(8,"app-policy-request-task-services",16),i.BQk()),2&J){const Et=i.oxw().$implicit;i.xp6(2),i.hij(" \u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0441\u043b\u0443\u0433 ",Et.taskNumber," "),i.xp6(1),i.Q6J("ngIf",Et.taskStatusCode&&Et.taskStatusName),i.xp6(1),i.Q6J("ngIf",Et.lpuName),i.xp6(1),i.Q6J("ngIf",Et.lpuAddress),i.xp6(1),i.Q6J("ngIf",Et.variantName),i.xp6(1),i.Q6J("ngIf",Et.id),i.xp6(1),i.Q6J("services",i.Hh0(7,kn,Et.smp,Et.pnd,Et.app,Et.tmc,Et.other,Et.stom,Et.hospitalization))}}function eo(J,Zt){if(1&J){const Et=i.EpF();i.ynx(0),i.TgZ(1,"app-policy-request-lab-order",18),i.NdJ("cancelled",function(){i.CHM(Et);const ii=i.oxw(6);return i.KtG(ii.fetchRequest())}),i.qZA(),i.BQk()}if(2&J){const Et=Zt.$implicit,on=Zt.index,ii=i.oxw().ngIf,Si=i.oxw(5);i.xp6(1),i.Q6J("order",Et)("hasCreatePreorder",Si.hasCreatePreorder(on,ii))}}function Pn(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,eo,2,2,"ng-container",11),i.BQk()),2&J){const Et=Zt.ngIf,on=i.oxw().$implicit,ii=i.oxw(4);i.xp6(1),i.Q6J("ngForOf",ii.getLabOrdersInTaskGroup(on.taskNumber,Et))}}function tn(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,ui,9,15,"ng-container",1),i.TgZ(2,"dms-loader",10),i.ALo(3,"async"),i.YNc(4,Pn,2,1,"ng-container",1),i.ALo(5,"async"),i.qZA(),i.BQk()),2&J){const Et=Zt.$implicit,on=i.oxw(4);i.xp6(1),i.Q6J("ngIf",Et.taskNumber),i.xp6(1),i.Q6J("showLoader",!!i.lcZ(3,4,on.labOrdersStore.isLoading$))("overlay",!0),i.xp6(2),i.Q6J("ngIf",i.lcZ(5,6,on.labOrdersStore.data$))}}function ln(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,tn,6,8,"ng-container",11),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngForOf",Et)}}function Zn(J,Zt){if(1&J&&(i.ynx(0),i.TgZ(1,"div",3)(2,"div",4),i._uU(3),i.qZA(),i.TgZ(4,"div",5),i._uU(5),i.qZA()(),i.YNc(6,Ee,5,2,"div",6),i.YNc(7,de,5,1,"div",6),i.YNc(8,ae,5,1,"div",6),i.YNc(9,$e,5,1,"div",6),i.YNc(10,Bn,5,1,"div",6),i.YNc(11,Ae,6,1,"div",6),i.YNc(12,Hn,5,1,"div",6),i.YNc(13,rn,5,1,"div",6),i.YNc(14,re,5,1,"div",6),i.YNc(15,me,3,3,"ng-container",1),i.YNc(16,ln,2,1,"ng-container",1),i.BQk()),2&J){const Et=Zt.ngIf,on=i.oxw(2);i.xp6(3),i.Oqu(on.serviceTypeTitle(Et.requestCommonInfo.subjectNames)),i.xp6(2),i.Oqu(Et.requestCommonInfo.subjectNames),i.xp6(1),i.Q6J("ngIf",(null==Et.requestCommonInfo.subjectExtNames?null:Et.requestCommonInfo.subjectExtNames.length)&&on.hasSubjectExtTitle(Et.requestCommonInfo.subjectNames)),i.xp6(1),i.Q6J("ngIf",null==Et.requestCommonInfo.complaints?null:Et.requestCommonInfo.complaints.length),i.xp6(1),i.Q6J("ngIf",null==Et.requestCommonInfo.agreedServices?null:Et.requestCommonInfo.agreedServices.length),i.xp6(1),i.Q6J("ngIf",null==Et.requestCommonInfo.disAgreedServices?null:Et.requestCommonInfo.disAgreedServices.length),i.xp6(1),i.Q6J("ngIf",on.getAddress(Et)),i.xp6(1),i.Q6J("ngIf",Et.requestCommonInfo.negativeReasonName),i.xp6(1),i.Q6J("ngIf",Et.requestCommonInfo.smpResultName),i.xp6(1),i.Q6J("ngIf",Et.requestCommonInfo.pndResultName),i.xp6(1),i.Q6J("ngIf",Et.requestCommonInfo.hospitalizationResultName),i.xp6(1),i.Q6J("ngIf",!(null!=Et.tasks&&Et.tasks.length)&&on.requestId()),i.xp6(1),i.Q6J("ngIf",Et.tasks)}}const Jn=function(J){return["../../dp-request",J]},hi=function(J){return{reason:J}};function ei(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"footer")(1,"div",19)(2,"a",20),i.NdJ("click",function(){i.CHM(Et);const ii=i.oxw(2);return i.KtG(ii.closeDialogFromInnerBasedOnOwnRouter())}),i._uU(3," \u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f "),i.qZA()()()}if(2&J){const Et=Zt.ngIf,on=i.oxw(2);i.xp6(2),i.ekj("disabled",Et.requestCommonInfo.isFromLotus),i.Q6J("routerLink",Et.requestCommonInfo.isFromLotus?null:i.VKq(4,Jn,Et.requestCommonInfo.requestId))("state",i.VKq(6,hi,on.ReasonCanDeactivateDPRequest.OPEN_EXISTING_REQUEST))}}function wi(J,Zt){if(1&J&&(i.ynx(0),i.TgZ(1,"section",2),i.YNc(2,Ue,1,0,"app-data-fetch-error",1),i.YNc(3,Zn,17,13,"ng-container",1),i.qZA(),i.YNc(4,ei,4,8,"footer",1),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(2),i.Q6J("ngIf",Et.error),i.xp6(1),i.Q6J("ngIf",Et.data),i.xp6(1),i.Q6J("ngIf",Et.data)}}class oi{constructor(){this.store=(0,i.f3M)(e.i5),this.tableStore=(0,i.f3M)(e._x),this.gpStore=(0,i.f3M)(e.CD),this.labOrdersStore=(0,i.f3M)(e.wU),this.isActiveClient$=(0,i.f3M)(R.S8,{optional:!0})?.isActiveClient$??(0,V.of)(!0),this.isActiveClient=(0,U.O4)(this.isActiveClient$),this.ctx=(0,i.f3M)(f.yf),this.ReasonCanDeactivateDPRequest=T.bL,this.requestId=(0,U.O4)(this.store.state$.pipe((0,y.U)(Zt=>Zt.data?.requestCommonInfo.requestId||"")),{initialValue:""})}serviceTypeTitle(Zt){return Zt?.some(Et=>["\u041d\u0435\u0433\u0430\u0442\u0438\u0432","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f"].includes(Et))?"\u0412\u0438\u0434 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f":"\u0412\u0438\u0434 \u043c\u0435\u0434. \u0443\u0441\u043b\u0443\u0433\u0438"}gpByTaskId(Zt){return this.gpStore.mapGpListByTaskId$.pipe((0,y.U)(Et=>Et?.get(Zt.toString())??null))}allGp(){return this.gpStore.mapGpListByTaskId$.pipe((0,y.U)(Zt=>Zt&&Array.from(Zt.values()).flat()))}hasSubjectExtTitle(Zt){const Et=["\u0410\u041f\u041f","\u0421\u041c\u041f","\u0413\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440"];return!!Zt&&Zt.some(on=>Et.includes(on))}subjectExtTitle(Zt){return Zt?.some(Et=>"\u0421\u041c\u041f"===Et)?"\u0422\u0438\u043f \u0412\u041c\u0423 (\u0421\u041c\u041f)":Zt?.some(Et=>"\u0413\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"===Et||"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440"===Et)?"\u0422\u0438\u043f \u0433\u043e\u0441\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438":Zt?.some(Et=>"\u0410\u041f\u041f"===Et)?"\u0422\u0438\u043f \u0410\u041f\u041f":"\u0422\u0435\u043c\u0430\u0442\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}hasCreatePreorder(Zt,Et){const on=Et.some(Si=>Si.status!==et.uf.CANCELED),ii=Zt===Et.length-1;return!!this.isActiveClient()&&!on&&ii}getAddress(Zt){const Et=ii=>ii&&ii.length>0?ii[0].address:null,on=Zt.tasks;if(on&&on.length>0){const Si=on[0].smp;return Et(on[0].pnd)??Et(Si)}return null}fetchRequest(){this.store.fetchRequest(this.ctx.data.request$)}downloadFile(Zt,Et,on,ii){Zt.stopPropagation(),this.store.downloadFile({id:Et,extension:on,displayName:ii})}closeDialogFromInnerBasedOnOwnRouter(){this.ctx.completeWith(!0)}getLabOrdersInTaskGroup(Zt,Et){return Zt?Et.filter(on=>on.taskGroupNumber===Zt):[]}static{this.\u0275fac=function(Et){return new(Et||oi)}}static{this.\u0275cmp=i.Xpm({type:oi,selectors:[["app-policy-request-dialog-content"]],standalone:!0,features:[i.jDz],decls:6,vars:9,consts:[["size","m",3,"showLoader","overlay"],[4,"ngIf"],[1,"content"],[1,"row"],[1,"label"],[1,"value"],["class","row",4,"ngIf"],[1,"label","label--prepend"],["icon","appNegativeMessage"],[4,"tuiLet"],["size","s",3,"showLoader","overlay"],[4,"ngFor","ngForOf"],["tuiLink","",3,"click",4,"ngIf"],["tuiLink","",3,"click"],[1,"title"],["class","text-black",3,"status",4,"ngIf"],[3,"services"],[1,"text-black",3,"status"],[3,"order","hasCreatePreorder","cancelled"],[1,"footer"],["tuiButton","","appearance","primary","type","button","size","m",3,"routerLink","state","click"]],template:function(Et,on){1&Et&&(i.TgZ(0,"dms-loader",0),i.ALo(1,"async"),i.ALo(2,"async"),i.YNc(3,wi,5,3,"ng-container",1),i.ALo(4,"async"),i._UZ(5,"router-outlet"),i.qZA()),2&Et&&(i.Q6J("showLoader",!!i.lcZ(1,3,on.store.isLoading$)||!!i.lcZ(2,5,on.tableStore.isLoading$))("overlay",!0),i.xp6(3),i.Q6J("ngIf",i.lcZ(4,7,on.store.state$)))},dependencies:[M.Ov,M.O5,M.sg,T.FN,h.Ph,h.gK,Pe,B,w.xG,p.lI,L.R,A.i,g.rH,g.lC],styles:['.title[_ngcontent-%COMP%]{margin:16px 4px 12px;display:flex;align-items:center;font-size:16px;gap:var(--tui-padding-l)}.title[_ngcontent-%COMP%] + .title[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:8px}.row[_ngcontent-%COMP%]{--value-color: currentColor;display:flex;overflow:hidden;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs)}.row[_ngcontent-%COMP%]:not(:first-child){margin-top:4px}.label[_ngcontent-%COMP%]{margin:0;padding:var(--tui-padding-m);min-width:calc(170px + var(--tui-padding-m) * 2);max-width:min-content;color:var(--tui-background-accent-opposite-pressed)}.label--prepend[_ngcontent-%COMP%]{display:flex;gap:var(--tui-padding-m)}.value[_ngcontent-%COMP%]{padding:var(--tui-padding-m) var(--tui-padding-m) var(--tui-padding-m) 0;width:100%;white-space:pre-line;overflow-wrap:anywhere;color:var(--value-color)}.value--append[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}[_nghost-%COMP%]{position:relative;padding:var(--tui-padding-s);display:block;width:800px}.footer[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;background-clip:padding-box;border-bottom:solid 6px transparent;border-radius:24px;padding:var(--tui-padding-m);gap:var(--tui-padding-s);display:flex;justify-content:flex-end;background-color:var(--tui-background-base)}.footer[_ngcontent-%COMP%]:before{position:absolute;z-index:-1;inset:6px 0 0;margin-bottom:-6px;content:"";background-image:linear-gradient(90deg,#9275bd 0%,#e0b1bb 31.57%,#9ed7f0 63.17%,#619ac4 100%);border-radius:inherit}.footer[_ngcontent-%COMP%]   a[tuiButton].disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none;cursor:default}.content[_ngcontent-%COMP%]{margin-bottom:var(--tui-padding-s);padding:var(--tui-padding-s);display:flex;min-height:100px;flex-direction:column;justify-content:center;background-color:var(--tui-background-base);border-radius:var(--tui-radius-s)}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:12px 4px}.content[_ngcontent-%COMP%]   .label--prepend[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{color:var(--tui-text-negative)}app-badge[_ngcontent-%COMP%]{padding:2px 6px}app-data-fetch-error[_ngcontent-%COMP%]{min-height:280px}app-badge.text-black[data-status=error][_ngcontent-%COMP%]{--badge-text-color: var(--tui-text-primary)}'],changeDetection:0})}}(0,O.gn)([S.UM],oi.prototype,"serviceTypeTitle",null),(0,O.gn)([S.UM],oi.prototype,"gpByTaskId",null),(0,O.gn)([S.UM],oi.prototype,"allGp",null),(0,O.gn)([S.UM],oi.prototype,"hasSubjectExtTitle",null),(0,O.gn)([S.UM],oi.prototype,"subjectExtTitle",null),(0,O.gn)([S.UM],oi.prototype,"hasCreatePreorder",null),(0,O.gn)([S.UM],oi.prototype,"getAddress",null);var Li=o(3266),mi=o(9207);function Zi(J,Zt){if(1&J&&(i.TgZ(0,"app-badge"),i._uU(1),i.qZA()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Oqu(Et.requestCommonInfo.requestStatusName)}}function Qi(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Zi,2,1,"app-badge",3),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("ngIf",Et.data)}}const Yi=function(J){return{typeCode:J}},uo=function(J,Zt){return{parentRequestId:J,request:Zt}},Ui=function(J,Zt){return{reason:J,context:Zt}},Ki=function(J){return["../../dp-request/",J]};function Gi(J,Zt){if(1&J){const Et=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){i.CHM(Et);const ii=i.oxw(2);return i.KtG(ii.closeDialogFromInnerBasedOnOwnRouter())}),i._uU(1," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 "),i.qZA()}if(2&J){const Et=Zt.ngIf,on=i.oxw(2);i.Q6J("state",i.WLB(7,Ui,on.ReasonCanDeactivateDPRequest.CREATE_NEW,i.WLB(4,uo,Et,i.VKq(2,Yi,on.DPRequestTypes.APPROVE_SERVICE))))("routerLink",i.VKq(10,Ki,on.FormDPRequestModes.CREATE))}}function sn(J,Zt){if(1&J&&(i.TgZ(0,"div",1)(1,"div",2)(2,"h3"),i._uU(3),i.qZA(),i.YNc(4,Qi,2,1,"ng-container",3),i.ALo(5,"async"),i.qZA(),i.YNc(6,Gi,2,12,"button",4),i.qZA()),2&J){const Et=Zt.ngIf,on=i.oxw();i.xp6(3),i.hij("\u2116 ",Et.regNumber,""),i.xp6(1),i.Q6J("ngIf",i.lcZ(5,3,on.store.state$)),i.xp6(2),i.Q6J("ngIf",Et.uid)}}let fi=(()=>{class J{constructor(){this.router=(0,i.f3M)(g.F0),this.activatedRoute=(0,i.f3M)(g.gz),this.store=(0,i.f3M)(mi.i),this.FormDPRequestModes=T.sY,this.ctx=(0,f.FQ)(),this.ReasonCanDeactivateDPRequest=T.bL,this.DPRequestTypes=Li.q5}closeDialogFromInnerBasedOnOwnRouter(){this.ctx.completeWith(!0)}static{this.\u0275fac=function(on){return new(on||J)}}static{this.\u0275cmp=i.Xpm({type:J,selectors:[["app-policy-request-dialog-header"]],standalone:!0,features:[i.jDz],decls:2,vars:3,consts:[["class","header",4,"ngIf"],[1,"header"],[1,"header__group"],[4,"ngIf"],["tuiButton","","iconStart","appLink","size","xs",3,"state","routerLink","click",4,"ngIf"],["tuiButton","","iconStart","appLink","size","xs",3,"state","routerLink","click"]],template:function(on,ii){1&on&&(i.YNc(0,sn,7,5,"div",0),i.ALo(1,"async")),2&on&&i.Q6J("ngIf",i.lcZ(1,1,ii.ctx.data.request$))},dependencies:[M.Ov,M.O5,T.FN,w.xG,g.rH],styles:["h3[_ngcontent-%COMP%]{margin:0}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header__group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.header__group[_ngcontent-%COMP%]   app-badge[_ngcontent-%COMP%]{padding:2px 6px}.header[_ngcontent-%COMP%]   [iconStart=appLink][_ngcontent-%COMP%]:before{font-size:20px}"],changeDetection:0})}}return J})(),Xt=(()=>{class J{constructor(){this.store=(0,i.f3M)(e.i5),this.tableStore=(0,i.f3M)(e._x),this.sheetService=(0,i.f3M)(h.q6),this.injector=(0,i.f3M)(i.zs3),this.routerStore=(0,i.f3M)(_.fT),this.router=(0,i.f3M)(g.F0),this.activatedRoute=(0,i.f3M)(g.gz),this.isNavigateFromOutside=!1}ngOnInit(){const Et=this.tableStore.policyRequestTableItem$.pipe((0,E.q)(1));this.store.fetchRequest(Et),this.sheetService.open(new f.Al(oi,this.injector),{header:new f.Al(fi,this.injector),closeable:!0,data:{request$:Et}}).pipe((0,v.R)(this.store.destroy$),(0,C.b)(on=>{on&&(this.isNavigateFromOutside=!0)}),(0,D.x)(()=>{this.isNavigateFromOutside||this.navigateToPolicyRequestList()})).subscribe()}navigateToPolicyRequestList(){this.router.navigate(["../"],{relativeTo:this.activatedRoute,queryParamsHandling:"merge"})}static{this.\u0275fac=function(on){return new(on||J)}}static{this.\u0275cmp=i.Xpm({type:J,selectors:[["app-policy-request-dialog"]],standalone:!0,features:[i._Bn([e.i5,m.UK,e.CD,e.wU,{provide:_.aP,useFactory:()=>(0,i.f3M)(e._x).policyRequestTableItem$.pipe((0,y.U)(Et=>Et.regNumber??null))},{provide:T.Ut,useFactory:()=>(0,i.f3M)(_.fT).queryParam$("taskGroupNumber").pipe((0,y.U)(Et=>Et||null))}]),i.jDz],decls:0,vars:0,template:function(on,ii){},changeDetection:0})}}return J})();var Ye=o(6223),se=o(4098),Ve=o(6805),An=o(4224),Ei=o(8293),ji=o(2181),Ji=o(4664),Wo=o(6669);function Ie(J,Zt){if(1&J&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"date"),i.qZA()),2&J){const Et=i.oxw();i.xp6(1),i.hij(" \u043e\u0442 ",i.xi3(2,1,Et.gp.dateFrom,"dd.MM.yyyy"),"")}}class ze{constructor(){this.store=(0,i.f3M)(e.f3)}getGPBadgeStatus(Zt){return"cancelled"===Zt?"error":"success"}downloadGpFile(Zt,Et,on,ii){Zt.stopPropagation(),this.store.downloadFile({id:Et,extension:on,displayName:ii})}static{this.\u0275fac=function(Et){return new(Et||ze)}}static{this.\u0275cmp=i.Xpm({type:ze,selectors:[["app-policy-request-gp-cell"]],inputs:{gp:"gp"},standalone:!0,features:[i._Bn([e.f3]),i.jDz],decls:7,vars:10,consts:[[3,"status"],[3,"click"],["size","xs",3,"showLoader","overlay"],[4,"ngIf"]],template:function(Et,on){1&Et&&(i.TgZ(0,"app-badge",0),i._uU(1),i.qZA(),i.TgZ(2,"div",1),i.NdJ("click",function(Si){return on.gp.gpFileId&&on.downloadGpFile(Si,on.gp.gpFileId,on.gp.gpFileExtension,on.gp.gpFileName)}),i.TgZ(3,"tui-loader",2),i.ALo(4,"async"),i._uU(5),i.YNc(6,Ie,3,4,"span",3),i.qZA()()),2&Et&&(i.Q6J("status",on.getGPBadgeStatus(on.gp.status.code)),i.xp6(1),i.hij(" ",on.gp.status.value,"\n"),i.xp6(1),i.ekj("color-primary",on.gp.gpFileId),i.xp6(1),i.Q6J("showLoader",!!i.lcZ(4,8,on.store.isLoading$))("overlay",!0),i.xp6(2),i.hij(" ",on.gp.regNumber," "),i.xp6(1),i.Q6J("ngIf",on.gp.dateFrom))},dependencies:[M.Ov,M.O5,T.FN,M.uU,Wo.A6],styles:[".color-primary[_ngcontent-%COMP%]{color:var(--tui-background-accent-1);cursor:pointer}.color-primary[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0})}}function pn(J,Zt){if(1&J&&(i.ynx(0),i._uU(1),i.BQk()),2&J){const Et=i.oxw();i.xp6(1),i.hij(" ",Et.subjects.join(", "),"\n")}}function fn(J,Zt){1&J&&i._UZ(0,"tui-icon",5)}function an(J,Zt){if(1&J&&(i.TgZ(0,"div",3),i.YNc(1,fn,1,0,"tui-icon",4),i._uU(2),i.qZA()),2&J){const Et=i.oxw(2);i.xp6(1),i.Q6J("ngIf","\u041d\u0435\u0433\u0430\u0442\u0438\u0432"===Et.subjects[0]),i.xp6(1),i.hij(" ",Et.subjects[0]," ")}}function Mn(J,Zt){if(1&J&&i.YNc(0,an,3,2,"div",2),2&J){const Et=i.oxw();i.Q6J("ngIf",1===Et.subjects.length)}}(0,O.gn)([S.UM],ze.prototype,"getGPBadgeStatus",null);let Tn=(()=>{class J{constructor(){this.subjects=[]}static{this.\u0275fac=function(on){return new(on||J)}}static{this.\u0275cmp=i.Xpm({type:J,selectors:[["app-policy-request-subjects-cell"]],inputs:{subjects:"subjects"},standalone:!0,features:[i.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["singleSubject",""],["class","subject",4,"ngIf"],[1,"subject"],["class","negative-icon","icon","appNegativeMessage",4,"ngIf"],["icon","appNegativeMessage",1,"negative-icon"]],template:function(on,ii){if(1&on&&(i.YNc(0,pn,2,1,"ng-container",0),i.YNc(1,Mn,1,1,"ng-template",null,1,i.W1O)),2&on){const Si=i.MAs(2);i.Q6J("ngIf",ii.subjects.length>1)("ngIfElse",Si)}},dependencies:[M.O5,L.R],styles:[".subject[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--tui-padding-xs)}.negative-icon[_ngcontent-%COMP%]{color:var(--tui-text-negative)}"],changeDetection:0})}}return J})();var bn=o(1962),ie=o(1870);function We(J,Zt){1&J&&(i.TgZ(0,"th",18),i._uU(1,"\u2116 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),i.qZA()),2&J&&i.Q6J("sorter",null)}function Le(J,Zt){1&J&&(i.TgZ(0,"th",19),i._uU(1,"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"),i.qZA())}function un(J,Zt){1&J&&(i.TgZ(0,"th",20),i._uU(1,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),i.qZA()),2&J&&i.Q6J("sorter",null)}function Rn(J,Zt){1&J&&(i.TgZ(0,"th",21),i._uU(1,"\u0412\u041c\u0423"),i.qZA()),2&J&&i.Q6J("sorter",null)}function Fn(J,Zt){1&J&&(i.TgZ(0,"th",22),i._uU(1,"\u0416\u0430\u043b\u043e\u0431\u0430 \u0438\u043b\u0438 \u0434\u0438\u0430\u0433\u043d\u043e\u0437"),i.qZA()),2&J&&i.Q6J("sorter",null)}function si(J,Zt){1&J&&(i.TgZ(0,"th",23),i._uU(1,"\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"),i.qZA()),2&J&&i.Q6J("sorter",null)}function Di(J,Zt){1&J&&(i.TgZ(0,"th",24),i._uU(1,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u0413\u041f"),i.qZA()),2&J&&i.Q6J("sorter",null)}function Ii(J,Zt){1&J&&(i.TgZ(0,"th",25),i._uU(1,"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044f"),i.qZA()),2&J&&i.Q6J("sorter",null)}function Vi(J,Zt){1&J&&(i.TgZ(0,"p",31),i._uU(1,"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),i.qZA())}function gi(J,Zt){1&J&&i._UZ(0,"dms-loader",32)}function Ni(J,Zt){1&J&&i._UZ(0,"app-data-fetch-error")}function zi(J,Zt){if(1&J&&(i.TgZ(0,"tbody")(1,"tr",26)(2,"td",27)(3,"div",28),i.YNc(4,Vi,2,0,"p",29),i.YNc(5,gi,1,0,"dms-loader",30),i.YNc(6,Ni,1,0,"app-data-fetch-error",5),i.qZA()()()()),2&J){const Et=i.oxw().ngIf,on=i.oxw();i.xp6(2),i.Q6J("colSpan",on.columns.length),i.xp6(2),i.Q6J("ngIf",!Et.isLoading&&!Et.error),i.xp6(1),i.Q6J("ngIf",Et.isLoading),i.xp6(1),i.Q6J("ngIf",Et.error)}}function Mo(J,Zt){1&J&&i.GkF(0)}function io(J,Zt){1&J&&i._UZ(0,"img",50)}function qo(J,Zt){1&J&&i._UZ(0,"img",51)}function $o(J,Zt){1&J&&i._UZ(0,"tui-icon",52)}function tr(J,Zt){1&J&&i._UZ(0,"tui-icon",53)}function mr(J,Zt){if(1&J&&(i.TgZ(0,"td",43)(1,"div")(2,"div",44),i.YNc(3,io,1,0,"img",45),i.YNc(4,qo,1,0,"img",46),i.qZA(),i.TgZ(5,"div",47),i.YNc(6,$o,1,0,"tui-icon",48),i.TgZ(7,"div"),i.YNc(8,tr,1,0,"tui-icon",49),i._uU(9),i.qZA()()()()),2&J){const Et=i.oxw().$implicit,on=i.oxw().level;i.xp6(1),i.Udp("margin-left",20*(on-1),"px"),i.xp6(2),i.Q6J("ngIf",Et.isUrgent),i.xp6(1),i.Q6J("ngIf",Et.isFromLotus),i.xp6(2),i.Q6J("ngIf",on>1),i.xp6(1),i.ekj("reg-number-label",Et.children&&Et.children.length>0||on>1),i.xp6(1),i.Q6J("ngIf",Et.children&&Et.children.length>0),i.xp6(1),i.hij(" ",Et.regNumber," ")}}function er(J,Zt){if(1&J&&(i.TgZ(0,"td",43),i._uU(1),i.ALo(2,"fixedDateBasedOnTimeZone"),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Oqu(i.xi3(2,1,Et.createdAt,"dd.MM.yyyy HH:mm:ss"))}}function po(J,Zt){if(1&J&&(i.TgZ(0,"td",54)(1,"app-badge"),i._uU(2),i.qZA()()),2&J){const Et=i.oxw().$implicit;i.xp6(2),i.Oqu(Et.regStatus.name)}}function Ti(J,Zt){if(1&J&&i._UZ(0,"app-policy-request-subjects-cell",56),2&J){const Et=i.oxw(2).$implicit;i.Q6J("subjects",Et.subject)}}function Wi(J,Zt){if(1&J&&(i.TgZ(0,"td",43),i.YNc(1,Ti,1,1,"app-policy-request-subjects-cell",55),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",Et.subject)}}function so(J,Zt){if(1&J&&(i.TgZ(0,"td",43),i._UZ(1,"app-page-long-text-cell",57),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Q6J("longText",null==Et.complaints?null:Et.complaints.join(", "))}}function Ko(J,Zt){if(1&J&&(i.TgZ(0,"td",43),i._UZ(1,"app-page-long-text-cell",57),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Q6J("longText",null==Et.agreedServices?null:Et.agreedServices.join(", "))}}function cr(J,Zt){if(1&J&&(i.TgZ(0,"div",60),i._UZ(1,"app-policy-request-gp-cell",61),i.qZA()),2&J){const Et=Zt.$implicit;i.xp6(1),i.Q6J("gp",Et)}}function Uo(J,Zt){if(1&J&&(i.TgZ(0,"td",58),i.YNc(1,cr,2,1,"div",59),i.qZA()),2&J){const Et=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",Et.gpInfo)}}function bo(J,Zt){if(1&J&&(i.TgZ(0,"td",54),i._uU(1),i.qZA()),2&J){const Et=i.oxw().$implicit,on=i.oxw(5);i.xp6(1),i.hij(" ",Et.partners&&on.getPartners(Et.partners)," ")}}function qi(J,Zt){1&J&&i.GkF(0)}const xo=function(J,Zt,Et){return{requests:J,level:Zt,isLastParent:Et}};function Lo(J,Zt){if(1&J&&i.YNc(0,qi,1,0,"ng-container",35),2&J){const Et=i.oxw(),on=Et.$implicit,ii=Et.index,Si=i.oxw(),Oo=Si.level,rr=Si.isLastParent,jo=Si.requests;i.oxw();const Nr=i.MAs(3);i.Q6J("ngTemplateOutlet",Nr)("ngTemplateOutletContext",i.kEZ(2,xo,on.children,Oo+1,1===Oo||rr&&ii===jo.length-1))}}function Fi(J,Zt){if(1&J){const Et=i.EpF();i.ynx(0),i.TgZ(1,"tr",38),i.NdJ("click",function(){const Si=i.CHM(Et).$implicit,Oo=i.oxw(5);return i.KtG(Oo.openRequest(Si))}),i.YNc(2,mr,10,9,"td",39),i.YNc(3,er,3,4,"td",39),i.YNc(4,po,3,1,"td",40),i.YNc(5,Wi,2,1,"td",39),i.YNc(6,so,2,1,"td",39),i.YNc(7,Ko,2,1,"td",39),i.YNc(8,Uo,2,1,"td",41),i.YNc(9,bo,2,1,"td",40),i.qZA(),i.YNc(10,Lo,1,6,"ng-template",42),i.BQk()}if(2&J){const Et=Zt.$implicit,on=Zt.index,ii=i.oxw(),Si=ii.level,Oo=ii.isLastParent,rr=ii.requests,jo=i.oxw(4);i.xp6(1),i.ekj("first",jo.isRoot(Si,Et.children))("group",Si>1||jo.isRoot(Si,Et.children))("last",Oo&&0===Et.children.length&&on===rr.length-1),i.xp6(1),i.Q6J("tuiCell","regNumber"),i.xp6(1),i.Q6J("tuiCell","createdAt"),i.xp6(1),i.Q6J("tuiCell","regStatus"),i.xp6(1),i.Q6J("tuiCell","subject"),i.xp6(1),i.Q6J("tuiCell","complaints"),i.xp6(1),i.Q6J("tuiCell","agreedServices"),i.xp6(1),i.Q6J("tuiCell","gpInfo"),i.xp6(1),i.Q6J("tuiCell","partners"),i.xp6(1),i.Q6J("ngIf",Et.children&&Et.children.length>0)}}function Go(J,Zt){1&J&&i.YNc(0,Fi,11,15,"ng-container",37),2&J&&i.Q6J("ngForOf",Zt.requests)}const gn=function(J){return{requests:J,level:1,isLastParent:!0}};function Yn(J,Zt){if(1&J&&(i.TgZ(0,"tbody",34),i.YNc(1,Mo,1,0,"ng-container",35),i.YNc(2,Go,1,1,"ng-template",null,36,i.W1O),i.qZA()),2&J){const Et=Zt.tuiLet,on=i.MAs(3),ii=i.oxw().ngIf;i.Q6J("data",Et),i.xp6(1),i.Q6J("ngTemplateOutlet",on)("ngTemplateOutletContext",i.VKq(3,gn,ii))}}function te(J,Zt){if(1&J&&(i.ynx(0),i.YNc(1,Yn,4,5,"tbody",33),i.ALo(2,"tuiTableSort"),i.BQk()),2&J){const Et=Zt.ngIf;i.xp6(1),i.Q6J("tuiLet",i.lcZ(2,1,Et))}}function hn(J,Zt){if(1&J){const Et=i.EpF();i.ynx(0),i.TgZ(1,"div",6)(2,"table",7),i.NdJ("directionChange",function(ii){i.CHM(Et);const Si=i.oxw();return i.KtG(Si.filterTableService.setSortDirection(ii))})("tuiSortByChange",function(ii){i.CHM(Et);const Si=i.oxw();return i.KtG(Si.filterTableService.setSortField(ii))}),i.ALo(3,"async"),i.ALo(4,"async"),i.TgZ(5,"thead",8)(6,"tr",9),i.YNc(7,We,2,1,"th",10),i.YNc(8,Le,2,0,"th",11),i.YNc(9,un,2,1,"th",12),i.YNc(10,Rn,2,1,"th",13),i.YNc(11,Fn,2,1,"th",14),i.YNc(12,si,2,1,"th",15),i.YNc(13,Di,2,1,"th",16),i.YNc(14,Ii,2,1,"th",17),i.qZA()(),i.YNc(15,zi,7,4,"tbody",5),i.YNc(16,te,3,3,"ng-container",5),i.qZA(),i._UZ(17,"router-outlet"),i.qZA(),i.BQk()}if(2&J){const Et=Zt.ngIf,on=i.oxw();i.xp6(2),i.Q6J("columns",on.columns)("direction",i.lcZ(3,13,on.direction$)||1)("tuiSortBy",i.lcZ(4,15,on.sortField$)),i.xp6(5),i.Q6J("tuiHead","regNumber"),i.xp6(1),i.Q6J("tuiHead","createdAt"),i.xp6(1),i.Q6J("tuiHead","regStatus"),i.xp6(1),i.Q6J("tuiHead","subject"),i.xp6(1),i.Q6J("tuiHead","complaints"),i.xp6(1),i.Q6J("tuiHead","agreedServices"),i.xp6(1),i.Q6J("tuiHead","gpInfo"),i.xp6(1),i.Q6J("tuiHead","partners"),i.xp6(1),i.Q6J("ngIf",null===Et.requests||0===Et.requests.length),i.xp6(1),i.Q6J("ngIf",Et.requests)}}const In=["regNumber","createdAt","regStatus","subject","complaints","agreedServices","gpInfo","partners"];class ai{constructor(){this.router=(0,i.f3M)(g.F0),this.activatedRoute=(0,i.f3M)(g.gz),this.store=(0,i.f3M)(e._x),this.filterTableService=(0,i.f3M)(e.K),this.searchQuery$=this.filterTableService.searchQuery$,this.dateRange$=this.filterTableService.dateRange$,this.direction$=this.filterTableService.sortDirection$.pipe((0,y.U)(Zt=>"asc"===Zt?-1:1)),this.sortField$=this.filterTableService.sortField$.pipe((0,y.U)(Zt=>Zt||null)),this.filter$=this.filterTableService.filter$,this.route=(0,i.f3M)(g.gz),this.routerStore=(0,i.f3M)(_.fT),this.requestByRegNumber$=this.routerStore.queryParam$("regNumber").pipe((0,ji.h)(Boolean),(0,Ji.w)(Zt=>this.store.getRequestByRegNumber(Zt))),this.destroyRef=(0,i.f3M)(i.ktI),this.columns=In}get maxDate(){return se.TU.currentLocal()}isRoot(Zt,Et){return 1===Zt&&Et?.length}getPartners(Zt){return Zt.map(Et=>Et.partner).join(", ")}getPartnerBadgeStatus(Zt){return"CANCELLED"===Zt?{code:"error",value:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}:{code:"success",value:"\u041d\u043e\u0432\u044b\u0439"}}ngOnInit(){this.requestByRegNumber$.pipe((0,U.sL)(this.destroyRef),(0,C.b)(Zt=>this.openRequest(Zt))).subscribe(),this.store.fetchRequests(this.filter$)}updateDateRange(Zt){this.filterTableService.setDateRange(Zt)}updateSearchQuery(Zt){this.filterTableService.setSearchQuery(Zt)}openRequest(Zt){this.router.navigate([{outlets:{primary:[Zt.uid]}}],{queryParamsHandling:"merge",relativeTo:this.activatedRoute})}static{this.\u0275fac=function(Et){return new(Et||ai)}}static{this.\u0275cmp=i.Xpm({type:ai,selectors:[["app-policy-request-table"]],standalone:!0,features:[i._Bn([m.UK,a.a]),i.jDz],decls:11,vars:12,consts:[[1,"policy-tasks","dms-island"],[1,"policy-tasks-search"],["tuiTextfieldSize","m","tuiTextfieldIconLeft","@tui.search",3,"tuiTextfieldCleaner","ngModel","ngModelChange"],["tuiTextfieldLegacy",""],["tuiUnfinishedValidator","\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u0435","tuiTextfieldSize","m",3,"tuiTextfieldCleaner","ngModel","max","ngModelChange"],[4,"ngIf"],[1,"table-wrap"],["tuiTable","","aria-describedby","\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange"],["tuiThead",""],["tuiThGroup","",1,"vertical-middle"],["tuiTh","","class","regNumber",3,"sorter",4,"tuiHead"],["tuiTh","","class","createdAt","tuiSortable","",4,"tuiHead"],["tuiTh","","class","status",3,"sorter",4,"tuiHead"],["tuiTh","","class","subject",3,"sorter",4,"tuiHead"],["tuiTh","","class","complaints",3,"sorter",4,"tuiHead"],["tuiTh","","class","services",3,"sorter",4,"tuiHead"],["tuiTh","","class","gp",3,"sorter",4,"tuiHead"],["tuiTh","","class","partners",3,"sorter",4,"tuiHead"],["tuiTh","",1,"regNumber",3,"sorter"],["tuiTh","","tuiSortable","",1,"createdAt"],["tuiTh","",1,"status",3,"sorter"],["tuiTh","",1,"subject",3,"sorter"],["tuiTh","",1,"complaints",3,"sorter"],["tuiTh","",1,"services",3,"sorter"],["tuiTh","",1,"gp",3,"sorter"],["tuiTh","",1,"partners",3,"sorter"],[1,"empty-data"],[3,"colSpan"],[1,"empty-data__wrap"],["class","empty-data__text",4,"ngIf"],["size","m",4,"ngIf"],[1,"empty-data__text"],["size","m"],["tuiTbody","",3,"data",4,"tuiLet"],["tuiTbody","",3,"data"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tableRow",""],[4,"ngFor","ngForOf"],["tuiTr","",3,"click"],["tuiTd","",4,"tuiCell"],["tuiTd","","class","align-center",4,"tuiCell"],["tuiTd","","class","vertical-middle",4,"tuiCell"],[3,"ngIf"],["tuiTd",""],[1,"reg-number-icons"],["alt","\u0421\u0440\u043e\u0447\u043d\u043e\u0435","ngSrc","assets/icons/urgent-request.icon.svg","width","24","height","16",4,"ngIf"],["alt","\u0438\u0437 \u041b\u043e\u0442\u0443\u0441\u0430","ngSrc","assets/icons/lotus-notes.icon.svg","width","24","height","16",4,"ngIf"],[1,"reg-number-block"],["class","reg-child-icon","icon","appIconGitBranch",4,"ngIf"],["class","reg-group-icon","icon","appIconGitFlow",4,"ngIf"],["alt","\u0421\u0440\u043e\u0447\u043d\u043e\u0435","ngSrc","assets/icons/urgent-request.icon.svg","width","24","height","16"],["alt","\u0438\u0437 \u041b\u043e\u0442\u0443\u0441\u0430","ngSrc","assets/icons/lotus-notes.icon.svg","width","24","height","16"],["icon","appIconGitBranch",1,"reg-child-icon"],["icon","appIconGitFlow",1,"reg-group-icon"],["tuiTd","",1,"align-center"],[3,"subjects",4,"ngIf"],[3,"subjects"],["tuiHintDirection","top",3,"longText"],["tuiTd","",1,"vertical-middle"],["class","gp-info",4,"ngFor","ngForOf"],[1,"gp-info"],[3,"gp"]],template:function(Et,on){1&Et&&(i.TgZ(0,"div",0)(1,"div",1)(2,"tui-input",2),i.NdJ("ngModelChange",function(Si){return on.updateSearchQuery(Si)}),i.ALo(3,"async"),i._uU(4," \u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u043b\u043e\u0432\u0443 (\u0432 \u0442.\u0447. \u043f\u043e \u0432\u0438\u0434\u0443 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f) "),i._UZ(5,"input",3),i.qZA(),i.TgZ(6,"tui-input-date-range",4),i.NdJ("ngModelChange",function(Si){return on.updateDateRange(Si)}),i.ALo(7,"async"),i._uU(8," \u0414\u0430\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f "),i.qZA()(),i.YNc(9,hn,18,17,"ng-container",5),i.ALo(10,"async"),i.qZA()),2&Et&&(i.xp6(2),i.Q6J("tuiTextfieldCleaner",!0)("ngModel",i.lcZ(3,6,on.searchQuery$)),i.xp6(4),i.Q6J("tuiTextfieldCleaner",!0)("ngModel",i.lcZ(7,8,on.dateRange$))("max",on.maxDate),i.xp6(3),i.Q6J("ngIf",i.lcZ(10,10,on.store.state$)))},dependencies:[M.Ov,T.FN,h.Ph,h.gK,Ye.u5,Ye.JJ,Ye.On,M.O5,M.sg,M.tP,M.Zd,Ve.sR,Ve.H5,Ve.dc,bn.MB,An.Qf,An.K3,An.wU,A.i,ie.c4,ie.s6,ie.PU,ie.PW,ie.dw,ie.Zh,ie.hK,ie.kA,ie.li,ie.IU,ie.I1,ie.yS,Ei.cn,Ei.be,Ei.sz,Ei.aR,L.R,g.lC,ze,Tn,T.mK,k.L],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;border-top:1px solid var(--dms-border-color)}.text-center[_ngcontent-%COMP%], .align-center[_ngcontent-%COMP%]{text-align:center}.vertical-middle[_ngcontent-%COMP%], .align-center[_ngcontent-%COMP%]{vertical-align:middle}.block-center[_ngcontent-%COMP%]{margin:0 auto}.policy-tasks[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;flex-grow:1}.policy-tasks-search[_ngcontent-%COMP%]{display:flex;width:100%;grid-column:1/-1;gap:0 8px}.policy-tasks-search[_ngcontent-%COMP%]   tui-input[_ngcontent-%COMP%]{flex-grow:6}.policy-tasks-search[_ngcontent-%COMP%]   tui-input-date-range[_ngcontent-%COMP%]{width:323px;flex-shrink:0}.table-wrap[_ngcontent-%COMP%]{background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs)}table[_ngcontent-%COMP%]{table-layout:fixed;border-spacing:0;border-radius:var(--tui-radius-xs)}tbody[_ngcontent-%COMP%]{border-color:transparent}[_nghost-%COMP%]  [tuitable] th button.t-sort{padding:0;color:var(--tui-text-primary)!important}[_nghost-%COMP%]  [tuitable] th button.t-sort:hover, [_nghost-%COMP%]  [tuitable] th button.t-sort:focus{background-color:inherit}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{margin:0;padding:var(--tui-padding-s);font:var(--tui-font-text-xs)!important;color:var(--tui-text-primary);border-color:transparent;border-right-color:var(--tui-border-normal);border-bottom:0}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{border-right-color:transparent}th[_ngcontent-%COMP%]{background-color:var(--tui-background-base-alt)}th[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--tui-radius-xs)}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:var(--tui-padding-s)}th[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--tui-radius-xs)}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:var(--tui-padding-s)}th.regNumber[_ngcontent-%COMP%]{width:18%}th.createdAt[_ngcontent-%COMP%], th.status[_ngcontent-%COMP%], th.subject[_ngcontent-%COMP%], th.partners[_ngcontent-%COMP%]{width:8%}th.complaints[_ngcontent-%COMP%], th.services[_ngcontent-%COMP%], th.gp[_ngcontent-%COMP%]{width:15%}td[_ngcontent-%COMP%]{position:relative;background-color:var(--tui-background-base-alt);border-top:1px solid var(--tui-border-normal);border-bottom:none}tr[_ngcontent-%COMP%]{vertical-align:top;cursor:pointer}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:var(--tui-radius-xs)}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--tui-radius-xs)}tr.group.last[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-top:0}tr.group[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #979797}tr.group[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #979797}tr.group.first[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #979797}tr.group.first[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--tui-radius-xs)}tr.group.first[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--tui-radius-xs)}tr.group.last[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #979797}tr.group.last[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:var(--tui-radius-xs)}tr.group.last[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--tui-radius-xs)}.reg-number-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--tui-padding-xs);font:var(--tui-font-text-xs)}.reg-number-block[_ngcontent-%COMP%]   .reg-child-icon[_ngcontent-%COMP%], .reg-number-block[_ngcontent-%COMP%]   .reg-group-icon[_ngcontent-%COMP%]{font-size:16px}.reg-number-block[_ngcontent-%COMP%]   .reg-child-icon[_ngcontent-%COMP%]{color:var(--tui-text-06)}.reg-number-block[_ngcontent-%COMP%]   .reg-group-icon[_ngcontent-%COMP%]{color:#4666f8}.reg-number-block[_ngcontent-%COMP%]   .reg-number-label[_ngcontent-%COMP%]{padding:2px 6px;display:flex;align-items:center;background-color:var(--arm-main-background);border-radius:var(--tui-radius-xxs);gap:2px}.empty-data__wrap[_ngcontent-%COMP%]{display:flex;min-height:400px;justify-content:center;align-items:center}.empty-data__text[_ngcontent-%COMP%]{text-align:center;color:var(--tui-background-accent-opposite-pressed)}.empty-data[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:default}.gp-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--tui-padding-xs);align-items:flex-start}.gp-info[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--tui-padding-s)}.reg-number-icons[_ngcontent-%COMP%]{margin-bottom:var(--tui-padding-s);display:flex;gap:4px}.reg-number-icons[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0})}}function Bi(J,Zt){if(1&J&&(i.TgZ(0,"div",5),i._uU(1),i.qZA()),2&J){const Et=Zt.ngIf,on=i.oxw();i.xp6(1),i.hij(" ",on.getReqNumber(Et)," ")}}(0,O.gn)([S.UM],ai.prototype,"maxDate",null),(0,O.gn)([S.UM],ai.prototype,"isRoot",null),(0,O.gn)([S.UM],ai.prototype,"getPartners",null),(0,O.gn)([S.UM],ai.prototype,"getPartnerBadgeStatus",null);const No=function(){return{exact:!0}};function zo(J,Zt){if(1&J&&(i.TgZ(0,"a",6,7),i._uU(2),i.qZA()),2&J){const Et=Zt.$implicit,on=i.MAs(1),ii=i.oxw();let Si;i.ekj("active",on.isActive)("disabled",!(null!=(Si=ii.permissions())&&Si.includes(ii.DmsUserPermission.READ_REQUEST_CLIENT))),i.Q6J("routerLinkActiveOptions",i.DdM(8,No))("queryParams",Et.queryParams)("queryParamsHandling","merge"),i.xp6(2),i.hij(" ",Et.label," ")}}let ao=(()=>{class J{constructor(){this.routerStore=(0,i.f3M)(_.fT),this.reqNumber$=(0,i.f3M)(T.ro),this.router=(0,i.f3M)(g.F0),this.userService=(0,i.f3M)(T.KD),this.permissions=this.userService.permissions,this.tabs=[{queryParams:{requestType:t.U.ALL},label:"\u0412\u0441\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},{queryParams:{requestType:t.U.ACTIVE},label:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"},{queryParams:{requestType:t.U.CLOSED},label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435"}],this.DmsUserPermission=T.OP}ngOnInit(){this.routerStore.setQueryParams({requestType:t.U.ALL})}getReqNumber(Et){return Et===T.sY.CREATE?"\u041d\u043e\u0432\u043e\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435":`\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u2116${Et}`}static{this.\u0275fac=function(on){return new(on||J)}}static{this.\u0275cmp=i.Xpm({type:J,selectors:[["app-policy-request-page"]],standalone:!0,features:[i.jDz],decls:7,vars:4,consts:[[1,"policy-tasks-layout"],[1,"dms-island","nav-container"],["class","policy-tasks-layout__nav-link active request-number",4,"ngIf"],[1,"policy-tasks-layout__nav"],["class","policy-tasks-layout__nav-link","routerLinkActive","","routerLink","list",3,"routerLinkActiveOptions","active","disabled","queryParams","queryParamsHandling",4,"ngFor","ngForOf"],[1,"policy-tasks-layout__nav-link","active","request-number"],["routerLinkActive","","routerLink","list",1,"policy-tasks-layout__nav-link",3,"routerLinkActiveOptions","queryParams","queryParamsHandling"],["rla","routerLinkActive"]],template:function(on,ii){1&on&&(i.TgZ(0,"section",0)(1,"div",1),i.YNc(2,Bi,2,1,"div",2),i.ALo(3,"async"),i.TgZ(4,"div",3),i.YNc(5,zo,3,9,"a",4),i.qZA()(),i._UZ(6,"router-outlet"),i.qZA()),2&on&&(i.xp6(2),i.Q6J("ngIf",i.lcZ(3,2,ii.reqNumber$)),i.xp6(3),i.Q6J("ngForOf",ii.tabs))},dependencies:[g.yS,g.lC,g.Od,M.sg,M.O5,M.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}[_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%]{padding:var(--tui-padding-m);display:flex;justify-content:space-between}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0 0 8px;padding:0;width:auto;background:transparent;color:inherit;font:inherit;display:block;width:100%;cursor:pointer}[_nghost-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dms-island[_ngcontent-%COMP%]{border-radius:0}.policy-tasks-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.policy-tasks-layout__nav[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:flex-end;flex-grow:1;list-style:none;border-radius:0;gap:0 8px}.policy-tasks-layout__nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-height:32px}.policy-tasks-layout__nav-link[_ngcontent-%COMP%]{border-radius:var(--tui-radius-l);color:var(--tui-background-accent-opposite-pressed);transition-property:background-color,background-image,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;cursor:pointer;padding:6px 16px;display:block;background-color:var(--tui-background-base-alt)}.policy-tasks-layout__nav-link[_ngcontent-%COMP%]:focus{color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite);border:none}.policy-tasks-layout__nav-link[_ngcontent-%COMP%]:focus   .badge[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-base)}.policy-tasks-layout__nav-link.active[_ngcontent-%COMP%]{color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite)}.policy-tasks-layout__nav-link.active.request-number[_ngcontent-%COMP%]{padding:6px 12px;cursor:default}.policy-tasks-layout__nav-link.disabled[_ngcontent-%COMP%]{pointer-events:none;color:var(--tui-background-accent-opposite-pressed);cursor:not-allowed}"],changeDetection:0})}}return J})();const Qn=[{path:"",component:ao,children:[{path:"list",component:ai,children:[{path:":requestId",component:Xt,children:[{path:"lab",pathMatch:"full",redirectTo:""},{path:"lab",loadChildren:()=>Promise.resolve().then(o.bind(o,6614)).then(J=>J.routes)}]}]},{path:"dp-request",loadChildren:()=>Promise.all([o.e(292),o.e(707),o.e(499),o.e(592),o.e(818)]).then(o.bind(o,4818)).then(J=>J.routes)},{path:"",pathMatch:"full",redirectTo:"list"}]}]},6398:(Qt,$,o)=>{"use strict";o.d($,{U:()=>e});const e={ALL:"ALL",ACTIVE:"ACTIVE",CLOSED:"CLOSED"}},6853:(Qt,$,o)=>{"use strict";o.d($,{CD:()=>ht.C,wU:()=>it.w,i5:()=>p.i,K:()=>f,f3:()=>tt,_x:()=>w,mY:()=>bt});var e=o(5879),t=o(1993),a=o(2926),i=o(4098),g=o(4438),T=o(581),_=o(2572),m=o(7398),h=o(3620);let f=(()=>{class u{constructor(){this.routerStore=(0,e.f3M)(a.fT),this.requestType$=this.routerStore.queryParam$("requestType"),this.searchQuery$=this.routerStore.queryParam$("searchQuery"),this.sortField$=this.routerStore.queryParam$("sortField"),this.sortDirection$=this.routerStore.queryParam$("sortDirection"),this.dateFrom$=this.routerStore.queryParam$("dateFrom"),this.dateTo$=this.routerStore.queryParam$("dateTo"),this.dateRange$=(0,_.a)([this.dateFrom$,this.dateTo$]).pipe((0,m.U)(([Z,I])=>Z&&I?this.convertToDateRange(Z,I):null)),this.sortParams$=(0,_.a)([this.sortField$,this.sortDirection$]).pipe((0,m.U)(([Z,I])=>({sortField:Z,sortDirection:Z?I:void 0}))),this.filter$=(0,_.a)({requestType:this.requestType$,searchQuery:this.searchQuery$.pipe((0,h.b)(300)),sortField:this.sortField$,sortDirection:this.sortDirection$,dateFrom:this.dateFrom$,dateTo:this.dateTo$}).pipe((0,h.b)(50)),this.isFilterApplied=(0,t.O4)(this.filter$.pipe((0,m.U)(Z=>Object.values(Z).some(Boolean))),{initialValue:!1})}convertToDateRange(Z,I){const F=i.TU.fromLocalNativeDate(new Date(Z)),ot=i.TU.fromLocalNativeDate(new Date(I));return new i.VR(F,ot)}setDateRange(Z){if(!Z)return void this.routerStore.setQueryParams({dateFrom:null,dateTo:null});const I=(0,g.Z)((0,T.Z)(Z.from.valueOf()||0),"yyyy-MM-dd"),F=(0,g.Z)((0,T.Z)(Z.to.valueOf()||0),"yyyy-MM-dd");this.routerStore.setQueryParams({dateFrom:I,dateTo:F})}setSortField(Z){this.routerStore.setQueryParams(Z?{sortField:Z,sortDirection:"desc"}:{sortField:null,sortDirection:null})}setSortDirection(Z){this.routerStore.setQueryParams({sortDirection:Z>0?"desc":"asc"})}setSearchQuery(Z){const I=Z?.trim();this.routerStore.setQueryParams({searchQuery:I||null})}static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}}return u})();var v=o(3754),C=o(7019),D=o(9673),y=o(8131),E=o(2181),O=o(8180),M=o(9397),U=o(4664),R=o(1089),A=o(6398);const S={requests:null,isLoading:!1,error:null};let w=(()=>{class u extends D.m1{constructor(){super(S),this.appGlobalUserUtcOffset=(0,e.f3M)(C.JJ),this.policyClient$=(0,e.f3M)(v.S8).policyClient$.pipe((0,E.h)(Boolean)),this.policyParams$=(0,e.f3M)(a.Cp),this.policyRequestRestService=(0,e.f3M)(R.a),this.filterTableService=(0,e.f3M)(f),this.requestId$=(0,e.f3M)(a.fT).param$("requestId").pipe((0,E.h)(Boolean)),this.requests$=this.select(Z=>Z.requests),this.policyRequestTableItem$=(0,_.a)([this.requestId$,this.requests$]).pipe((0,m.U)(([Z,I])=>I?(0,C.QJ)(I,Z):null),(0,E.h)(Boolean),(0,O.q)(1)),this.isLoading$=this.select(Z=>Z.isLoading),this.error$=this.select(Z=>Z.error),this.fetchRequests=this.effect(Z=>Z.pipe((0,M.b)(()=>this.patchState({requests:null,isLoading:!0,error:null})),(0,y.IC)(()=>[this.policyParams$,this.policyClient$]),(0,U.w)(([I,[F],ot])=>this.policyRequestRestService.fetchPolicyRequests(F,ot.policy.policyNumber,{...I.dateFrom&&{dateFrom:I.dateFrom},...I.dateTo&&{dateTo:I.dateTo},...I.searchQuery&&{searchKeyWord:I.searchQuery},...I.sortField&&{sortField:I.sortField},...void 0!==I.sortDirection&&{sortAscending:"asc"===I.sortDirection},userTimeZone:this.appGlobalUserUtcOffset,statusCode:I.requestType??A.U.ALL}).pipe((0,D._b)(({requests:nt})=>{this.patchState({requests:nt,isLoading:!1,error:null})},nt=>this.patchState({...S,error:nt,isLoading:!1}))))))}getRequestByRegNumber(Z){return this.requests$.pipe((0,E.h)(Boolean),(0,m.U)(I=>I.find(F=>F.regNumber===Z)),(0,E.h)(Boolean))}init(){this.fetchRequests(this.filterTableService.filter$.pipe((0,O.q)(1)))}refetchPolicyRequests(){this.fetchRequests(this.filterTableService.filter$.pipe((0,O.q)(1)))}static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}}return u})();var p=o(9207),L=o(8525),V=o(4716);const et={isLoading:!1,error:null};let tt=(()=>{class u extends D.m1{constructor(){super(et),this.dmsFileDownloadService=(0,e.f3M)(L.UK),this.isLoading$=this.select(Z=>Z.isLoading),this.downloadFile=this.effect(Z=>Z.pipe((0,M.b)(()=>this.patchState({isLoading:!0})),(0,U.w)(I=>this.dmsFileDownloadService.downloadFile(I).pipe((0,V.x)(()=>this.patchState({isLoading:!1}))))))}static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}}return u})();var ht=o(1451),it=o(7231),It=o(2550);const st_smp=["medinsDatetimeDeparture","medinsDatetimeArrival","medinsDatetimeCompletion"],st_app=["dateTimeFact"],st_tmc=["consDateTime"],st_other=["dateTimeFact"],st_stom=["dateTimeFact"],dt=["pndDatetimeFact"],St=["factHospitalizationStartDate","factHospitalizationEndDate"],bt=u=>{const{requestTimezone:ut}=u,Z=(I,F,ot)=>ot?I.map(nt=>{const At=F.reduce((Dt,Wt)=>{const Nt=nt[Wt];if(Nt&&"string"==typeof Nt){const Rt=(0,It.rd)(Nt,ot);null!==Rt&&(Dt[Wt]=Rt)}return Dt},{});return{...nt,...At}}):I;return{...u,pnd:u.pnd?.map(I=>{const F=dt.reduce((ot,nt)=>{const At=I[nt];return ot[nt]="string"==typeof At&&At&&I.pndRequestTimezone?(0,It.rd)(At,I.pndRequestTimezone)??void 0:At??void 0,ot},{});return{...I,...F}})||[],hospitalization:u.hospitalization?.map(I=>{const F=St.reduce((ot,nt)=>{const At=I[nt];return ot[nt]="string"==typeof At&&At&&I.hospRequestTimezone?(0,It.rd)(At,I.hospRequestTimezone)??void 0:At??void 0,ot},{});return{...I,...F}})||[],smp:Z(u.smp||[],st_smp,ut),app:Z(u.app||[],st_app,ut),tmc:Z(u.tmc||[],st_tmc,ut),other:Z(u.other||[],st_other,ut),stom:Z(u.stom||[],st_stom,ut),putOffUntil:(0,It.rd)(u.putOffUntil,ut??null)}}},1451:(Qt,$,o)=>{"use strict";o.d($,{C:()=>h});var e=o(5879),t=o(8525),a=o(9673),i=o(9397),g=o(4664),T=o(4716),_=o(1089);const m={mapGpListByTaskId:null,isLoading:!1,error:null};let h=(()=>{class f extends a.m1{constructor(){super(m),this.dmsFileDownloadService=(0,e.f3M)(t.UK),this.policyRequestRestService=(0,e.f3M)(_.a),this.isLoading$=this.select(C=>C.isLoading),this.mapGpListByTaskId$=this.select(C=>C.mapGpListByTaskId),this.fetchGpList=this.effect(C=>C.pipe((0,i.b)(()=>this.patchState({isLoading:!0})),(0,g.w)(D=>this.policyRequestRestService.fetchGpListByRequestId(D).pipe((0,a._b)(y=>{this.patchState({mapGpListByTaskId:this.gpListToDictionaryByTaskId(y),isLoading:!1,error:null})},y=>this.patchState({...m,error:y,isLoading:!1})))))),this.downloadFile=this.effect(C=>C.pipe((0,i.b)(()=>this.patchState({isLoading:!0})),(0,g.w)(D=>this.dmsFileDownloadService.downloadFile(D).pipe((0,T.x)(()=>this.patchState({isLoading:!1}))))))}gpListToDictionaryByTaskId(C){const D=new Map;return C.forEach(y=>{const E=D.get(y.taskId);D.set(y.taskId,E?[...E,y]:[y])}),D.size>0?D:null}static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac})}}return f})()},7231:(Qt,$,o)=>{"use strict";o.d($,{w:()=>_});var e=o(5879),t=o(9673),a=o(9397),i=o(4664),g=o(1089);const T={data:[],isLoading:!1,error:null};let _=(()=>{class m extends t.m1{constructor(){super(T),this.policyRequestRestService=(0,e.f3M)(g.a),this.isLoading$=this.select(f=>f.isLoading),this.data$=this.select(f=>f.data),this.fetchLabOrders=this.effect(f=>f.pipe((0,a.b)(()=>this.patchState({isLoading:!0})),(0,i.w)(v=>this.policyRequestRestService.fetchLabOrders(v).pipe((0,t._b)(C=>{this.patchState({data:C.orders,isLoading:!1,error:null})},C=>this.patchState({...T,error:C,isLoading:!1}))))))}static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac})}}return m})()},9207:(Qt,$,o)=>{"use strict";o.d($,{i:()=>C});var e=o(5879),t=o(8525),a=o(9673),i=o(9397),g=o(4664),T=o(4716),_=o(6697),m=o(1089),h=o(1451),f=o(7231);const v={data:null,isLoading:!1,error:null};let C=(()=>{class D extends a.m1{constructor(){super(v),this.regNumber$=this.select(E=>E.data?.requestCommonInfo.regNumber),this.tasks$=this.select(E=>E.data?.tasks),this.isLoading$=this.select(E=>E.isLoading),this.data$=this.select(E=>E.data),this.restService=(0,e.f3M)(m.a),this.fileStorage=(0,e.f3M)(_.W),this.dmsFileDownloadService=(0,e.f3M)(t.UK),this.policyRequestGpStore=(0,e.f3M)(h.C),this.policyRequestLabOrdersStore=(0,e.f3M)(f.w),this.fetchRequest=this.effect(E=>E.pipe((0,i.b)(()=>this.patchState({isLoading:!0,data:null,error:null})),(0,g.w)(O=>(O.isFromLotus?this.restService.fetchPolicyRequest("0",O.regNumber):this.restService.fetchPolicyRequest(O.uid)).pipe((0,a._b)(M=>{M.requestCommonInfo.requestId&&this.policyRequestGpStore.fetchGpList(`${M.requestCommonInfo.requestId}`),M.requestCommonInfo.regNumber&&this.policyRequestLabOrdersStore.fetchLabOrders(M.requestCommonInfo.regNumber),this.patchState({isLoading:!1,data:M,error:null})},M=>this.patchState({isLoading:!1,error:M,data:null})))))),this.downloadFile=this.effect(E=>E.pipe((0,i.b)(()=>this.patchState({isLoading:!0})),(0,g.w)(O=>this.dmsFileDownloadService.downloadFile(O).pipe((0,T.x)(()=>this.patchState({isLoading:!1})))))),this.downloadLabFile=this.effect(E=>E.pipe((0,i.b)(()=>this.patchState({isLoading:!0})),(0,g.w)(O=>this.fileStorage.downloadFileByLink(`/lab-diagnostics/results/file/${O.fileStorageId}`,{fileId:O.fileStorageId,fileName:O.fileName}).pipe((0,T.x)(()=>this.patchState({isLoading:!1}))))))}static{this.\u0275fac=function(O){return new(O||D)}}static{this.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac})}}return D})()},3033:(Qt,$,o)=>{"use strict";o.d($,{RF:()=>i,HP:()=>a,JB:()=>t});const t={FULL_NAME:"searchName",BIRTHDATE:"searchBirthDate",YEAR_OF_BIRTH:"searchBirthYear",CONTRACT_ID:"searchPolicyContract",CLIENT_ID:"searchClientNumber",INSURANT:"searchPolicyHolder",STATUS:"searchPolicyStatus",DMS_TWO:"searchShowdms2",PHONE:"searchPhone"},a={SEARCH_POLICY_NUMBER:"searchPolicyNumber"},i="extCaseCrmId"},3754:(Qt,$,o)=>{"use strict";o.d($,{n4:()=>ot,$3:()=>M,kd:()=>F,b7:()=>dt,S8:()=>Gt,PM:()=>I,ER:()=>k,Fc:()=>Q,t:()=>Ut,K1:()=>le,H2:()=>B,PW:()=>Ot,rl:()=>Ft});var e=o(6814),t=o(5879),a=o(6223),i=o(7019),g=o(7936),T=o(232),_=o(2527),m=o(5086),h=o(5526),f=o(250);function v(ne,Ge){if(1&ne){const Se=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(Se);const Ue=t.oxw(2);return t.KtG(Ue.isEditMode.set(!0))}),t._uU(1," \u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 "),t.qZA()}}const C=function(){return[]};function D(ne,Ge){if(1&ne){const Se=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"tui-textarea",8),t._uU(3,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u0434. \u043f\u0443\u043b\u044c\u0442\u0430"),t.qZA(),t._UZ(4,"tui-error",9),t.ALo(5,"async"),t.ALo(6,"tuiFieldError"),t.qZA(),t.TgZ(7,"div",10)(8,"button",11),t.NdJ("click",function(){t.CHM(Se);const Ue=t.oxw(2);return t.KtG(Ue.resetComment())}),t._uU(9,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA(),t.TgZ(10,"button",12),t.NdJ("click",function(){t.CHM(Se);const Ue=t.oxw(2);return t.KtG(Ue.saveComment())}),t._uU(11," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.qZA()()()}if(2&ne){const Se=t.oxw(2);let Pe;t.xp6(2),t.Q6J("formControl",Se.control)("maxLength",Se.maxLength),t.xp6(2),t.Q6J("formControl",Se.control)("error",t.lcZ(5,5,t.lcZ(6,7,t.DdM(9,C)))),t.xp6(6),t.Q6J("disabled",Se.control.invalid||!(null!=(Pe=Se.permissions())&&Pe.includes(Se.DmsUserPermission.CREATE_COMMENTS)))}}function y(ne,Ge){if(1&ne&&t._UZ(0,"app-line-clamp-expanding",13),2&ne){const Se=t.oxw(2),Pe=t.MAs(2);t.Q6J("titleContent",Pe)("textContent",Se.control.value)("initLinesLimit",2)}}function E(ne,Ge){if(1&ne&&(t.ynx(0),t.YNc(1,v,2,0,"button",2),t.YNc(2,D,12,10,"div",3),t.YNc(3,y,1,3,"app-line-clamp-expanding",4),t.BQk()),2&ne){const Se=t.oxw();t.xp6(1),t.Q6J("ngIf",0===Se.control.value.length&&!Se.isEditMode()),t.xp6(1),t.Q6J("ngIf",Se.isEditMode()),t.xp6(1),t.Q6J("ngIf",Se.control.value&&!Se.isEditMode())}}function O(ne,Ge){if(1&ne){const Se=t.EpF();t.TgZ(0,"p",14),t._uU(1," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u0434. \u043f\u0443\u043b\u044c\u0442\u0430 "),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(Se);const Ue=t.oxw();return t.KtG(Ue.isEditMode.set(!0))}),t.qZA()()}if(2&ne){const Se=t.oxw();let Pe;t.xp6(2),t.Q6J("disabled",!(null!=(Pe=Se.permissions())&&Pe.includes(Se.DmsUserPermission.CREATE_COMMENTS)))}}let M=(()=>{class ne{constructor(){this.savedComment=new t.vpe,this.isEditMode=(0,t.tdS)(!1),this.control=null,this.maxLength=1e3,this.userService=(0,t.f3M)(i.KD),this.permissions=this.userService.permissions,this.DmsUserPermission=i.OP}set textComment(Se){this.control=new a.NI(Se,{nonNullable:!0,validators:[a.kI.required,a.kI.maxLength(this.maxLength)]})}saveComment(){!this.control||this.control.invalid||this.savedComment.emit(this.control.value)}resetComment(){this.control?.reset(),this.isEditMode.set(!1)}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275cmp=t.Xpm({type:ne,selectors:[["app-legacy-policy-comment"]],inputs:{textComment:"textComment"},outputs:{savedComment:"savedComment"},standalone:!0,features:[t._Bn([{provide:m.Z4,useValue:{required:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",maxlength:i.Wd}}]),t.jDz],decls:3,vars:1,consts:[[4,"ngIf"],["commentTitleRef",""],["class","empty-comment-button",3,"click",4,"ngIf"],["class","edit-comment",4,"ngIf"],[3,"titleContent","textContent","initLinesLimit",4,"ngIf"],[1,"empty-comment-button",3,"click"],[1,"edit-comment"],[1,"edit-comment__wrapper"],["tuiAutoFocus","",3,"formControl","maxLength"],[3,"formControl","error"],[1,"edit-comment__controls"],["tuiButton","","type","button","size","s","appearance","secondary",3,"click"],["tuiButton","","type","submit","size","s","appearance","primary",3,"disabled","click"],[3,"titleContent","textContent","initLinesLimit"],[1,"readonly-comment-label"],["tuiIconButton","","type","button","size","xs","iconStart","appIconPencil","appearance","action-grayscale",3,"disabled","click"]],template:function(Pe,Ue){1&Pe&&(t.YNc(0,E,4,3,"ng-container",0),t.YNc(1,O,3,1,"ng-template",null,1,t.W1O)),2&Pe&&t.Q6J("ngIf",Ue.control)},dependencies:[i.VA,e.O5,f.Mu,f.FC,f.Bq,T.e,a.UX,a.JJ,a.oH,g.bi,h.A,e.Ov,_.xG],styles:["[_nghost-%COMP%]{padding:0;display:flex;flex-flow:column wrap}.empty-comment-button[_ngcontent-%COMP%]{border:none;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;margin:auto 0;padding:16px;width:100%;height:100%;font:var(--tui-font-heading-3);text-align:left;color:var(--empty-text)}.edit-comment[_ngcontent-%COMP%]{padding:8px}.edit-comment__controls[_ngcontent-%COMP%]{padding-top:8px;width:100%;text-align:right}.edit-comment__controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}.edit-comment__controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.edit-comment__label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:0;padding:10px 12px;font:var(--tui-font-text-s);pointer-events:none;color:var(--tui-background-accent-opposite-pressed)}.edit-comment__wrapper[_ngcontent-%COMP%]{position:relative}.edit-comment__wrapper[_ngcontent-%COMP%]   tui-error[_ngcontent-%COMP%]{position:absolute;bottom:-24px;left:0}.readonly-comment-label[_ngcontent-%COMP%]{--tui-background-base-alt: transparent;--tui-text-secondary: transparent;margin:0;display:flex;width:100%;justify-content:space-between;font:var(--tui-font-text-s);color:var(--tui-background-accent-opposite-pressed)}.readonly-comment-label[_ngcontent-%COMP%]   [src=appIconPencil][_ngcontent-%COMP%]{font-size:11px;color:var(--tui-background-accent-opposite-hover)}app-line-clamp-expanding[_ngcontent-%COMP%]{padding:12px}"],changeDetection:0})}}return ne})();var U=o(4287),R=o(7354),A=o(9673),S=o(8131),w=o(9397),p=o(4664),L=o(692),V=o(2550),et=o(2926),tt=o(4728),ht=o(8504),it=o(8180),It=o(6306),st=o(7398);let dt=(()=>{class ne{constructor(){this.endPoint="/client",this.dialogs=(0,t.f3M)(tt.RO),this.params$=(0,t.f3M)(et.Cp),this.aegleRestService=(0,t.f3M)(L.DA),this.appGlobalUserUtcOffset=(0,t.f3M)(i.JJ)}fetchPolicyClient(){return this.params$.pipe((0,it.q)(1),(0,p.w)(([Se,Pe])=>this.aegleRestService.get(`${this.endPoint}/${Se}`,{params:{sysCode:Pe}})))}saveComment(Se){return this.params$.pipe((0,it.q)(1),(0,p.w)(([Pe,Ue])=>this.aegleRestService.put(`${this.endPoint}/dispatcher_note`,{commentDP:Se,guid:Pe,sysCode:Number(Ue)})))}savePhones(Se,Pe){const[Ue,Ee]=Pe;return this.aegleRestService.put(`${this.endPoint}/phone`,{phones:Se,guid:Ue,sysCode:Number(Ee)}).pipe((0,It.K)(de=>this.showError(de)))}fetchPolicyLimitedServices(Se){return this.aegleRestService.get(`/dp-request/lslist-by-policy/${Se}`).pipe((0,st.U)(Pe=>Pe.map(Ue=>({...Ue,approveDate:(0,V.rd)(Ue.approveDate,this.appGlobalUserUtcOffset)??Ue.approveDate}))))}fetchClientAddressesHistory(){return this.params$.pipe((0,it.q)(1),(0,p.w)(([Se])=>this.aegleRestService.get(`${this.endPoint}/pnd-smp-visits-history`,{params:{clientPolicyGuid:Se}})))}showError(Se,Pe="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u043e"){return this.dialogs.open(Pe,{label:"\u041e\u0448\u0438\u0431\u043a\u0430"}).pipe((0,p.w)(()=>(0,ht._)(()=>Se)))}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275prov=t.Yz7({token:ne,factory:ne.\u0275fac})}}return ne})();const St={isLoading:!1,error:null,data:null};let bt=(()=>{class ne extends A.m1{constructor(){super(St),this.fetchLimitedServices=this.effect(Se=>Se.pipe((0,S.IC)(()=>this.policyNumber$),(0,w.b)(()=>this.patchState({isLoading:!0,error:null,data:null})),(0,p.w)(([,Pe])=>this.policyClientRestService.fetchPolicyLimitedServices(Pe).pipe((0,A._b)(Ue=>this.patchState({isLoading:!1,data:Ue,error:null}),Ue=>this.patchState({isLoading:!1,error:Ue,data:null})))))),this.policyClientRestService=(0,t.f3M)(dt),this.policyNumber$=(0,t.f3M)(i.Ow)}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275prov=t.Yz7({token:ne,factory:ne.\u0275fac})}}return ne})();function u(ne,Ge){if(1&ne&&(t.TgZ(0,"div",5)(1,"span",6),t._uU(2),t.ALo(3,"fixedDateBasedOnTimeZone"),t.qZA(),t.TgZ(4,"span",7),t._uU(5),t.qZA()()),2&ne){const Se=Ge.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,2,Se.approveDate,"dd.MM.yyyy HH:mm"),""),t.xp6(3),t.hij(" ",Se.name," ")}}function ut(ne,Ge){if(1&ne&&(t.TgZ(0,"app-island-expand",2)(1,"div",3),t.YNc(2,u,6,5,"div",4),t.qZA()()),2&ne){const Se=t.oxw().ngIf;t.Q6J("isExpand",!1),t.xp6(2),t.Q6J("ngForOf",Se.data)}}function Z(ne,Ge){if(1&ne&&(t.ynx(0),t.YNc(1,ut,3,2,"app-island-expand",1),t.BQk()),2&ne){const Se=Ge.ngIf;t.xp6(1),t.Q6J("ngIf",Se.data&&Se.data.length)}}let I=(()=>{class ne{constructor(){this.store=(0,t.f3M)(bt)}ngOnInit(){this.store.fetchLimitedServices()}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275cmp=t.Xpm({type:ne,selectors:[["app-policy-limited-services"]],standalone:!0,features:[t._Bn([bt]),t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["heading","\u041b\u0438\u043c\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438","borderRadiusSize","m",3,"isExpand",4,"ngIf"],["heading","\u041b\u0438\u043c\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438","borderRadiusSize","m",3,"isExpand"],[1,"limited-services__list"],["class","service-info",4,"ngFor","ngForOf"],[1,"service-info"],[1,"service-info__date"],[1,"service-info__name"]],template:function(Pe,Ue){1&Pe&&(t.YNc(0,Z,2,1,"ng-container",0),t.ALo(1,"async")),2&Pe&&t.Q6J("ngIf",t.lcZ(1,1,Ue.store.state$))},dependencies:[e.sg,R.tF,e.O5,e.Ov,U.L],styles:["[_nghost-%COMP%]   .limited-services__list[_ngcontent-%COMP%]{background:#f0f4f8;border-radius:var(--tui-radius-s)}[_nghost-%COMP%]   .limited-services__list[_ngcontent-%COMP%]   .service-info[_ngcontent-%COMP%]{padding:11px 8px;display:flex;font:var(--tui-font-text-xs)}[_nghost-%COMP%]   .limited-services__list[_ngcontent-%COMP%]   .service-info[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--tui-border-hover)}[_nghost-%COMP%]   .limited-services__list[_ngcontent-%COMP%]   .service-info__date[_ngcontent-%COMP%]{margin-right:8px;flex-grow:0;flex-basis:auto;color:var(--tui-background-accent-opposite-pressed)}[_nghost-%COMP%]   .limited-services__list[_ngcontent-%COMP%]   .service-info__name[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;color:var(--tui-text-primary)}"],changeDetection:0})}}return ne})();const F=new t.OlP("Provide Observable with flag policy is archive"),ot={\u041c:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",\u0416:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"};var nt=o(5351),At=o(581),Dt=o(2816);function Wt(ne){(0,Dt.Z)(1,arguments);var Ge=(0,At.Z)(ne);return Ge.setHours(0,0,0,0),Ge}var Bt=o(3820);const B=ne=>{const Ge=function Rt(ne,Ge){(0,Dt.Z)(2,arguments);var Se=Wt(ne),Pe=Wt(Ge),Ue=Se.getTime()-(0,nt.Z)(Se),Ee=Pe.getTime()-(0,nt.Z)(Pe);return Math.round((Ue-Ee)/864e5)}((0,Bt.Z)(ne),Date.now());return Ge<=14?Ge:null};var k=function(ne){return ne[ne.VIP=0]="VIP",ne[ne.OTHER=1]="OTHER",ne[ne.WARNING=2]="WARNING",ne}(k||{}),yt=o(8525),Y=o(2181),xt=o(2572),z=o(162),at=o(1993);const Pt={isLoading:!1,error:null,data:null};let Gt=(()=>{class ne extends A.m1{constructor(){super(Pt),this.policyParams$=(0,t.f3M)(et.Cp),this.policyClient$=this.select(Se=>Se.data),this.client$=this.select(this.policyClient$.pipe((0,Y.h)(Boolean)),Se=>Se.client),this.clientPhones$=this.select(this.policyClient$.pipe((0,Y.h)(Boolean)),Se=>Se.client?.phones||[]),this.franchiseStatusId$=this.select(this.policyClient$.pipe((0,Y.h)(Boolean)),Se=>Se.policy.franchiseStatusId),this.policyService=(0,t.f3M)(dt),this.isLoading$=this.select(Se=>Se.isLoading),this.clientGoldenId$=this.select(Se=>Se.data?.client.goldenId),this.isConfirmedPhone$=this.select(Se=>!!Se.data?.client.confirmedPhone),this.isActiveClient$=this.select(Se=>"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d(\u0430)"!==Se.data?.conditions.policyStatus),this.isEmployeeClient$=this.select(Se=>Se.data?.conditions.descriptions.some(Pe=>"\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0412\u0421\u041a!"===Pe.value)??!1),this.isEmployeeClient=(0,at.O4)(this.isEmployeeClient$),this.setPhones=this.updater((Se,Pe)=>{if(!Se.data)return Se;const Ue=Pe.find(de=>de.is_confirmed)?.phone??"",Ee={...Se.data.client,phones:Pe,confirmedPhone:Ue};return{...Se,data:{...Se.data,client:Ee}}}),this.fetchPolicy=this.effect(Se=>Se.pipe((0,w.b)(()=>this.patchState({...Pt,isLoading:!0})),(0,p.w)(()=>this.policyService.fetchPolicyClient().pipe((0,A._b)(Pe=>this.patchState({isLoading:!1,error:null,data:Pe}),Pe=>this.patchState({isLoading:!1,error:Pe,data:null})))))),this.saveComment=this.effect(Se=>Se.pipe((0,p.w)(Pe=>this.policyService.saveComment(Pe).pipe((0,S.IC)(()=>this.policyParams$),(0,A._b)(([,Ue])=>this.fetchPolicy(Ue),Ue=>console.error(Ue)))))),this.changeFranchiseStatus=this.updater((Se,Pe)=>Se.data?{...Se,data:{...Se.data,policy:{...Se.data.policy,franchiseStatusId:Pe}}}:Se)}init(){this.fetchPolicy(this.policyParams$)}refetchPolicy(){this.fetchPolicy(this.policyParams$.pipe((0,it.q)(1)))}static{this.\u0275fac=function(Pe){return new(Pe||ne)}}static{this.\u0275prov=t.Yz7({token:ne,factory:ne.\u0275fac})}}return ne})();const Ut=[{provide:yt.cp,useFactory:()=>{const ne=(0,t.f3M)(Gt).policyClient$.pipe((0,Y.h)(Boolean),(0,st.U)(Se=>Se.policy.policyNumber),(0,it.q)(1)),Ge=(0,xt.a)([(0,t.f3M)(et.Cp).pipe((0,it.q)(1)),ne]).pipe((0,st.U)(([[Se],Pe])=>({parentId:Se,parentRegNumber:Pe})));return new z.Jx({endPoint:"medcard",parentDocType:yt.kk.POLICY,requestParams$:Ge})}},{provide:yt.Vz,useExisting:yt.cp},{provide:yt.JG,useExisting:yt.cp}],Q={provide:F,useFactory:()=>(0,t.f3M)(Gt).policyClient$.pipe((0,st.U)(Ge=>"\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d(\u0430)"===Ge?.conditions.policyStatus))},Ot={provide:i.mM,useFactory:()=>(0,t.f3M)(Gt).franchiseStatusId$},Ft={provide:i.R1,useFactory:()=>{const ne=(0,t.f3M)(Gt);return{changeFranchiseStatus:Ge=>{ne.changeFranchiseStatus(Ge)},refetchPolicy:()=>{ne.refetchPolicy()}}}},le={provide:i.Ow,useFactory:()=>(0,t.f3M)(Gt).policyClient$.pipe((0,Y.h)(Ge=>!!Ge),(0,st.U)(Ge=>Ge.policy.policyNumber))}},3719:(Qt,$,o)=>{"use strict";o.r($),o.d($,{RiskFranchiseStatus:()=>u,VariantListComponent:()=>bt,VariantRestService:()=>m,VariantStore:()=>f,VariantTypes:()=>ut});var e=o(6814),t=o(5879),a=o(2926),i=o(9673),g=o(9397),T=o(4664),_=o(692);let m=(()=>{class Z{constructor(){this.endPoint="/client",this.aegleRestService=(0,t.f3M)(_.DA)}fetchVariantsByPolicyClient(F,ot){return this.aegleRestService.get(`${this.endPoint}/${F}/variants`,{params:{sysCode:ot}})}static{this.\u0275fac=function(ot){return new(ot||Z)}}static{this.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();const h={isLoading:!0,error:null,data:null};let f=(()=>{class Z extends i.m1{constructor(){super(h),this.policyParams$=(0,t.f3M)(a.Cp),this.variants$=this.select(F=>F.data),this.restService=(0,t.f3M)(m),this.fetchVariants=this.effect(F=>F.pipe((0,g.b)(()=>this.patchState({error:null,data:null,isLoading:!0})),(0,T.w)(([ot,nt])=>this.restService.fetchVariantsByPolicyClient(ot,nt).pipe((0,i._b)(At=>this.patchState({isLoading:!1,data:At,error:null}),At=>this.patchState({isLoading:!1,error:At,data:null}))))))}init(){this.fetchVariants(this.policyParams$)}static{this.\u0275fac=function(ot){return new(ot||Z)}}static{this.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();var v=o(7019),C=o(1534),D=o(7582),y=o(6223),E=o(8451),O=o(1870);function M(Z,I){if(1&Z&&(t.TgZ(0,"td")(1,"span",12),t._uU(2),t.qZA()()),2&Z){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(F.name)}}function U(Z,I){if(1&Z&&(t.TgZ(0,"td")(1,"span"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&Z){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,F.startDate,"dd.MM.y"))}}function R(Z,I){if(1&Z&&(t.TgZ(0,"td")(1,"span"),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&Z){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,1,F.endDate,"dd.MM.y"))}}function A(Z,I){if(1&Z&&(t.TgZ(0,"td")(1,"span"),t._uU(2),t.qZA()()),2&Z){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(F.type)}}function S(Z,I){if(1&Z&&(t.TgZ(0,"td")(1,"span"),t._uU(2),t.qZA()()),2&Z){const F=t.oxw().$implicit,ot=t.oxw(2);t.xp6(2),t.Oqu(ot.getFranchiseDisplayText(F.franchiseStatusId))}}function w(Z,I){if(1&Z&&(t.TgZ(0,"td")(1,"span"),t._uU(2),t.qZA()()),2&Z){const F=t.oxw().$implicit;t.xp6(2),t.Oqu(F.comment)}}function p(Z,I){1&Z&&(t.TgZ(0,"tr",10),t.YNc(1,M,3,1,"td",11),t.YNc(2,U,4,4,"td",11),t.YNc(3,R,4,4,"td",11),t.YNc(4,A,3,1,"td",11),t.YNc(5,S,3,1,"td",11),t.YNc(6,w,3,1,"td",11),t.qZA()),2&Z&&(t.xp6(1),t.Q6J("tuiCell","name"),t.xp6(1),t.Q6J("tuiCell","startDate"),t.xp6(1),t.Q6J("tuiCell","endDate"),t.xp6(1),t.Q6J("tuiCell","type"),t.xp6(1),t.Q6J("tuiCell","franchise"),t.xp6(1),t.Q6J("tuiCell","comment"))}function L(Z,I){if(1&Z&&(t.TgZ(0,"table",1)(1,"thead",2)(2,"tr",3)(3,"th",4),t._uU(4,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(5,"th",5),t._uU(6,"\u0414\u0430\u0442\u0430 \u0432\u043a\u043b."),t.qZA(),t.TgZ(7,"th",5),t._uU(8,"\u0414\u0430\u0442\u0430 \u0438\u0441\u043a\u043b."),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"\u0412\u0438\u0434 \u043e\u0431\u0441\u043b\u0443\u0436-\u0438\u044f"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430"),t.qZA(),t.TgZ(13,"th",7),t._uU(14,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.qZA()()(),t.TgZ(15,"tbody",8),t.YNc(16,p,7,6,"tr",9),t.qZA()()),2&Z){const F=t.oxw();t.Q6J("columns",F.columns),t.xp6(15),t.Q6J("data",F.risks),t.xp6(1),t.Q6J("ngForOf",F.risks)}}const V=["name","startDate","endDate","type","franchise","comment"];class et{constructor(){this.risks=[],this.statusFranchisePolicy=null,this.riskCode=null,this.riskCodeChange=new t.vpe,this._selectable=!1,this.columns=[...V]}set selectable(I){}getFranchiseDisplayText(I){return 0===Number(I)||null===this.statusFranchisePolicy?"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442":v.$K[this.statusFranchisePolicy]}ngOnInit(){1===this.risks.length&&(this.riskCode=this.risks[0].code)}changedRisk(I){this.riskCode=I,this.riskCodeChange.emit(I)}static{this.\u0275fac=function(F){return new(F||et)}}static{this.\u0275cmp=t.Xpm({type:et,selectors:[["app-risk-table"]],inputs:{risks:"risks",statusFranchisePolicy:"statusFranchisePolicy",riskCode:"riskCode",selectable:"selectable"},outputs:{riskCodeChange:"riskCodeChange"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","risk-table","tuiTable","","aria-describedby","\u0420\u0438\u0441\u043a\u0438 \u043d\u0430 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0435",3,"columns",4,"ngIf"],["tuiTable","","aria-describedby","\u0420\u0438\u0441\u043a\u0438 \u043d\u0430 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0435",1,"risk-table",3,"columns"],["tuiThead",""],["tuiThGroup",""],["tuiTh","",1,"risk-name"],["tuiTh","",1,"risk-date"],["tuiTh","",1,"risk-type"],["tuiTh",""],["tuiTbody","",3,"data"],["tuiTr","",4,"ngFor","ngForOf"],["tuiTr",""],[4,"tuiCell"],[1,"name"]],template:function(F,ot){1&F&&t.YNc(0,L,17,3,"table",0),2&F&&t.Q6J("ngIf",ot.risks.length>0)},dependencies:[O.c4,O.s6,O.PU,O.PW,O.Zh,O.hK,O.I1,y.u5,e.O5,e.sg,e.uU],styles:["[_nghost-%COMP%]{padding:0 8px 8px;display:block}.risk-table[_ngcontent-%COMP%]{border-spacing:0}.risk-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--tui-radius-s)}.risk-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--tui-radius-s)}.risk-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:var(--tui-radius-s)}.risk-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--tui-radius-s)}.risk-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{--tui-border-normal: var(--arm-border-color);padding:0 12px;color:inherit;background-color:var(--tui-background-base);border-top:none;border-left:none}.risk-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none}.risk-table[_ngcontent-%COMP%]   th.control[_ngcontent-%COMP%]{width:16px}.risk-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:var(--tui-background-base)}.risk-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;border-right:1px solid var(--tui-border-normal);border-bottom:1px solid var(--tui-border-normal)}.risk-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.risk-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow-wrap:anywhere}.risk-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:transparent}.risk-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]{border-bottom:none}.risk-table[_ngcontent-%COMP%]   tr.selectable[_ngcontent-%COMP%]{cursor:pointer}.risk-name[_ngcontent-%COMP%]{width:343px}.risk-date[_ngcontent-%COMP%]{width:110px}.risk-type[_ngcontent-%COMP%]{width:140px}"],changeDetection:0})}}(0,D.gn)([E.UM],et.prototype,"getFranchiseDisplayText",null);var tt=o(2354);function ht(Z,I){1&Z&&t._UZ(0,"img",12)}function it(Z,I){if(1&Z&&(t._UZ(0,"app-risk-table",13),t.ALo(1,"async")),2&Z){const F=t.oxw();t.Q6J("risks",F.variant.risks)("selectable",F.variant.isActive)("statusFranchisePolicy",t.lcZ(1,3,F.statusFranchisePolicy$))}}let It=(()=>{class Z{set isExpand(F){this.expanded=F}constructor(F){this.statusFranchisePolicy$=F,this.expanded=!1}static{this.\u0275fac=function(ot){return new(ot||Z)(t.Y36(v.mM))}}static{this.\u0275cmp=t.Xpm({type:Z,selectors:[["app-variant-item"]],inputs:{variant:"variant",isExpand:"isExpand"},standalone:!0,features:[t.jDz],decls:28,vars:21,consts:[[1,"policy-variant-item"],[1,"variant"],[1,"variant__expand",3,"click"],[1,"variant__column","first"],["icon","@tui.chevron-down",1,"expand-icon"],[1,"variant__title"],["class","franchise-badge","ngSrc","assets/icons/franchise.icon.svg","alt","\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430","width","16","height","16",4,"ngIf"],[1,"variant__column"],[1,"label"],[1,"text"],[3,"expanded"],[3,"risks","selectable","statusFranchisePolicy",4,"ngIf"],["ngSrc","assets/icons/franchise.icon.svg","alt","\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430","width","16","height","16",1,"franchise-badge"],[3,"risks","selectable","statusFranchisePolicy"]],template:function(ot,nt){1&ot&&(t.TgZ(0,"div",0)(1,"header",1)(2,"button",2),t.NdJ("click",function(){return nt.expanded=!nt.expanded}),t.TgZ(3,"div",3),t._UZ(4,"tui-icon",4),t.TgZ(5,"span",5),t.YNc(6,ht,1,0,"img",6),t.TgZ(7,"em"),t._uU(8),t.qZA()()(),t.TgZ(9,"div",7)(10,"p",8),t._uU(11,"\u0414\u0430\u0442\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f:"),t.qZA(),t.TgZ(12,"p",9),t._uU(13),t.ALo(14,"date"),t.qZA()(),t.TgZ(15,"div",7)(16,"p",8),t._uU(17,"\u0414\u0430\u0442\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f:"),t.qZA(),t.TgZ(18,"p",9),t._uU(19),t.ALo(20,"date"),t.qZA()(),t.TgZ(21,"div",7)(22,"p",8),t._uU(23,"\u0424\u043e\u0440\u043c\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u043d\u0438\u044f:"),t.qZA(),t.TgZ(24,"p",9),t._uU(25),t.qZA()()()(),t.TgZ(26,"tui-expand",10),t.YNc(27,it,2,5,"app-risk-table",11),t.qZA()()),2&ot&&(t.ekj("isActive",nt.variant.isActive),t.xp6(4),t.ekj("open",nt.expanded),t.xp6(2),t.Q6J("ngIf",nt.variant.franchiseStatusId),t.xp6(1),t.ekj("full",nt.expanded),t.xp6(1),t.hij(" ",nt.variant.name," "),t.xp6(5),t.hij(" ",t.xi3(14,15,nt.variant.startDate,"dd.MM.y")," "),t.xp6(5),t.ekj("warning",!nt.variant.isActive),t.xp6(1),t.hij(" ",t.xi3(20,18,nt.variant.endDate,"dd.MM.y")," "),t.xp6(6),t.hij(" ",nt.variant.type," "),t.xp6(1),t.Q6J("expanded",nt.expanded),t.xp6(1),t.Q6J("ngIf",nt.expanded&&nt.variant.risks.length))},dependencies:[C.R,e.uU,tt.SV,et,e.Ov,e.O5,e.Zd],styles:[".policy-variant-item[_ngcontent-%COMP%]{overflow:hidden;font:var(--tui-font-text-xs);background-color:#f8efef;border-radius:var(--tui-radius-s);transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.policy-variant-item.isActive[_ngcontent-%COMP%]{background-color:var(--tui-background-base-alt)}.policy-variant-item.isActive[_ngcontent-%COMP%]:hover{background-color:var(--arm-hover)}.policy-variant-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.expand-icon[_ngcontent-%COMP%]{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;align-self:flex-start;flex-shrink:0;color:var(--tui-text-primary)}.expand-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.variant[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;padding-right:var(--tui-padding-m);display:flex;width:100%;justify-content:space-between;align-items:center;border-radius:var(--tui-radius-s);gap:0 var(--tui-padding-m)}.variant__expand[_ngcontent-%COMP%]{border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;padding:var(--tui-padding-s) 0 var(--tui-padding-s) var(--tui-padding-m);display:grid;width:calc(100% - 161px);text-align:left;gap:var(--tui-padding-s);grid-template-columns:1fr repeat(3,minmax(100px,150px))}.variant__expand[_ngcontent-%COMP%]:focus{outline:none}.variant__title[_ngcontent-%COMP%]{padding-right:var(--tui-padding-xl);display:inline-flex;overflow:hidden;align-items:flex-start;font:var(--tui-font-heading-4);gap:var(--tui-padding-s)}.variant__title[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;font-style:normal;white-space:pre-wrap}.variant__title[_ngcontent-%COMP%]   em.full[_ngcontent-%COMP%]{display:inline}.variant__column.first[_ngcontent-%COMP%]{align-self:center;display:flex;gap:var(--tui-padding-m)}.variant[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--tui-background-accent-opposite-pressed)}.variant[_ngcontent-%COMP%]   .text.warning[_ngcontent-%COMP%]{color:var(--tui-text-negative)}.create-button[_ngcontent-%COMP%]{flex-shrink:0}.franchise-badge[_ngcontent-%COMP%]{margin-top:4px;margin-right:4px;width:16px;height:16px;flex-shrink:0}app-data-fetch-error[_ngcontent-%COMP%]{padding:12px}"],changeDetection:0})}}return Z})();function st(Z,I){if(1&Z&&t._UZ(0,"app-variant-item",4),2&Z){const ot=I.first;t.Q6J("variant",I.$implicit)("isExpand",ot)}}function dt(Z,I){if(1&Z&&(t.ynx(0),t.YNc(1,st,1,2,"app-variant-item",3),t.BQk()),2&Z){const F=I.ngIf;t.xp6(1),t.Q6J("ngForOf",F.variants)}}function St(Z,I){if(1&Z&&(t.TgZ(0,"section",1),t.YNc(1,dt,2,1,"ng-container",2),t.qZA()),2&Z){const F=I.ngIf;t.xp6(1),t.Q6J("ngIf",F.data)}}let bt=(()=>{class Z{constructor(){this.variants$=(0,t.f3M)(f).state$}static{this.\u0275fac=function(ot){return new(ot||Z)}}static{this.\u0275cmp=t.Xpm({type:Z,selectors:[["app-variant-list"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[["class","dms-island",4,"ngIf"],[1,"dms-island"],[4,"ngIf"],["class","variant",3,"variant","isExpand",4,"ngFor","ngForOf"],[1,"variant",3,"variant","isExpand"]],template:function(ot,nt){1&ot&&(t.YNc(0,St,2,1,"section",0),t.ALo(1,"async")),2&ot&&t.Q6J("ngIf",t.lcZ(1,1,nt.variants$))},dependencies:[e.Ov,e.O5,It,e.sg],styles:[".dms-island[_ngcontent-%COMP%]{padding:12px 8px 8px;display:block}.dms-island[_ngcontent-%COMP%]   .variant[_ngcontent-%COMP%]{margin-bottom:8px;display:block}.dms-island[_ngcontent-%COMP%]   .variant[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}}return Z})();const u={AVAILABLE:"1",NOT_AVAILABLE:"0"},ut={PREPAY:"\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430 (\u0430\u0432\u0430\u043d\u0441)",RISK:"\u0420\u0438\u0441\u043a\u043e\u0432\u044b\u0439 (\u0444\u0430\u043a\u0442\u043e\u0432\u044b\u0439)",DEPOSIT:"\u0414\u0435\u043f\u043e\u0437\u0438\u0442\u043d\u044b\u0439"}},819:(Qt,$,o)=>{"use strict";o.d($,{v:()=>T});var e=o(5879),t=o(692),a=o(2926),i=o(7081),g=o(4664);let T=(()=>{class _{constructor(){this.endPoint="lab-diagnostics",this.aegleRestService=(0,e.f3M)(t.DA),this.policyParams$=(0,e.f3M)(a.Cp),this.cities$=this.fetchCities().pipe((0,i.d)({refCount:!0,bufferSize:1}))}fetchCities(){return this.aegleRestService.get(`/${this.endPoint}/offices/cities`)}fetchValidDates(h){return this.aegleRestService.get(`/${this.endPoint}/cart/${h}/dates`,{headers:{cartId:h}})}searchElements(h,f){return this.aegleRestService.post(`/${this.endPoint}/offices`,h,f)}fetchProducts(h,f){return this.aegleRestService.get(`/${this.endPoint}/products`,{params:{name:h},headers:{cartId:f}})}createCart(h,f,v){const C={regNumber:h};return v&&(C.taskGroupNumber=v),this.aegleRestService.post(`/${this.endPoint}/cart`,{policyNumber:f},{params:C})}getCart(h,f){const v={regNumber:h};return f&&(v.taskGroupNumber=f),this.aegleRestService.get(`/${this.endPoint}/cart`,{params:v})}addProduct(h,f){return this.aegleRestService.patch(`/${this.endPoint}/cart/${f}/product`,{analyses:[{...h}]},{headers:{cartId:f}})}removeProduct(h,f){return this.aegleRestService.delete(`/${this.endPoint}/cart/${f}/product/${h.guid}`,{headers:{cartId:f}})}setOffice(h,f){return this.aegleRestService.put(`/${this.endPoint}/cart/${f}/office/${h}`,{},{headers:{cartId:f}})}removeOffice(h){return this.aegleRestService.delete(`/${this.endPoint}/cart/${h}/office`,{headers:{cartId:h}})}sendPreorder({cartId:h,regNumber:f,phone:v}){return this.policyParams$.pipe((0,g.w)(([C,D])=>this.aegleRestService.post(`/${this.endPoint}/preorder`,{phone:v.replace("+",""),regNumber:f,clientPolicyGuid:C,sysCode:D},{headers:{cartId:h}})))}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},3832:(Qt,$,o)=>{"use strict";o.d($,{k:()=>h});var e=o(6814),t=o(5879),a=o(4190),i=o(3754),g=o(9397),T=o(8800),_=o(8509);function m(f,v){1&f&&(t.ynx(0),t._UZ(1,"router-outlet",1)(2,"router-outlet",2),t.BQk())}let h=(()=>{class f{constructor(){this.router=(0,t.f3M)(a.F0),this.activatedRoute=(0,t.f3M)(a.gz),this.policyStore=(0,t.f3M)(i.S8,{optional:!0}),this.confirmedPhoneIsValid$=this.policyStore?.isConfirmedPhone$.pipe((0,g.b)(C=>C||void this.router.navigate([".."],{queryParamsHandling:"merge",relativeTo:this.activatedRoute}))),this.searchService=(0,t.f3M)(_.M)}ngOnInit(){this.searchService.fetchCities()}static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-lab-diagnostics"]],standalone:!0,features:[t._Bn([T.hA,T.g_,_.M]),t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["name","cart"],["name","map"]],template:function(D,y){1&D&&(t.YNc(0,m,3,0,"ng-container",0),t.ALo(1,"async")),2&D&&t.Q6J("ngIf",t.lcZ(1,1,y.confirmedPhoneIsValid$))},dependencies:[a.lC,e.Ov,e.O5],encapsulation:2,changeDetection:0})}}return f})()},6614:(Qt,$,o)=>{"use strict";o.r($),o.d($,{CartLabDiagnosticsStore:()=>i.hA,ChooseCityStore:()=>i.Q5,LabDiagnosticsComponent:()=>a.k,LabDiagnosticsMapStore:()=>i.g_,LabDiagnosticsOfficeClusterStore:()=>i.HX,LabDiagnosticsOfficeListStore:()=>i.Fj,LabDiagnosticsProductsStore:()=>i.jl,LabDiagnosticsRestService:()=>t.v,SearchTypes:()=>e.ai,ServiceAvailabilityTypes:()=>e.p1,convertRegNumberRequest:()=>e.Lf,fetchIsApproved:()=>i.hx,initialState:()=>i.E3,isOfficeLab:()=>e.y9,routes:()=>g.routes,serviceAvailabilityTypeOptions:()=>e.Cg});var e=o(7438),t=o(819),a=o(3832),i=o(8800),g=o(7862)},7438:(Qt,$,o)=>{"use strict";o.d($,{ai:()=>a,p1:()=>i,Lf:()=>T,y9:()=>t,Cg:()=>g});var e=o(6237);const t=_=>_.type===e.KM.SINGLE&&!!_.address,a={MAP:"map",LIST:"list"},i={AVAILABLE:"available",NOT_AVAILABLE:"notAvailable",PARTIAL_AVAILABLE:"partialAvailable"},g=[{code:i.AVAILABLE,name:"\u0423\u0441\u043b\u0443\u0433\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430",color:"#4666F8"},{code:i.PARTIAL_AVAILABLE,name:"\u0423\u0441\u043b\u0443\u0433\u0430 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430",color:"#DAD6D6"},{code:i.NOT_AVAILABLE,name:"\u0423\u0441\u043b\u0443\u0433\u0430 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430",color:"#FF4040"}],T=_=>_.startsWith("DP")?_:_.replace("-","/")},8555:(Qt,$,o)=>{"use strict";o.d($,{h:()=>ut,E:()=>u});var e=o(5879),t=o(2880),a=o(3754),i=o(9779),g=o(7019),T=o(2926),_=o(9673),m=o(8131),h=o(4728),f=o(2198),v=o(5586),C=o(2181),D=o(9773),y=o(4664),E=o(2096),O=o(6306),M=o(7081),U=o(6328),R=o(9397),A=o(3620),S=o(4716),w=o(7398),p=o(8180),L=o(6853),V=o(6814),et=o(2527);let tt=(()=>{class Z{constructor(F){this.context=F}submit(){this.context.completeWith()}static{this.\u0275fac=function(ot){return new(ot||Z)(e.Y36(v.yf))}}static{this.\u0275cmp=e.Xpm({type:Z,selectors:[["app-diagnostics-dialog"]],standalone:!0,features:[e.jDz],decls:10,vars:0,consts:[[1,"dialog-container"],["ngSrc","assets/icons/check-heart-gradient.icon.svg","alt","lab-diagnostics-logo","width","41","height","37"],[1,"dialog-container-content"],[1,"dialog-container-pair"],[1,"dialog-container-content-label"],["size","m","tuiButton","","type","button",1,"dialog-container-content-button",3,"click"]],template:function(ot,nt){1&ot&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044b \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return nt.submit()}),e._uU(9,"\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0443\u0441\u043b\u0443\u0433\u0438"),e.qZA()()())},dependencies:[et.xG,V.Zd],styles:["[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.dialog-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.dialog-container-content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}.dialog-container-pair[_ngcontent-%COMP%]{column-gap:4px;margin-bottom:16px;margin-left:12px}.dialog-container-content-label[_ngcontent-%COMP%]{margin-bottom:4px;font-size:18px;font-weight:400;color:var(--tui-text-primary)}.dialog-container-content-button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:16px}"],changeDetection:0})}}return Z})();function ht(Z,I){if(1&Z&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4),e._uU(3,"\u0424\u0418\u041e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),e.qZA(),e.TgZ(4,"div",5),e._uU(5),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4),e._uU(8,"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430"),e.qZA(),e.TgZ(9,"div",5),e._uU(10),e.qZA()(),e.BQk()),2&Z){const F=I.ngIf;e.xp6(5),e.Oqu(F.client.name),e.xp6(5),e.Oqu(F.policy.policyNumber)}}function it(Z,I){if(1&Z&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.qZA(),e.TgZ(3,"div",5),e._uU(4),e.qZA()()),2&Z){const F=I.$implicit,ot=I.index;e.xp6(2),e.hij("\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 ",ot+1,""),e.xp6(2),e.Oqu(F.name)}}function It(Z,I){if(1&Z&&(e.ynx(0),e.YNc(1,it,5,2,"div",6),e.TgZ(2,"div",3)(3,"div",4),e._uU(4,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0444\u0438\u0441\u0430"),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.qZA()(),e.BQk()),2&Z){const F=I.ngIf;e.xp6(1),e.Q6J("ngForOf",F.analyses),e.xp6(5),e.Oqu(F.office.address)}}let st=(()=>{class Z{constructor(F){this.context=F}static{this.\u0275fac=function(ot){return new(ot||Z)(e.Y36(v.yf))}}static{this.\u0275cmp=e.Xpm({type:Z,selectors:[["app-lab-diagnostics-summary-dialog"]],standalone:!0,features:[e.jDz],decls:14,vars:6,consts:[[4,"ngIf"],["tuiButton","","type","submit","size","m","appearance","secondary",3,"click"],["tuiButton","","type","submit","size","m","appearance","primary",3,"click"],[1,"row"],[1,"label"],[1,"value"],["class","row",4,"ngFor","ngForOf"]],template:function(ot,nt){1&ot&&(e.TgZ(0,"header")(1,"h3"),e._uU(2,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0437\u0430\u043a\u0430\u0437"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443"),e.qZA()(),e.YNc(5,ht,11,2,"ng-container",0),e.ALo(6,"async"),e.YNc(7,It,7,2,"ng-container",0),e.ALo(8,"async"),e.TgZ(9,"footer")(10,"button",1),e.NdJ("click",function(){return nt.context.completeWith(!1)}),e._uU(11,"\u041e\u0442\u043c\u0435\u043d\u0430"),e.qZA(),e.TgZ(12,"button",2),e.NdJ("click",function(){return nt.context.completeWith(!0)}),e._uU(13,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),e.qZA()()),2&ot&&(e.xp6(5),e.Q6J("ngIf",e.lcZ(6,2,nt.context.data.policyClient$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,4,nt.context.data.cart$)))},dependencies:[et.xG,V.O5,V.Ov,V.sg],styles:[".row[_ngcontent-%COMP%]{margin-bottom:4px;padding:12px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xxs);display:flex}.row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;width:160px;margin-right:12px;flex-shrink:0;color:var(--tui-background-accent-opposite-pressed);white-space:nowrap}.row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;color:var(--tui-text-primary)}.row[_ngcontent-%COMP%]   .value_fsb[_ngcontent-%COMP%]{display:inline-flex;justify-content:space-between}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--tui-text-primary)}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--tui-text-secondary)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{padding-top:16px;text-align:right}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:12px;width:152px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}}return Z})();var dt=o(7438),St=o(4190),bt=o(819);const u={cart:null,isLoading:!1,error:null};let ut=(()=>{class Z extends _.m1{constructor(F,ot,nt,At,Dt){super(u),this.dialogService=F,this.injector=ot,this.router=nt,this.activatedRoute=At,this.labDiagnosticsRestService=Dt,this.labOrdersStore=(0,e.f3M)(t.cQ,{optional:!0}),this.policyRequestLabOrdersStore=(0,e.f3M)(L.wU,{optional:!0}),this.policyClientStore=(0,e.f3M)(a.S8),this.requestsStore=(0,e.f3M)(i.PolicyRequestTableStore),this.policyClient$=this.policyClientStore.policyClient$.pipe((0,C.h)(Boolean)),this.cart$=this.select(Wt=>Wt.cart),this.isLoading$=this.select(Wt=>Wt.isLoading),this.selectedProducts$=this.select(({cart:Wt})=>Wt&&Wt.analyses&&Wt.unavailableAnalyses&&Wt.analyses.concat(Wt.unavailableAnalyses)),this.office$=this.select(({cart:Wt})=>Wt?.office||null),this.regNumber$=(0,e.f3M)(T.aP).pipe((0,C.h)(Boolean)),this.parentTask$=this.regNumber$.pipe((0,D.R)(this.destroy$),(0,y.w)(Wt=>this.requestsStore.requests$.pipe((0,C.h)(Nt=>!!Nt?.length),(0,w.U)(Nt=>Nt.find(Rt=>Rt.regNumber===Wt)))),(0,C.h)(Wt=>!!Wt)),this.taskGroupNumber$=(0,e.f3M)(g.Ut),this.setCart=this.updater((Wt,Nt)=>({...Wt,isLoading:!1,error:null,cart:Nt})),this.cartId$=this.select(Wt=>Wt.cart?.id).pipe((0,y.w)(Wt=>{if(Wt)return(0,E.of)(Wt);throw new Error("Not found cart")}),(0,O.K)(()=>this.catchErrorCartNotFound())),this.validDates$=this.cartId$.pipe((0,y.w)(Wt=>this.labDiagnosticsRestService.fetchValidDates(Wt)),(0,D.R)(this.destroy$),(0,M.d)(1)),this.initCart=this.effect(Wt=>Wt.pipe((0,y.w)(Nt=>this.fetchCart(Nt)))),this.addProduct=this.effect(Wt=>Wt.pipe((0,U.b)(Nt=>this.cartId$.pipe((0,p.q)(1),(0,y.w)(Rt=>this.labDiagnosticsRestService.addProduct(Nt,Rt).pipe((0,_._b)(this.cartResponseObserver))))))),this.removeProduct=this.effect(Wt=>Wt.pipe((0,U.b)(Nt=>this.cartId$.pipe((0,p.q)(1),(0,y.w)(Rt=>this.labDiagnosticsRestService.removeProduct(Nt,Rt).pipe((0,_._b)(this.cartResponseObserver))))))),this.addOfficeToCart=this.effect(Wt=>Wt.pipe((0,U.b)(Nt=>this.cartId$.pipe((0,p.q)(1),(0,y.w)(Rt=>this.labDiagnosticsRestService.setOffice(Nt.id,Rt).pipe((0,_._b)(this.cartResponseObserver))))))),this.removeOfficeFromCart=this.effect(Wt=>Wt.pipe((0,U.b)(()=>this.cartId$.pipe((0,p.q)(1))),(0,U.b)(Nt=>this.labDiagnosticsRestService.removeOffice(Nt).pipe((0,_._b)(this.cartResponseObserver))))),this.createPreorder=this.effect(Wt=>Wt.pipe((0,y.w)(()=>this.cartId$.pipe((0,p.q)(1))),(0,m.IC)(()=>[this.regNumber$,this.policyClient$]),(0,R.b)(()=>this.patchState({isLoading:!0})),(0,y.w)(([Nt,Rt,{client:Bt}])=>this.labDiagnosticsRestService.sendPreorder({cartId:Nt,regNumber:Rt,phone:Bt.confirmedPhone}).pipe((0,_._b)(()=>{this.patchState({isLoading:!1})},B=>{this.patchState({isLoading:!1}),this.showFailSentPreorderDialog(B),console.error(B)}),(0,y.w)(()=>this.getSuccessSentPreorderDialog(Rt)))))),this.showFailOperationDialog=this.effect(Wt=>Wt.pipe((0,y.w)(Nt=>this.dialogService.open(Nt.error?.errorMessage?`<div class="api-error-content">${Nt.error.errorMessage}</div>`:"\u041f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043a\u043e\u0440\u0437\u0438\u043d\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{label:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"s",closeable:!1,dismissible:!0,data:{button:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}})))),this.cartResponseObserver={next:Wt=>{this.setCart(Wt)},error:Wt=>{console.error(Wt),this.showFailOperationDialog(Wt),this.patchState({isLoading:!1,error:Wt})}},this.init()}init(){this.initCart(this.regNumber$.pipe((0,w.U)(F=>F.startsWith("DP")?F:F.replace("-","/"))))}showCart(){return this.router.navigate([{outlets:{cart:"order",map:"order"}}],{queryParamsHandling:"merge",relativeTo:this.activatedRoute.parent})}sendPreorder(){const F=this.dialogService.open(new v.Al(st,this.injector),{data:{policyClient$:this.policyClient$,cart$:this.cart$},closeable:!1,size:"auto"}).pipe((0,C.h)(ot=>ot),(0,w.U)(()=>{}));this.createPreorder(F)}fetchCart(F){return this.taskGroupNumber$.pipe((0,A.b)(200),(0,p.q)(1),(0,y.w)(ot=>this.labDiagnosticsRestService.getCart(F,ot).pipe((0,O.K)(()=>this.policyClient$.pipe((0,p.q)(1)).pipe((0,y.w)(nt=>this.labDiagnosticsRestService.createCart(F,nt.policy.policyNumber,ot)))))),(0,_._b)(this.cartResponseObserver))}getSuccessSentPreorderDialog(F){return this.dialogService.open(new v.Al(tt,this.injector),{appearance:"gradient-box",size:"m",dismissible:!0,closeable:!1}).pipe((0,S.x)(()=>{this.labOrdersStore?.fetchOrdersByDpRequest((0,dt.Lf)(F)),this.policyRequestLabOrdersStore?.fetchLabOrders((0,dt.Lf)(F)),this.requestsStore.refetchPolicyRequests(),this.router.navigate([{outlets:{map:null,cart:null}}],{relativeTo:this.activatedRoute.parent,queryParamsHandling:"merge"})}))}showFailSentPreorderDialog({error:F}){const nt=this.dialogService.open(f.k2,{label:"\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",size:"m",closeable:!1,data:{yes:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437",no:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",content:F?.errorMessage?`<div class="api-error-content">${F.errorMessage}</div>`:"\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"},dismissible:!0}).pipe((0,C.h)(At=>At),(0,w.U)(()=>{}));this.createPreorder(nt)}catchErrorCartNotFound(){return this.regNumber$.pipe((0,p.q)(1),(0,w.U)(F=>(0,dt.Lf)(F)),(0,y.w)(F=>this.fetchCart(F)),(0,w.U)(F=>F.id))}static{this.\u0275fac=function(ot){return new(ot||Z)(e.LFG(h.RO),e.LFG(e.zs3),e.LFG(St.F0),e.LFG(St.gz),e.LFG(bt.v))}}static{this.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})()},8800:(Qt,$,o)=>{"use strict";o.d($,{hA:()=>D.h,Q5:()=>ht,g_:()=>L,HX:()=>It,Fj:()=>u,jl:()=>E,hx:()=>St,E3:()=>D.E});var e=o(6223),t=o(7354),a=o(9673),i=o(3620),g=o(4664),T=o(9397),_=o(6232),m=o(2572),h=o(8180),f=o(7398),v=o(5879),C=o(819),D=o(8555);const y={isLoading:!1,error:null,data:null};let E=(()=>{class ut extends a.m1{constructor(I,F){super(y),this.labDiagnosticsRestService=I,this.cartStore=F,this.cartId$=this.cartStore.cartId$,this.selectedProducts$=this.cartStore.selectedProducts$,this.isLoading$=this.select(ot=>ot.isLoading),this.error$=this.select(ot=>ot.error),this.searchQueryControl=new e.NI(""),this.searchProducts=this.effect(ot=>ot.pipe((0,i.b)(300),(0,g.w)(nt=>nt?this.cartId$.pipe((0,h.q)(1),(0,T.b)(()=>this.setState({isLoading:!0,error:null,data:null})),(0,g.w)(At=>this.labDiagnosticsRestService.fetchProducts(nt,At)),(0,a._b)(({items:At})=>this.setState({isLoading:!1,error:null,data:At}),At=>this.setState({isLoading:!1,error:At,data:null}))):_.E))),this.products$=this.select(ot=>ot.data),this.filteredProducts$=(0,m.a)([this.products$,this.selectedProducts$]).pipe((0,f.U)(([ot,nt])=>nt?(ot||[]).filter(At=>!nt.some(Dt=>Dt.guid===At.guid)):ot))}init(){this.searchProducts((0,t.UD)(this.searchQueryControl))}static{this.\u0275fac=function(F){return new(F||ut)(v.LFG(C.v),v.LFG(D.h))}}static{this.\u0275prov=v.Yz7({token:ut,factory:ut.\u0275fac})}}return ut})();var O=o(6237),M=o(8131),U=o(7328),R=o(3997),A=o(9773),S=o(2181),w=o(8509);const p={error:null,isLoading:!1,items:null,address:null,locationMap:O.PX,cluster:null};let L=(()=>{class ut extends a.m1{constructor(){super(p),this.cartLabDiagnosticsStore=(0,v.f3M)(D.h),this.searchService=(0,v.f3M)(w.M),this.validDates$=this.cartLabDiagnosticsStore.validDates$,this.policyClient$=this.cartLabDiagnosticsStore.policyClient$,this.locationMap$=this.select(I=>I.locationMap),this.center=new U.t(1),this.center$=this.center.asObservable(),this.initialConfigMap$=this.locationMap$.pipe((0,h.q)(1),(0,f.U)(I=>({...O.js,location:I,zoomRange:{min:9,max:19}}))),this.selectedCluster$=this.select(I=>I.cluster),this.setLocationMap=this.updater((I,F)=>({...I,locationMap:F})),this.setCluster=this.updater((I,F)=>({...I,cluster:F?{...F,zoom:I.locationMap.zoom}:null})),this.selectedOffice$=this.cartLabDiagnosticsStore.office$,this.cart$=this.cartLabDiagnosticsStore.cart$,this.isExcludeNotAvailableControl=this.searchService.isExcludeNotAvailableControl,this.error$=this.select(I=>I.error),this.isLoading$=this.select(I=>I.isLoading),this.cartIsLoading$=this.cartLabDiagnosticsStore.isLoading$,this.offices$=this.select(I=>I.items),this.address$=this.select(I=>I.address).pipe((0,R.x)((I,F)=>!(I!==F&&!I?.coordinates.every(ot=>F?.coordinates.includes(ot))))),this.selectedProducts$=this.cartLabDiagnosticsStore.selectedProducts$,this.fetchOffices=this.effect(I=>I.pipe((0,M.IC)(()=>this.searchService.cartIsEmpty$),(0,T.b)(([,F])=>F&&this.setState(p)),(0,S.h)(([,F])=>!F),(0,g.w)(([{bounds:F,zoom:ot}])=>(this.patchState({isLoading:!0,error:null}),this.searchService.searchPoints({bounds:F,zoom:ot}).pipe((0,a._b)(({items:nt,address:At})=>{const Dt=nt[nt.length-1];this.patchState({isLoading:!1,error:null,items:nt,address:At||((0,O.H6)(Dt)?Dt:null)})},nt=>this.patchState({isLoading:!1,error:nt})))))))}init(){const I=(0,m.a)([this.locationMap$,this.searchService.searchTrigger$]).pipe((0,f.U)(([F])=>F));this.fetchOffices(I),this.searchService.requiredSelectedCity$.pipe((0,A.R)(this.destroy$)).subscribe(({center:F})=>this.center.next({center:F})),this.address$.pipe((0,A.R)(this.destroy$),(0,S.h)(F=>!!F)).subscribe(({coordinates:F})=>this.center.next({center:F,zoom:16}))}showCart(){this.cartLabDiagnosticsStore.showCart()}changeLocation(I){this.setLocationMap(I)}selectOffice(I){this.cartLabDiagnosticsStore.addOfficeToCart(I)}deselectOffice(){this.cartLabDiagnosticsStore.removeOfficeFromCart()}selectCluster(I){this.setCluster(I)}deselectCluster(){this.setCluster(null)}sendPreorder(){this.cartLabDiagnosticsStore.sendPreorder()}static{this.\u0275fac=function(F){return new(F||ut)}}static{this.\u0275prov=v.Yz7({token:ut,factory:ut.\u0275fac})}}return ut})();var V=o(1993),et=o(6266),tt=o(5619);let ht=(()=>{class ut{constructor(){this.destroyRef=(0,v.f3M)(v.ktI),this.city=new e.NI(null,{validators:[e.kI.required]}),this.search=new tt.X(null),this.search$=this.search.asObservable(),this.data$=(0,v.f3M)(C.v).cities$,this.cities$=this.search$.pipe((0,R.x)(),(0,i.b)(300),(0,V.sL)(this.destroyRef),(0,g.w)(I=>this.data$.pipe((0,f.U)(F=>this.searchCities(F,I)))))}set searchQuery(I){this.search.next(I)}ngOnDestroy(){this.search.complete()}searchCities(I,F){return F&&F.length>1?I.filter(ot=>(0,et.LQ)(ot.name,F)):I}static{this.\u0275fac=function(F){return new(F||ut)}}static{this.\u0275prov=v.Yz7({token:ut,factory:ut.\u0275fac})}}return ut})();const it={isLoading:!1,error:null,data:null};let It=(()=>{class ut extends a.m1{constructor(){super(it),this.searchService=(0,v.f3M)(w.M),this.isLoading$=this.select(I=>I.isLoading),this.error$=this.select(I=>I.error),this.officeList$=this.select(I=>I.data),this.fetchOffice=this.effect(I=>I.pipe((0,M.IC)(()=>[this.searchService.searchQuery$,this.searchService.selectedProductIds$]),(0,g.w)(([{clusterBounds:F,zoom:ot}])=>(this.patchState({isLoading:!0,error:null,data:null}),this.searchService.searchElements({bounds:F,zoom:ot,limit:30,offset:0}).pipe((0,a._b)(({items:nt})=>this.patchState({isLoading:!1,error:null,data:nt}),nt=>this.patchState({isLoading:!1,error:nt,data:null}),()=>this.patchState({isLoading:!1})))))))}static{this.\u0275fac=function(F){return new(F||ut)}}static{this.\u0275prov=v.Yz7({token:ut,factory:ut.\u0275fac})}}return ut})();var st=o(8441),dt=o(932);const St=(ut,Z,I)=>!(I||ut&&Z&&ut===Z.length),bt={offset:0,total:null,items:null,isLoading:!1,error:null};let u=(()=>{class ut extends a.m1{constructor(){super(bt),this.searchService=(0,v.f3M)(w.M),this.cityControl=this.searchService.cityControl,this.addressControl=this.searchService.searchQueryControl,this.officeList$=this.select(I=>I.items),this.total$=this.select(I=>I.total),this.isLoading$=this.select(this.state$,({isLoading:I})=>I),this.error$=this.select(this.state$,({error:I})=>I),this.fetchPage=this.effect(I=>I.pipe((0,M.IC)(()=>[this.state$,this.searchService.cartIsEmpty$]),(0,S.h)(([,{total:F,items:ot},nt])=>St(F,ot,nt)),(0,g.w)(([,{offset:F}])=>(this.patchState({isLoading:!0,error:null}),this.searchService.searchElements({offset:F,limit:30}).pipe((0,a._b)(ot=>this.setItems(ot),ot=>this.patchState({error:ot,isLoading:!1}),()=>this.patchState({isLoading:!1}))))))),this.setItems=this.updater((I,{items:F,total:ot})=>({...I,offset:I.offset+st.LIMIT_LIST,total:ot,items:[...I.items||[],...F],isLoading:!1,error:null}))}init(){this.fetchPage();const I=this.searchService.searchListTrigger$.pipe((0,T.b)(()=>this.setState(()=>({...bt}))),(0,dt.g)(1));this.fetchPage(I)}static{this.\u0275fac=function(F){return new(F||ut)}}static{this.\u0275prov=v.Yz7({token:ut,factory:ut.\u0275fac})}}return ut})()},8509:(Qt,$,o)=>{"use strict";o.d($,{M:()=>S});var e=o(7582),t=o(1993),a=o(9862),i=o(5879),g=o(6223),T=o(7354),_=o(8131),m=o(8451),h=o(3997),f=o(7081),v=o(2181),C=o(3620),D=o(2572),y=o(4664),E=o(9773),O=o(7398),M=o(8180),U=o(819),R=o(7438),A=o(8555);class S{constructor(){this.destroyRef=(0,i.f3M)(i.ktI),this.restService=(0,i.f3M)(U.v),this.cartStore=(0,i.f3M)(A.h),this.selectedProductIds$=this.cartStore.selectedProducts$.pipe((0,O.U)(p=>p&&p.map(({guid:L})=>L)),(0,h.x)((p,L)=>!!p&&!!L&&p!==L&&!(L.some(V=>-1===p.indexOf(V))||p.some(V=>-1===L.indexOf(V))))),this.isExcludeNotAvailableControl=new g.NI(!1,{nonNullable:!0}),this.searchQueryControl=new g.NI("",{nonNullable:!0}),this.cityControl=new g.NI(null),this.isExcludeNotAvailable$=(0,T.UD)(this.isExcludeNotAvailableControl).pipe((0,t.sL)(this.destroyRef),(0,f.d)(1)),this.selectedCity$=(0,T.UD)(this.cityControl).pipe((0,f.d)(1),(0,t.sL)(this.destroyRef)),this.selectedCityIsNull$=this.selectedCity$.pipe((0,v.h)(p=>!p)),this.requiredSelectedCity$=this.selectedCity$.pipe((0,v.h)(p=>!!p)),this.searchQuery$=(0,T.UD)(this.searchQueryControl).pipe((0,t.sL)(this.destroyRef),(0,C.b)(300),(0,f.d)(1)),this.headers$=this.cartStore.cartId$.pipe((0,O.U)(p=>new a.WM({cartId:p})))}get cartIsEmpty$(){return this.selectedProductIds$.pipe((0,O.U)(p=>!p||0===p.length))}get searchListTrigger$(){return(0,D.a)([this.requiredSelectedCity$,this.searchTrigger$]).pipe((0,t.sL)(this.destroyRef),(0,O.U)(()=>{}))}get searchTrigger$(){return(0,D.a)([this.isExcludeNotAvailable$,this.searchQuery$,this.selectedProductIds$]).pipe((0,t.sL)(this.destroyRef),(0,C.b)(400),(0,O.U)(()=>{}))}fetchCities(){this.restService.cities$.pipe((0,M.q)(1)).subscribe(p=>{const L=p.find(V=>"\u041c\u043e\u0441\u043a\u0432\u0430"===V.name);L&&this.cityControl.setValue(L)})}searchElements(p){return this.headers$.pipe((0,_.IC)(()=>[this.requiredSelectedCity$,this.searchQuery$,this.isExcludeNotAvailable$,this.selectedProductIds$]),(0,y.w)(([L,{name:V,bounds:et},tt,ht,it])=>{const It={type:R.ai.LIST,bounds:et,...p,searchQuery:{value:tt,city:V},filter:{isExcludeNotAvailable:ht,analysisIds:it||[]}};return this.restService.searchElements({...It},{headers:L})}),(0,E.R)(this.selectedCityIsNull$))}searchPoints(p){return this.headers$.pipe((0,_.IC)(()=>[this.selectedCity$,this.searchQuery$,this.isExcludeNotAvailable$,this.selectedProductIds$]),(0,y.w)(([L,V,et,tt,ht])=>{const it={type:R.ai.MAP,...p,searchQuery:{value:et,city:V?.name},filter:{isExcludeNotAvailable:tt,analysisIds:ht||[]}};return this.restService.searchElements(it,{headers:L})}))}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275prov=i.Yz7({token:S,factory:S.\u0275fac})}}(0,e.gn)([m.UM],S.prototype,"cartIsEmpty$",null),(0,e.gn)([m.UM],S.prototype,"searchListTrigger$",null),(0,e.gn)([m.UM],S.prototype,"searchTrigger$",null)},7862:(Qt,$,o)=>{"use strict";o.r($),o.d($,{routes:()=>Gi});var e=o(8763),t=o(3832),a=o(6814),i=o(5879),g=o(1993),T=o(6223),_=o(9779),m=o(7019),h=o(7354),f=o(8767),v=o(2527),C=o(1564),D=o(1711),y=o(4224),E=o(7588),O=o(8293),M=o(5586),U=o(9397),R=o(2181),A=o(9773),S=o(7398),w=o(8180);const p=["smp","pnd","app","tmc","other","stom","hospitalization"];var L=o(8800),V=o(2701),et=o(1862);let tt=(()=>{class sn{constructor(){this.numberFormat=(0,i.f3M)(V.HO)}transform(Xt,Ye={}){return this.numberFormat.pipe((0,S.U)(se=>(0,et.lx)(Xt,{...se,precision:Number.isNaN(se.precision)?1/0:se.precision,...Ye})))}static{this.\u0275fac=function(Ye){return new(Ye||sn)}}static{this.\u0275pipe=i.Yjl({name:"tuiFormatNumber",type:sn,pure:!0,standalone:!0})}}return sn})(),ht=(()=>{class sn{constructor(){this.appearance="secondary",this.textButton="\u0423\u0431\u0440\u0430\u0442\u044c",this._canRemove=!0,this.cartStore=(0,i.f3M)(L.hA)}set canRemove(Xt){this._canRemove=Xt,this.appearance=Xt?"secondary":"primary",this.textButton=Xt?"\u0423\u0431\u0440\u0430\u0442\u044c":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}toggleSelect(){this._canRemove?this.cartStore.removeProduct(this.product):this.cartStore.addProduct(this.product)}static{this.\u0275fac=function(Ye){return new(Ye||sn)}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-cart-product"]],inputs:{product:"product",canRemove:"canRemove"},standalone:!0,features:[i.jDz],decls:11,vars:9,consts:[[1,"cart-product"],[1,"cart-product__article"],[1,"cart-product__name"],[1,"cart-price"],["tuiButton","","size","s","type","button",3,"appearance","click"]],template:function(Ye,se){1&Ye&&(i.TgZ(0,"div",0)(1,"p",1),i._uU(2),i.qZA(),i.TgZ(3,"p",2),i._uU(4),i.qZA()(),i.TgZ(5,"span",3),i._uU(6),i.ALo(7,"async"),i.ALo(8,"tuiFormatNumber"),i.qZA(),i.TgZ(9,"button",4),i.NdJ("click",function(){return se.toggleSelect()}),i._uU(10),i.qZA()),2&Ye&&(i.xp6(2),i.Oqu(se.product.article),i.xp6(2),i.Oqu(se.product.name),i.xp6(2),i.hij("",i.lcZ(7,5,i.lcZ(8,7,se.product.price))," \u20bd"),i.xp6(3),i.Q6J("appearance",se.appearance),i.xp6(1),i.hij(" ",se.textButton,"\n"))},dependencies:[v.xG,tt,a.Ov],styles:["[_nghost-%COMP%]{padding:16px 12px;display:flex;justify-content:space-between;align-items:center;font:inherit;border-bottom:1px solid var(--arm-hover)}[_nghost-%COMP%]:last-child{padding-bottom:0;border-bottom:0}[_nghost-%COMP%]   .cart-product[_ngcontent-%COMP%]{margin-right:12px}[_nghost-%COMP%]   .cart-product__article[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);font-style:normal;color:var(--tui-text-06)}[_nghost-%COMP%]   .cart-product[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .cart-price[_ngcontent-%COMP%]{margin-right:12px;margin-left:auto;font:var(--tui-font-heading-4);white-space:nowrap;color:var(--tui-text-primary)}"],changeDetection:0})}}return sn})();var it=o(1534);function It(sn,fi){1&sn&&i._uU(0,"\u0430\u043d\u0430\u043b\u0438\u0437")}function st(sn,fi){1&sn&&i._uU(0,"\u0430\u043d\u0430\u043b\u0438\u0437\u0430")}function dt(sn,fi){1&sn&&i._uU(0,"\u0430\u043d\u0430\u043b\u0438\u0437\u0430")}function St(sn,fi){1&sn&&i._uU(0,"\u0430\u043d\u0430\u043b\u0438\u0437\u0430")}function bt(sn,fi){1&sn&&i._uU(0,"\u0430\u043d\u0430\u043b\u0438\u0437\u043e\u0432")}const u=["*"];let ut=(()=>{class sn{constructor(){this.count=0,this.isExpand=!1}get status(){return 0===this.count?"error":"other"}static{this.\u0275fac=function(Ye){return new(Ye||sn)}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-diagnostics-cart-summary"]],inputs:{count:"count",isExpand:"isExpand"},standalone:!0,features:[i.jDz],ngContentSelectors:u,decls:14,vars:5,consts:[["type","button"],["icon","@tui.chevron-down",1,"t-icon"],[1,"right"],[3,"status"],[3,"ngPlural"],["ngPluralCase","1"],["ngPluralCase","2"],["ngPluralCase","3"],["ngPluralCase","4"],["ngPluralCase","other"]],template:function(Ye,se){1&Ye&&(i.F$t(),i.TgZ(0,"button",0)(1,"h4"),i._UZ(2,"tui-icon",1),i._uU(3," \u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f "),i.qZA()(),i.TgZ(4,"div",2)(5,"app-badge",3),i._uU(6),i.ynx(7,4),i.YNc(8,It,1,0,"ng-template",5),i.YNc(9,st,1,0,"ng-template",6),i.YNc(10,dt,1,0,"ng-template",7),i.YNc(11,St,1,0,"ng-template",8),i.YNc(12,bt,1,0,"ng-template",9),i.BQk(),i.qZA(),i.Hsn(13),i.qZA()),2&Ye&&(i.xp6(2),i.ekj("t-icon_open",se.isExpand),i.xp6(3),i.Q6J("status",se.status),i.xp6(1),i.hij(" ",se.count," "),i.xp6(1),i.Q6J("ngPlural",se.count))},dependencies:[m.FN,it.R,a.iq,a.zE],styles:["[_nghost-%COMP%]{margin:0;padding:12px 12px 8px;display:flex;width:100%;height:48px;justify-content:space-between;align-items:center}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;display:flex;gap:8px;align-items:center;white-space:nowrap}[_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-text-primary)}[_nghost-%COMP%]   .t-icon_open[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;width:100%;cursor:pointer}[_nghost-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:0 8px;align-items:center;flex-shrink:0}"],changeDetection:0})}}return sn})();var Z=o(4190),I=o(2354);const F=["header"],ot=["content"];function nt(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"div",3)(1,"button",4),i.NdJ("click",function(){const Ve=i.CHM(Xt).completeWith;return i.KtG(Ve(!1))}),i._uU(2,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),i.qZA(),i.TgZ(3,"h3"),i._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),i.qZA(),i.TgZ(5,"button",5),i.NdJ("click",function(){i.CHM(Xt);const se=i.oxw().tuiLet,Ve=i.oxw();return i.KtG((null==se?null:se.length)&&Ve.goNextStep())}),i._uU(6," \u041a \u0432\u044b\u0431\u043e\u0440\u0443 \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u0439 "),i.qZA()()}if(2&sn){const Xt=i.oxw().tuiLet;i.xp6(5),i.Q6J("disabled",!Xt||0===Xt.length)}}function At(sn,fi){1&sn&&i._UZ(0,"app-lab-cart-product",19),2&sn&&i.Q6J("product",fi.$implicit)("tuiScrollIntoView",!0)("canRemove",!0)}function Dt(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"section",15)(1,"app-lab-diagnostics-cart-summary",16),i.NdJ("click",function(){i.CHM(Xt);const se=i.oxw(3);return i.KtG(se.isExpandSelected=!se.isExpandSelected)}),i.qZA(),i.TgZ(2,"tui-expand",17)(3,"tui-scrollbar"),i.YNc(4,At,1,3,"app-lab-cart-product",18),i.qZA()()()}if(2&sn){const Xt=fi.ngIf,Ye=i.oxw(2).tuiLet,se=i.oxw();i.xp6(1),i.Q6J("isExpand",se.isExpandSelected)("count",Xt),i.xp6(1),i.Q6J("expanded",se.isExpandSelected),i.xp6(2),i.Q6J("ngForOf",Ye)}}function Wt(sn,fi){if(1&sn&&(i.ynx(0),i.TgZ(1,"div",20)(2,"span",21),i._uU(3,"\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"),i.qZA(),i.TgZ(4,"span",22),i._uU(5),i.qZA()(),i.BQk()),2&sn){const Xt=i.oxw(3);i.xp6(5),i.Oqu(Xt.agreedServices())}}function Nt(sn,fi){1&sn&&(i.TgZ(0,"p",23),i._uU(1," \u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u0435 \u0432\u0430\u0441 \u0430\u043d\u0430\u043b\u0438\u0437\u044b \u0432 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 "),i.qZA())}function Rt(sn,fi){1&sn&&i._UZ(0,"app-lab-cart-product",29),2&sn&&i.Q6J("product",fi.$implicit)("canRemove",!1)}function Bt(sn,fi){if(1&sn&&(i.TgZ(0,"div",26)(1,"tui-scrollbar")(2,"div",27),i.YNc(3,Rt,1,2,"app-lab-cart-product",28),i.qZA()()()),2&sn){const Xt=i.oxw().ngIf;i.xp6(3),i.Q6J("ngForOf",Xt)}}function B(sn,fi){1&sn&&i._UZ(0,"app-empty-data",30),2&sn&&i.Q6J("title","\u0412\u0441\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u044b")}function k(sn,fi){1&sn&&i._UZ(0,"app-empty-data",30),2&sn&&i.Q6J("title","\u041f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")}function yt(sn,fi){if(1&sn&&(i.ynx(0),i.YNc(1,Bt,4,1,"div",24),i.YNc(2,B,1,1,"app-empty-data",25),i.YNc(3,k,1,1,"app-empty-data",25),i.BQk()),2&sn){const Xt=fi.ngIf,Ye=i.oxw().ngIf;i.xp6(1),i.Q6J("ngIf",Xt.length),i.xp6(1),i.Q6J("ngIf",0===Xt.length&&Xt.length!==Ye.length),i.xp6(1),i.Q6J("ngIf",0===Ye.length)}}function Y(sn,fi){if(1&sn&&(i.ynx(0),i.YNc(1,yt,4,3,"ng-container",9),i.ALo(2,"async"),i.BQk()),2&sn){const Xt=i.oxw(4);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,Xt.filteredProducts$))}}function xt(sn,fi){if(1&sn&&(i.YNc(0,Y,3,3,"ng-container",9),i.ALo(1,"async")),2&sn){const Xt=i.oxw(3);i.Q6J("ngIf",i.lcZ(1,1,Xt.products$))}}function z(sn,fi){1&sn&&i._UZ(0,"dms-loader",31)}function at(sn,fi){1&sn&&i._UZ(0,"app-data-fetch-error")}function Pt(sn,fi){if(1&sn&&(i.TgZ(0,"div",6),i.YNc(1,Dt,5,4,"section",7),i.TgZ(2,"section",8),i.YNc(3,Wt,6,1,"ng-container",9),i.TgZ(4,"div",10)(5,"tui-input",11),i._uU(6," \u041f\u043e\u0438\u0441\u043a \u0430\u043d\u0430\u043b\u0438\u0437\u043e\u0432 "),i.qZA()(),i.YNc(7,Nt,2,0,"p",12),i.YNc(8,xt,2,3,"ng-template",null,13,i.W1O),i.YNc(10,z,1,0,"dms-loader",14),i.ALo(11,"async"),i.YNc(12,at,1,0,"app-data-fetch-error",9),i.ALo(13,"async"),i.qZA()()),2&sn){const Xt=i.MAs(9),Ye=i.oxw().tuiLet,se=i.oxw();i.xp6(1),i.Q6J("ngIf",null==Ye?null:Ye.length),i.xp6(2),i.Q6J("ngIf",se.agreedServices()),i.xp6(2),i.Q6J("formControl",se.searchQueryControl)("tuiTextfieldCleaner",!0),i.xp6(2),i.Q6J("ngIf",0===(null==se.searchQueryControl.value?null:se.searchQueryControl.value.length))("ngIfElse",Xt),i.xp6(3),i.Q6J("ngIf",i.lcZ(11,8,se.isLoading$)),i.xp6(2),i.Q6J("ngIf",(null==se.searchQueryControl.value?null:se.searchQueryControl.value.length)&&i.lcZ(13,10,se.error$))}}function Gt(sn,fi){1&sn&&(i.ynx(0),i.YNc(1,nt,7,1,"ng-template",null,1,i.W1O),i.YNc(3,Pt,14,12,"ng-template",null,2,i.W1O),i.BQk())}let De=(()=>{class sn{constructor(Xt,Ye,se,Ve){this.sheetService=Xt,this.router=Ye,this.labDiagnosticsCartStore=se,this.activatedRoute=Ve,this.products$=this.labDiagnosticsCartStore.products$,this.filteredProducts$=this.labDiagnosticsCartStore.filteredProducts$,this.isLoading$=this.labDiagnosticsCartStore.isLoading$,this.error$=this.labDiagnosticsCartStore.error$,this.searchQueryControl=this.labDiagnosticsCartStore.searchQueryControl,this.selectedProducts$=this.labDiagnosticsCartStore.selectedProducts$,this.taskGroupNumber$=(0,i.f3M)(m.Ut),this.taskGroupNumber=(0,g.O4)(this.taskGroupNumber$),this.policyRequestStore=(0,i.f3M)(_.PolicyRequestStore,{optional:!0}),this.ctx=(0,i.f3M)(M.yf,{optional:!0}),this.agreedServices=(0,i.tdS)(""),this.isExpandSelected=!0}ngOnInit(){this.ctx?.data?.task$?.pipe((0,S.U)(Xt=>Xt.services.map(Ye=>Ye.name)),(0,S.U)(Xt=>Xt.join("; ")),(0,U.b)(Xt=>this.agreedServices.set(Xt)),(0,w.q)(1)).subscribe(),this.policyRequestStore?.data$?.pipe((0,R.h)(Boolean),(0,w.q)(1),(0,R.h)(()=>!!this.taskGroupNumber()),(0,S.U)(Xt=>Xt.tasks?.find(Ye=>Ye.taskNumber?.toString()===this.taskGroupNumber())),(0,R.h)(Boolean),(0,U.b)(Xt=>{const Ye=p.find(se=>Xt[se].length>0);if(Ye&&"smp"!==Ye&&"pnd"!==Ye){const se=Xt[Ye].map(Ve=>Ve.serviceText).join("; ");this.agreedServices.set(se)}})).subscribe(),this.labDiagnosticsCartStore.init(),this.sheetService.open(this.contentTemplate,{header:this.headerTemplate,dismissible:!1,closeable:!1}).pipe((0,A.R)(this.labDiagnosticsCartStore.destroy$)).subscribe({next:Xt=>{Xt||this.router.navigate([{outlets:{cart:null}}],{relativeTo:this.activatedRoute.parent,queryParamsHandling:"merge",queryParams:{taskGroupNumber:void 0}})}})}goNextStep(){this.router.navigate([{outlets:{cart:null,map:"order"}}],{queryParamsHandling:"merge",queryParams:{taskGroupNumber:void 0},relativeTo:this.activatedRoute.parent?.parent})}static{this.\u0275fac=function(Ye){return new(Ye||sn)(i.Y36(h.q6),i.Y36(Z.F0),i.Y36(L.jl),i.Y36(Z.gz))}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-diagnostics-cart"]],viewQuery:function(Ye,se){if(1&Ye&&(i.Gf(F,7),i.Gf(ot,7)),2&Ye){let Ve;i.iGM(Ve=i.CRH())&&(se.headerTemplate=Ve.first),i.iGM(Ve=i.CRH())&&(se.contentTemplate=Ve.first)}},standalone:!0,features:[i._Bn([L.jl]),i.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["header",""],["content",""],[1,"lab-cart-header"],["tuiIconButton","","tuiButtonClose","","size","m","appearance","secondary-grayscale",3,"click"],["tuiButton","","size","s",3,"disabled","click"],[1,"lab-cart-content"],["class","island lab-cart-selected",4,"ngIf"],[1,"island","lab-cart-products"],[4,"ngIf"],[1,"lab-cart-products__search"],["tuiTextfieldSize","m","tuiTextfieldIconLeft","@tui.search",3,"formControl","tuiTextfieldCleaner"],["class","search-tip",4,"ngIf","ngIfElse"],["searchResult",""],["size","m",4,"ngIf"],[1,"island","lab-cart-selected"],[1,"lab-cart-selected__header",3,"isExpand","count","click"],[3,"expanded"],[3,"product","tuiScrollIntoView","canRemove",4,"ngFor","ngForOf"],[3,"product","tuiScrollIntoView","canRemove"],[1,"parent-task"],[1,"parent-task__label"],[1,"parent-task__value"],[1,"search-tip"],["class","lab-cart-products__wrapper",4,"ngIf"],[3,"title",4,"ngIf"],[1,"lab-cart-products__wrapper"],[1,"lab-cart-products__list"],[3,"product","canRemove",4,"ngFor","ngForOf"],[3,"product","canRemove"],[3,"title"],["size","m"]],template:function(Ye,se){1&Ye&&(i.YNc(0,Gt,5,0,"ng-container",0),i.ALo(1,"async")),2&Ye&&i.Q6J("tuiLet",i.lcZ(1,1,se.selectedProducts$))},dependencies:[v.xG,h.gK,h.Ph,T.UX,T.JJ,T.oH,y.Qf,y.K3,y.wU,E.xs,O.cn,O.be,O.sz,O.aR,C.D1,I.SV,m.ME,ht,ut,f.i,C._H,a.O5,a.Ov,a.sg,D.u],styles:[".lab-cart-content[_ngcontent-%COMP%]{--content-height:calc(100vh - 74px);padding:var(--tui-padding-s);display:flex;overflow:hidden;width:820px;height:var(--content-height);flex-direction:column;flex-grow:1;font:var(--tui-font-heading-4)}.lab-cart-header[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;gap:var(--tui-padding-l);align-items:center;background-color:var(--tui-background-base);border-radius:0 0 var(--tui-radius-m) var(--tui-radius-m)}.lab-cart-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 auto 0 0}.island[_ngcontent-%COMP%]{margin-bottom:8px;background-color:var(--tui-background-base);border-radius:var(--tui-radius-m)}.island[_ngcontent-%COMP%]:last-child{margin-bottom:0}.lab-cart-selected[_ngcontent-%COMP%]{--max-height-selected-product-list: calc(var(--content-height) / 3);max-height:var(--max-height-selected-product-list);flex-shrink:0}.lab-cart-selected[_ngcontent-%COMP%]:has(tui-expand[aria-expanded=true])   .lab-cart-selected__header[_ngcontent-%COMP%]{border-bottom:1px solid var(--arm-hover)}.lab-cart-selected[_ngcontent-%COMP%]   tui-expand[aria-expanded=true][_ngcontent-%COMP%]{padding-bottom:12px}.lab-cart-selected[_ngcontent-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{max-height:calc(var(--max-height-selected-product-list) - 74px)}.lab-cart-products[_ngcontent-%COMP%]{padding:var(--tui-padding-s) var(--tui-padding-s) var(--tui-padding-m);display:flex;flex-direction:column;flex-grow:1;gap:var(--tui-padding-s) 0}.lab-cart-products__wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.lab-cart-products__list[_ngcontent-%COMP%]{margin:0 8px;border:1px solid var(--arm-hover);border-radius:var(--tui-radius-m)}.lab-cart-products__list[_ngcontent-%COMP%]   app-lab-cart-product[_ngcontent-%COMP%]{padding-bottom:12px}.lab-cart-products[_ngcontent-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;margin:0 -8px;max-height:100%}.parent-task[_ngcontent-%COMP%]{padding:12px;display:flex;gap:8px;font:var(--tui-font-text-xs);border:1px solid var(--arm-hover);border-radius:var(--tui-radius-s)}.parent-task__label[_ngcontent-%COMP%]{width:198px;flex-shrink:0;color:var(--tui-text-06)}app-empty-data[_ngcontent-%COMP%]{border:none}.search-tip[_ngcontent-%COMP%]{margin:auto;max-width:417px;font:var(--tui-font-heading-3);text-align:center;color:var(--tui-background-accent-opposite-pressed)}"],changeDetection:0})}}return sn})();var Ut=o(6237),Q=o(4767),Ot=o(7438),Ft=o(7582),le=o(8451),ne=o(6805),Ge=o(3069),Se=o(2334);function Pe(sn,fi){if(1&sn&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&sn){const Xt=i.oxw(2);i.xp6(1),i.Oqu(Xt.metroStationsDisplayText)}}function Ue(sn,fi){1&sn&&i.GkF(0)}const Ee=function(sn){return{$implicit:sn,status:"success",statusText:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"}};function de(sn,fi){if(1&sn&&(i.TgZ(0,"div",17),i.YNc(1,Ue,1,0,"ng-container",18),i.qZA()),2&sn){const Xt=fi.$implicit;i.oxw(2);const Ye=i.MAs(2);i.xp6(1),i.Q6J("ngTemplateOutlet",Ye)("ngTemplateOutletContext",i.VKq(2,Ee,Xt))}}function ae(sn,fi){1&sn&&i.GkF(0)}const $e=function(sn){return{$implicit:sn,status:"error",statusText:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e"}};function Bn(sn,fi){if(1&sn&&(i.TgZ(0,"div",17),i.YNc(1,ae,1,0,"ng-container",18),i.qZA()),2&sn){const Xt=fi.$implicit;i.oxw(2);const Ye=i.MAs(2);i.xp6(1),i.Q6J("ngTemplateOutlet",Ye)("ngTemplateOutletContext",i.VKq(2,$e,Xt))}}function Ae(sn,fi){if(1&sn&&(i.TgZ(0,"div",11)(1,"div",12),i._uU(2,"\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430"),i.qZA(),i.TgZ(3,"div",19)(4,"span"),i._uU(5),i.ALo(6,"date"),i.ALo(7,"date"),i.qZA(),i.TgZ(8,"span"),i._uU(9),i.qZA()()()),2&sn){const Xt=i.oxw(2);i.xp6(5),i.AsE("",i.xi3(6,3,Xt.validDates.validFrom,"dd.MM.yyyy")," - ",i.xi3(7,6,Xt.validDates.validTo,"dd.MM.yyyy"),""),i.xp6(4),i.hij("",Xt.validDates.validDays," \u0434\u043d\u0435\u0439")}}function Hn(sn,fi){if(1&sn){const Xt=i.EpF();i.ynx(0),i.TgZ(1,"header",2)(2,"h4",3),i._uU(3),i.qZA(),i.TgZ(4,"p",4),i.YNc(5,Pe,2,1,"span",0),i._uU(6),i.qZA()(),i.TgZ(7,"tui-scrollbar")(8,"section",5)(9,"h4"),i._uU(10,"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439 \u0432 \u043a\u043b\u0438\u043d\u0438\u043a\u0435"),i.qZA(),i.YNc(11,de,2,4,"div",6),i.YNc(12,Bn,2,4,"div",6),i.TgZ(13,"div",7)(14,"div",8)(15,"span"),i._uU(16,"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),i.qZA(),i.TgZ(17,"p",9),i._uU(18,"\u0431\u0435\u0437 \u0443\u0447\u0435\u0442\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u0437\u044f\u0442\u0438\u044f \u0431\u0438\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430"),i.qZA()(),i.TgZ(19,"p",10),i._uU(20),i.ALo(21,"async"),i.ALo(22,"tuiFormatNumber"),i.qZA()()(),i.TgZ(23,"section",5)(24,"h4"),i._uU(25,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),i.qZA(),i.TgZ(26,"div",11)(27,"div",12),i._uU(28,"\u0424\u0418\u041e \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),i.qZA(),i.TgZ(29,"div",13),i._uU(30),i.qZA()(),i.TgZ(31,"div",11)(32,"div",12),i._uU(33,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),i.qZA(),i.TgZ(34,"div",13),i._uU(35),i.ALo(36,"date"),i.qZA()(),i.TgZ(37,"div",11)(38,"div",12),i._uU(39,"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430"),i.qZA(),i.TgZ(40,"div",13),i._uU(41),i.qZA()(),i.TgZ(42,"div",11)(43,"div",12),i._uU(44,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043b\u0438\u0435\u043d\u0442\u0430"),i.qZA(),i.TgZ(45,"div",13)(46,"a",14),i._uU(47),i.ALo(48,"tuiFormatPhone"),i.qZA()()(),i.YNc(49,Ae,10,9,"div",15),i.qZA()(),i.TgZ(50,"footer")(51,"button",16),i.NdJ("click",function(){i.CHM(Xt);const se=i.oxw();return i.KtG(se.sentPreorder.emit())}),i._uU(52," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 "),i.qZA()(),i.BQk()}if(2&sn){const Xt=i.oxw();i.xp6(3),i.Oqu(Xt.cart.office.name),i.xp6(2),i.Q6J("ngIf",Xt.metroStationsDisplayText),i.xp6(1),i.hij("",Xt.cart.office.address," "),i.xp6(5),i.Q6J("ngForOf",Xt.cart.analyses),i.xp6(1),i.Q6J("ngForOf",Xt.cart.unavailableAnalyses),i.xp6(8),i.hij("",i.lcZ(21,13,i.lcZ(22,15,Xt.cart.price))," \u20bd"),i.xp6(10),i.Oqu(Xt.policyClient.client.name),i.xp6(5),i.Oqu(i.lcZ(36,17,Xt.policyClient.client.birthDate)),i.xp6(6),i.Oqu(Xt.policyClient.policy.policyNumber),i.xp6(5),i.Q6J("href","tel:"+Xt.policyClient.client.confirmedPhone,i.LSH),i.xp6(1),i.Oqu(i.lcZ(48,19,Xt.policyClient.client.confirmedPhone)),i.xp6(2),i.Q6J("ngIf",Xt.validDates),i.xp6(2),i.Q6J("disabled",0===Xt.cart.analyses.length||Xt.cart.unavailableAnalyses.length>0)}}function rn(sn,fi){if(1&sn&&(i.TgZ(0,"div",20)(1,"app-badge",21),i._uU(2),i.qZA(),i.TgZ(3,"p",10),i._uU(4),i.ALo(5,"async"),i.ALo(6,"tuiFormatNumber"),i.qZA()(),i.TgZ(7,"div",22)(8,"p",23),i._uU(9),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()()),2&sn){const Xt=fi.$implicit,Ye=fi.status,se=fi.statusText;i.xp6(1),i.Q6J("status",Ye),i.xp6(1),i.Oqu(se),i.xp6(2),i.hij("",i.lcZ(5,5,i.lcZ(6,7,Xt.price))," \u20bd"),i.xp6(5),i.Oqu(Xt.article),i.xp6(2),i.Oqu(Xt.name)}}class re{constructor(){this.policyClient=null,this.cart=null,this.validDates=null,this.closed=new i.vpe,this.openedCart=new i.vpe,this.sentPreorder=new i.vpe}get metroStationsDisplayText(){return this.cart&&this.cart.office.metroStations?.length?this.cart.office.metroStations.join(", "):""}static{this.\u0275fac=function(Xt){return new(Xt||re)}}static{this.\u0275cmp=i.Xpm({type:re,selectors:[["app-lab-diagnostics-office"]],inputs:{policyClient:"policyClient",cart:"cart",validDates:"validDates"},outputs:{closed:"closed",openedCart:"openedCart",sentPreorder:"sentPreorder"},standalone:!0,features:[i.jDz],decls:3,vars:1,consts:[[4,"ngIf"],["analysisItemRef",""],["dmsDynamicHeightEl","",1,"lab-diagnostics-header"],[1,"lab-diagnostics-header__title"],[1,"lab-diagnostics-header__description"],[1,"lab-diagnostics-section"],["class","island",4,"ngFor","ngForOf"],[1,"island","analysis-summary"],[1,"analysis-summary-title"],[1,"analysis-summary-description"],[1,"analysis-price"],[1,"row"],[1,"label"],[1,"value"],[3,"href"],["class","row",4,"ngIf"],["tuiButton","","type","submit","size","m","appearance","primary",3,"disabled","click"],[1,"island"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"value","value_fsb"],[1,"analysis-header"],[3,"status"],[1,"analysis-name"],[1,"analysis-description"]],template:function(Xt,Ye){1&Xt&&(i.YNc(0,Hn,53,21,"ng-container",0),i.YNc(1,rn,12,9,"ng-template",null,1,i.W1O)),2&Xt&&i.Q6J("ngIf",Ye.policyClient&&Ye.cart&&Ye.cart.office)},dependencies:[ne.sR,Ge.hr,m.FN,C.D1,v.xG,T.UX,O.cn,a.O5,a.sg,h.cd,tt,a.tP,a.uU,Se.r,a.Ov],styles:["tui-tabs[_ngcontent-%COMP%]{--tui-height-l: 56px;padding-top:16px;overflow:hidden;box-shadow:none}tui-tabs[_ngcontent-%COMP%]   [tuiTab][_ngcontent-%COMP%]{--tui-tab-margin: 0;--tui-text-primary: var(--tui-background-accent-opposite-pressed);border-radius:var(--tui-radius-l);background-color:var(--tui-background-base-alt);color:var(--tui-background-accent-opposite-pressed);transition-property:background-color,background-image,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;padding:8px 24px;width:100%;justify-content:center;flex-shrink:1;font:var(--tui-font-heading-4);white-space:nowrap;cursor:pointer}tui-tabs[_ngcontent-%COMP%]   [tuiTab][_ngcontent-%COMP%]:focus{color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite);border:none}tui-tabs[_ngcontent-%COMP%]   [tuiTab][_ngcontent-%COMP%]:focus   .badge[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-base)}tui-tabs[_ngcontent-%COMP%]   [tuiTab]._active[_ngcontent-%COMP%]{--tui-text-primary: var(--tui-background-base);color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite)}.row[_ngcontent-%COMP%]{margin-bottom:4px;padding:12px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xxs);display:flex}.row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;width:160px;margin-right:12px;flex-shrink:0;color:var(--tui-background-accent-opposite-pressed);white-space:nowrap}.row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:inline-block;flex-grow:1;color:var(--tui-text-primary)}.row[_ngcontent-%COMP%]   .value_fsb[_ngcontent-%COMP%]{display:inline-flex;justify-content:space-between}[_nghost-%COMP%]{display:block;width:100%}.lab-diagnostics-header[_ngcontent-%COMP%]{padding:12px 8px 16px 12px;border-bottom:1px solid var(--arm-border-color)}.lab-diagnostics-header__top[_ngcontent-%COMP%]{padding:0 52px}.lab-diagnostics-header__title[_ngcontent-%COMP%]{margin:0}.lab-diagnostics-header__description[_ngcontent-%COMP%]{margin:0;color:var(--tui-text-secondary)}.lab-diagnostics-section[_ngcontent-%COMP%]{margin-bottom:8px;padding:0 8px}.lab-diagnostics-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.lab-diagnostics-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;padding:0 4px}.island[_ngcontent-%COMP%]{padding:12px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xxs);margin-bottom:4px}.island[_ngcontent-%COMP%]:last-child{margin-bottom:0}.analysis-header[_ngcontent-%COMP%]{margin-bottom:8px;display:flex;justify-content:space-between;align-items:baseline}.analysis-header[_ngcontent-%COMP%]:last-child{margin:0}.analysis-price[_ngcontent-%COMP%]{margin:0;align-self:flex-start;flex-shrink:0;font:var(--tui-font-heading-4)}.analysis-description[_ngcontent-%COMP%]{margin:0 0 4px;font:var(--tui-font-text-xs);color:var(--tui-text-06)}.analysis-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.analysis-summary-description[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-text-xs);color:var(--tui-background-accent-opposite-pressed)}tui-scrollbar[_ngcontent-%COMP%]{padding-top:8px;max-height:calc(100vh - var(--header-height) - 148px)}footer[_ngcontent-%COMP%]{padding:12px 8px;text-align:right}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--tui-padding: 22px}.working-time[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;flex-wrap:wrap;list-style:none}.working-time[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.working-time[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--tui-background-accent-opposite-pressed)}"],changeDetection:0})}}(0,Ft.gn)([le.UM],re.prototype,"metroStationsDisplayText",null);let wn=(()=>{class sn{get status(){return this.office.isAvailable?"success":"other"}get statusText(){return this.office.isAvailable?"\u0412\u0441\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0447\u0430\u0441\u0442\u044c \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439"}static{this.\u0275fac=function(Ye){return new(Ye||sn)}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-diagnostics-office-short"]],inputs:{office:"office"},standalone:!0,features:[i.jDz],decls:7,vars:4,consts:[[1,"office-header"],[3,"status"],[1,"office-description"]],template:function(Ye,se){1&Ye&&(i.TgZ(0,"div",0)(1,"h4"),i._uU(2),i.qZA(),i.TgZ(3,"app-badge",1),i._uU(4),i.qZA()(),i.TgZ(5,"p",2),i._uU(6),i.qZA()),2&Ye&&(i.xp6(2),i.Oqu(se.office.name),i.xp6(1),i.Q6J("status",se.status),i.xp6(1),i.Oqu(se.statusText),i.xp6(2),i.Oqu(se.office.address))},dependencies:[m.FN],styles:["[_nghost-%COMP%]{position:relative;padding:12px;display:block;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-s);cursor:pointer;transition-property:background-image,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.selected[_nghost-%COMP%]{background-color:var(--tui-background-accent-opposite)}.selected[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--tui-background-base)}.selected[_nghost-%COMP%]   p[_ngcontent-%COMP%]{color:#b8b8b8}.selected[_nghost-%COMP%]   app-badge[_ngcontent-%COMP%]{color:var(--tui-background-base)}[_nghost-%COMP%]   .office-header[_ngcontent-%COMP%]{margin-bottom:4px;display:flex;justify-content:space-between;align-items:flex-start}[_nghost-%COMP%]   .office-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .office-description[_ngcontent-%COMP%]{margin:0;color:var(--tui-text-secondary)}"],changeDetection:0})}}return sn})();function oe(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"app-lab-diagnostics-office-short",4),i.NdJ("click",function(){const Ve=i.CHM(Xt).$implicit,An=i.oxw(2);return i.KtG(An.chosenOffice.emit(Ve))}),i.qZA()}if(2&sn){const Xt=fi.$implicit,Ye=i.oxw(2);i.ekj("selected",(null==Ye.selectedOffice?null:Ye.selectedOffice.guid)===Xt.id),i.Q6J("office",Xt)}}function Ht(sn,fi){if(1&sn&&(i.ynx(0),i.TgZ(1,"header")(2,"h3"),i._uU(3),i.qZA()(),i.TgZ(4,"tui-scrollbar")(5,"div",2),i.YNc(6,oe,1,3,"app-lab-diagnostics-office-short",3),i.ALo(7,"async"),i.qZA()(),i.BQk()),2&sn){const Xt=fi.ngIf,Ye=i.oxw();i.xp6(3),i.hij("\u0412\u044b\u0431\u0440\u0430\u043d\u043e ",Xt.length,""),i.xp6(3),i.Q6J("ngForOf",i.lcZ(7,2,Ye.officeList$))}}function xn(sn,fi){1&sn&&i._UZ(0,"dms-loader",5)}function ce(sn,fi){1&sn&&i._UZ(0,"app-data-fetch-error")}let me=(()=>{class sn{set cluster(Xt){this.clusterStore.fetchOffice(Xt)}constructor(Xt){this.clusterStore=Xt,this.selectedOffice=null,this.chosenOffice=new i.vpe,this.officeList$=this.clusterStore.officeList$,this.isLoading$=this.clusterStore.isLoading$,this.error$=this.clusterStore.error$}static{this.\u0275fac=function(Ye){return new(Ye||sn)(i.Y36(L.HX))}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-diagnostics-office-cluster"]],inputs:{selectedOffice:"selectedOffice",cluster:"cluster"},outputs:{chosenOffice:"chosenOffice"},standalone:!0,features:[i._Bn([L.HX]),i.jDz],decls:6,vars:9,consts:[[4,"ngIf"],["size","s",4,"ngIf"],[1,"cluster-list"],[3,"selected","office","click",4,"ngFor","ngForOf"],[3,"office","click"],["size","s"]],template:function(Ye,se){1&Ye&&(i.YNc(0,Ht,8,4,"ng-container",0),i.ALo(1,"async"),i.YNc(2,xn,1,0,"dms-loader",1),i.ALo(3,"async"),i.YNc(4,ce,1,0,"app-data-fetch-error",0),i.ALo(5,"async")),2&Ye&&(i.Q6J("ngIf",i.lcZ(1,3,se.officeList$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,se.isLoading$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(5,7,se.error$)))},dependencies:[wn,h.gK,h.Ph,C.D1,a.sg,a.Ov,a.O5],styles:["[_nghost-%COMP%]{padding-bottom:var(--tui-padding-s);display:flex;width:100%;min-height:200px;flex-direction:column}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{padding:var(--tui-padding-m);width:100%}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;line-height:36px}tui-scrollbar[_ngcontent-%COMP%]{width:100%;max-height:calc(var(--cluster-max-height) - 48px);flex-grow:1}.cluster-list[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}app-lab-diagnostics-office-short[_ngcontent-%COMP%]{margin-bottom:var(--tui-padding-s)}app-lab-diagnostics-office-short[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}dms-loader[_ngcontent-%COMP%], app-data-fetch-error[_ngcontent-%COMP%]{margin:auto}"],changeDetection:0})}}return sn})();var En=o(7244),_n=o(6557),Qe=o(9473),xe=o(232),je=o(5526),ke=o(6266),we=o(6669),Ne=o(5086),Ke=o(1962),qe=o(1018);function kn(sn,fi){if(1&sn&&(i.TgZ(0,"button",9),i._uU(1),i.qZA()),2&sn){const Xt=fi.$implicit;i.Q6J("value",Xt),i.xp6(1),i.hij(" ",Xt.name," ")}}function ui(sn,fi){if(1&sn&&(i.TgZ(0,"cdk-virtual-scroll-viewport",6)(1,"tui-data-list",7),i.YNc(2,kn,2,2,"button",8),i.qZA()()),2&sn){const Xt=fi.ngIf;i.Udp("height",38*Xt.length,"px"),i.Q6J("itemSize",38),i.xp6(2),i.Q6J("cdkVirtualForOf",Xt)}}function eo(sn,fi){1&sn&&(i.TgZ(0,"div",10),i._UZ(1,"tui-loader"),i.qZA())}function Pn(sn,fi){if(1&sn&&(i.ynx(0),i.YNc(1,ui,3,4,"cdk-virtual-scroll-viewport",4),i.ALo(2,"async"),i.YNc(3,eo,2,0,"ng-template",null,5,i.W1O),i.BQk()),2&sn){const Xt=i.MAs(4),Ye=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,Ye.cities$))("ngIfElse",Xt)}}const tn=function(){return[]};let ln=(()=>{class sn{constructor(){this.destroyRef=(0,i.f3M)(i.ktI),this.store=(0,i.f3M)(L.Q5),this.cities$=this.store.cities$,this.city=this.store.city,this.stringify=Xt=>Xt.name,this.cityMatcher=(Xt,Ye)=>(0,ke.zy)(Xt.name,Ye)}changeSearch(Xt){this.store.searchQuery=Xt}extractValueFromEvent(Xt){return Xt.target?.value?.trim()||null}writeValue(Xt){this.city.setValue(Xt,{emitEvent:!1})}registerOnChange(Xt){this.city.valueChanges.pipe((0,g.sL)(this.destroyRef)).subscribe(Xt)}registerOnTouched(Xt){}static{this.\u0275fac=function(Ye){return new(Ye||sn)}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-choose-city"]],standalone:!0,features:[i._Bn([{provide:Ne.Z4,useValue:{required:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"}},L.Q5,{provide:T.JU,useExisting:(0,i.Gpc)(()=>sn),multi:!0}]),i.jDz],decls:7,vars:12,consts:[["tuiTextfieldSize","m",3,"strict","formControl","stringify","strictMatcher","tuiTextfieldCleaner","searchChange"],["placeholder","\u041d\u0430\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","tuiTextfieldLegacy","",3,"input"],[4,"tuiDataList"],[3,"formControl","error"],["class","scroll","tuiScrollable","",3,"height","itemSize",4,"ngIf","ngIfElse"],["loading",""],["tuiScrollable","",1,"scroll",3,"itemSize"],["emptyContent","\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0412 \u044d\u0442\u043e\u043c \u0433\u043e\u0440\u043e\u0434\u0435 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u0439"],["tuiOption","",3,"value",4,"cdkVirtualFor","cdkVirtualForOf"],["tuiOption","",3,"value"],[1,"tui-data-list"]],template:function(Ye,se){1&Ye&&(i.TgZ(0,"tui-combo-box",0),i.NdJ("searchChange",function(An){return se.changeSearch(An)}),i._uU(1," \u0413\u043e\u0440\u043e\u0434 "),i.TgZ(2,"input",1),i.NdJ("input",function(An){return se.changeSearch(se.extractValueFromEvent(An))}),i.qZA(),i.YNc(3,Pn,5,4,"ng-container",2),i.qZA(),i._UZ(4,"tui-error",3),i.ALo(5,"async"),i.ALo(6,"tuiFieldError")),2&Ye&&(i.Q6J("strict",!0)("formControl",se.city)("stringify",se.stringify)("strictMatcher",se.cityMatcher)("tuiTextfieldCleaner",!0),i.xp6(4),i.Q6J("formControl",se.city)("error",i.lcZ(5,7,i.lcZ(6,9,i.DdM(11,tn)))))},dependencies:[a.ez,a.O5,a.Ov,_n.jp,_n._p,_n.EH,_n.m2,Ke.MB,Qe.N7,O.cn,O.be,O.sz,Qe.xd,qe.qi,qe.gX,qe.bH,T.UX,T.JJ,T.oH,Qe.x0,Ke.KW,we.A6,xe.e,je.A,C.dx],styles:[".scroll[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;min-height:42px;max-height:230px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar, .scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}"],changeDetection:0})}}return sn})();function Zn(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"app-lab-diagnostics-office-short",8),i.NdJ("click",function(){i.CHM(Xt);const se=i.oxw().$implicit,Ve=i.oxw();return i.KtG((null==Ve.selectedOffice?null:Ve.selectedOffice.guid)!==se.id&&Ve.chosenOffice.emit(se))}),i.qZA()}if(2&sn){const Xt=i.oxw().$implicit,Ye=i.oxw();i.ekj("selected",(null==Ye.selectedOffice?null:Ye.selectedOffice.guid)===Xt.id),i.Q6J("office",Xt)}}function Jn(sn,fi){1&sn&&i.YNc(0,Zn,1,3,"app-lab-diagnostics-office-short",7),2&sn&&i.Q6J("ngIf","address"!==fi.$implicit.type)}const hi=function(){return[]};let ei=(()=>{class sn{constructor(Xt){this.store=Xt,this.selectedOffice=null,this.chosenOffice=new i.vpe,this.officeList$=this.store.officeList$,this.total$=this.store.total$,this.isLoading$=this.store.isLoading$,this.error$=this.store.error$,this.cityControl=this.store.cityControl,this.addressControl=this.store.addressControl}ngOnInit(){this.store.init()}fetchNextPage(){this.store.fetchPage()}static{this.\u0275fac=function(Ye){return new(Ye||sn)(i.Y36(L.Fj))}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-diagnostics-office-list"]],inputs:{selectedOffice:"selectedOffice"},outputs:{chosenOffice:"chosenOffice"},standalone:!0,features:[i._Bn([L.Fj]),i.jDz],decls:16,vars:22,consts:[[3,"points","total","isLoading","error","fetchedNextPage"],[1,"lab-diagnostics-search-form"],[3,"formControl"],["tuiTextfieldSize","m","tuiTextfieldIconLeft","@tui.search",3,"formControl","tuiTextfieldCleaner"],["tuiTextfieldLegacy",""],[3,"formControl","error"],["dmsCardItemFloatList",""],[3,"selected","office","click",4,"ngIf"],[3,"office","click"]],template:function(Ye,se){1&Ye&&(i.TgZ(0,"dms-float-card-list",0),i.NdJ("fetchedNextPage",function(){return se.fetchNextPage()}),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.TgZ(5,"div",1)(6,"h3"),i._uU(7,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044e"),i.qZA(),i._UZ(8,"app-choose-city",2),i.TgZ(9,"tui-input",3),i._uU(10," \u041f\u043e\u0438\u0441\u043a \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u0439 \u0440\u044f\u0434\u043e\u043c \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c (\u043c\u0435\u0442\u0440\u043e \u0438\u043b\u0438 \u0430\u0434\u0440\u0435\u0441) "),i._UZ(11,"input",4),i.qZA(),i._UZ(12,"tui-error",5),i.ALo(13,"async"),i.ALo(14,"tuiFieldError"),i.qZA(),i.YNc(15,Jn,1,1,"ng-template",6),i.qZA()),2&Ye&&(i.Q6J("points",i.lcZ(1,9,se.officeList$))("total",i.lcZ(2,11,se.total$))("isLoading",!!i.lcZ(3,13,se.isLoading$))("error",i.lcZ(4,15,se.error$)),i.xp6(8),i.Q6J("formControl",se.cityControl),i.xp6(1),i.Q6J("formControl",se.addressControl)("tuiTextfieldCleaner",!0),i.xp6(3),i.Q6J("formControl",se.addressControl)("error",i.lcZ(13,17,i.lcZ(14,19,i.DdM(21,hi)))))},dependencies:[En.Jy,Ke.MB,Qe.Cl,O.cn,O.be,O.sz,O.aR,T.UX,T.JJ,T.oH,_n.jp,xe.e,je.A,y.Qf,y.K3,y.wU,wn,ln,m.OZ,m.P3,a.Ov,a.O5],styles:["h3[_ngcontent-%COMP%]{margin:0;padding:var(--tui-padding-s) var(--tui-padding-s) 0}.lab-diagnostics-search-form[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s);gap:var(--tui-padding-s) 0;display:flex;flex-direction:column}.lab-diagnostics-search-form[_ngcontent-%COMP%]   tui-select[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0})}}return sn})();var wi=o(334);function oi(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"med-map",12),i.NdJ("changedLocation",function(se){i.CHM(Xt);const Ve=i.oxw(2);return i.KtG(Ve.store.changeLocation(se))})("selectedEntityOrCluster",function(se){i.CHM(Xt);const Ve=i.oxw(2);return i.KtG(Ve.selectOfficeOrCluster(se))}),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.ALo(5,"async"),i.ALo(6,"async"),i.qZA()}if(2&sn){const Xt=fi.ngIf,Ye=i.oxw(2);let se;i.Q6J("config",Xt)("location",i.lcZ(1,7,Ye.center$))("addressMarker",i.lcZ(2,9,Ye.address$))("markersIsLoading",!!i.lcZ(3,11,Ye.isLoading$))("selectedEntity",i.lcZ(4,13,Ye.selectedOffice$))("selectedClusterId",(null==(se=i.lcZ(5,15,Ye.selectedCluster$))?null:se.id)||null)("entities",i.lcZ(6,17,Ye.offices$))}}function Li(sn,fi){1&sn&&i._UZ(0,"app-lab-cart-product",21),2&sn&&i.Q6J("product",fi.$implicit)}function mi(sn,fi){if(1&sn&&(i.TgZ(0,"div",19),i.YNc(1,Li,1,1,"app-lab-cart-product",20),i.qZA()),2&sn){const Xt=i.oxw(2).ngIf;i.xp6(1),i.Q6J("ngForOf",Xt)}}function Zi(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"div",13)(1,"div",14),i.NdJ("tuiDropdownOpenChange",function(se){i.CHM(Xt);const Ve=i.oxw(2);return i.KtG(Ve.openShortCart=se)}),i.TgZ(2,"app-lab-diagnostics-cart-summary",15,16),i.NdJ("click",function(){const Ve=i.CHM(Xt).tuiLet,An=i.oxw(2);return i.KtG(Ve||An.showCart())}),i.TgZ(4,"button",17),i.NdJ("click",function(se){i.CHM(Xt);const Ve=i.oxw(2);return se.stopPropagation(),i.KtG(Ve.showCart())}),i._uU(5,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),i.qZA()(),i.YNc(6,mi,2,1,"ng-template",null,18,i.W1O),i.qZA()()}if(2&sn){const Xt=fi.tuiLet,Ye=i.MAs(7),se=i.oxw().ngIf,Ve=i.oxw();i.ekj("expanded",Ve.openShortCart&&Xt),i.xp6(1),i.Q6J("tuiDropdownEnabled",Xt)("tuiDropdownOpen",Ve.openShortCart)("tuiDropdown",Ye)("tuiDropdownOffset",1)("tuiDropdownMaxHeight",350),i.xp6(1),i.Q6J("isExpand",Xt&&Ve.openShortCart)("count",se.length),i.xp6(2),i.Q6J("size","xs")}}function Qi(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"dms-island",22),i.NdJ("closed",function(){i.CHM(Xt);const se=i.oxw(2);return i.KtG(se.deselectCluster())}),i.TgZ(1,"app-lab-diagnostics-office-cluster",23),i.NdJ("chosenOffice",function(se){i.CHM(Xt);const Ve=i.oxw(2);return i.KtG(Ve.selectOfficeOrCluster(se))}),i.ALo(2,"async"),i.qZA()()}if(2&sn){const Xt=fi.ngIf,Ye=i.oxw(2);i.xp6(1),i.Q6J("cluster",Xt)("selectedOffice",i.lcZ(2,2,Ye.selectedOffice$))}}function Yi(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"dms-island",24),i.NdJ("closed",function(){i.CHM(Xt);const se=i.oxw(2);return i.KtG(se.deselectOffice())}),i.TgZ(1,"app-lab-diagnostics-office",25),i.NdJ("openedCart",function(){i.CHM(Xt);const se=i.oxw(2);return i.KtG(se.showCart())})("sentPreorder",function(){i.CHM(Xt);const se=i.oxw(2);return i.KtG(se.sendPreorder())}),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.qZA()()}if(2&sn){const Xt=i.oxw(2);i.xp6(1),i.Q6J("policyClient",i.lcZ(2,3,Xt.policyClient$))("cart",i.lcZ(3,5,Xt.cart$))("validDates",i.lcZ(4,7,Xt.validDates$))}}function uo(sn,fi){if(1&sn){const Xt=i.EpF();i.TgZ(0,"section",2),i.YNc(1,oi,7,19,"med-map",3),i.ALo(2,"async"),i.TgZ(3,"header",4),i.NdJ("closed",function(){i.CHM(Xt);const se=i.oxw();return i.KtG(se.context.completeWith(!1))}),i.TgZ(4,"label",5),i._UZ(5,"input",6),i.TgZ(6,"span"),i._uU(7,"\u0412\u0441\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043e\u0434\u043d\u043e\u0439 \u043b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u0438 / \u043e\u0444\u0438\u0441\u0435"),i.qZA()()(),i.TgZ(8,"dms-island",7),i.ALo(9,"async"),i.TgZ(10,"app-lab-diagnostics-office-list",8),i.NdJ("chosenOffice",function(se){i.CHM(Xt);const Ve=i.oxw();return i.KtG(Ve.selectOfficeOrCluster(se))}),i.ALo(11,"async"),i.qZA()(),i.YNc(12,Zi,8,10,"div",9),i.YNc(13,Qi,3,4,"dms-island",10),i.ALo(14,"async"),i.YNc(15,Yi,5,9,"dms-island",11),i.ALo(16,"async"),i.qZA()}if(2&sn){const Xt=fi.ngIf,Ye=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,9,Ye.store.initialConfigMap$)),i.xp6(4),i.Q6J("formControl",Ye.isExcludeNotAvailableControl),i.xp6(3),i.ekj("disabled",i.lcZ(9,11,Ye.selectedCluster$)),i.Q6J("closeable",!1),i.xp6(2),i.Q6J("selectedOffice",i.lcZ(11,13,Ye.selectedOffice$)),i.xp6(2),i.Q6J("tuiLet",Xt.length>0),i.xp6(1),i.Q6J("ngIf",i.lcZ(14,15,Ye.selectedCluster$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(16,17,Ye.selectedOffice$))}}const Ui=function(){return[]},Gi=[{path:"",component:t.k,children:[{path:"order",outlet:"cart",component:De},(0,e.Z)((()=>{class sn{constructor(Xt,Ye){this.store=Xt,this.context=Ye,this.openShortCart=!1,this.validDates$=this.store.validDates$,this.policyClient$=this.store.policyClient$,this.offices$=this.store.offices$,this.address$=this.store.address$,this.isLoading$=this.store.isLoading$,this.error$=this.store.error$,this.cartIsLoading$=this.store.cartIsLoading$,this.cart$=this.store.cart$,this.selectedOffice$=this.store.selectedOffice$,this.selectedCluster$=this.store.selectedCluster$,this.selectedAnalyses$=this.store.selectedProducts$,this.center$=this.store.center$,this.isExcludeNotAvailableControl=this.store.isExcludeNotAvailableControl}ngOnInit(){this.store.init()}showCart(){this.openShortCart=!1,this.store.showCart()}selectOfficeOrCluster(Xt){(0,Ut.N)(Xt)?this.store.selectCluster(Xt):(0,Ot.y9)(Xt)&&this.store.selectOffice(Xt)}deselectOffice(){this.store.deselectOffice()}deselectCluster(){this.store.deselectCluster()}sendPreorder(){this.store.sendPreorder()}static{this.\u0275fac=function(Ye){return new(Ye||sn)(i.Y36(L.g_),i.Y36(M.yf))}}static{this.\u0275cmp=i.Xpm({type:sn,selectors:[["app-lab-diagnostics-map"]],standalone:!0,features:[i._Bn([L.g_]),i.jDz],decls:4,vars:8,consts:[[3,"showLoader","overlay"],["class","lab-map",4,"ngIf"],[1,"lab-map"],[3,"config","location","addressMarker","markersIsLoading","selectedEntity","selectedClusterId","entities","changedLocation","selectedEntityOrCluster",4,"ngIf"],["dmsMapHeader","",3,"closed"],[1,"filter-toggle"],["tuiCheckbox","","type","checkbox","size","m",3,"formControl"],[1,"map-marker-list",3,"closeable"],[3,"selectedOffice","chosenOffice"],["class","lab-cart",3,"expanded",4,"tuiLet"],["class","map-cluster",3,"closed",4,"ngIf"],["class","map-marker-card",3,"closed",4,"ngIf"],[3,"config","location","addressMarker","markersIsLoading","selectedEntity","selectedClusterId","entities","changedLocation","selectedEntityOrCluster"],[1,"lab-cart"],["tuiDropdownHover","","tuiDropdownAppearance","no-top-radius",3,"tuiDropdownEnabled","tuiDropdownOpen","tuiDropdown","tuiDropdownOffset","tuiDropdownMaxHeight","tuiDropdownOpenChange"],[3,"isExpand","count","click"],["tuiDropdownHost",""],["tuiButton","",3,"size","click"],["dropdownContent",""],[1,"lab-cart-content"],[3,"product",4,"ngFor","ngForOf"],[3,"product"],[1,"map-cluster",3,"closed"],[3,"cluster","selectedOffice","chosenOffice"],[1,"map-marker-card",3,"closed"],[3,"policyClient","cart","validDates","openedCart","sentPreorder"]],template:function(Ye,se){1&Ye&&(i.TgZ(0,"dms-loader",0),i.ALo(1,"async"),i.YNc(2,uo,17,19,"section",1),i.ALo(3,"async"),i.qZA()),2&Ye&&(i.Q6J("showLoader",!!i.lcZ(1,3,se.cartIsLoading$))("overlay",!0),i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,se.selectedAnalyses$)||i.DdM(7,Ui)))},dependencies:[h.gK,a.Ov,Ut.Lv,a.O5,m.KE,Q.u3,T.UX,T.Wl,T.JJ,T.oH,m.ag,wi.Ek,wi.td,wi.Bb,wi.o,f.i,v.xG,ei,ut,ht,me,re,a.sg],styles:["[_nghost-%COMP%]{--marker-color: var(--tui-background-accent-1);--marker-inactivity-color: #a5a5a5;--cart-height: 49px;--width: max(425px, min(30vw, 480px));display:block;overflow:hidden;width:100%;height:100vh}[_nghost-%COMP%]   header[dmsMapHeader][_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   med-map[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .lab-map[_ngcontent-%COMP%]{--position-top: calc(var(--map-header-height) + var(--tui-padding-s));--list-position-top: calc(var(--position-top) + var(--cart-height) + var(--tui-padding-s));--cluster-position-top: calc(var(--list-position-top) + 45px);height:100%}[_nghost-%COMP%]   .lab-cart[_ngcontent-%COMP%]{position:absolute;top:var(--position-top);left:var(--tui-padding-s);width:var(--width);height:var(--cart-height);background-color:var(--tui-background-base);border-radius:var(--tui-radius-m);box-shadow:0 0 25px #00000040}[_nghost-%COMP%]   .lab-cart[_ngcontent-%COMP%]   tui-hosted-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .lab-cart[_ngcontent-%COMP%]   app-lab-diagnostics-cart-summary[_ngcontent-%COMP%]{padding:var(--tui-padding-s)}[_nghost-%COMP%]   .lab-cart.expanded[_ngcontent-%COMP%]{border-bottom:1px solid var(--arm-hover);border-bottom-right-radius:0;border-bottom-left-radius:0}.lab-cart-content[_ngcontent-%COMP%]{padding-bottom:var(--tui-padding-m);width:calc(max(425px,min(30vw,480px)) - 3px);font:var(--tui-font-text-xs)}.map-marker-list[_ngcontent-%COMP%]{--float-card-list-max-height: calc(100vh - var(--list-position-top) - var(--tui-padding-s));position:absolute;top:var(--list-position-top);left:var(--tui-padding-s);width:var(--width)}.map-marker-card[_ngcontent-%COMP%]{position:absolute;top:var(--position-top);right:var(--tui-padding-s);width:var(--width)}.map-cluster[_ngcontent-%COMP%]{--cluster-max-height: calc(100vh - var(--cluster-position-top) - (var(--tui-padding-s) * 2));position:absolute;z-index:10;top:var(--cluster-position-top);left:var(--tui-padding-s);width:var(--width);max-height:var(--cluster-max-height)}"],changeDetection:0})}}return sn})(),{path:"order",outlet:"map",size:"page",dismissible:!1,closeable:!1})]}]},692:(Qt,$,o)=>{"use strict";o.d($,{YL:()=>D,DA:()=>v,xc:()=>C,aI:()=>E});var e=o(3040),t=o(9862),a=o(5879),i=o(4664),g=o(6306),T=o(8504),_=o(2096);const m=O=>Array.isArray(O)&&!!O.length,h=O=>O instanceof Object&&("validationErrors"in O&&m(O.validationErrors)||"errors"in O&&m(O.errors)||"error"in O&&"string"==typeof O.error&&""!==O.error.trim());let f=(()=>{class O{catchError(U){if(U instanceof D)return(0,T._)(()=>U);const R=U.error&&h(U.error)?U.error:void 0;return(0,T._)(()=>new D({status:U.status,statusText:U.statusText,...R,url:U.url||void 0}))}catchEagleApiError(U,R){if(h(U))throw new D({status:400,statusText:"Bad request",error:U.error,validationErrors:U.validationErrors,url:R});return(0,_.of)(U)}static{this.\u0275fac=function(R){return new(R||O)}}static{this.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})(),v=(()=>{class O{constructor(){this.api=(0,a.f3M)(e.L).get("apiUrl"),this.httpClient=(0,a.f3M)(t.eN),this.handleErrorService=(0,a.f3M)(f)}get(U,R){return this.httpClient.get(`${this.api}${U}`,R).pipe((0,i.w)(A=>this.handleErrorService.catchEagleApiError(A,U)),(0,g.K)(A=>this.handleErrorService.catchError(A)))}post(U,R,A){return this.httpClient.post(`${this.api}${U}`,R,A).pipe((0,i.w)(S=>this.handleErrorService.catchEagleApiError(S,U)),(0,g.K)(S=>this.handleErrorService.catchError(S)))}put(U,R,A){return this.httpClient.put(`${this.api}${U}`,R,A).pipe((0,i.w)(S=>this.handleErrorService.catchEagleApiError(S,U)),(0,g.K)(S=>this.handleErrorService.catchError(S)))}patch(U,R,A){return this.httpClient.patch(`${this.api}${U}`,R,A).pipe((0,i.w)(S=>this.handleErrorService.catchEagleApiError(S,U)),(0,g.K)(S=>this.handleErrorService.catchError(S)))}delete(U,R){return this.httpClient.delete(`${this.api}${U}`,R).pipe((0,i.w)(A=>this.handleErrorService.catchEagleApiError(A,U)),(0,g.K)(A=>this.handleErrorService.catchError(A)))}head(U,R){return this.httpClient.head(`${this.api}${U}`,R).pipe((0,i.w)(A=>this.handleErrorService.catchEagleApiError(A,U)),(0,g.K)(A=>this.handleErrorService.catchError(A)))}options(U,R){return this.httpClient.options(`${this.api}${U}`,R).pipe((0,i.w)(A=>this.handleErrorService.catchEagleApiError(A,U)),(0,g.K)(A=>this.handleErrorService.catchError(A)))}jsonp(U,R){return this.httpClient.jsonp(`${this.api}/${U}`,R).pipe((0,i.w)(A=>this.handleErrorService.catchEagleApiError(A,U)),(0,g.K)(A=>this.handleErrorService.catchError(A)))}request(U,R,A){return this.httpClient.request(U,`${this.api}${R}`,A).pipe((0,i.w)(S=>this.handleErrorService.catchEagleApiError(S,R)),(0,g.K)(S=>this.handleErrorService.catchError(S)))}static{this.\u0275fac=function(R){return new(R||O)}}static{this.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})(),C=(()=>{class O{constructor(){this.api=(0,a.f3M)(e.L).get("apiUrl"),this.httpClient=(0,a.f3M)(t.eN),this.handleErrorService=(0,a.f3M)(f)}post(U,R){return this.httpClient.post(this.api+U,R,{reportProgress:!0,observe:"events"}).pipe((0,i.w)(A=>(A.type===t.dt.Response&&this.handleErrorService.catchEagleApiError(A.body,U),(0,_.of)(A))),(0,g.K)(A=>this.handleErrorService.catchError(A)))}static{this.\u0275fac=function(R){return new(R||O)}}static{this.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})();class D extends t.UA{constructor(M){super(M),this.validationErrors=M.validationErrors}}var y=o(4004);const E=(O,M)=>{const U=O.headers,R=(0,y.Z)();return M(O.clone({headers:U.set("X-TRACE-ID",R).set("X-SPAN-ID",R)}))}},6695:(Qt,$,o)=>{"use strict";o.d($,{x:()=>t});var e=o(5879);let t=(()=>{class a{static{this.\u0275fac=function(T){return new(T||a)}}static{this.\u0275dir=e.lG2({type:a,selectors:[["","appCollapsibleWidthContent",""]],standalone:!0})}}return a})()},3338:(Qt,$,o)=>{"use strict";o.d($,{S:()=>O});var e=o(6814),t=o(5879),a=o(2527),i=o(375),g=o(5586),T=o(1534);const _=["show-collapsed-aside",""],m=["*"];let h=(()=>{class M{static{this.\u0275fac=function(A){return new(A||M)}}static{this.\u0275cmp=t.Xpm({type:M,selectors:[["button","show-collapsed-aside",""]],standalone:!0,features:[t.jDz],attrs:_,ngContentSelectors:m,decls:3,vars:0,consts:[[1,"icon"],["icon","@tui.chevron-right"]],template:function(A,S){1&A&&(t.F$t(),t.Hsn(0),t.TgZ(1,"span",0),t._UZ(2,"tui-icon",1),t.qZA())},dependencies:[T.R],styles:["[_nghost-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;display:flex;flex-shrink:0;width:60px;font-size:0;height:100%;background-color:var(--tui-background-base)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-color:var(--tui-background-base-alt)}[_nghost-%COMP%]:hover   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   .icon[_ngcontent-%COMP%]{background-color:var(--arm-hover)}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:inline-flex;align-items:center;justify-content:center;margin:12px auto auto;width:36px;height:36px;background-color:var(--tui-background-base-alt);border-radius:var(--arm-circle-radius)}"],changeDetection:0})}}return M})();var f=o(6695);const v=["collapsibleWidth",""];function C(M,U){if(1&M&&(t.ynx(0),t._uU(1),t.BQk()),2&M){const R=U.polymorpheusOutlet;t.xp6(1),t.hij(" ",R," ")}}function D(M,U){if(1&M){const R=t.EpF();t.TgZ(0,"div",2),t.NdJ("@tuiWidthCollapse.done",function(){t.CHM(R);const S=t.oxw();return t.KtG(S.doneAnimationToggleSearch())}),t.TgZ(1,"div",3),t.YNc(2,C,2,1,"ng-container",4),t.TgZ(3,"button",5),t.NdJ("click",function(){t.CHM(R);const S=t.oxw();return t.KtG(S.searchIsOpened.set(!1))}),t._uU(4," \u0421\u043a\u0440\u044b\u0442\u044c "),t.qZA()(),t.Hsn(5),t.GkF(6,6),t.qZA()}if(2&M){const R=t.oxw();t.Q6J("@tuiWidthCollapse",void 0),t.xp6(2),t.Q6J("polymorpheusOutlet",R.header),t.xp6(4),t.Q6J("ngTemplateOutlet",R.content)}}function y(M,U){if(1&M){const R=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(R);const S=t.oxw();return S.searchIsOpened.set(!0),t.KtG(S.searchIsCollapsed.set(!1))}),t._uU(1,"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),t.qZA()}}const E=["*"];let O=(()=>{class M{constructor(){this.searchIsCollapsed=(0,t.tdS)(!1),this.searchIsOpened=(0,t.tdS)(!0),this.content=null}doneAnimationToggleSearch(){this.searchIsOpened()||this.searchIsCollapsed.set(!this.searchIsOpened())}static{this.\u0275fac=function(A){return new(A||M)}}static{this.\u0275cmp=t.Xpm({type:M,selectors:[["aside","collapsibleWidth",""]],contentQueries:function(A,S,w){if(1&A&&t.Suo(w,f.x,5,t.Rgc),2&A){let p;t.iGM(p=t.CRH())&&(S.content=p.first)}},inputs:{header:"header"},standalone:!0,features:[t.jDz],attrs:v,ngContentSelectors:E,decls:2,vars:2,consts:[["class","content",4,"ngIf"],["show-collapsed-aside","",3,"click",4,"ngIf"],[1,"content"],[1,"header"],[4,"polymorpheusOutlet"],["tuiIconButton","","iconStart","@tui.chevron-left","appearance","secondary-grayscale","type","button","size","m",1,"toggle-search",3,"click"],[3,"ngTemplateOutlet"],["show-collapsed-aside","",3,"click"]],template:function(A,S){1&A&&(t.F$t(),t.YNc(0,D,7,3,"div",0),t.YNc(1,y,2,0,"button",1)),2&A&&(t.Q6J("ngIf",S.searchIsOpened()),t.xp6(1),t.Q6J("ngIf",S.searchIsCollapsed()))},dependencies:[h,a.xG,e.O5,g.s$,e.tP],styles:["[_nghost-%COMP%]{display:flex;overflow:hidden;min-width:60px;max-width:516px;flex-direction:column;border-radius:var(--tui-radius-m)}@media (min-width: 1600px){[_nghost-%COMP%]{max-width:600px}}@media (min-width: 1918px){[_nghost-%COMP%]{max-width:calc(35vw + 16px)}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:var(--tui-padding-m) var(--tui-padding-m) var(--tui-padding-m) var(--tui-padding-l);display:flex;justify-content:space-between;align-items:center;font:var(--tui-font-heading-3);background-color:var(--tui-background-base)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-direction:column;flex-grow:1}"],data:{animation:[i.y4]},changeDetection:0})}}return M})()},9711:(Qt,$,o)=>{"use strict";o.d($,{M:()=>i});var e=o(6814),t=o(5879);function a(g,T){if(1&g&&(t.TgZ(0,"p",2),t._uU(1),t.qZA()),2&g){const _=t.oxw();t.xp6(1),t.Oqu(_.description)}}let i=(()=>{class g{constructor(){this.title="\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",this.description=null}static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275cmp=t.Xpm({type:g,selectors:[["app-empty-data"]],inputs:{title:"title",description:"description"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"empty-data-title"],["class","empty-data-text",4,"ngIf"],[1,"empty-data-text"]],template:function(m,h){1&m&&(t.TgZ(0,"h3",0),t._uU(1),t.qZA(),t.YNc(2,a,2,1,"p",1)),2&m&&(t.xp6(1),t.Oqu(h.title),t.xp6(1),t.Q6J("ngIf",h.description))},dependencies:[e.O5],styles:["[_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-content:center;text-align:center}[_nghost-%COMP%]   .empty-data-title[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   .empty-data-text[_ngcontent-%COMP%]{margin:0;padding:0;color:var(--tui-background-accent-opposite-pressed)}"],changeDetection:0})}}return g})()},5227:(Qt,$,o)=>{"use strict";o.d($,{q:()=>U});var e=o(7582),t=o(9473),a=o(6814),i=o(5879),g=o(1993),T=o(6266),_=o(8767),m=o(8451),h=o(1564),f=o(5619),v=o(3620),C=o(9397),D=o(1018);function y(R,A){if(1&R&&(i.TgZ(0,"em"),i._uU(1),i.qZA()),2&R){const S=i.oxw().$implicit;i.xp6(1),i.Oqu(S.code)}}function E(R,A){if(1&R&&(i.TgZ(0,"button",5),i.YNc(1,y,2,1,"em",6),i.TgZ(2,"strong"),i._uU(3),i.qZA()()),2&R){const S=A.$implicit,w=i.oxw(3);i.Q6J("disabled",w.disabledHandler(S))("value",w.getValue(S)),i.xp6(1),i.Q6J("ngIf",w.showCode&&S.code),i.xp6(2),i.Oqu(S.value)}}function O(R,A){if(1&R&&(i.TgZ(0,"cdk-virtual-scroll-viewport",3),i.YNc(1,E,4,4,"button",4),i.qZA()),2&R){const S=A.ngIf,w=i.oxw().tuiLet,p=i.oxw();let L;i.Udp("height",null!==(L=w)&&void 0!==L?L:32*S.length,"px"),i.Q6J("itemSize",32),i.xp6(1),i.Q6J("cdkVirtualForOf",S)("cdkVirtualForTrackBy",p.trackByFn)}}function M(R,A){if(1&R&&(i.TgZ(0,"tui-data-list",1),i.YNc(1,O,2,5,"cdk-virtual-scroll-viewport",2),i.qZA()),2&R){const S=i.oxw();i.xp6(1),i.Q6J("ngIf",S.filter(S.options,S.searchQuery))}}class U{constructor(){this.codeToDisplayName={},this.searchQuery=null,this.currentValues=[],this.disableCurrent=!1,this.showCode=!0,this.isNothingFound=new i.vpe,this.destroy$=(0,i.f3M)(i.ktI),this.preparedSearchItems=new f.X([]),this.dynamicViewportHeight=new f.X(null),this.options=null,this.trackByFn=(A,S)=>S.uid||S.code}set dict(A){A&&Object.values(A).length&&(this.options=Object.values(A),this.codeToDisplayName=A)}ngOnInit(){this.trackOnPreparedSearchItemsAndCalculateHeight()}getValue(A){return this.fieldName?A[this.fieldName]:A}filter(A,S){this.dynamicViewportHeight.next(null);const w=S?S.split(" "):[];if(A){const p=A.filter(L=>{const V=`${L.code} ${L.value}`.toLowerCase();return w.every(et=>(0,T.LQ)(V,et))});return this.isNothingFound.emit(!p.length),this.preparedSearchItems.next(p),p}return this.isNothingFound.emit(!0),this.preparedSearchItems.next(null),null}trackOnPreparedSearchItemsAndCalculateHeight(){this.preparedSearchItems.pipe((0,v.b)(100),(0,C.b)(A=>{!A||A.length>2?this.dynamicViewportHeight.next(null):(1===A.length||2===A.length)&&this.updateHeight()}),(0,g.sL)(this.destroy$)).subscribe()}updateHeight(){const A=this.cdkVirtualScrollViewport.elementRef.nativeElement.querySelector(".cdk-virtual-scroll-content-wrapper");if(A){const S=A.offsetHeight;S&&this.dynamicViewportHeight.next(Math.max(S,32))}}disabledHandler(A){return!!(this.disableCurrent&&this.currentValues&&A.uid)&&this.currentValues.includes(A.uid)}static{this.\u0275fac=function(S){return new(S||U)}}static{this.\u0275cmp=i.Xpm({type:U,selectors:[["app-simple-dict-data-list"]],viewQuery:function(S,w){if(1&S&&i.Gf(t.N7,5),2&S){let p;i.iGM(p=i.CRH())&&(w.cdkVirtualScrollViewport=p.first)}},inputs:{searchQuery:"searchQuery",currentValues:"currentValues",disableCurrent:"disableCurrent",fieldName:"fieldName",showCode:"showCode",dict:"dict"},outputs:{isNothingFound:"isNothingFound"},standalone:!0,features:[i.jDz],decls:2,vars:3,consts:[["emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",4,"tuiLet"],["emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"],["class","scroll","tuiScrollable","",3,"height","itemSize",4,"ngIf"],["tuiScrollable","",1,"scroll",3,"itemSize"],["type","button","class","option","tuiOption","",3,"disabled","value",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["type","button","tuiOption","",1,"option",3,"disabled","value"],[4,"ngIf"]],template:function(S,w){1&S&&(i.YNc(0,M,2,1,"tui-data-list",0),i.ALo(1,"async")),2&S&&i.Q6J("tuiLet",i.lcZ(1,1,w.dynamicViewportHeight))},dependencies:[D.qi,D.bH,a.O5,t.N7,t.xd,t.x0,_.i,h.dx,a.Ov],styles:["app-simple-dict-data-list{--tui-font-text-m: var(--tui-font-text-xs)}app-simple-dict-data-list tui-data-list{padding:0}app-simple-dict-data-list .scroll{scrollbar-width:none;-ms-overflow-style:none;max-height:400px}app-simple-dict-data-list .scroll::-webkit-scrollbar,app-simple-dict-data-list .scroll::-webkit-scrollbar-thumb{display:none}app-simple-dict-data-list .option{margin:0!important;padding:4px 12px 5px!important;width:100%;min-height:32px!important;justify-content:flex-start!important;gap:var(--tui-padding-s);border-bottom:1px solid var(--dms-border-color);border-radius:0}app-simple-dict-data-list .option:last-of-type{border-bottom:none}app-simple-dict-data-list .option strong{font-weight:400}app-simple-dict-data-list .option em{font-style:normal;color:var(--tui-text-04)}\n"],encapsulation:2,changeDetection:0})}}(0,e.gn)([m.UM],U.prototype,"filter",null)},8737:(Qt,$,o)=>{"use strict";o.d($,{I:()=>T});var e=o(6814),t=o(5879);function a(_,m){1&_&&(t.TgZ(0,"div",3),t._UZ(1,"p",4)(2,"p",4),t.qZA()),2&_&&t.Udp("width",m.$implicit)}function i(_,m){1&_&&(t.TgZ(0,"div",7),t._UZ(1,"p",4)(2,"p",4),t.qZA()),2&_&&t.Udp("width",m.$implicit)}function g(_,m){if(1&_&&(t.TgZ(0,"div",5),t.YNc(1,i,3,2,"div",6),t.qZA()),2&_){const h=m.$implicit,f=t.oxw();t.Udp("height",h)("max-height",h),t.xp6(1),t.Q6J("ngForOf",f.cols)}}let T=(()=>{class _{constructor(){this.cols=["30%","30%","30%","30%"],this.rows=["70px","70px","70px","70px"]}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275cmp=t.Xpm({type:_,selectors:[["app-table-skeleton"]],inputs:{cols:"cols",rows:"rows"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"skeleton-thead"],["class","skeleton-th",3,"width",4,"ngFor","ngForOf"],["class","skeleton-row",3,"height","max-height",4,"ngFor","ngForOf"],[1,"skeleton-th"],[1,"skeleton-text"],[1,"skeleton-row"],["class","skeleton-td",3,"width",4,"ngFor","ngForOf"],[1,"skeleton-td"]],template:function(f,v){1&f&&(t.TgZ(0,"div",0),t.YNc(1,a,3,2,"div",1),t.qZA(),t.YNc(2,g,2,5,"div",2)),2&f&&(t.xp6(1),t.Q6J("ngForOf",v.cols),t.xp6(1),t.Q6J("ngForOf",v.rows))},dependencies:[e.ez,e.sg],styles:["@keyframes _ngcontent-%COMP%_armSkeletonVibe{0%{background-color:var(--tui-background-base-alt)}to{background-color:var(--arm-hover)}}[_nghost-%COMP%]{display:flex;flex-direction:column;gap:8px 0;width:100%;overflow:hidden;text-align:left}[_nghost-%COMP%]   .skeleton-thead[_ngcontent-%COMP%]{flex-shrink:0;display:flex;height:40px;gap:0 8px}[_nghost-%COMP%]   .skeleton-th[_ngcontent-%COMP%]{padding:12px;display:flex;gap:0 12px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs);animation:_ngcontent-%COMP%_armSkeletonVibe ease-in-out 1s infinite alternate}[_nghost-%COMP%]   .skeleton-th[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{height:16px}[_nghost-%COMP%]   .skeleton-th[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]:last-child{flex-shrink:0;width:16px}[_nghost-%COMP%]   .skeleton-row[_ngcontent-%COMP%]{display:flex;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs);animation:_ngcontent-%COMP%_armSkeletonVibe ease-in-out 1s infinite alternate}[_nghost-%COMP%]   .skeleton-td[_ngcontent-%COMP%]{max-height:100%;padding:16px;overflow:hidden}[_nghost-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{--arm-hover: #D9D9D9;--tui-background-base-alt: #E9E9E9;margin:0 0 8px;height:35%;width:100%;animation:_ngcontent-%COMP%_armSkeletonVibe ease-in-out 1s infinite alternate;border-radius:8px}[_nghost-%COMP%]   .skeleton-text[_ngcontent-%COMP%]:last-child{margin-bottom:0;width:65%}"],changeDetection:0})}}return _})()},2837:(Qt,$,o)=>{"use strict";o.d($,{xK:()=>i,bL:()=>T,GE:()=>h,TB:()=>a,C6:()=>C,gE:()=>v,U7:()=>e,OP:()=>_,zC:()=>m,KE:()=>t,CR:()=>g,qR:()=>f});const e={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info",OTHER:"other"},t={VSK:{code:"VSK",value:"\u0412\u0421\u041a"}},a={dateFrom:"now-12h",dateTo:"now"},i=[{rangeInHours:12,displayValue:"12 \u0447\u0430\u0441\u043e\u0432",isDefault:!0},{rangeInHours:24,displayValue:"24 \u0447\u0430\u0441\u0430"}],g={DRAFT:"001",IN_PROGRESS:"200",DONE:"800",REMOVED:"400"},T={OPEN_EXISTING_REQUEST:"openExistingRequest",CREATE_NEW:"createNewRequest",CREATE_NEGATIVE_REQUEST:"createNegativeRequest",CREATE_NEW_BY_PARENT_RESULT:"createNewRequestByParentResult",UPDATE_URL_STATE:"updateUrlState",CONFIRMED_LEAVE_DP_REQUEST_PAGE:"leaveDpRequestPage"},_={UPDATE_IN_STATE_READY:"update_in_state_ready",UPDATE_PHONE_NUMBER:"update_phone_number",SAVE_NEW_REQUEST:"save_new_request",CREATE_REQUEST:"create_request",READ_REQUEST_CLIENT:"read_request_client",READ_MY_REQUEST_EMPLOYEE:"read_my_request_employee",READ_UPLOAD_MEDCARD:"read_upload_medcard",READ_ALL_REQUEST_SUPERVISOR:"read_all_request_supervisor",READ_ALL_REQUEST_EMPLOYEE:"read_all_request_employee",CREATE_SEND_GP:"create_send_GP",CREATE_COMMENTS:"create_comments",MANAGMENT_GUIDE:"managment_guide",MANAGMENT_SKILLGROUP:"managment_skillgroup",MANAGMENT_PRIORITY_CONTRACTS:"managment_priority_contracts",CREATE_REPORTS:"create_reports",READ_DASHBOARDS:"read_dashboards",READ_AND_UPLOAD_REPORT:"read_and_upload_report",JOB_ANALYST_MODULE:"job_analyst_module",JOB_MAIL_MODULE:"job_mail_module",JOB_CHAT_MODULE:"job_chat_module",JOB_PHONE_MODULE:"job_phone_module",DESIGNER_PATTERNS:"designer_patterns"},m=Object.values(_),h={CLOSE_OPEN_TASK_REQUEST:"openTaskRequest",CLOSE_REOPEN_TASK_REQUEST:"reopenTaskRequest"},f="taskUid",v="77",C="+03:00"},76:(Qt,$,o)=>{"use strict";o.d($,{l:()=>C});var e=o(7582),t=o(5879),a=o(1993),i=o(1260),g=o(4098),T=o(8451),_=o(2181),m=o(9397),h=o(7588),f=o(6223);const v=/^\d{0,4}$/;class C{constructor(y,E){this.inputYear=y,this.ngControl=E,this.cachingData="",this.destroyRef=(0,t.f3M)(t.ktI);const O=this.getMaskOptions;y.min=g.TU.currentLocal().year-100,y.max=g.TU.currentLocal().year,Object.defineProperty(y,"getMaskOptions",{get:()=>(M,U)=>O(M,U)})}ngOnInit(){this.ngControl.valueChanges?.pipe((0,_.h)(y=>!y),(0,m.b)(()=>this.cachingData=""),(0,a.sL)(this.destroyRef)).subscribe()}getMaskOptions(y,E){const O=y.toString().slice(0,2),M=E.toString().slice(0,2),U=y.toString().slice(0,3),R=E.toString().slice(0,3);return{...(0,i.f8)({max:E,thousandSeparator:""}),mask:v,overwriteMode:"shift",preprocessors:[({data:A,elementState:S},w)=>{const p=Number(A);isNaN(p)||(this.cachingData+=A.toString()),"deleteBackward"===w&&(this.cachingData=this.cachingData.slice(0,-1));let{value:L,selection:V}=S;if("insert"===w){if(4===A.length&&this.isValidData(p,y,E))return this.cachingData="",{data:A,elementState:{value:A,selection:[0,4]}};if(1===A.length&&this.cachingData.length>4)return this.cachingData=this.cachingData.slice(0,-A.length),{data:L,elementState:{value:L,selection:[0,4]}};if(A.length>1&&(this.cachingData.length>4||!this.isValidData(p,y,E)))return this.cachingData=this.cachingData.slice(0,-A.length),{data:"",elementState:{value:L,selection:[0,4]}};if(1===A.length&&3===this.cachingData.length){const et=Number(this.cachingData)>=Number(U),tt=Number(this.cachingData)<=Number(R);if(!et||!tt)return this.cachingData=this.cachingData.slice(0,-1),{data:"",elementState:S,actionType:w};let ht=`${L.slice(2)}${A}0`;return ht=Number(ht),ht=ht>E?E.toString():ht<y?y.toString():ht.toString(),{data:ht,elementState:{value:A,selection:[0,4]},actionType:w}}if(1===A.length&&4===this.cachingData.length){L=4===L.length?L.toString().slice(0,-1):L;const et=Number(L+A.toString());return et<y||et>E?(this.cachingData=this.cachingData.slice(0,-1),{data:"",elementState:S,actionType:w}):{data:et.toString(),elementState:{value:et.toString(),selection:[0,4]},actionType:w}}if((!Number(L)||"0,4"===V.join(","))&&(L=`${M}00`,V=[3,3]),Number(L)>1999&&V[0]-V[1]==0){const et=+`2${L.slice(2)}${A}`;et>E?(L=Number(et.toString()[1])>=1?`${L.slice(1)}0`:`${O}${L.slice(3)}0`,V=[3,3]):(L=`2${L.slice(2)}0`,V=[3,3])}}return{data:A,elementState:{value:L,selection:V},actionType:w}}]}}isValidData(y,E,O){return y>=E&&y<=O}static{this.\u0275fac=function(E){return new(E||C)(t.Y36(h.gI),t.Y36(f.a5))}}static{this.\u0275dir=t.lG2({type:C,selectors:[["tui-input-year","year-of-birth",""]],standalone:!0})}}(0,e.gn)([T.UM],C.prototype,"getMaskOptions",null)},7019:(Qt,$,o)=>{"use strict";o.d($,{JJ:()=>Le.JJ,jd:()=>qt,bx:()=>Wo,Se:()=>ie,KE:()=>de,Sk:()=>ue.S,FN:()=>ne,Uo:()=>v,cl:()=>Le.cl,WL:()=>T,cY:()=>en,P3:()=>ae,xK:()=>Ft.xK,eG:()=>Le.eG,Hs:()=>g,bL:()=>Ft.bL,GE:()=>Ft.GE,Up:()=>Le.Up,ro:()=>Le.ro,Ut:()=>Le.Ut,Ly:()=>Le.Ly,hk:()=>m,TB:()=>Ft.TB,SE:()=>zo,C6:()=>Ft.C6,gE:()=>Ft.gE,MZ:()=>Di,Mb:()=>jt,ST:()=>vt,zv:()=>po,EH:()=>bo,NC:()=>mt,a:()=>wi,U7:()=>Ft.U7,av:()=>Eo,R5:()=>z,OP:()=>Ft.OP,zC:()=>Ft.zC,K9:()=>Go,Jo:()=>Le.Jo,aQ:()=>Le.aQ,ME:()=>Se.M,OZ:()=>Qe,sY:()=>Le.sY,V0:()=>Ft.KE,J6:()=>Le.J6,_$:()=>Sn,ag:()=>De,rL:()=>Ot,VA:()=>k,iq:()=>Ne,GQ:()=>Le.GQ,h:()=>Dt,KC:()=>Tr,LW:()=>ke,pG:()=>je,Ow:()=>Le.Ow,UM:()=>Le.UM,mK:()=>nr,lw:()=>a,$K:()=>i,xj:()=>Zo.xj,wV:()=>Le.wV,$w:()=>Le.$w,Mc:()=>$o,dV:()=>Zo.dV,Tt:()=>Le.Tt,YY:()=>f,mM:()=>Le.mM,sz:()=>Co,EQ:()=>tn,qp:()=>kn.q,qu:()=>Qi,dE:()=>t,Iu:()=>Mt,$o:()=>Nn,Mr:()=>Ct,UC:()=>e,CR:()=>Ft.CR,r2:()=>wt,SQ:()=>Be,LQ:()=>nn,qR:()=>Ft.qR,e6:()=>Le.e6,I1:()=>Ge.I,R1:()=>Le.R1,KD:()=>Zo.KD,GV:()=>Xi,pS:()=>Bo,v0:()=>nt,uj:()=>O,QE:()=>h,ph:()=>y,MI:()=>tt,QJ:()=>I,dy:()=>F,Wd:()=>C,rN:()=>D,nQ:()=>Z,P7:()=>ot,Ue:()=>Do,Fk:()=>fo,Cg:()=>_r,DQ:()=>Qo});const e={ASCENDING:"asc",DESCENDING:"desc"};class t{}const a={ACTIVATED:1,NOT_ACTIVATED:0,NOT_AVAILABLE:-1},i={[a.NOT_ACTIVATED]:"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430",[a.ACTIVATED]:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430",[a.NOT_AVAILABLE]:"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"},g=/^\+\d{11}$/,T=/^[A-Z\d]*$/,m={value:"",params:{duration:100}},h=864e5,f="77";class v{static base64ToBlob(Re){const _t=this.base64ToArrayBuffer(Re);return new Blob([_t])}static base64ToArrayBuffer(Re){const _t=window.atob(Re),ee=_t.length,he=new Uint8Array(ee);for(let ri=0;ri<ee;ri++)he[ri]=_t.charCodeAt(ri);return he.buffer}}const C=q=>`\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u2014 ${q.requiredLength}`,D=q=>`\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u2014 ${q.requiredLength}`,y=q=>["apartment","entrance","floor","intercom"].map(_t=>q[_t]&&"string"==typeof q[_t]?q[_t]:"").filter(_t=>_t).join(",");var E=o(6223);const O=(q,{controlName:Re,controlParams:_t})=>{const[ee,he]=_t;q.contains(Re)?q.get(Re).setValue(ee):q.setControl(Re,new E.NI(ee,he))},M=/^(\d\d):(\d\d) - (\d\d):(\d\d)$/,U=q=>36e5*parseInt(q,10),R=q=>6e4*parseInt(q,10);var w=o(7354),p=o(2181),L=o(3997),V=o(4664),et=o(7398);function tt(q){return(0,w.UD)(this.form).pipe((0,p.h)(()=>q in this.form.getRawValue()),(0,et.U)(()=>this.form.controls[q]),(0,L.x)(),(0,V.w)(Re=>(0,w.UD)(Re)),(0,et.U)(()=>this.form.controls[q].getRawValue()))}const ht=(q,Re)=>{if(!q?.trim())return"";if(q.length<2){const _t=parseInt(q,10);return _t>Re?`0${_t}`:q}return q},It=q=>{if(!q?.trim())return"";const[Re,_t]=q.split(":"),ee=(q=>q?.trim()?parseInt(q,10)>=23?"23":ht(q,2):"")(Re);return[ee,ht(_t,5)].filter(Boolean).join(":")},St=({value:q,selection:Re})=>{if(!q)return{value:q,selection:Re};const _t=(q=>{const[Re,_t]=q.split(" - ");return[It(Re),It(_t)].filter(Boolean).join(" - ")})(q),ee=q.length!==_t.length?(q=>[q[0]+1,q[1]+1])(Re):Re;return{value:_t,selection:ee}},bt=q=>{const{value:Re,selection:_t}=q,[ee,he]=Re.split(" - ");if(!he)return q;const[ri,bi]=ee.split(":"),[vo,Rr]=he.split(":"),ss=parseInt(ri,10),qr=parseInt(vo,10);return ss<qr?q:2===vo.length&&ss>qr?{value:`${ri}:${bi} - ${vo[0]}`,selection:_t}:Rr?parseInt(bi,10)<parseInt(Rr,10)||1===Rr.length?q:{value:`${ri}:${bi} - ${vo}:`,selection:_t}:q};var u=o(5879),ut=o(9194);const Z=()=>{const q=(0,u.f3M)(u.ktI),Re=(0,u.f3M)(ut.$2);Re.unleash.start(),q.onDestroy(()=>{Re.unleash.stop()})},I=(q,Re)=>{for(const _t of q){if(_t.uid===Re)return _t;if(_t.children.length>0){const ee=I(_t.children,Re);if(ee)return ee}}return null},F=q=>{let Re=0,_t=0;return q.sort((ee,he)=>+ee.taskGroupNumber-+he.taskGroupNumber).map(ee=>{if(0!=+ee.taskGroupNumber){if(+ee.taskGroupNumber===_t)return{...ee,taskGroupNumber:`${Re}`};if(+ee.taskGroupNumber>++Re)return _t=+ee.taskGroupNumber,{...ee,taskGroupNumber:`${Re}`}}return ee})},ot=(q,Re)=>Object.fromEntries(Object.entries(q).map(([_t,ee])=>{if(_t.startsWith(Re)){const he=_t.slice(Re.length);return[he.charAt(0).toLowerCase()+he.slice(1),ee]}return[_t,ee]})),nt=(q,Re)=>!(!q||!Re)&&(q.includes("vsk\\")&&!Re.includes("vsk\\")?q=q.split("\\")[1]:!q.includes("vsk\\")&&Re.includes("vsk\\")&&(Re=Re.split("\\")[1]),q===Re),At=["*"];let Dt=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-no-data-layout"]],standalone:!0,features:[u.jDz],ngContentSelectors:At,decls:3,vars:0,consts:[[1,"no-data"],[1,"no-data-content"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA()())},styles:["[_nghost-%COMP%]{flex-grow:1;width:100%;display:flex}[_nghost-%COMP%]   .no-data[_ngcontent-%COMP%]{flex-grow:1;display:flex;background-color:var(--tui-background-base);background-image:url(assets/images/background.svg);background-size:cover;border-radius:var(--tui-radius-m);text-align:center;font:var(--tui-font-heading-3);color:var(--tui-background-accent-opposite-pressed)}[_nghost-%COMP%]   .no-data-content[_ngcontent-%COMP%]{margin:auto;max-width:578px}"],changeDetection:0})}}return q})();var Wt=o(6814),Nt=o(2527),Rt=o(2777);function Bt(q,Re){1&q&&u.GkF(0)}const B=["*"];let k=(()=>{class q{constructor(){this.cdr=(0,u.f3M)(u.sBO)}get textContent(){return this._textContent}set textContent(_t){this._textContent=_t,this.cdr.detectChanges()}set initLinesLimit(_t){this.linesLimit=_t,this._initLinesLimit=_t}get collapsed(){return this.linesLimit===this._initLinesLimit}toggle(){this.linesLimit=this.collapsed?40:this._initLinesLimit}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-line-clamp-expanding"]],inputs:{titleContent:"titleContent",textContent:"textContent",initLinesLimit:"initLinesLimit"},standalone:!0,features:[u.jDz],ngContentSelectors:B,decls:7,vars:7,consts:[[1,"app-line-clamp"],[4,"ngTemplateOutlet"],[1,"app-line-clamp__control"],["appearance","action-grayscale","tuiIconButton","","type","button","size","xs","iconStart","@tui.chevron-down",3,"click"],[3,"linesLimit","content","lineHeight"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"div",0),u.YNc(1,Bt,1,0,"ng-container",1),u.TgZ(2,"p",2),u.Hsn(3),u.TgZ(4,"button",3),u.NdJ("click",function(){return he.toggle()}),u._uU(5),u.qZA()()(),u._UZ(6,"tui-line-clamp",4)),2&ee&&(u.xp6(1),u.Q6J("ngTemplateOutlet",he.titleContent),u.xp6(3),u.ekj("expanded",!he.collapsed),u.xp6(1),u.hij(" ",he.collapsed?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u0420\u0430\u0437\u0432\u0435\u043d\u0443\u0442\u044c"," "),u.xp6(1),u.Q6J("linesLimit",he.linesLimit)("content",he.textContent)("lineHeight",18))},dependencies:[Nt.xG,Rt.wK,Wt.tP],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s)}[_nghost-%COMP%]   tui-line-clamp[_ngcontent-%COMP%]{--tui-duration: .1s;max-width:calc(100% - 44px);pointer-events:none}.app-line-clamp[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.app-line-clamp__control[_ngcontent-%COMP%]{--tui-background-base-alt: transparent;--tui-text-secondary: transparent;margin:0}"],changeDetection:0})}}return q})();var yt=o(1534);function Y(q,Re){1&q&&u._UZ(0,"tui-icon",2)}const xt=["*"];let z=(()=>{class q{constructor(){this.size="s",this.isChecked=!1}registerOnChange(_t){this.onChangeFn=_t}registerOnTouched(_t){this.onTouchedFn=_t}writeValue(_t){"boolean"==typeof _t&&(this.isChecked=_t)}toggle(){this.isChecked=!this.isChecked,this.onChangeFn(this.isChecked)}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-toggle"]],inputs:{size:"size"},standalone:!0,features:[u._Bn([{provide:E.JU,useExisting:(0,u.Gpc)(()=>q),multi:!0}]),u.jDz],ngContentSelectors:xt,decls:3,vars:3,consts:[["tuiButton","",3,"appearance","size","click"],["icon","@tui.x",4,"ngIf"],["icon","@tui.x"]],template:function(ee,he){if(1&ee&&(u.F$t(),u.TgZ(0,"button",0),u.NdJ("click",function(){return he.toggle()}),u.Hsn(1),u.YNc(2,Y,1,0,"tui-icon",1),u.qZA()),2&ee){let ri;u.Q6J("appearance",he.isChecked?"opposite":"primary")("size",null!==(ri=he.size)&&void 0!==ri?ri:"s"),u.xp6(2),u.Q6J("ngIf",he.isChecked)}},dependencies:[yt.R,Wt.O5,Nt.xG],styles:[".inner-input-checkbox[_ngcontent-%COMP%]{padding:0 6px;display:inline-flex;align-items:center;font:var(--tui-font-text-xs);text-align:center;color:var(--tui-background-base);background-color:var(--tui-background-accent-1);background-image:none;border-radius:var(--tui-radius-l);cursor:pointer}.inner-input-checkbox_checked[_ngcontent-%COMP%]{background-color:transparent;background-color:var(--tui-background-accent-opposite)}.inner-input-checkbox[_ngcontent-%COMP%]   tui-svg[_ngcontent-%COMP%]{margin-right:-2px;width:16px;height:16px;font-size:11px}[tuiAppearance][data-appearance=opposite][_ngcontent-%COMP%]{background:var(--arm-selected)!important}[tuiButton][data-size=xs][_ngcontent-%COMP%]{--t-size: 18px;padding:0 6px}"],changeDetection:0})}}return q})();var at=o(1711);function Pt(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",1),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.closed.emit())}),u.qZA()}}const Gt=["*"];let De=(()=>{class q{constructor(){this.closeable=!0,this.closed=new u.vpe}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-island"]],inputs:{closeable:"closeable"},outputs:{closed:"closed"},standalone:!0,features:[u.jDz],ngContentSelectors:Gt,decls:2,vars:1,consts:[["class","button-icon-close","tuiIconButton","","tuiButtonClose","","type","button","size","m","appearance","secondary-grayscale",3,"click",4,"ngIf"],["tuiIconButton","","tuiButtonClose","","type","button","size","m","appearance","secondary-grayscale",1,"button-icon-close",3,"click"]],template:function(ee,he){1&ee&&(u.F$t(),u.Hsn(0),u.YNc(1,Pt,1,0,"button",0)),2&ee&&(u.xp6(1),u.Q6J("ngIf",he.closeable))},dependencies:[Nt.xG,Wt.O5,at.u],styles:['[_nghost-%COMP%]{position:relative;padding:0;display:flex;overflow:hidden;width:100%;flex-direction:column;justify-content:center;align-items:stretch;white-space:break-spaces;background-color:var(--tui-background-base);border-radius:24px;box-shadow:0 0 25px #00000040}[_nghost-%COMP%]   .button-icon-close[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px}.disabled[_nghost-%COMP%]:after{position:absolute;z-index:10;inset:0;content:"";background-color:#00000040}'],changeDetection:0})}}return q})();const Ut=["appIsland",""],Q=["*"];let Ot=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["label","appIsland",""]],standalone:!0,features:[u.jDz],attrs:Ut,ngContentSelectors:Q,decls:1,vars:0,template:function(ee,he){1&ee&&(u.F$t(),u.Hsn(0))},styles:["[_nghost-%COMP%]{padding:0 12px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xxs);display:flex;min-width:270px;min-height:48px;justify-content:space-between;align-items:center;cursor:pointer}.disabled[_nghost-%COMP%]{color:#3939398f;background-color:#f5f5f58f;cursor:default}"],changeDetection:0})}}return q})();var Ft=o(2837);const le=["*"];let ne=(()=>{class q{constructor(){this.status=Ft.U7.SUCCESS,this.theme="light",this.size="s"}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-badge"]],hostVars:3,hostBindings:function(ee,he){2&ee&&u.uIk("data-status",he.status)("data-theme",he.theme)("data-size",he.size)},inputs:{status:"status",theme:"theme",size:"size"},standalone:!0,features:[u.jDz],ngContentSelectors:le,decls:1,vars:0,template:function(ee,he){1&ee&&(u.F$t(),u.Hsn(0))},styles:["[_nghost-%COMP%]{--badge-text-color: var(--tui-background-accent-1);--badge-color: var(--tui-background-accent-1);padding:0 4px;font:var(--tui-font-text-xs);color:var(--badge-text-color);border:1px solid var(--badge-color);border-radius:var(--tui-radius-l);display:inline-block;line-height:1.2;white-space:nowrap;letter-spacing:0}[data-size=xs][_nghost-%COMP%]{font:var(--dms-font-text-xxs)}[data-status=info][_nghost-%COMP%]{--badge-color: #c6c6c6}[data-status=other][_nghost-%COMP%]{--badge-text-color: var(--tui-background-accent-opposite-hover);--badge-color: #c6c6c6}[data-status=error][_nghost-%COMP%]{--badge-text-color: var(--tui-text-negative);--badge-color: var(--tui-text-negative)}[data-status=warning][_nghost-%COMP%]{--badge-text-color: var(--tui-text-negative);--badge-color: #c6c6c6}[data-theme=dark][_nghost-%COMP%]{--badge-text-color: var(--tui-background-base)}[data-theme=colored][_nghost-%COMP%]{--tui-chart-categorical-11: #a0ffe3;--badge-color: none;border-radius:3px}[data-theme=colored][data-status=success][_nghost-%COMP%]{--badge-text-color: #2b8b6e;background:var(--tui-chart-categorical-11)}[data-theme=colored][data-status=other][_nghost-%COMP%]{--badge-text-color: var(--tui-background-accent-opposite-hover);background:#c6c6c6}[data-theme=colored][data-status=warning][_nghost-%COMP%]{--badge-text-color: var(--tui-text-negative);background:var(--tui-chart-categorical-03)}"],changeDetection:0})}}return q})();var Ge=o(8737),Se=o(9711);const Pe=["dmsMapHeader",""];function Ue(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",2),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.closed.emit())}),u.qZA()}}const Ee=["*"];let de=(()=>{class q{constructor(){this.backgroundUrl="assets/images/map.background.png",this.closeable=!0,this.closed=new u.vpe}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["header","dmsMapHeader",""]],inputs:{backgroundUrl:"backgroundUrl",closeable:"closeable"},outputs:{closed:"closed"},standalone:!0,features:[u._Bn([{provide:w.kD,useValue:"map-header-height"}]),u.jDz,u.zW0([{directive:w.cd,inputs:["cssPropertyName","cssPropertyName"]}])],attrs:Pe,ngContentSelectors:Ee,decls:3,vars:3,consts:[[1,"header-background"],["class","button-icon-close","tuiIconButton","","tuiButtonClose","","appearance","action-grayscale","type","button","size","m",3,"click",4,"ngIf"],["tuiIconButton","","tuiButtonClose","","appearance","action-grayscale","type","button","size","m",1,"button-icon-close",3,"click"]],template:function(ee,he){1&ee&&(u.F$t(),u._UZ(0,"span",0),u.Hsn(1),u.YNc(2,Ue,1,0,"button",1)),2&ee&&(u.Udp("background-image",he.backgroundUrl),u.xp6(2),u.Q6J("ngIf",he.closeable))},dependencies:[Nt.xG,Wt.O5,at.u],styles:["[_nghost-%COMP%]{position:fixed;z-index:0;inset:0 0 calc(100% - 64px) 0;padding:8px;width:100%;min-height:64px;border-radius:0 0 36px 36px}@media (min-width: 1600px){[_nghost-%COMP%]{padding:16px}}[_nghost-%COMP%]   .header-background[_ngcontent-%COMP%]{position:absolute;z-index:-1;inset:0;opacity:.9;background-image:url(assets/images/map.background.png);background-repeat:no-repeat;background-size:cover;border-radius:0 0 36px 36px}[_nghost-%COMP%]   .button-icon-close[_ngcontent-%COMP%]{--tui-background-neutral-1: #e2e2e2;position:absolute;top:16px;right:16px}"],changeDetection:0})}}return q})(),ae=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275dir=u.lG2({type:q,selectors:[["","dmsCardItemFloatList",""]],standalone:!0})}}return q})();var $e=o(1564),Bn=o(5586),Ae=o(247);const Hn=["*"];let rn=(()=>{class q{constructor(){this.isFloat=!1}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-list-island-notification"]],hostVars:2,hostBindings:function(ee,he){2&ee&&u.ekj("float",he.isFloat)},inputs:{isFloat:"isFloat"},standalone:!0,features:[u.jDz],ngContentSelectors:Hn,decls:1,vars:0,template:function(ee,he){1&ee&&(u.F$t(),u.Hsn(0))},styles:['[_nghost-%COMP%]{display:block;position:relative;background-color:var(--tui-background-base)}[_nghost-%COMP%]:before{content:"";position:absolute;inset:8px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-s)}.float[_nghost-%COMP%]{height:60px;position:absolute;left:0;bottom:0;right:0;box-shadow:0 0 25px #00000040}'],changeDetection:0})}}return q})();function re(q,Re){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const _t=Re.polymorpheusOutlet;u.xp6(1),u.hij(" ",_t," ")}}const wn=function(q){return{$implicit:q}};function oe(q,Re){if(1&q&&(u.ynx(0),u.YNc(1,re,2,1,"ng-container",6),u.BQk()),2&q){const _t=Re.$implicit,ee=u.oxw(2);u.xp6(1),u.Q6J("polymorpheusOutlet",ee.cardTemplate)("polymorpheusOutletContext",u.VKq(2,wn,_t))}}function Ht(q,Re){1&q&&(u.TgZ(0,"div",7),u._uU(1," \u041f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e,"),u._UZ(2,"br"),u._uU(3," \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430 "),u.qZA())}function xn(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"tui-scrollbar")(1,"section",3),u.NdJ("scrolled",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.points.length===he.total||he.fetchedNextPage.emit())}),u.YNc(2,oe,2,4,"ng-container",4),u.qZA(),u.YNc(3,Ht,4,0,"div",5),u.qZA()}if(2&q){const _t=u.oxw();u.xp6(1),u.Q6J("immediateCheck",!0)("infiniteScrollThrottle",70)("infiniteScrollDistance",1)("fromRoot",!0)("scrollWindow",!1),u.xp6(1),u.Q6J("ngForOf",_t.points),u.xp6(1),u.Q6J("ngIf",!_t.isLoading&&0===_t.points.length)}}function ce(q,Re){1&q&&u._UZ(0,"dms-loader",11)}function me(q,Re){if(1&q&&u._UZ(0,"app-data-fetch-error",12),2&q){const _t=u.oxw(2);u.Q6J("exception",_t.error)}}function En(q,Re){if(1&q&&(u.TgZ(0,"dms-list-island-notification",8),u.YNc(1,ce,1,0,"dms-loader",9),u.YNc(2,me,1,1,"app-data-fetch-error",10),u.qZA()),2&q){const _t=u.oxw();u.Q6J("isFloat",!(null==_t.points||!_t.points.length)),u.xp6(1),u.Q6J("ngIf",_t.isLoading),u.xp6(1),u.Q6J("ngIf",_t.error)}}const _n=["*"];let Qe=(()=>{class q{constructor(){this.cardTemplate=null,this.isLoading=!1,this.error=null,this.points=null,this.total=null,this.fetchedNextPage=new u.vpe}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-float-card-list"]],contentQueries:function(ee,he,ri){if(1&ee&&u.Suo(ri,ae,5,u.Rgc),2&ee){let bi;u.iGM(bi=u.CRH())&&(he.cardTemplate=bi.first)}},inputs:{isLoading:"isLoading",error:"error",points:"points",total:"total"},outputs:{fetchedNextPage:"fetchedNextPage"},standalone:!0,features:[u.jDz],ngContentSelectors:_n,decls:4,vars:2,consts:[["dmsDynamicHeightEl",""],[4,"ngIf"],[3,"isFloat",4,"ngIf"],["tuiScrollable","","infiniteScroll","",1,"float-card-list","tui-zero-scrollbar",3,"immediateCheck","infiniteScrollThrottle","infiniteScrollDistance","fromRoot","scrollWindow","scrolled"],[4,"ngFor","ngForOf"],["class","float-card-list__empty",4,"ngIf"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"float-card-list__empty"],[3,"isFloat"],["size","s",4,"ngIf"],[3,"exception",4,"ngIf"],["size","s"],[3,"exception"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"header",0),u.Hsn(1),u.qZA(),u.YNc(2,xn,4,7,"tui-scrollbar",1),u.YNc(3,En,3,3,"dms-list-island-notification",2)),2&ee&&(u.xp6(2),u.Q6J("ngIf",he.points),u.xp6(1),u.Q6J("ngIf",he.isLoading||he.error))},dependencies:[Wt.sg,Wt.O5,w.Ph,rn,Ae.Rq,Ae.Ry,$e.D1,w.cd,Bn.s$,w.gK,$e.dx],styles:["header[_ngcontent-%COMP%]{box-shadow:0 0 25px #00000040;position:relative;z-index:10}tui-scrollbar[_ngcontent-%COMP%]:has(.float-card-list){padding-bottom:var(--tui-padding-s)}.float-card-list[_ngcontent-%COMP%]{padding:var(--tui-padding-s) var(--tui-padding-s) 0;max-height:calc(var(--float-card-list-max-height) - var(--header-height) - var(--tui-padding-s));overflow:auto;display:flex;flex-direction:column;gap:var(--tui-padding-s) 0}.float-card-list__empty[_ngcontent-%COMP%]{padding:var(--tui-padding-m);text-align:center;color:var(--tui-text-04)}"],changeDetection:0})}}return q})();var xe=o(4017);let je=(()=>{class q extends xe.Bb{static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275prov=u.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),ke=(()=>{class q extends xe.oL{static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-over-content-portal"]],standalone:!0,features:[u._Bn([{provide:xe.Bb,useExisting:je}]),u.qOj,u.jDz],decls:2,vars:0,consts:[["viewContainer",""]],template:function(ee,he){1&ee&&u.GkF(0,null,0)},styles:["[_nghost-%COMP%]{position:fixed;display:flex;flex-direction:column;align-items:center;top:0;height:0;width:100%}"],changeDetection:0})}}return q})();var we=o(4190);let Ne=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-link-back"]],standalone:!0,features:[u.jDz],decls:1,vars:0,consts:[["tuiIconButton","","iconStart","@tui.chevron-left","appearance","secondary-grayscale","routerLink","../","size","s"]],template:function(ee,he){1&ee&&u._UZ(0,"a",0)},dependencies:[Nt.xG,we.rH],styles:["a[_ngcontent-%COMP%]:before{font-size:1.5rem!important}"],changeDetection:0})}}return q})();var Ke=o(5414),qe=o(6557),kn=o(5227),ui=o(1018);function eo(q,Re){if(1&q&&u._UZ(0,"app-simple-dict-data-list",2),2&q){const _t=u.oxw();u.Q6J("searchQuery",_t.searchQuery)("showCode",!1)("dict",_t.codeToDisplayName)}}const Pn=["*"];let tn=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.options=[],this.codeToDisplayName={},this.focused=!1,this.searchQuery=null,this.mapCode=(0,u.tdS)(_t=>_t)}set dict(_t){_t&&Object.keys(_t).length&&(this.options=Object.values(_t),this.codeToDisplayName=_t,this.mapCode.set(ee=>this.codeToDisplayName[ee]?.value||ee))}getFallbackValue(){return""}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-simple-dict-combobox"]],inputs:{dict:"dict"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:Pn,decls:3,vars:4,consts:[[3,"disabled","ngModel","search","stringify","searchChange","ngModelChange"],["fieldName","code",3,"searchQuery","showCode","dict",4,"tuiDataList"],["fieldName","code",3,"searchQuery","showCode","dict"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"tui-combo-box",0),u.NdJ("searchChange",function(bi){return he.searchQuery=bi})("ngModelChange",function(bi){return he.value=bi}),u.Hsn(1),u.YNc(2,eo,1,3,"app-simple-dict-data-list",1),u.qZA()),2&ee&&u.Q6J("disabled",he.disabled)("ngModel",he.value)("search",he.searchQuery)("stringify",he.mapCode())},dependencies:[qe.jp,qe._p,qe.m2,ui.gX,E.u5,E.JJ,E.On,kn.q],changeDetection:0})}}return q})();var ln=o(6939),Zn=o(1459);function Jn(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"label",3)(1,"input",4),u.NdJ("ngModelChange",function(he){u.CHM(_t);const ri=u.oxw(2);return u.KtG(ri.value=he)}),u.qZA(),u._uU(2),u.qZA()}if(2&q){const _t=Re.$implicit,ee=u.oxw(2);u.ekj("active",ee.value===_t.code),u.xp6(1),u.Q6J("ngModel",ee.value)("value",_t.code)("disabled",ee.disabled||ee.disabledCodes.includes(_t.code)),u.xp6(1),u.hij(" ",_t.value," ")}}function hi(q,Re){if(1&q&&(u.TgZ(0,"div",1),u.YNc(1,Jn,3,6,"label",2),u.Hsn(2),u.qZA()),2&q){const _t=u.oxw();u.xp6(1),u.Q6J("ngForOf",_t.options)}}const ei=["*"];let wi=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.options=null,this.disabledCodes=[],this.focused=!1}getFallbackValue(){return null}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-radio-group"]],inputs:{options:"options",disabledCodes:"disabledCodes"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:ei,decls:1,vars:1,consts:[["class","radio-group",4,"ngIf"],[1,"radio-group"],["tuiBlock","s","appearance","",3,"active",4,"ngFor","ngForOf"],["tuiBlock","s","appearance",""],["tuiRadio","","tuiBlock","","type","radio","appearance","neutral",3,"ngModel","value","disabled","ngModelChange"]],template:function(ee,he){1&ee&&(u.F$t(),u.YNc(0,hi,3,1,"div",0)),2&ee&&u.Q6J("ngIf",he.options)},dependencies:[E.u5,E.Fj,E._,E.JJ,E.On,ln.BC,Zn._M,Wt.sg,Wt.O5],styles:["label[_ngcontent-%COMP%]{--tui-background-base: #dddddd}label[tuiBlock][_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;font:var(--tui-font-text-ui-m);color:var(--tui-background-accent-opposite-pressed);background-color:var(--tui-background-base)}label[tuiBlock][_ngcontent-%COMP%]:hover{background-color:#e3e3e3}label[tuiBlock][data-size=s][_ngcontent-%COMP%]{padding:.5rem 1rem;--t-height: var(--tui-height-xs)}label.active[_ngcontent-%COMP%]{--tui-background-accent-opposite-pressed: #ffffff;background:var(--tui-background-accent-opposite)}label.active[_ngcontent-%COMP%]:hover{background:var(--tui-background-accent-opposite)}label[_ngcontent-%COMP%]   input[tuiAppearance][data-appearance=primary][_ngcontent-%COMP%]{background:none}label[_ngcontent-%COMP%]   input[data-appearance=outline-grayscale][_ngcontent-%COMP%]:hover{--tui-background-neutral-1: transparent}.radio-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px 4px}"],changeDetection:0})}}return q})();var oi=o(8651),Li=o(8293);function mi(q,Re){if(1&q&&(u._UZ(0,"app-simple-dict-data-list",2),u.ALo(1,"async")),2&q){const _t=u.oxw();u.Q6J("dict",u.lcZ(1,3,_t.dict.simpleDict$))("searchQuery",_t.searchQuery)("showCode",!1)}}const Zi=["*"];let Qi=(()=>{class q extends Ke.m6{constructor(){super(...arguments),this.searchQuery=null,this.focused=!1}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-simple-dict-multiselect"]],inputs:{dict:"dict",fieldName:"fieldName"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:Zi,decls:3,vars:5,consts:[[3,"ngModel","tuiTextfieldCleaner","search","stringify","rows","ngModelChange","searchChange"],["fieldName","code",3,"dict","searchQuery","showCode",4,"tuiDataList"],["fieldName","code",3,"dict","searchQuery","showCode"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"tui-multi-select",0),u.NdJ("ngModelChange",function(bi){return he.value=bi})("searchChange",function(bi){return he.searchQuery=bi}),u.Hsn(1),u.YNc(2,mi,2,5,"app-simple-dict-data-list",1),u.qZA()),2&ee&&u.Q6J("ngModel",he.value)("tuiTextfieldCleaner",!0)("search",he.searchQuery)("stringify",he.dict.getValueByCode)("rows",1)},dependencies:[kn.q,oi.lm,oi.VT,oi.bJ,ui.gX,E.u5,E.JJ,E.On,Li.cn,Li.be,Wt.Ov],changeDetection:0})}}return q})();function Ei(q,Re){if(1&q&&(u.TgZ(0,"app-badge",6),u._uU(1),u.qZA()),2&q){const _t=u.oxw(2);u.xp6(1),u.Oqu(_t.count)}}function ji(q,Re){if(1&q&&(u.TgZ(0,"span",4),u._uU(1),u.YNc(2,Ei,2,1,"app-badge",5),u.qZA()),2&q){const _t=u.oxw();u.xp6(1),u.hij(" ",_t.heading," "),u.xp6(1),u.Q6J("ngIf",_t.count)}}const Ji=["*"];let Wo=(()=>{class q{static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-address-button"]],inputs:{heading:"heading",count:"count"},standalone:!0,features:[u.jDz],ngContentSelectors:Ji,decls:5,vars:3,consts:[["type","button",1,"address-button"],[1,"address-button__section"],["class","address-button__heading",4,"ngIf"],["icon","appIconCornerRightDown",1,"address-button__icon"],[1,"address-button__heading"],["status","success",4,"ngIf"],["status","success"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"button",0)(1,"span",1),u.YNc(2,ji,3,2,"span",2),u.Hsn(3),u.qZA(),u._UZ(4,"tui-icon",3),u.qZA()),2&ee&&(u.ekj("address-button--short",!he.heading),u.xp6(2),u.Q6J("ngIf",he.heading))},dependencies:[Wt.O5,ne,yt.R],styles:["[_nghost-%COMP%]{display:block}.address-button[_ngcontent-%COMP%]{border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer}.address-button[_ngcontent-%COMP%]:active   .address-button__icon[_ngcontent-%COMP%]{transform:translateY(25%)}.address-button__section[_ngcontent-%COMP%]{display:flex;max-width:58ch;flex-direction:column;gap:4px}.address-button__heading[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-start;font-size:16px;color:var(--tui-text-primary)}.address-button[type=button][_ngcontent-%COMP%]{padding:var(--tui-padding-m);display:flex;width:100%;height:100%;justify-content:space-between;text-align:left;color:var(--tui-background-accent-opposite-pressed);background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs);gap:var(--tui-padding-m)}.address-button[type=button][_ngcontent-%COMP%]:hover{background-color:var(--arm-hover)}.address-button--short[_ngcontent-%COMP%]{--arm-hover: #e3e3e3;--tui-background-base-alt: #dddddd;align-items:center}"],changeDetection:0})}}return q})();function Ie(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"app-address-button",3),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw(2);return u.KtG(he.selected.emit(he.addresses[0]))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw(2);u.Q6J("count",_t.count),u.xp6(1),u.hij(" ",_t.addresses[0].address," ")}}function ze(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"app-address-button",8),u.NdJ("click",function(){const ri=u.CHM(_t).$implicit,bi=u.oxw(3);return u.KtG(bi.selected.emit(ri))}),u._uU(1),u.qZA()}if(2&q){const _t=Re.$implicit;u.xp6(1),u.hij(" ",_t.address," ")}}function pn(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw(4);return u.KtG(he.isHidden=!1)}),u._uU(1,"\u0415\u0449\u0435"),u.qZA()}}function fn(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"app-address-button",8),u.NdJ("click",function(){const ri=u.CHM(_t).$implicit,bi=u.oxw(5);return u.KtG(bi.selected.emit(ri))}),u._uU(1),u.qZA()}if(2&q){const _t=Re.$implicit;u.xp6(1),u.hij(" ",_t.address," ")}}function an(q,Re){if(1&q){const _t=u.EpF();u.YNc(0,fn,2,1,"app-address-button",7),u.TgZ(1,"div",10)(2,"button",9),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw(4);return u.KtG(he.isHidden=!0)}),u._uU(3,"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"),u.qZA()()}if(2&q){const _t=u.oxw(4);u.Q6J("ngForOf",_t.addresses.slice(3))}}function Mn(q,Re){if(1&q&&(u.YNc(0,pn,2,0,"ng-template",0),u.YNc(1,an,4,1,"ng-template",0)),2&q){const _t=u.oxw(3);u.Q6J("ngIf",_t.isHidden),u.xp6(1),u.Q6J("ngIf",!_t.isHidden)}}function Tn(q,Re){if(1&q&&(u.TgZ(0,"div",4)(1,"div",5),u._uU(2," \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0432\u044b\u0437\u043e\u0432\u043e\u0432 "),u.TgZ(3,"app-badge"),u._uU(4),u.qZA()(),u.TgZ(5,"div",6),u.YNc(6,ze,2,1,"app-address-button",7),u.YNc(7,Mn,2,2,"ng-template",0),u.qZA()()),2&q){const _t=u.oxw(2);u.xp6(4),u.Oqu(_t.count),u.xp6(1),u.ekj("address-list__container--has-hidden",_t.count>3&&_t.isHidden),u.xp6(1),u.Q6J("ngForOf",_t.addresses.slice(0,3)),u.xp6(1),u.Q6J("ngIf",_t.count>3)}}function bn(q,Re){if(1&q&&(u.YNc(0,Ie,2,2,"ng-template",1),u.YNc(1,Tn,8,5,"ng-template",null,2,u.W1O)),2&q){const _t=u.MAs(2),ee=u.oxw();u.Q6J("ngIf",1===ee.count)("ngIfElse",_t)}}let ie=(()=>{class q{constructor(){this.selected=new u.vpe,this.isHidden=!0}get count(){return this.addresses.length}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-address-button-list"]],inputs:{addresses:"addresses"},outputs:{selected:"selected"},standalone:!0,features:[u.jDz],decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngIf","ngIfElse"],["list",""],["heading","\u041f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0432\u044b\u0437\u043e\u0432\u043e\u0432",1,"height-100",3,"count","click"],[1,"address-list"],[1,"address-list__heading"],[1,"address-list__container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["type","button",1,"address-list__more",3,"click"],[1,"address-list__full-width"]],template:function(ee,he){1&ee&&u.YNc(0,bn,3,2,"ng-template",0),2&ee&&u.Q6J("ngIf",he.count>0)},dependencies:[Wt.O5,Wt.sg,Wo,ne],styles:[".height-100[_ngcontent-%COMP%]{height:100%}.address-list[_ngcontent-%COMP%]{padding:var(--tui-padding-m);display:flex;flex-direction:column;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs);gap:var(--tui-padding-s)}.address-list__heading[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;font-size:16px}.address-list__container[_ngcontent-%COMP%]{display:grid;gap:var(--tui-padding-s);grid-template-columns:repeat(auto-fit,minmax(30%,1fr))}.address-list__container--has-hidden[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr auto}.address-list__more[_ngcontent-%COMP%]{border:none;margin:0;padding:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;padding:var(--tui-padding-m);color:var(--tui-background-accent-1);background-color:#ddd;border-radius:var(--tui-radius-xs)}.address-list__more[_ngcontent-%COMP%]:hover{background-color:#e3e3e3}"],changeDetection:0})}}return q})();var We=o(8767),Le=o(8601);function un(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",6),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw().$implicit,ri=u.oxw(2);return u.KtG(ri.selectOption(he))}),u._uU(1),u.qZA()}if(2&q){const _t=Re.tuiLet,ee=u.oxw().$implicit,he=u.oxw(2);u.ekj("active",_t),u.Q6J("disabled",he.isLoading()||he.disabled||he.specialDisabled&&!_t||ee.code===he.compareValue()),u.xp6(1),u.hij(" ",ee.value," ")}}function Rn(q,Re){if(1&q&&(u.ynx(0),u.YNc(1,un,2,4,"button",5),u.BQk()),2&q){const _t=Re.$implicit,ee=u.oxw(2);let he;u.xp6(1),u.Q6J("tuiLet",_t.code===(null==(he=ee.selectedOption())?null:he.code))}}function Fn(q,Re){if(1&q&&(u.TgZ(0,"div",3),u.YNc(1,Rn,2,1,"ng-container",4),u.qZA()),2&q){const _t=Re.ngIf,ee=u.oxw();u.Q6J("dmsChangeDetectionTriggerOnAction",ee.saveRequestTriggerToken),u.xp6(1),u.Q6J("ngForOf",_t)}}function si(q,Re){1&q&&(u.TgZ(0,"span"),u._uU(1,"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),u.qZA())}let Di=(()=>{class q{constructor(){this.preventDefault=!1,this.unselectable=!1,this.disabled=!1,this.specialDisabled=!1,this.compareValue=(0,u.tdS)(null),this.selected=new u.vpe,this.saveRequestTriggerToken=(0,u.f3M)(Le.Tt),this.options=(0,u.Flj)(()=>Object.values(this.dictState().entities??[])),this.isLoading=(0,u.tdS)(!1),this.selectedOption=(0,u.Flj)(()=>{const _t=this.dictState().entities,ee=this.dictState().ids,he=this.valueCode();return he&&0!==ee.length?_t[he]??null:null}),this.isDictSuccessfullyLoaded=(0,u.Flj)(()=>!this.dictState().isLoading&&null===this.dictState().error),this.error=(0,u.Flj)(()=>this.dictState().error),this.valueCode=(0,u.tdS)(null)}selectOption(_t){_t.code===this.selectedOption()?.code&&!this.unselectable||(this.preventDefault?this.selected.emit(_t.code):this.updateValue(_t.code))}updateValue(_t){const ee=_t===this.selectedOption()?.code?null:_t;this.writeValue(ee),this.onChangeFn(ee)}writeValue(_t){this.valueCode.set(_t)}registerOnChange(_t){this.onChangeFn=_t}registerOnTouched(_t){this.onTouchedFn=_t}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-dict-buttons-control"]],inputs:{dictState:"dictState",preventDefault:"preventDefault",unselectable:"unselectable",disabled:"disabled",specialDisabled:"specialDisabled",compareValue:"compareValue"},outputs:{selected:"selected"},standalone:!0,features:[u._Bn([{provide:E.JU,useExisting:(0,u.Gpc)(()=>q),multi:!0}]),u.jDz],decls:3,vars:3,consts:[["class","radio-group",3,"dmsChangeDetectionTriggerOnAction",4,"ngIf"],[4,"ngIf"],["size","s",3,"showLoader"],[1,"radio-group",3,"dmsChangeDetectionTriggerOnAction"],[4,"ngFor","ngForOf"],["tuiButton","","appearance","radio","size","xs","type","button",3,"disabled","active","click",4,"tuiLet"],["tuiButton","","appearance","radio","size","xs","type","button",3,"disabled","click"]],template:function(ee,he){1&ee&&(u.YNc(0,Fn,2,2,"div",0),u.YNc(1,si,2,0,"span",1),u._UZ(2,"dms-loader",2)),2&ee&&(u.Q6J("ngIf",he.isDictSuccessfullyLoaded()&&he.options()),u.xp6(1),u.Q6J("ngIf",he.error()),u.xp6(1),u.Q6J("showLoader",he.isLoading()||he.dictState().isLoading))},dependencies:[Nt.xG,Wt.sg,Wt.O5,w.gK,We.i,w.AO],styles:[".radio-group[_ngcontent-%COMP%]{margin-top:4px;display:flex;flex-wrap:wrap;gap:6px 4px}.icon[_ngcontent-%COMP%]{margin-right:4px}button[tuiButton][data-appearance=radio][_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-background-accent-opposite-pressed);background-color:#ddd}button[tuiButton][data-appearance=radio][_ngcontent-%COMP%]:hover{background-color:#e3e3e3}button.active[tuiButton][data-appearance=radio][_ngcontent-%COMP%]{color:var(--tui-background-base);background:var(--tui-background-accent-opposite)}"],changeDetection:0})}}return q})();var Ii=o(9473),Vi=o(1993);function gi(q,Re){if(1&q&&(u.TgZ(0,"em"),u._uU(1),u.qZA()),2&q){const _t=u.oxw().$implicit;u.xp6(1),u.Oqu(_t.code)}}function Ni(q,Re){if(1&q&&(u.TgZ(0,"button",4),u.YNc(1,gi,2,1,"em",5),u.TgZ(2,"strong"),u._uU(3),u.qZA()()),2&q){const _t=Re.$implicit,ee=u.oxw(2);u.Q6J("value",ee.getValue(_t)),u.xp6(1),u.Q6J("ngIf",ee.showCode&&_t.code),u.xp6(2),u.Oqu(_t.value)}}function zi(q,Re){if(1&q&&(u.TgZ(0,"cdk-virtual-scroll-viewport",2),u.YNc(1,Ni,4,3,"button",3),u.qZA()),2&q){const _t=u.oxw();u.Udp("height",32*_t.options.length,"px"),u.Q6J("itemSize",32),u.xp6(1),u.Q6J("cdkVirtualForOf",_t.options)("cdkVirtualForTrackBy",_t.trackByFn)}}let Mo=(()=>{class q{constructor(){this.searchQuery=null,this.showCode=!0,this.scrolledBottom=new u.vpe,this.scroll=(0,u.f3M)(Ii.mF),this.destroyRef=(0,u.f3M)(u.ktI),this.options=null,this.trackByFn=(_t,ee)=>ee.uid||ee.code}set dict(_t){_t&&Object.values(_t).length&&(this.options=Object.values(_t))}ngOnInit(){this.scroll.scrolled(Ii.mc).pipe((0,Vi.sL)(this.destroyRef)).subscribe(_t=>{if(_t){const ee=_t.getElementRef().nativeElement;ee.scrollTop>ee.scrollHeight-ee.offsetHeight-1&&this.scrolledBottom.emit()}})}getValue(_t){return this.fieldName?_t[this.fieldName]:_t}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-remote-simple-dict-data-list"]],inputs:{searchQuery:"searchQuery",fieldName:"fieldName",showCode:"showCode",dict:"dict"},outputs:{scrolledBottom:"scrolledBottom"},standalone:!0,features:[u.jDz],decls:2,vars:1,consts:[["emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"],["class","scroll","tuiScrollable","","cdkScrollable","",3,"height","itemSize",4,"ngIf"],["tuiScrollable","","cdkScrollable","",1,"scroll",3,"itemSize"],["type","button","class","option","tuiOption","",3,"value",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["type","button","tuiOption","",1,"option",3,"value"],[4,"ngIf"]],template:function(ee,he){1&ee&&(u.TgZ(0,"tui-data-list",0),u.YNc(1,zi,2,5,"cdk-virtual-scroll-viewport",1),u.qZA()),2&ee&&(u.xp6(1),u.Q6J("ngIf",he.options))},dependencies:[ui.qi,ui.bH,Wt.O5,Ii.N7,Ii.xd,Ii.x0,Ae.Rq,Ii.Cl,Ii.PQ,$e.dx],styles:["app-remote-simple-dict-data-list{--tui-font-text-m: var(--tui-font-text-xs)}app-remote-simple-dict-data-list tui-data-list{padding:0}app-remote-simple-dict-data-list .scroll{scrollbar-width:none;-ms-overflow-style:none;max-height:400px}app-remote-simple-dict-data-list .scroll::-webkit-scrollbar,app-remote-simple-dict-data-list .scroll::-webkit-scrollbar-thumb{display:none}app-remote-simple-dict-data-list .option{margin:0!important;padding:4px 12px 5px!important;width:100%;min-height:32px!important;justify-content:flex-start;gap:var(--tui-padding-s);border-bottom:1px solid var(--dms-border-color);border-radius:0}app-remote-simple-dict-data-list .option:last-of-type{border-bottom:none}app-remote-simple-dict-data-list .option strong{font-weight:400}app-remote-simple-dict-data-list .option em{font-style:normal;color:var(--tui-text-04)}\n"],encapsulation:2,changeDetection:0})}}return q})();function io(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"app-remote-simple-dict-data-list",2),u.NdJ("scrolledBottom",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.scrolledBottom.emit())}),u.qZA()}if(2&q){const _t=u.oxw();u.Q6J("searchQuery",_t.searchQuery)("showCode",!1)("dict",_t.codeToDisplayName)}}const qo=["*"];let $o=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.options=[],this.codeToDisplayName={},this.focused=!1,this.searchQuery=null,this.scrolledBottom=new u.vpe,this.searchChange=new u.vpe,this.mapCode=_t=>this.codeToDisplayName[_t]?.value||_t}set dict(_t){_t&&(this.options=Object.values(_t),this.codeToDisplayName=_t)}getFallbackValue(){return""}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-remote-simple-dict-combobox"]],inputs:{dict:"dict"},outputs:{scrolledBottom:"scrolledBottom",searchChange:"searchChange"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:qo,decls:3,vars:3,consts:[[3,"ngModel","search","stringify","searchChange","ngModelChange"],["fieldName","code",3,"searchQuery","showCode","dict","scrolledBottom",4,"tuiDataList"],["fieldName","code",3,"searchQuery","showCode","dict","scrolledBottom"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"tui-combo-box",0),u.NdJ("searchChange",function(bi){return he.searchQuery=bi,he.searchChange.emit(bi)})("ngModelChange",function(bi){return he.value=null===bi?"":bi}),u.Hsn(1),u.YNc(2,io,1,3,"app-remote-simple-dict-data-list",1),u.qZA()),2&ee&&u.Q6J("ngModel",he.value)("search",he.searchQuery)("stringify",he.mapCode)},dependencies:[qe.jp,qe._p,qe.m2,ui.gX,E.u5,E.JJ,E.On,Mo],changeDetection:0})}}return q})();var tr=o(4767);const mr=function(q,Re){return{checked:q,disabled:Re}},er=["*"];let po=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.focused=!1}getFallbackValue(){return!1}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-checkbox"]],standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:er,decls:4,vars:9,consts:[["appearance","secondary"],["type","checkbox","tuiCheckbox","",3,"ngModel","disabled","ngModelChange"],[1,"flag-row"]],template:function(ee,he){1&ee&&(u.F$t(),u.TgZ(0,"label",0)(1,"input",1),u.NdJ("ngModelChange",function(bi){return he.value=bi}),u.qZA(),u.TgZ(2,"span",2),u.Hsn(3),u.qZA()()),2&ee&&(u.Tol(u.WLB(6,mr,he.value,he.disabled)),u.xp6(1),u.ekj("visually-hidden",!he.value),u.Q6J("ngModel",he.value)("disabled",he.disabled))},dependencies:[E.u5,E.Wl,E.JJ,E.On,tr.u3],styles:["label[_ngcontent-%COMP%]{padding:var(--tui-padding-l) var(--tui-padding-l);display:inline-flex;width:max-content;height:var(--tui-height-xs);justify-content:center;align-items:center;white-space:nowrap;gap:4px;color:var(--tui-background-accent-opposite-pressed);background-color:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);cursor:pointer}label[_ngcontent-%COMP%]:not(.checked)   span[_ngcontent-%COMP%]{padding:0 .5rem}label[_ngcontent-%COMP%]:hover{background-color:var(--tui-background-accent-1-hover)}label.checked[_ngcontent-%COMP%]{--tui-background-accent-opposite-pressed: #ffffff;padding-left:var(--tui-padding-s);background-color:var(--tui-background-accent-opposite)}label[_ngcontent-%COMP%]   .visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{--tui-background-accent-1: transparent;--tui-background-accent-1-hover: transparent;box-shadow:none}[_nghost-%COMP%]{display:inline-block;--tui-background-accent-1: rgba(0, 0, 0, .1);--tui-background-accent-1-hover: rgba(0, 0, 0, .07)}.flag-row[_ngcontent-%COMP%]{display:inline-flex;align-items:center}"],changeDetection:0})}}return q})();var Ti=o(8337),Wi=o(6669);function so(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"dms-checkbox",4),u.NdJ("ngModelChange",function(){const ri=u.CHM(_t).$implicit,bi=u.oxw(2);return u.KtG(bi.onSelectChange(bi.getKey(ri)))}),u._uU(1),u.qZA()}if(2&q){const _t=Re.$implicit,ee=u.oxw(2);u.Q6J("ngModel",ee.selectingModel.isSelected(ee.getKey(_t))),u.xp6(1),u.hij(" ",_t.value," ")}}function Ko(q,Re){if(1&q&&(u.TgZ(0,"div",2),u.YNc(1,so,2,2,"dms-checkbox",3),u.qZA()),2&q){const _t=Re.ngIf;u.xp6(1),u.Q6J("ngForOf",_t)}}function cr(q,Re){1&q&&(u.TgZ(0,"span"),u._uU(1,"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),u.qZA())}function Uo(q,Re){1&q&&u._UZ(0,"tui-loader")}let bo=(()=>{class q extends Ke.m6{constructor(){super(...arguments),this.isSelectCode=!0,this.dictItems=(0,u.Flj)(()=>Object.values(this.dictState().entities??[])),this.isLoading=(0,u.Flj)(()=>this.dictState().isLoading),this.error=(0,u.Flj)(()=>this.dictState().error),this.isSuccessfullyLoaded=(0,u.Flj)(()=>!this.dictState().isLoading&&null===this.dictState().error),this.focused=!1,this.selectingModel=new Ti.Ov(!0)}onSelectChange(_t){this.selectingModel.toggle(_t),this.value=this.selectingModel.selected}writeValue(_t){super.writeValue(_t),_t&&this.selectingModel.setSelection(..._t)}getKey(_t){return this.isSelectCode?_t.code:_t.uid??_t.code}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-multi-checkbox"]],inputs:{hideOptionCodes:"hideOptionCodes",isSelectCode:"isSelectCode",dictState:"dictState"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],decls:3,vars:3,consts:[["class","checkbox-group",4,"ngIf"],[4,"ngIf"],[1,"checkbox-group"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"]],template:function(ee,he){1&ee&&(u.YNc(0,Ko,2,1,"div",0),u.YNc(1,cr,2,0,"span",1),u.YNc(2,Uo,1,0,"tui-loader",1)),2&ee&&(u.Q6J("ngIf",he.isSuccessfullyLoaded()&&he.dictItems()),u.xp6(1),u.Q6J("ngIf",he.error()),u.xp6(1),u.Q6J("ngIf",he.isLoading()))},dependencies:[E.u5,E.JJ,E.On,Wi.A6,po,Wt.sg,Wt.O5],styles:["label[_ngcontent-%COMP%]{padding:var(--tui-padding-l) var(--tui-padding-l);display:inline-flex;width:max-content;height:var(--tui-height-xs);justify-content:center;align-items:center;white-space:nowrap;gap:4px;color:var(--tui-background-accent-opposite-pressed);background-color:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);cursor:pointer}label[_ngcontent-%COMP%]:not(.checked)   span[_ngcontent-%COMP%]{padding:0 .5rem}label[_ngcontent-%COMP%]:hover{background-color:var(--tui-background-accent-1-hover)}label.checked[_ngcontent-%COMP%]{--tui-background-accent-opposite-pressed: #ffffff;padding-left:var(--tui-padding-s);background-color:var(--tui-background-accent-opposite)}label[_ngcontent-%COMP%]   .visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{--tui-background-accent-1: transparent;--tui-background-accent-1-hover: transparent;box-shadow:none}.checkbox-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px 4px;--tui-background-accent-1: rgba(0, 0, 0, .1);--tui-background-accent-1-hover: rgba(0, 0, 0, .07)}"],changeDetection:0})}}return q})();function qi(q,Re){1&q&&u._UZ(0,"div",8),2&q&&u.Q6J("innerHTML",Re.polymorpheusOutlet,u.oJD)}function xo(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.context.completeWith(!1))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw();u.xp6(1),u.hij(" ",_t.closeButtonText," ")}}function Lo(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",10),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.context.completeWith(!0))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw();u.xp6(1),u.hij(" ",_t.mainButtonText," ")}}const Go=new Bn.Al((()=>{class q{constructor(_t){this.context=_t}get closeButtonText(){return this.context.data?.closeButtonText||"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}get mainButtonText(){return this.context.data?.mainButtonText||"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"}static{this.\u0275fac=function(ee){return new(ee||q)(u.Y36(Bn.yf))}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-error-dialog"]],standalone:!0,features:[u.jDz],decls:12,vars:4,consts:[[1,"content"],[1,"icon"],["icon","appIconXCircle",1,"gradient-icon"],[1,"details"],[1,"description"],[3,"innerHTML",4,"polymorpheusOutlet"],["size","m","appearance","secondary","tuiButton","","type","button","class","t-button",3,"click",4,"ngIf"],["size","m","tuiButton","","type","button","class","t-button",3,"click",4,"ngIf"],[3,"innerHTML"],["size","m","appearance","secondary","tuiButton","","type","button",1,"t-button",3,"click"],["size","m","tuiButton","","type","button",1,"t-button",3,"click"]],template:function(ee,he){1&ee&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"tui-icon",2),u.qZA(),u.TgZ(3,"div",3)(4,"div")(5,"h3"),u._uU(6),u.qZA()(),u.TgZ(7,"div",4),u.YNc(8,qi,1,1,"div",5),u.qZA()()(),u.TgZ(9,"footer"),u.YNc(10,xo,2,1,"button",6),u.YNc(11,Lo,2,1,"button",7),u.qZA()),2&ee&&(u.xp6(6),u.Oqu(null==he.context.data?null:he.context.data.label),u.xp6(2),u.Q6J("polymorpheusOutlet",null==he.context.data?null:he.context.data.content),u.xp6(2),u.Q6J("ngIf",!1!==(null==he.context.data?null:he.context.data.isCloseAction)),u.xp6(1),u.Q6J("ngIf",null==he.context.data?null:he.context.data.isMainAction))},dependencies:[Nt.xG,Bn.s$,yt.R,Wt.O5],styles:["[_nghost-%COMP%]{margin:0;padding:0 4px;display:block}footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:end}.content[_ngcontent-%COMP%]{margin-bottom:28px;display:flex;align-items:flex-start;gap:12px}.content[_ngcontent-%COMP%]   .gradient-icon[_ngcontent-%COMP%]{position:relative;margin-top:4px;display:inline-block;width:36px;height:36px}.content[_ngcontent-%COMP%]   .gradient-icon[_ngcontent-%COMP%]:after{background:linear-gradient(180deg,#ff4040 0%,#ff8585 100%)}.content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}"],changeDetection:0})}}return q})());var gn=o(5325),Yn=o(4098),te=o(7912),hn=o(9485),In=o(4224),ai=o(3069),Bi=o(6201);const No=["*"];let zo=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.min=Yn.TU.currentLocal(),this.fb=(0,u.f3M)(E.qu),this.formGroup=this.fb.group({day:new E.NI(null),timeRange:new E.NI(null)}),this.destroy$=(0,u.f3M)(u.ktI),this.maskitoOptions={mask:[/\d/,/\d/,":",/\d/,/\d/," ","-"," ",/\d/,/\d/,":",/\d/,/\d/],postprocessors:[St,bt],overwriteMode:"replace"},this.focused=!1}getFallbackValue(){return null}handleDayChange(_t,ee){_t&&ee.nativeFocusableElement?.focus()}ngOnInit(){if(super.ngOnInit(),this.value&&this.value.length>0){const[_t,ee]=this.value,he=`${_t.getHours().toString().padStart(2,"0")}:${_t.getMinutes().toString().padStart(2,"0")} - ${ee.getHours().toString().padStart(2,"0")}:${ee.getMinutes().toString().padStart(2,"0")}`,ri=new Yn.TU(_t.getFullYear(),_t.getMonth(),_t.getDate());this.formGroup.patchValue({day:ri,timeRange:he})}this.formGroup.valueChanges.pipe((0,et.U)(_t=>(({day:q,timeRange:Re})=>{if(!q)return null;const _t=+q.toLocalNativeDate(),ee=(q=>{if(!q)return null;const Re=q.match(M);if(!Re)return null;const[,_t,ee,he,ri]=Re;return[U(_t)+R(ee),U(he)+R(ri)]})(Re);if(!ee){const he=+q.append({day:1})-1e3;return[new Date(_t),new Date(he)]}return[new Date(_t+ee[0]),new Date(_t+ee[1])]})(_t)),(0,Vi.sL)(this.destroy$)).subscribe(_t=>{this.value=_t})}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-day-time-range"]],inputs:{min:"min"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:No,decls:6,vars:6,consts:[["tuiGroup","",1,"group",3,"collapsed","formGroup","tuiTextfieldCleaner"],["formControlName","day",3,"min","tuiValueChanges"],["tuiHintContent","\u0412\u0440\u0435\u043c\u044f '\u0434\u043e' \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u043d\u044c\u0448\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 '\u043e\u0442'","formControlName","timeRange",3,"maskito","tuiTextfieldFiller"],["timeRange",""]],template:function(ee,he){if(1&ee){const ri=u.EpF();u.F$t(),u.TgZ(0,"div",0)(1,"tui-input-date",1),u.NdJ("tuiValueChanges",function(vo){u.CHM(ri);const Rr=u.MAs(4);return u.KtG(he.handleDayChange(vo,Rr))}),u.Hsn(2),u.qZA(),u.TgZ(3,"tui-input",2,3),u._uU(5,"\u0412\u0440\u0435\u043c\u044f, \u043e\u0442 - \u0434\u043e"),u.qZA()()}2&ee&&(u.Q6J("collapsed",!1)("formGroup",he.formGroup)("tuiTextfieldCleaner",!0),u.xp6(1),u.Q6J("min",he.min),u.xp6(2),u.Q6J("maskito",he.maskitoOptions)("tuiTextfieldFiller","\u0427\u0427:\u041c\u041c - \u0427\u0427:\u041c\u041c"))},dependencies:[hn.hM,In.Qf,In.K3,In.wU,ai.hr,ai.jL,ai.k_,gn.r,Li.cn,Li.be,Li.kD,te.T,E.UX,E.JJ,E.JL,E.sg,E.u,Bi.bZ],styles:["[_nghost-%COMP%]{--tui-gradient-color: #cbcbcb;--tui-gradient: linear-gradient( 90deg, transparent 0%, transparent 49%, var(--tui-gradient-color) 49%, var(--tui-gradient-color) 51%, transparent 0% )}[_nghost-%COMP%]   tui-input-date[_ngcontent-%COMP%]{--tui-radius-xs: 12px 0 0 12px}[_nghost-%COMP%]   tui-input[_ngcontent-%COMP%]{--tui-radius-xs: 0 12px 12px 0}.group[_ngcontent-%COMP%]{background-image:var(--tui-gradient)}"],changeDetection:0})}}return q})();var ao=o(9397),Me=o(8180),Qn=o(5619),J=o(3620),Zt=o(7921),Et=o(2096),on=o(7081);class ii{constructor(){this.search$=new Qn.X(""),this.items$=this.search$.pipe((0,J.b)(600),(0,L.x)(),(0,V.w)(Re=>Re.trim()?this.getSuggestionsRest(Re).pipe((0,Zt.O)(null)):(0,Et.of)([{value:""}])),(0,on.d)({refCount:!0,bufferSize:1})),this.trackByFn=(Re,_t)=>_t.value??""}getItems(){return this.items$}searchNext(Re){this.search$.next(Re)}stringify(Re){return"string"==typeof Re?Re:Re.value??""}}function Si(q,Re){if(1&q&&(u.TgZ(0,"button",9),u._uU(1),u.qZA()),2&q){const _t=u.oxw(5);u.Q6J("disabled",!0),u.xp6(1),u.hij(" ",_t.value," ")}}function Oo(q,Re){if(1&q&&(u.TgZ(0,"button",9),u._uU(1),u.qZA()),2&q){const _t=u.oxw(5);u.Q6J("disabled",!0),u.xp6(1),u.hij(' \u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',_t.value,'" \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e ')}}function rr(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){const ri=u.CHM(_t).$implicit,bi=u.oxw(6);return u.KtG(bi.onSelectItem(ri))}),u._uU(1),u.qZA()}if(2&q){const _t=Re.$implicit;u.Q6J("disabled",!_t.value),u.xp6(1),u.hij(" ",_t.value," ")}}function jo(q,Re){if(1&q&&(u.TgZ(0,"cdk-virtual-scroll-viewport",10),u.YNc(1,rr,2,2,"button",11),u.qZA()),2&q){const _t=u.oxw().ngIf,ee=u.oxw(4);u.Udp("height",_t.length*ee.itemSize,"px"),u.Q6J("itemSize",ee.itemSize),u.xp6(1),u.Q6J("cdkVirtualForOf",_t)("cdkVirtualForTrackBy",ee.service.trackByFn)}}function Nr(q,Re){if(1&q&&(u.TgZ(0,"tui-data-list",6),u.YNc(1,Si,2,2,"button",7),u.YNc(2,Oo,2,2,"button",7),u.YNc(3,jo,2,5,"cdk-virtual-scroll-viewport",8),u.qZA()),2&q){const _t=u.oxw(3).tuiLet,ee=u.oxw();u.xp6(1),u.Q6J("ngIf",_t===ee.Statuses.TYPING),u.xp6(1),u.Q6J("ngIf",_t===ee.Statuses.NOT_FOUND),u.xp6(1),u.Q6J("ngIf",_t===ee.Statuses.LOADED)}}function Io(q,Re){if(1&q&&u.YNc(0,Nr,4,3,"tui-data-list",5),2&q){const _t=u.oxw(3),ee=u.MAs(2);u.Q6J("ngIf",_t.items())("ngIfElse",ee)}}function _e(q,Re){1&q&&u.YNc(0,Io,1,2,"ng-template",4)}function W(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"tui-combo-box",2),u.NdJ("searchChange",function(he){u.CHM(_t);const ri=u.oxw();return u.KtG(ri.onInputChange(he))}),u.Hsn(1),u.YNc(2,_e,1,0,"ng-template",3),u.qZA()}if(2&q){const _t=Re.tuiLet,ee=u.oxw();u.Q6J("ngModel",ee.value)("required",ee.required)("pseudoInvalid",ee.touched&&!ee.valid)("disabled",ee.disabled),u.xp6(2),u.Q6J("ngIf",_t!==ee.Statuses.IDLE)}}function rt(q,Re){1&q&&u._UZ(0,"tui-loader")}const zt=["*"],pe={IDLE:"idle",TYPING:"typing",LOADING:"loading",LOADED:"loaded",NOT_FOUND:"not-found"};let Be=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.required=!1,this.itemSize=32,this.selectItem=new u.vpe,this.service=(0,u.f3M)(ii),this.Statuses=pe,this.focused=!1,this.status=(0,u.tdS)(pe.IDLE),this.items=(0,Vi.O4)(this.service.getItems().pipe((0,ao.b)(_t=>{const ee=this.makeStatusFromItems(_t);this.status.set(ee)})),{initialValue:null})}set city(_t){this.service.setCity&&(this.service.setCity(_t),this.service.searchNext(""))}openDropdown(_t){this.service.searchNext(_t),this.value=_t}setClientAddress(_t){this.service.searchNext(_t),this.value=_t,this.service.getItems().pipe((0,et.U)(ee=>ee?.find(he=>""!==he.value)),(0,p.h)(Boolean),(0,Me.q)(1),(0,ao.b)(ee=>this.onSelectItem(ee))).subscribe()}makeStatusFromItems(_t){return null===_t?pe.LOADING:0===_t.length?pe.NOT_FOUND:1===_t.length&&""===_t[0].value?pe.IDLE:_t.length>0?pe.LOADED:pe.LOADING}onInputChange(_t){this.status.set(pe.TYPING),_t&&(this.value=_t,this.service.searchNext(_t))}onSelectItem(_t){this.status.set(pe.IDLE),this.value=_t.value,this.selectItem.emit(_t)}getFallbackValue(){return""}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-suggest-input"]],inputs:{city:"city",required:"required",itemSize:"itemSize"},outputs:{selectItem:"selectItem"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:zt,decls:3,vars:1,consts:[[3,"ngModel","required","pseudoInvalid","disabled","searchChange",4,"tuiLet"],["loading",""],[3,"ngModel","required","pseudoInvalid","disabled","searchChange"],[3,"ngIf"],["tuiDataList",""],["class","data-list","emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",4,"ngIf","ngIfElse"],["emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",1,"data-list"],["type","button","class","option","tuiOption","",3,"disabled",4,"ngIf"],["class","scroll","tuiScrollable","",3,"height","itemSize",4,"ngIf"],["type","button","tuiOption","",1,"option",3,"disabled"],["tuiScrollable","",1,"scroll",3,"itemSize"],["type","button","class","option","tuiOption","",3,"disabled","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["type","button","tuiOption","",1,"option",3,"disabled","click"]],template:function(ee,he){1&ee&&(u.F$t(),u.YNc(0,W,3,5,"tui-combo-box",0),u.YNc(1,rt,1,0,"ng-template",null,1,u.W1O)),2&ee&&u.Q6J("tuiLet",he.status())},dependencies:[Wt.O5,E.u5,E.JJ,E.Q7,E.On,Ii.N7,Ii.xd,Ii.x0,In.Qf,ui.qi,ui.gX,ui.bH,$e.dx,Wi.A6,We.i,qe.jp,qe._p,qe.m2],styles:[".data-list[_ngcontent-%COMP%]{--tui-font-text-m: var(--tui-font-text-xs);padding:0}.data-list[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;max-height:400px}.data-list[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]::-webkit-scrollbar, .data-list[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.data-list[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin:0;padding:4px 12px 5px;width:100%;min-height:32px;justify-content:flex-start;gap:var(--tui-padding-s);border-bottom:1px solid var(--dms-border-color);border-radius:0}.data-list[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:last-of-type{border-bottom:none}"],changeDetection:0})}}return q})();const On=function(){return{standalone:!0}};let Sn=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.size="m",this.focused=!1}getFallbackValue(){return null}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-invert-checkbox"]],inputs:{size:"size"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],decls:1,vars:6,consts:[["type","checkbox","tuiCheckbox","",3,"size","ngModel","ngModelOptions","readOnly","disabled","ngModelChange"]],template:function(ee,he){1&ee&&(u.TgZ(0,"input",0),u.NdJ("ngModelChange",function(bi){return he.value=!bi}),u.qZA()),2&ee&&u.Q6J("size",he.size)("ngModel",!he.value)("ngModelOptions",u.DdM(5,On))("readOnly",he.readOnly)("disabled",he.disabled)},dependencies:[E.u5,E.Wl,E.JJ,E.On,tr.u3],styles:["[_nghost-%COMP%]{line-height:0}"],changeDetection:0})}}return q})();function Gn(q,Re){if(1&q){const _t=u.EpF();u.ynx(0),u.TgZ(1,"dms-radio-group",1),u.NdJ("ngModelChange",function(he){u.CHM(_t);const ri=u.oxw();return u.KtG(ri.userChoseAnOption(he))}),u.Hsn(2),u.qZA(),u.BQk()}if(2&q){const _t=u.oxw();u.xp6(1),u.Q6J("ngModel",_t.value)("options",_t.dictItems())("disabled",_t.disabled)("disabledCodes",_t.disabledCodes)}}function ni(q,Re){1&q&&(u.TgZ(0,"span"),u._uU(1,"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),u.qZA())}function Lt(q,Re){1&q&&u._UZ(0,"tui-loader")}const $t=["*"];let mt=(()=>{class q extends Ke.M${constructor(){super(...arguments),this.disabledCodes=[],this.selected=new u.vpe,this.dictItems=(0,u.Flj)(()=>Object.values(this.dictState().entities??[])),this.isLoading=(0,u.Flj)(()=>this.dictState().isLoading),this.error=(0,u.Flj)(()=>this.dictState().error),this.isSuccessfullyLoaded=(0,u.Flj)(()=>!this.dictState().isLoading&&null===this.dictState().error),this.focused=!1}getFallbackValue(){return null}userChoseAnOption(_t){this.value=_t,_t&&this.selected.emit(_t)}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-radio-dict-group"]],inputs:{dictState:"dictState",disabledCodes:"disabledCodes"},outputs:{selected:"selected"},standalone:!0,features:[u._Bn([(0,Ke.wB)(q)]),u.qOj,u.jDz],ngContentSelectors:$t,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngModel","options","disabled","disabledCodes","ngModelChange"]],template:function(ee,he){1&ee&&(u.F$t(),u.YNc(0,Gn,3,4,"ng-container",0),u.YNc(1,ni,2,0,"span",0),u.YNc(2,Lt,1,0,"tui-loader",0)),2&ee&&(u.Q6J("ngIf",he.isSuccessfullyLoaded()&&he.dictItems()),u.xp6(1),u.Q6J("ngIf",he.error()),u.xp6(1),u.Q6J("ngIf",he.isLoading()))},dependencies:[E.u5,E.JJ,E.On,Wt.O5,wi,Wi.A6],changeDetection:0})}}return q})();var ue=o(3338);function He(q,Re){1&q&&u._UZ(0,"div",9),2&q&&u.Q6J("innerHTML",Re.polymorpheusOutlet,u.oJD)}function ci(q,Re){if(1&q&&(u.TgZ(0,"div",7),u.YNc(1,He,1,1,"div",8),u.qZA()),2&q){const _t=u.oxw();u.xp6(1),u.Q6J("polymorpheusOutlet",null==_t.context.data?null:_t.context.data.content)}}function Hi(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",10),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw();return u.KtG(he.context.completeWith(!0))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw();u.xp6(1),u.hij(" ",_t.retryButtonText," ")}}const Co=new Bn.Al((()=>{class q{constructor(_t){this.context=_t}get closeButtonText(){return this.context.data?.closeButtonText||"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}get retryButtonText(){return this.context.data?.retryButtonText||"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"}static{this.\u0275fac=function(ee){return new(ee||q)(u.Y36(Bn.yf))}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-success-dialog"]],standalone:!0,features:[u.jDz],decls:11,vars:4,consts:[[1,"content"],[1,"icon"],["icon","appIconCheckHeartGradient",1,"gradient-icon"],[1,"details"],["class","description",4,"ngIf"],["size","m","appearance","secondary","tuiButton","","type","button",1,"t-button",3,"click"],["size","m","tuiButton","","type","button","class","t-button",3,"click",4,"ngIf"],[1,"description"],[3,"innerHTML",4,"polymorpheusOutlet"],[3,"innerHTML"],["size","m","tuiButton","","type","button",1,"t-button",3,"click"]],template:function(ee,he){1&ee&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"tui-icon",2),u.qZA(),u.TgZ(3,"div",3)(4,"h3"),u._uU(5),u.qZA(),u.YNc(6,ci,2,1,"div",4),u.qZA()(),u.TgZ(7,"footer")(8,"button",5),u.NdJ("click",function(){return he.context.completeWith(!1)}),u._uU(9),u.qZA(),u.YNc(10,Hi,2,1,"button",6),u.qZA()),2&ee&&(u.xp6(5),u.Oqu(null==he.context.data?null:he.context.data.label),u.xp6(1),u.Q6J("ngIf",null==he.context.data?null:he.context.data.content),u.xp6(3),u.hij(" ",he.closeButtonText," "),u.xp6(1),u.Q6J("ngIf",null==he.context.data?null:he.context.data.isRetryable))},dependencies:[Nt.xG,Bn.s$,yt.R,Wt.O5],styles:["[_nghost-%COMP%]{margin:0;padding:0 4px;display:block}footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:end}.content[_ngcontent-%COMP%]{margin-bottom:28px;display:flex;gap:12px}.content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start}.content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .gradient-icon[_ngcontent-%COMP%]{position:relative;margin-top:4px;display:inline-block;width:36px;height:36px}.content[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .gradient-icon[_ngcontent-%COMP%]:after{background:linear-gradient(#9275bd,#e0b1bb,#9ed7f0,#619ac4)}.content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;justify-content:center}.content[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}"],changeDetection:0})}}return q})());function Xo(q,Re){if(1&q&&(u.TgZ(0,"div",1),u._uU(1),u.qZA()),2&q){const _t=u.oxw();u.Q6J("tuiHint",_t.longText.length>165&&_t.longText)("tuiHintAppearance","dark")("tuiHintDirection",_t.tuiHintDirection)("tuiHintShowDelay",500)("tuiHintHideDelay",500),u.xp6(1),u.hij(" ",_t.longText,"\n")}}let nr=(()=>{class q{constructor(){this.longText="",this.tuiHintDirection="bottom"}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-page-long-text-cell"]],inputs:{longText:"longText",tuiHintDirection:"tuiHintDirection"},standalone:!0,features:[u.jDz],decls:1,vars:1,consts:[["class","long-text",3,"tuiHint","tuiHintAppearance","tuiHintDirection","tuiHintShowDelay","tuiHintHideDelay",4,"ngIf"],[1,"long-text",3,"tuiHint","tuiHintAppearance","tuiHintDirection","tuiHintShowDelay","tuiHintHideDelay"]],template:function(ee,he){1&ee&&u.YNc(0,Xo,2,6,"div",0),2&ee&&u.Q6J("ngIf",he.longText)},dependencies:[Bi.D,Wt.O5],styles:["[_nghost-%COMP%]{display:inline-block;max-width:inherit}.long-text[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;max-width:inherit;max-height:150px;text-overflow:ellipsis;-webkit-line-clamp:5;-webkit-box-orient:vertical;word-break:break-word}"],changeDetection:0})}}return q})();var Lr=o(7936),dr=o(5086);function lr(q,Re){1&q&&u._UZ(0,"div",2),2&q&&u.Q6J("innerHTML",Re.polymorpheusOutlet,u.oJD)}function fr(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",6),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw(2);return u.KtG(he.context.completeWith(!1))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw().ngIf,ee=u.oxw();u.Q6J("appearance","flat"),u.xp6(1),u.hij(" ",(null==ee.context.data?null:ee.context.data.no)||_t.no," ")}}function Or(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"button",7),u.NdJ("click",function(){u.CHM(_t);const he=u.oxw(2);return u.KtG(he.context.completeWith(!0))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw().ngIf,ee=u.oxw();u.Q6J("appearance",(null==ee.context.data?null:ee.context.data.appearance)||"primary"),u.xp6(1),u.hij(" ",(null==ee.context.data?null:ee.context.data.yes)||_t.yes," ")}}function Fe(q,Re){if(1&q&&(u.TgZ(0,"div",3),u.YNc(1,fr,2,2,"button",4),u.YNc(2,Or,2,2,"button",5),u.qZA()),2&q){const _t=u.oxw();u.xp6(1),u.Q6J("ngIf",_t.isShowBtn("noBtn")),u.xp6(1),u.Q6J("ngIf",_t.isShowBtn("yesBtn"))}}const en=new Bn.Al((()=>{class q{constructor(){this.words$=(0,u.f3M)(dr.Fu),this.isShowBtnDefault={noBtn:!0,yesBtn:!0},this.context=(0,Bn.FQ)()}isShowBtn(_t){const ee=this.context.data?.isShowBtn?.[_t];return typeof ee>"u"?this.isShowBtnDefault[_t]:ee}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-custom-tui-confirm"]],standalone:!0,features:[u.jDz],decls:3,vars:4,consts:[["class","t-content",3,"innerHTML",4,"polymorpheusOutlet"],["class","t-buttons",4,"ngIf"],[1,"t-content",3,"innerHTML"],[1,"t-buttons"],["size","m","tuiButton","","type","button","class","t-button",3,"appearance","click",4,"ngIf"],["size","m","tuiAutoFocus","","tuiButton","","type","button","class","t-button",3,"appearance","click",4,"ngIf"],["size","m","tuiButton","","type","button",1,"t-button",3,"appearance","click"],["size","m","tuiAutoFocus","","tuiButton","","type","button",1,"t-button",3,"appearance","click"]],template:function(ee,he){1&ee&&(u.YNc(0,lr,1,1,"div",0),u.YNc(1,Fe,3,2,"div",1),u.ALo(2,"async")),2&ee&&(u.Q6J("polymorpheusOutlet",null==he.context.data?null:he.context.data.content),u.xp6(1),u.Q6J("ngIf",u.lcZ(2,2,he.words$)))},dependencies:[Wt.Ov,Nt.xG,Lr.bi,Wt.O5,Bn.s$],styles:[".t-content[_ngcontent-%COMP%]:not(:empty){margin-bottom:.875rem;overflow-wrap:break-word}.t-buttons[_ngcontent-%COMP%]{margin:.375rem -.375rem -.375rem;display:flex;flex-wrap:wrap-reverse;justify-content:flex-end}.t-button[_ngcontent-%COMP%]{margin:.375rem;white-space:nowrap}tui-root._mobile[_nghost-%COMP%]   .t-button[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-button[_ngcontent-%COMP%]{overflow:visible;flex:1}"],changeDetection:0})}}return q})());var zn=o(6266),Mi=o(5929),ti=o(9298),_i=o(8451),vi=o(5533),no=o(4507),ho=o(2701),ir=o(334),to=o(47),sr=o(3416),Fo=o(7511),co=o(3460),br=o(6942),or=o(343),Cr=o(5984),ur=o(9080);const Ir=["focusableElement"],go=["tagsContainer"],Sr=["cleaner"],Zr=["errorIcon"],Xr=["tag"];function Jr(q,Re){1&q&&u.GkF(0)}function Hr(q,Re){1&q&&u._UZ(0,"tui-icon",21),2&q&&u.Q6J("icon",Re.polymorpheusOutlet.toString())}const hr=function(q){return{$implicit:q}};function zr(q,Re){if(1&q&&(u.TgZ(0,"div",19),u.YNc(1,Hr,1,1,"tui-icon",20),u.qZA()),2&q){const _t=u.oxw();u.xp6(1),u.Q6J("polymorpheusOutlet",_t.iconStart)("polymorpheusOutletContext",u.VKq(2,hr,_t.size))}}function Vr(q,Re){if(1&q&&(u.TgZ(0,"div",22),u.Hsn(1,2),u.qZA()),2&q){const _t=u.oxw();u.ekj("t-placeholder_raised",_t.placeholderRaised)}}function os(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"tui-tag",24,25),u.NdJ("edited",function(he){const bi=u.CHM(_t).index,vo=u.oxw(2);return u.KtG(vo.onTagEdited(he,bi))})("keydown.arrowLeft.prevent",function(){const ri=u.CHM(_t).index,bi=u.oxw(2);return u.KtG(bi.onTagKeyDownArrowLeft(ri))})("keydown.arrowRight.prevent",function(){const ri=u.CHM(_t).index,bi=u.oxw(2);return u.KtG(bi.onTagKeyDownArrowRight(ri))}),u.qZA()}if(2&q){const _t=Re.$implicit,ee=u.oxw(2);u.Q6J("autoColor",ee.autoColor)("disabled",ee.computedDisabled||ee.disabledItemHandler(_t))("editable",ee.editable&&!ee.readOnly)("hoverable",!ee.readOnly)("leftContent",ee.getLeftContent(_t))("maxLength",ee.maxLength)("removable",!ee.readOnly&&ee.removable)("separator",ee.separator)("size",ee.controller.size)("status",ee.status)("value",_t.toString())}}function Fr(q,Re){if(1&q&&(u.ynx(0),u.YNc(1,os,2,11,"tui-tag",23),u.BQk()),2&q){const _t=u.oxw();u.xp6(1),u.Q6J("ngForOf",_t.value)("ngForTrackBy",_t.trackByFn)}}function Wr(q,Re){if(1&q&&u._UZ(0,"span",27),2&q){const _t=Re.$implicit,ee=u.oxw(2);u.ekj("t-text_comma",ee.computedFocused&&!ee.inputHidden)("t-text_disabled",ee.disabledItemHandler(_t))("t-text_error",!ee.tagValidator(_t)),u.Q6J("textContent",_t)}}function $r(q,Re){if(1&q&&u.YNc(0,Wr,1,7,"span",26),2&q){const _t=u.oxw();u.Q6J("ngForOf",_t.value)}}function Qr(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"tui-icon",32,33),u.NdJ("click.stop",function(){u.CHM(_t);const he=u.oxw(3);return u.KtG(he.onCleanerClick())}),u.qZA()}2&q&&u.Q6J("icon",Re.polymorpheusOutlet.toString())}function Ar(q,Re){if(1&q&&(u.ynx(0),u.YNc(1,Qr,2,1,"tui-icon",31),u.BQk()),2&q){const _t=u.oxw(2);u.xp6(1),u.Q6J("polymorpheusOutlet",_t.iconCleaner)("polymorpheusOutletContext",u.VKq(2,hr,_t.size))}}function wr(q,Re){if(1&q&&u._UZ(0,"tui-tooltip",34),2&q){const _t=u.oxw(2);u.Q6J("content",null==_t.hintOptions?null:_t.hintOptions.content)("describeId",_t.id)}}function G(q,Re){1&q&&u._UZ(0,"tui-icon",21),2&q&&u.Q6J("icon",Re.polymorpheusOutlet.toString())}function fe(q,Re){if(1&q&&(u.TgZ(0,"div",35),u.YNc(1,G,1,1,"tui-icon",20),u.qZA()),2&q){const _t=u.oxw(2);u.xp6(1),u.Q6J("polymorpheusOutlet",_t.icon)("polymorpheusOutletContext",u.VKq(2,hr,_t.size))}}function Tt(q,Re){if(1&q&&(u.TgZ(0,"div",28),u.YNc(1,Ar,2,4,"ng-container",0),u.YNc(2,wr,1,2,"tui-tooltip",29),u.YNc(3,fe,2,4,"div",30),u.qZA()),2&q){const _t=u.oxw();u.xp6(1),u.Q6J("ngIf",_t.hasCleaner),u.xp6(1),u.Q6J("ngIf",_t.showHint),u.xp6(1),u.Q6J("ngIf",_t.icon)}}function Jt(q,Re){if(1&q&&u._UZ(0,"tui-icon",36),2&q){const _t=u.oxw();u.Q6J("icon",_t.icons.error)}}const Ze=[[["tuiContent"]],[["select"]],"*"],Vn=function(){return{standalone:!0}},Kn=["tuiContent","select","*"],Ai={s:1.25,m:1.5,l:2},ko={s:1,m:1.25,l:1.25};let Eo=(()=>{class q extends Ke.m6{constructor(){super(...arguments),this.tags=zn.Mm,this.el=(0,Mi.AG)(),this.options=(0,u.f3M)(sr.Iw),this.textfieldOptions=(0,u.f3M)(no.z1),this.hintOptions=(0,u.f3M)(Bi.bZ,{optional:!0}),this.controller=(0,u.f3M)(Li.Cs),this.icons=(0,u.f3M)(ho.Gs),this.status=this.options.tagStatus,this.open=!1,this.separator=this.options.separator,this.search="",this.editable=!0,this.tagValidator=zn.oN,this.rows=1/0,this.inputHidden=!1,this.uniqueTags=this.options.uniqueTags,this.autoColor=this.options.autoColor,this.maxLength=null,this.placeholder="",this.removable=!0,this.disabledItemHandler=zn.tD,this.searchChange=new u.vpe,this.pseudoOpen=(0,u.tdS)(!1)}checkOption(_t){throw new Error("Method not implemented.")}set pseudoFocused(_t){!_t&&!this.focused&&this.scrollTo(0),this.pseudoFocus=_t}set setPseudoOpen(_t){this.pseudoOpen.set(_t)}get labelOutside(){const{size:_t,labelOutside:ee}=this.controller;return"table"===this.appearance||"s"===_t||ee}get size(){return this.controller.size}get nativeFocusableElement(){return!this.focusableElement||this.computedDisabled?null:this.focusableElement.nativeElement}get hasValue(){return!!this.value.length||this.hasNativeValue}get hasExampleText(){return!!this.nativeFocusableElement?.placeholder&&this.computedFocused&&!this.hasValue&&!this.readOnly}get hasPlaceholder(){return!this.labelOutside||!this.hasValue&&(!this.hasExampleText||this.inputHidden)}get focused(){return(0,ti.zb)(this.el)||!!this.dropdown?.tuiDropdownOpen}get tagsEmpty(){return(!this.focused||this.inputHidden)&&!this.value.length&&!this.search?.trim()?.length&&!this.placeholder||!!this.valueContent}onTagEdited(_t,ee){this.focusInput(""===_t),this.value=this.filterValue(this.value.map((he,ri)=>ri!==ee?he:_t.split(this.separator).map(bi=>bi.trim()).filter(Boolean)).reduce((he,ri)=>he.concat(ri),[]))}handleOption(_t){this.focusInput(),this.updateSearch(""),this.value=this.filterValue(this.value.concat(_t)),this.open=!1,this.scrollTo()}setDisabledState(){super.setDisabledState(),this.open=!1}get iconStart(){return this.controller.iconStart}get appearance(){return"table"===this.textfieldOptions.appearance()?"table":this.controller.appearance}get expandable(){return this.rows>1}get icon(){return this.controller.icon}get iconCleaner(){return this.controller.options.iconCleaner}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&this.interactive}get hasNativeValue(){return!!this.search}get placeholderRaised(){return!this.labelOutside&&(this.computedFocused&&!this.readOnly||this.hasValue)}get hasRightIcons(){return this.hasCleaner||!!this.icon||!!this.hintOptions?.content&&!this.computedDisabled}get showHint(){return!!this.hintOptions?.content&&(this.controller.options.hintOnDisabled||!this.computedDisabled)}get canOpen(){return this.interactive&&!!this.datalist}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}onFocusInOut(){this.cdr.detectChanges()}detectRetargetFromLabel(_t){(0,Mi.UP)(_t)&&_t.stopImmediatePropagation()}getLeftContent(_t){return!this.tagValidator(_t)&&this.errorIconTemplate?this.errorIconTemplate:""}onCleanerClick(){this.updateSearch(""),this.clear(),this.focusInput()}onActiveZone(_t){this.open=!1,this.addTag(),this.updateFocused(_t),!_t&&!this.computedFocused&&this.scrollTo(0)}onMouseDown(_t){const ee=(0,Mi.mA)(_t);"tui-tag__edit"===ee.getAttribute("automation-id")||!this.focusableElement||ee===this.focusableElement.nativeElement||!(0,Mi.ve)(_t.target)||this.cleanerSvg?.nativeElement.contains(_t.target)||this.tagsContainer&&ee!==this.tagsContainer.nativeElement&&this.tagsContainer.nativeElement.contains(ee)||(_t.preventDefault(),this.focusInput())}onFieldKeyDownBackspace(_t){this.labelOutside||this.hasNativeValue||!this.value.length?this.onFieldKeyDownArrowLeft(_t):this.deleteLastEnabledItem()}onFieldKeyDownArrowLeft(_t){!this.labelOutside||this.hasNativeValue||!this.value.length||(_t.preventDefault(),this.tags.last.nativeElement.focus())}onFieldKeyDownEnter(){this.addTag(),this.scrollTo()}onTagKeyDownArrowLeft(_t){_t>0&&this.onScrollKeyDown(_t,-1)}onTagKeyDownArrowRight(_t){_t===this.value.length-1?this.focusInput():this.onScrollKeyDown(_t,1)}onInput(_t){const ee=_t.split(this.separator),he=ee.map(vo=>this.clippedValue(vo.trim())).filter(vo=>vo.length>0),ri=he.filter(vo=>!this.disabledItemHandler(vo)),bi=he.filter(vo=>this.disabledItemHandler(vo));if(ee.length>1){const vo=bi.length?bi.join((0,_i.Aj)(this.separator)?this.separator:","):"";this.updateSearch(this.clippedValue(vo)),this.value=this.filterValue([...this.value,...ri])}else this.updateSearch(this.clippedValue(_t));this.open=this.hasNativeValue}onPaste(_t){const ee=(0,Mi.Nn)(_t);this.onInput(ee||"")}onDrop({dataTransfer:_t}){_t&&this.onInput(_t.getData("text")||"")}trackByFn(_t,ee){return ee.toString()}get lineHeight(){return this.labelOutside?Ai[this.controller.size]+.25:ko[this.controller.size]}scrollTo(_t=this.scrollBar?.nativeElement.scrollWidth){(0,ur.H)(0).pipe((0,Vi.sL)(this.destroyRef)).subscribe(()=>{this.scrollBar&&(this.scrollBar.nativeElement.scrollLeft=_t||0)})}filterValue(_t){const ee=new Set;return _t.reverse().filter(he=>!this.uniqueTags||he&&!ee.has(he)&&ee.add(he)).reverse()}onScrollKeyDown(_t,ee){const he=this.tags.find((ri,bi)=>bi===_t+ee);!he||!this.scrollBar||(he.nativeElement.focus(),ee*this.scrollBar.nativeElement.clientWidth-ee*he.nativeElement.offsetLeft-he.nativeElement.clientWidth<0&&(this.scrollBar.nativeElement.scrollLeft+=ee*he.nativeElement.clientWidth))}updateSearch(_t){this.focusableElement&&(this.focusableElement.nativeElement.value=_t),this.search=_t,this.searchChange.emit(_t)}addTag(){const _t=this.search?.trim()??"";!_t||this.disabledItemHandler(_t)||(this.updateSearch(""),this.value=this.filterValue(this.value.concat(_t)))}deleteLastEnabledItem(){for(let _t=this.value.length-1;_t>=0;_t--)if(!this.disabledItemHandler(this.value[_t]??"")){this.value=(0,_i.WX)(this.value,_t);break}}focusInput(_t=!1){this.nativeFocusableElement?.focus({preventScroll:_t})}clippedValue(_t){return _t.slice(0,this.maxLength||_t.length)}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["dms-tag-input-mouse-edit"]],contentQueries:function(ee,he,ri){if(1&ee&&(u.Suo(ri,ui.gX,5,u.Rgc),u.Suo(ri,Bn.s$,5)),2&ee){let bi;u.iGM(bi=u.CRH())&&(he.datalist=bi.first),u.iGM(bi=u.CRH())&&(he.valueContent=bi.first)}},viewQuery:function(ee,he){if(1&ee&&(u.Gf(ir.Bb,5),u.Gf(Ir,5),u.Gf(go,5),u.Gf(Sr,5,u.SBq),u.Gf($e.D1,5,u.SBq),u.Gf(Zr,5),u.Gf(Xr,5,u.SBq)),2&ee){let ri;u.iGM(ri=u.CRH())&&(he.dropdown=ri.first),u.iGM(ri=u.CRH())&&(he.focusableElement=ri.first),u.iGM(ri=u.CRH())&&(he.tagsContainer=ri.first),u.iGM(ri=u.CRH())&&(he.cleanerSvg=ri.first),u.iGM(ri=u.CRH())&&(he.scrollBar=ri.first),u.iGM(ri=u.CRH())&&(he.errorIconTemplate=ri.first),u.iGM(ri=u.CRH())&&(he.tags=ri)}},hostVars:7,hostBindings:function(ee,he){1&ee&&u.NdJ("focusin.capture.zoneless",function(){return he.onFocusInOut()})("focusout.capture.zoneless",function(){return he.onFocusInOut()}),2&ee&&(u.uIk("data-size",he.size),u.ekj("_icon-start",he.iconStart)("_expandable",he.expandable)("_label-outside",he.labelOutside))},inputs:{separator:"separator",search:"search",editable:"editable",tagValidator:"tagValidator",rows:"rows",inputHidden:"inputHidden",uniqueTags:"uniqueTags",autoColor:"autoColor",maxLength:"maxLength",placeholder:"placeholder",removable:"removable",disabledItemHandler:"disabledItemHandler",setPseudoOpen:["pseudoOpen","setPseudoOpen"]},outputs:{searchChange:"searchChange"},standalone:!0,features:[u._Bn([(0,Fo.FT)(q),(0,Ke.wB)(q),(0,ui.oE)(q),Li.Y0,vi.FY]),u.qOj,u.jDz,u.zW0([ir.a6])],ngContentSelectors:Kn,decls:25,vars:36,consts:[[4,"ngIf"],["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange","tuiActiveZoneChange"],["tuiWrapper","",3,"appearance","disabled","focus","hover","invalid","readOnly","click.prevent.zoneless","mousedown"],[1,"t-content"],["class","t-icon t-icon_left t-textfield-icon t-icon-wrapper",4,"ngIf"],[1,"t-wrapper"],[1,"t-absolute-wrapper"],["automation-id","tui-input-tag__placeholder","class","t-placeholder",3,"t-placeholder_raised",4,"ngIf"],[1,"t-scrollbar",3,"hidden"],[1,"t-tags"],[4,"ngIf","ngIfElse"],["text",""],[1,"t-input-wrapper"],[1,"t-ghost"],["automation-id","tui-input-tag__native","type","text",1,"t-native",3,"disabled","id","ngModel","ngModelOptions","placeholder","readOnly","tabIndex","drop.prevent","keydown.arrowLeft","keydown.backspace","keydown.enter.prevent","ngModelChange","paste.prevent"],["focusableElement",""],[1,"t-value-content"],["class","t-icons t-icon-wrapper",4,"ngIf"],["errorIcon",""],[1,"t-icon","t-icon_left","t-textfield-icon","t-icon-wrapper"],["tuiAppearance","icon",3,"icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiAppearance","icon",3,"icon"],["automation-id","tui-input-tag__placeholder",1,"t-placeholder"],["automation-id","tui-input-tag__tag","tabIndex","-1","class","t-tag",3,"autoColor","disabled","editable","hoverable","leftContent","maxLength","removable","separator","size","status","value","edited","keydown.arrowLeft.prevent","keydown.arrowRight.prevent",4,"ngFor","ngForOf","ngForTrackBy"],["automation-id","tui-input-tag__tag","tabIndex","-1",1,"t-tag",3,"autoColor","disabled","editable","hoverable","leftContent","maxLength","removable","separator","size","status","value","edited","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["tag",""],["class","t-text",3,"t-text_comma","t-text_disabled","t-text_error","textContent",4,"ngFor","ngForOf"],[1,"t-text",3,"textContent"],[1,"t-icons","t-icon-wrapper"],["automation-id","tui-input-tag__tooltip","class","t-tooltip",3,"content","describeId",4,"ngIf"],["class","t-icon t-textfield-icon",4,"ngIf"],["automation-id","tui-input-tag__cleaner","tuiAppearance","icon","class","t-cleaner",3,"icon","click.stop",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-input-tag__cleaner","tuiAppearance","icon",1,"t-cleaner",3,"icon","click.stop"],["cleaner",""],["automation-id","tui-input-tag__tooltip",1,"t-tooltip",3,"content","describeId"],[1,"t-icon","t-textfield-icon"],[1,"t-error-icon",3,"icon"]],template:function(ee,he){if(1&ee&&(u.F$t(Ze),u.YNc(0,Jr,1,0,"ng-container",0),u.ALo(1,"async"),u.TgZ(2,"div",1),u.NdJ("tuiDropdownOpenChange",function(bi){return he.open=bi})("tuiActiveZoneChange",function(bi){return he.onActiveZone(bi)}),u.TgZ(3,"div",2),u.NdJ("click.prevent.zoneless",function(bi){return he.detectRetargetFromLabel(bi)})("mousedown",function(bi){return he.onMouseDown(bi)}),u.TgZ(4,"div",3),u.YNc(5,zr,2,4,"div",4),u.TgZ(6,"div",5)(7,"div",6),u.YNc(8,Vr,2,2,"div",7),u.qZA(),u.TgZ(9,"tui-scrollbar",8)(10,"div",9),u.YNc(11,Fr,2,2,"ng-container",10),u.YNc(12,$r,1,1,"ng-template",null,11,u.W1O),u.TgZ(14,"div",12)(15,"div",13),u._uU(16),u.qZA(),u.TgZ(17,"input",14,15),u.NdJ("drop.prevent",function(bi){return he.onDrop(bi)})("keydown.arrowLeft",function(bi){return he.onFieldKeyDownArrowLeft(bi)})("keydown.backspace",function(bi){return he.onFieldKeyDownBackspace(bi)})("keydown.enter.prevent",function(){return he.onFieldKeyDownEnter()})("ngModelChange",function(bi){return he.onInput(bi)})("paste.prevent",function(bi){return he.onPaste(bi)}),u.qZA()()(),u.TgZ(19,"div",16),u.Hsn(20),u.qZA()()(),u.Hsn(21,1),u.YNc(22,Tt,4,3,"div",17),u.qZA(),u.YNc(23,Jt,1,1,"ng-template",null,18,u.W1O),u.qZA()()),2&ee){const ri=u.MAs(13);u.Q6J("ngIf",u.lcZ(1,33,null==he.hintOptions?null:he.hintOptions.change$)),u.xp6(2),u.Q6J("tuiDropdown",he.datalist||"")("tuiDropdownEnabled",he.canOpen)("tuiDropdownOpen",he.open),u.xp6(1),u.Q6J("appearance",he.appearance)("disabled",he.computedDisabled)("focus",he.computedFocused)("hover",he.pseudoHover)("invalid",he.computedInvalid)("readOnly",he.readOnly),u.xp6(2),u.Q6J("ngIf",he.iconStart),u.xp6(3),u.Q6J("ngIf",he.hasPlaceholder),u.xp6(1),u.Udp("max-height",he.computeMaxHeight,"rem"),u.Q6J("hidden",!he.expandable),u.xp6(1),u.ekj("t-tags_empty",he.tagsEmpty),u.xp6(1),u.Q6J("ngIf",he.labelOutside)("ngIfElse",ri),u.xp6(3),u.ekj("t-input-wrapper_collapsed",he.computedDisabled||he.readOnly||he.inputHidden),u.xp6(2),u.Oqu(he.search),u.xp6(1),u.ekj("t-native_hidden",he.inputHidden),u.Q6J("disabled",he.computedDisabled)("id",he.id)("ngModel",he.search)("ngModelOptions",u.DdM(35,Vn))("placeholder",he.placeholder)("readOnly",he.readOnly||he.inputHidden)("tabIndex",he.computedFocusable?0:-1),u.uIk("maxLength",he.maxLength),u.xp6(5),u.Q6J("ngIf",he.hasRightIcons)}},dependencies:[Wt.ez,Wt.sg,Wt.O5,Wt.Ov,E.u5,E.Fj,E.JJ,E.On,Bn.s$,$e.D1,co.Q,co.w,br.d3,br.Gi,or.W,or.o,Cr.C,to.Nm,yt.R,ir.td,ir.Bb],styles:['[_nghost-%COMP%]{position:relative;display:block;text-align:start;border-radius:var(--tui-radius-m);block-size:var(--tui-height);min-block-size:var(--tui-height);max-block-size:var(--tui-height)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);font:var(--tui-font-text-m);line-height:1.25rem}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);color:var(--tui-text-primary);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-input[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}.t-input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator, .t-input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="s"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="s"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="s"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="s"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="s"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="s"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="m"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="m"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="m"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="m"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="m"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="l"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="l"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="l"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="l"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="l"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], .t-input   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], .t-input   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="l"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="m"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input.t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em}.t-content[_ngcontent-%COMP%]{display:flex;block-size:100%;inline-size:100%;box-sizing:border-box;align-items:center;overflow:hidden}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-wrapper[_ngcontent-%COMP%]{flex:1;min-inline-size:0;padding-inline-end:.25rem}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;inline-size:100%;-webkit-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none;will-change:transform;transform:translateY(0)}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-text-negative)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto;border-width:.25rem}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}[data-size=s][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin:0 .125rem 0 -.375rem}[data-size=m][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}[data-size=l][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-end:.75rem}.t-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.125rem}[data-size=s][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.375rem}[_nghost-%COMP%]:not([data-size=s])   .t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-inline-start:.25rem}[_nghost-%COMP%]{cursor:text}._expandable[_nghost-%COMP%]{block-size:auto;max-block-size:none}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}._readonly[_nghost-%COMP%]{cursor:default}[data-size=m][_nghost-%COMP%]{line-height:1rem}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-scrollbar[_ngcontent-%COMP%]{scroll-behavior:var(--tui-scroll-behavior);margin-inline-start:-.25rem;min-inline-size:100%}[_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%], ._label-outside._icon-start[_nghost-%COMP%]   .t-scrollbar[_ngcontent-%COMP%]{margin:0}[data-size=s]._icon-start[_nghost-%COMP%]   .t-scrollbar[_ngcontent-%COMP%]{margin-inline-start:.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%]{border-block-start:1rem solid transparent}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%]{border-block-start:1.25rem solid transparent}.t-tags[_ngcontent-%COMP%]{display:flex;padding-inline-start:.25rem}.t-tags_expandable[_ngcontent-%COMP%]{overflow:hidden}.t-tags_empty[_ngcontent-%COMP%]{block-size:0}._expandable[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{flex-wrap:wrap;white-space:normal;overflow:hidden}._readonly[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{pointer-events:none}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%], [data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%]{padding:0}.t-tags[_ngcontent-%COMP%]   tui-tag[_ngcontent-%COMP%]:last-of-type{max-inline-size:80%}.t-content[_ngcontent-%COMP%]{align-items:flex-start}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-l)}[data-size=s][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-l)}.t-absolute-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column;justify-content:center}[data-size=m][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-l)}.t-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:0;box-sizing:border-box}[data-size=s][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{min-block-size:var(--tui-height-s);padding:calc((var(--tui-height-s) - 1.5rem) / 2) 0}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{min-block-size:var(--tui-height-m);padding:calc((var(--tui-height-m) - var(--tui-height-xs) - .25rem) / 2) 0}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-l) - var(--tui-height-s) - .25rem) / 2) 0}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-m) - 2rem) / 2) 0}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-l) - 2.5rem) / 2) 0}.t-tag[_ngcontent-%COMP%]{margin:.125rem .5rem .125rem -.25rem;margin-inline-start:-.25rem;margin-inline-end:.5rem;max-inline-size:100%;flex-shrink:0}[data-size=m][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}.t-text[_ngcontent-%COMP%]:after{content:",\\a0"}.t-text_disabled[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-text_error[_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-text[_ngcontent-%COMP%]:not(.t-text_comma):last-of-type:after{content:""}[_nghost-%COMP%]:not(._expandable)   .t-text[_ngcontent-%COMP%]{white-space:nowrap}.t-input-wrapper[_ngcontent-%COMP%], .t-value-content[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;max-inline-size:100%}[data-size=s][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=s][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:1.5rem}[data-size=m][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:calc(var(--tui-height-xs) + 2 * .125rem)}[data-size=l][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=l][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:calc(var(--tui-height-s) + 2 * .125rem)}[_nghost-%COMP%]:not(._label-outside)   .t-input-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]:not(._label-outside)   .t-value-content[_ngcontent-%COMP%]{min-block-size:1rem}.t-input-wrapper_collapsed[_ngcontent-%COMP%]{flex:0;margin-inline-start:-.5rem}.t-value-content[_ngcontent-%COMP%]:empty{display:none}.t-ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip;min-inline-size:.125rem}[_nghost-%COMP%]:not(._expandable)   .t-ghost[_ngcontent-%COMP%]{min-inline-size:2rem}.t-native[_ngcontent-%COMP%]{margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;padding:0;cursor:inherit}.t-native[_ngcontent-%COMP%]:-webkit-autofill, .t-native[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-native[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-native[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-native_hidden[_ngcontent-%COMP%]{opacity:0;text-indent:-10em}.t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}[tuiTheme="dark"][_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder, [tuiTheme="dark"]   [_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary)}._focused[_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}.t-error-icon[_ngcontent-%COMP%]{display:block;color:var(--tui-status-negative);font-size:1rem;width:1rem;height:1rem}'],changeDetection:0})}}return q})(),Xi=(()=>{class q{constructor(){this.context=(0,Bn.FQ)(),this.value=this.context.data}complete(){this.context.completeWith("slide-up")}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:4,vars:1,consts:[[1,"ws-update-alert"],["iconStart","appIconArrowNarrowUp","size","s","tuiIconButton","","type","button","appearance","ws-alert",3,"click"]],template:function(ee,he){1&ee&&(u.TgZ(0,"div",0)(1,"span"),u._uU(2),u.qZA(),u.TgZ(3,"button",1),u.NdJ("click",function(){return he.complete()}),u.qZA()()),2&ee&&(u.xp6(2),u.Oqu(he.value))},dependencies:[Nt.xG],styles:[".ws-update-alert[_ngcontent-%COMP%]{padding:4px 12px;display:flex;height:32px;justify-content:center;align-items:center;gap:4px}"],changeDetection:0})}}return q})(),Bo=(()=>{class q{constructor(){this.alertClose=new u.vpe}complete(){this.alertClose.emit()}static{this.\u0275fac=function(ee){return new(ee||q)}}static{this.\u0275cmp=u.Xpm({type:q,selectors:[["app-ws-update"]],hostBindings:function(ee,he){1&ee&&u.NdJ("click",function(){return he.complete()})},inputs:{newItems:"newItems"},outputs:{alertClose:"alertClose"},standalone:!0,features:[u.jDz],decls:4,vars:1,consts:[[1,"ws-update"],["iconStart","appIconArrowNarrowUp","size","s","tuiIconButton","","type","button","appearance","ws-alert"]],template:function(ee,he){1&ee&&(u.TgZ(0,"div",0)(1,"span"),u._uU(2),u.qZA(),u._UZ(3,"button",1),u.qZA()),2&ee&&(u.xp6(2),u.hij("",he.newItems>20?"20+":he.newItems," \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439"))},dependencies:[Nt.xG],styles:["[_nghost-%COMP%]{position:absolute;z-index:300;bottom:16px;left:50%;display:flex;width:162px;height:32px;justify-content:center;align-items:center;color:#fff;background-color:#4a4a4a;border-radius:16px;transform:translate(-50%);cursor:pointer}.ws-update[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:4px}"],changeDetection:0})}}return q})();var _o=o(7582),wo=o(5505);const Dr=["textRef"];function Er(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"tui-icon",9),u.NdJ("click",function(he){const bi=u.CHM(_t).ngIf,vo=u.oxw(3);return u.KtG(vo.callClinic.emit({event:he,phone:bi}))}),u.qZA()}2&q&&u.Q6J("dmsCopyToClipboard",Re.ngIf)}function kr(q,Re){if(1&q&&(u.ynx(0),u.TgZ(1,"span"),u._uU(2),u.qZA(),u.YNc(3,Er,1,1,"tui-icon",8),u.BQk()),2&q){const _t=u.oxw().$implicit;u.xp6(2),u.Oqu(_t.text),u.xp6(1),u.Q6J("ngIf",_t.phone)}}function gr(q,Re){if(1&q&&u._uU(0),2&q){const _t=u.oxw().$implicit;u.Oqu(_t.text)}}function Jo(q,Re){if(1&q&&(u.ynx(0),u.YNc(1,kr,4,2,"ng-container",6),u.YNc(2,gr,1,1,"ng-template",null,7,u.W1O),u.BQk()),2&q){const _t=Re.$implicit,ee=u.MAs(3);u.xp6(1),u.Q6J("ngIf",_t.isPhone)("ngIfElse",ee)}}function ar(q,Re){1&q&&u._UZ(0,"div",10)}function xr(q,Re){if(1&q){const _t=u.EpF();u.TgZ(0,"a",11),u.NdJ("click",function(he){u.CHM(_t);const ri=u.oxw();return u.KtG(ri.toggle(he))}),u._uU(1),u.qZA()}if(2&q){const _t=u.oxw();u.xp6(1),u.hij(" ",_t.isExpanded?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435","\n")}}class Tr{set contentData(Re){this.content="string"==typeof Re?Re:this.getRegistryCommentNormalizedDescription(Re)}constructor(Re){this.changeDetector=Re,this.toggleExpanded=new u.vpe,this.callClinic=new u.vpe,this.isExpanded=!1,this.showToggle=!1,this.parts=[]}ngOnInit(){if("string"!=typeof this.content){const Re=this.content.phoneNumbers?.map(_t=>_t.normalized)??null;this.parts=this.splitOnPartsByPhones(this.content.description,Re)}else this.parts=[{text:this.content,isPhone:!1}]}ngAfterViewInit(){setTimeout(()=>this.checkIfClamped())}getRegistryCommentNormalizedDescription(Re){if(!Re.description)return Re;let _t=Re.description;return Re.phoneNumbers?.forEach(ee=>{_t=_t.replace(ee.raw,ee.normalized)}),Re.description=_t.trim(),Re}splitOnPartsByPhones(Re,_t){let ee=[{text:Re,isPhone:!1}];if(!_t)return ee;for(const he of _t){const ri=[];for(const bi of ee){if(bi.isPhone){ri.push(bi);continue}let vo=bi.text,Rr=vo.indexOf(he);for(;-1!==Rr;)Rr>0&&ri.push({text:vo.slice(0,Rr),isPhone:!1}),ri.push({text:he,isPhone:!0,phone:he}),vo=vo.slice(Rr+he.length),Rr=vo.indexOf(he);vo.length&&ri.push({text:vo,isPhone:!1})}ee=ri}return ee}checkIfClamped(){const Re=this.textRef.nativeElement,_t=Re.classList.contains("clamped");_t&&Re.classList.remove("clamped"),requestAnimationFrame(()=>{const ee=window.getComputedStyle(Re),he=parseFloat(ee.getPropertyValue("lineHeight")||"20");this.showToggle=Re.scrollHeight/he>=2,_t&&!this.isExpanded&&Re.classList.add("clamped"),this.changeDetector.detectChanges()})}toggle(Re){this.isExpanded=!this.isExpanded,this.toggleExpanded.emit(Re),Re.preventDefault()}static{this.\u0275fac=function(_t){return new(_t||Tr)(u.Y36(u.sBO))}}static{this.\u0275cmp=u.Xpm({type:Tr,selectors:[["app-note"]],viewQuery:function(_t,ee){if(1&_t&&u.Gf(Dr,5),2&_t){let he;u.iGM(he=u.CRH())&&(ee.textRef=he.first)}},inputs:{contentData:"contentData"},outputs:{toggleExpanded:"toggleExpanded",callClinic:"callClinic"},standalone:!0,features:[u.jDz],decls:6,vars:5,consts:[[1,"text-wrapper"],[1,"text-content"],["textRef",""],[4,"ngFor","ngForOf"],["class","fade-overlay",4,"ngIf"],["tuiLink","","class","note-toggle","href","#",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["isNotPhoneBlock",""],["icon","@tui.copy","class","copy-icon","notificationText","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u041b\u041f\u0423 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d",3,"dmsCopyToClipboard","click",4,"ngIf"],["icon","@tui.copy","notificationText","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u041b\u041f\u0423 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d",1,"copy-icon",3,"dmsCopyToClipboard","click"],[1,"fade-overlay"],["tuiLink","","href","#",1,"note-toggle",3,"click"]],template:function(_t,ee){1&_t&&(u.TgZ(0,"div",0)(1,"div",1,2),u.YNc(3,Jo,4,2,"ng-container",3),u.qZA(),u.YNc(4,ar,1,0,"div",4),u.qZA(),u.YNc(5,xr,2,1,"a",5)),2&_t&&(u.xp6(1),u.ekj("clamped",!ee.isExpanded),u.xp6(2),u.Q6J("ngForOf",ee.parts),u.xp6(1),u.Q6J("ngIf",!ee.isExpanded&&ee.showToggle),u.xp6(1),u.Q6J("ngIf",ee.showToggle))},dependencies:[Wt.O5,wo.lI,Wt.sg,yt.R,w.fT],styles:[".text-wrapper[_ngcontent-%COMP%]{position:relative}.text-content[_ngcontent-%COMP%]{overflow:hidden;line-height:20px;transition:max-height 3s ease}.clamped[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;max-height:60px}.fade-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;left:0;height:20px;pointer-events:none;background:linear-gradient(to bottom,rgba(255,255,255,0),rgb(245,245,245))}.note-toggle[_ngcontent-%COMP%]{position:relative;left:-3px}.copy-icon[_ngcontent-%COMP%]{margin-left:2px;color:var(--dms-icon-primary-color);cursor:pointer}"],changeDetection:0})}}(0,_o.gn)([_i.UM],Tr.prototype,"getRegistryCommentNormalizedDescription",null);var Zo=o(2752),rs=o(692);let wt=(()=>{class q extends ii{constructor(){super(...arguments),this.endPoint="address-suggestions/address",this.aegleRestService=(0,u.f3M)(rs.DA)}getSuggestionsRest(_t){return this.aegleRestService.get(`/${this.endPoint}`,{params:{address:_t}}).pipe((0,et.U)(ee=>ee.map(he=>({...he,value:he.address}))))}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275dir=u.lG2({type:q,selectors:[["","appSuggestAddress",""]],standalone:!0,features:[u._Bn([{provide:ii,useExisting:q}]),u.qOj]})}}return q})(),nn=(()=>{class q extends ii{constructor(){super(...arguments),this.aegleRestService=(0,u.f3M)(rs.DA),this.city="",this.endPoint="address-suggestions/metro-stations"}setCity(_t){this.city=_t}getSuggestionsRest(_t){return this.city?this.aegleRestService.get(`/${this.endPoint}`,{params:{city:this.city,metro:_t}}).pipe((0,et.U)(ee=>ee.isFound?ee.names.map(he=>({value:he,metro:he})):[])):(0,Et.of)([])}static{this.\u0275fac=function(){let _t;return function(he){return(_t||(_t=u.n5z(q)))(he||q)}}()}static{this.\u0275dir=u.lG2({type:q,selectors:[["","appSuggestMetro",""]],standalone:!0,features:[u._Bn([{provide:ii,useExisting:q}]),u.qOj]})}}return q})();o(76);var Yt=o(6293),Te=o(9673);class Cn extends Te.m1{getItemByIdOrCode(Re){return this.checkIsLoading(),this.get(_t=>_t.entities[Re])}getRequestPayload(Re){return{dictionaryName:this.name,filters:Re}}constructor(Re,_t){super(_t.getInitialState({isLoading:!0,error:null})),this.restService=(0,u.f3M)(t),this.isLoading$=this.select(ee=>ee.isLoading),this.error$=this.select(ee=>ee.error),this.keyToItem$=this.select(ee=>this.adapter.getSelectors().selectEntities(ee)),this.item$=ee=>this.select(this.keyToItem$,he=>ee&&he[ee]||null),this.simpleDictItems$=this.select(ee=>this.adapter.getSelectors().selectAll(ee)).pipe((0,p.h)(ee=>ee.length>0)),this.simpleItems$=this.select(ee=>this.adapter.getSelectors().selectAll(ee)),this.simpleDict$=this.select(ee=>this.adapter.getSelectors().selectEntities(ee)),this.idsDict$=this.select(ee=>this.adapter.getSelectors().selectIds(ee)),this.totalCountDict$=this.select(ee=>this.adapter.getSelectors().selectTotal(ee)),this.setLoading=this.updater(()=>this.adapter.getInitialState({isLoading:!0,error:null})),this.init=this.effect(ee=>ee.pipe((0,p.h)(()=>!this.get(he=>this.adapter.getSelectors().selectTotal(he))),(0,ao.b)(()=>this.setLoading()),(0,V.w)(()=>this.getDictMethod(this.getRequestPayload()).pipe((0,Te._b)(this.responseObserver))))),this.filterDict=this.effect(ee=>ee.pipe((0,ao.b)(()=>this.setLoading()),(0,V.w)(he=>{const ri=this.getRequestPayload(he);return this.getDictMethod(ri).pipe((0,Te._b)(this.responseObserver))}))),this.getCodeByValue=ee=>{this.checkIsLoading();const he=this.getUniqueField(),ri=this.getCodeField();return this.adapter.getSelectors().selectAll(this.get()).find(vo=>vo[he]===ee)?.[ri]},this.getValueByCode=ee=>{const he=this.getItemByIdOrCode(ee);return he?this.getValueUniqueField(he):ee},this.stringify=ee=>{const he=this.getItemByIdOrCode(ee),ri=this.getCodeField();return he?`${String(he[ri])?`${String(he[ri])} `:ee} ${this.getValueUniqueField(he)}`:ee},this.responseObserver={next:ee=>this.setState(he=>({...this.adapter.setAll(ee,he),isLoading:!1,error:null})),error:ee=>this.patchState({isLoading:!1,error:ee})},this.adapter=_t,this.name=Re}checkIsLoading(){this.get(_t=>_t.isLoading)&&console.error(`Dictionary ${this.name} is loading`)}getDictMethod(Re){return this.restService.getSimpleDict(Re)}}class di extends Cn{getValueUniqueField(Re){return Re[this.getUniqueField()]}getUniqueField(){return"value"}getCodeField(){return"code"}}const ro=(0,Yt.H)({selectId:q=>q.code});class Mt extends di{constructor(Re){super(Re,ro)}}const yn=(0,Yt.H)({selectId:q=>q.uid});class Ct extends di{constructor(Re){super(Re,yn)}}class qt{static convertFromDto(Re){throw new Error("Method not implemented!")}}class Je extends Cn{getValueUniqueField(Re){return Re[this.getUniqueField()]}getUniqueField(){return"name"}getCodeField(){return"code"}}class vt extends Je{constructor(Re){super(Re,(0,Yt.H)({selectId:q=>q.code.toString()}))}}class b extends Cn{getValueUniqueField(Re){return Re[this.getUniqueField()]}getUniqueField(){return"priority"}getCodeField(){return"priority"}}const ft=(0,Yt.H)({selectId:q=>q.priority});class jt extends b{constructor(Re){super(Re,ft)}}class ye extends Cn{getValueUniqueField(Re){return Re[this.getUniqueField()]}getTimeZoneUniqueField(Re){return Re[this.getTimezoneField()]}getUniqueField(){return"name"}getCodeField(){return"code"}getTimezoneField(){return"timezone"}}const vn=(0,Yt.H)({selectId:q=>q.code});class Nn extends ye{constructor(Re){super(Re,vn)}}var Un=o(3820),Wn=o(3718),Oi=o(581),oo=o(5037);const Do={provide:dr.Mu,useValue:{fromControlValue:q=>{if((0,_i.Aj)(q)){if(0===q.length)return[null,null];if(/[+-]\d{2}:\d{2}$/.test(q)){const ee=oo.ou.fromISO(q,{setZone:!0}),{hour:he,minute:ri,second:bi,year:vo,month:Rr,day:ss}=ee;return[new Yn.TU(vo,Rr-1,ss),new Yn.qD(he,ri,bi)]}const _t=(0,Un.Z)(q);return[new Yn.TU(_t.getFullYear(),_t.getMonth(),_t.getDate()),new Yn.qD(_t.getHours(),_t.getMinutes(),_t.getSeconds())]}return q},toControlValue:q=>{if(q&&Array.isArray(q)){const[Re,_t]=q,ee=Re&&Re.valueOf()||null,he=_t&&_t.valueOf()||0,ri=ee?(0,Wn.Z)((0,Oi.Z)(ee+he)):void 0;return ri?oo.ou.fromISO(ri).toUTC().toISO()??void 0:void 0}return q}}},Qo={provide:dr.px,useValue:{fromControlValue:q=>q?Yn.qD.fromString(q):null,toControlValue:q=>q?q.toString():""}},fo={provide:dr.HF,useValue:{fromControlValue:q=>{if((0,_i.Aj)(q)){if(0===q.length)return null;if(/[+-]\d{2}:\d{2}$/.test(q)){const ee=oo.ou.fromISO(q,{setZone:!0}),{year:he,month:ri,day:bi}=ee;return new Yn.TU(he,ri-1,bi)}const _t=(0,Un.Z)(q);return new Yn.TU(_t.getFullYear(),_t.getMonth(),_t.getDate())}return q},toControlValue:q=>{if(q){const Re=q.valueOf()||0,_t=(0,Wn.Z)((0,Oi.Z)(Re));return _t?oo.ou.fromISO(_t).toUTC().toISO()??void 0:void 0}}}},_r={provide:dr.HF,useValue:{fromControlValue:q=>{if((0,_i.Aj)(q)){if(0===q.length)return null;let Re;if(q.includes(".")){const[_t,ee,he]=q.split(".").map(Number);Re=new Date(he,ee-1,_t)}else Re=(0,Un.Z)(q);return new Yn.TU(Re.getFullYear(),Re.getMonth(),Re.getDate())}return q},toControlValue:q=>{if(q){const Re=q.valueOf()||0;return(0,Wn.Z)((0,Oi.Z)(Re),{representation:"date"})}}}}},3626:(Qt,$,o)=>{"use strict";o.d($,{L:()=>a});var e=o(5037),t=o(5879);let a=(()=>{class i{transform(T,_="yyyy-MM-dd HH:mm"){if(!T)return"-";const m=/[+-]\d{2}:\d{2}$/.test(T),h=T.endsWith("Z");let f;return f=m?e.ou.fromISO(T,{setZone:!0}):h?e.ou.fromISO(T,{zone:"utc"}).setZone(e.ou.local().zoneName):e.ou.fromISO(T),f.isValid?f.toFormat(_,{locale:"ru"}):T}static{this.\u0275fac=function(_){return new(_||i)}}static{this.\u0275pipe=t.Yjl({name:"fixedDateBasedOnTimeZone",type:i,pure:!0,standalone:!0})}}return i})()},4287:(Qt,$,o)=>{"use strict";o.d($,{L:()=>e.L});var e=o(3626)},2752:(Qt,$,o)=>{"use strict";o.d($,{xj:()=>f,dV:()=>D,KD:()=>i.K}),o(692);var i=o(2707),g=o(5879),T=o(9080),_=o(9397),m=o(3020),h=o(8601);let f=(()=>{class y{constructor(){this.settings=(0,g.f3M)(h.UM,{optional:!0}),this.START_DUE=this.settings?.startDue||1,this.INTERVAL_DURATION=this.settings?.intervalDuration||3e4}startPolling(O,M){this.pollingSub$=(0,T.H)(M??this.START_DUE,this.INTERVAL_DURATION).pipe((0,_.b)(()=>{O()}),(0,m.B)()).subscribe()}stopPolling(){this.pollingSub$&&!this.pollingSub$.closed&&this.pollingSub$.unsubscribe()}ngOnDestroy(){this.pollingSub$&&this.pollingSub$.unsubscribe()}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac})}}return y})();var v=o(7394),C=o(4664);let D=(()=>{class y{constructor(){this.settings=(0,g.f3M)(h.UM,{optional:!0}),this.START_DUE=this.settings?.startDue||1,this.INTERVAL_DURATION=this.settings?.intervalDuration||3e4,this.pollingSub$=v.w0.EMPTY}startPolling(O){this.pollingSub$=(0,T.H)(this.START_DUE,this.INTERVAL_DURATION).pipe((0,C.w)(()=>O())).subscribe()}stopPolling(){this.pollingSub$.closed||this.pollingSub$.unsubscribe()}ngOnDestroy(){this.pollingSub$.unsubscribe()}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac})}}return y})()},2707:(Qt,$,o)=>{"use strict";o.d($,{K:()=>T});var e=o(5879),t=o(1993),a=o(1912),i=o(4221),g=o(2181);let T=(()=>{class _{constructor(){this.profileStore=(0,e.f3M)(i.yh),this.permissions=(0,t.O4)(this.profileStore.select(a.CurrentUserPermissionCodesSelector).pipe((0,g.h)(Boolean)))}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},8601:(Qt,$,o)=>{"use strict";o.d($,{JJ:()=>V,cl:()=>t,eG:()=>ht,Up:()=>v,ro:()=>m,Ut:()=>h,Ly:()=>f,Jo:()=>C,aQ:()=>D,sY:()=>w,J6:()=>E,GQ:()=>p,Ow:()=>O,UM:()=>A,wV:()=>L,$w:()=>U,Tt:()=>tt,mM:()=>R,e6:()=>y,R1:()=>M});var e=o(5879);const t=new e.OlP("Provide Observable with flag confirmedPhoneIsValid");var a=o(545),i=o(3033),g=o(2926),T=o(7398),_=o(2837);const m=new e.OlP("Token is provides Observable with regNumber of dp request",{providedIn:"root",factory:()=>(0,e.f3M)(g.fT).param$("regNumber").pipe((0,T.U)(it=>it||null))}),h=new e.OlP("Provide Observable with task group number"),f=new e.OlP("Token is provides Observable with taskNumber of dp request",{providedIn:"root",factory:()=>(0,e.f3M)(g.fT).param$("taskId").pipe((0,T.U)(it=>it||null))}),v=new e.OlP("Token is provides Observable with id of dp request",{providedIn:"root",factory:()=>(0,e.f3M)(g.fT).param$("requestId").pipe((0,T.U)(it=>it||null))}),C=new e.OlP("Token provides Observable with extCaseCrmId",{providedIn:"root",factory:()=>(0,e.f3M)(g.fT).queryParam$(i.RF).pipe((0,T.U)(it=>it||null))}),D=new e.OlP("Token provides Observable with chatCrmName",{providedIn:"root",factory:()=>(0,e.f3M)(g.fT).queryParam$(a.Nt).pipe((0,T.U)(it=>it||null))}),y=new e.OlP("Token provides Observable with taskUid",{providedIn:"root",factory:()=>(0,e.f3M)(g.fT).queryParam$(_.qR).pipe((0,T.U)(it=>it||null))}),E=new e.OlP("Flag for the flow of new client",{factory:()=>!1}),O=new e.OlP("Provide Observable with policy number"),M=new e.OlP("Provide function for updating policy"),U=new e.OlP("REQUEST_CLIENT_TOKEN"),R=new e.OlP("Provide Observable with policy franchiseStatusId"),A=new e.OlP("Provide polling settings");var S=o(2181);const w={EDIT:"edit",CREATE:"create"},p=new e.OlP("Provide observable with mode of dp-request form",{providedIn:"root",factory:()=>(0,e.f3M)(v).pipe((0,S.h)(Boolean),(0,T.U)(it=>it===w.CREATE?it:w.EDIT))}),L=new e.OlP("Token that refresh request"),V=new e.OlP("Provide global(browser) offset of user from UTC");var et=o(8645);const tt=new e.OlP("Using like a trigger for sending (when form is invalid) and catching saving request and do change detection",{factory:()=>new et.x}),ht=new e.OlP("Using like a tracking of working a task (put off a task, return a task) - delaying logic",{providedIn:"root",factory:()=>new et.x})},2550:(Qt,$,o)=>{"use strict";o.d($,{eP:()=>T,P1:()=>g,yl:()=>i,rd:()=>a});var e=o(5037);const a=(_,m)=>{if(!_||!m)return _;const f=m;return e.ou.fromISO(_,{zone:"utc"}).setZone(f).toISO()},i=(_,m,h)=>{const f=m.reduce((v,C)=>{const D=_[C];if(D&&"string"==typeof D){const y=a(D,h)??"";null!==y&&(v[C]=y)}return v},{});return{..._,...f}},g=_=>e.ou.fromISO((_??new Date).toISOString(),{zone:"utc"}).toFormat("yyyy-MM-dd'T'HH:mm:ss'Z'"),T=(_,m,h)=>{if(!_||!m)return _;const f=e.ou.fromISO(_,{zone:"utc"}).setZone(h);return e.ou.fromObject({year:f.year,month:f.month,day:f.day,hour:f.hour,minute:f.minute,second:f.second},{zone:m}).toUTC().toISO()}},2206:(Qt,$,o)=>{"use strict";o.d($,{O_:()=>y,Y1:()=>st,iZ:()=>E,FL:()=>u,f2:()=>St,UV:()=>ut,BP:()=>A});var e=o(7582),t=o(5879),a=o(9673),i=o(8451),g=o(8645),T=o(5619),_=o(9773),m=o(2181),h=o(3620),f=o(7398),v=o(9397),C=o(8180);class D{}const y=new t.OlP("Provide filter form");class E{constructor(){this.effect=a.m1.prototype.effect,this.destroy$=new g.x,this.filterForm=(0,t.f3M)(y),this.filterStore=(0,t.f3M)(D),this.isInitialized=new T.X(!1),this.filter$=this.filterStore.allFilters$.pipe((0,_.R)(this.destroy$),(0,f.U)(I=>I&&Object.fromEntries(this.codes.map(F=>[F,I[F]]))),(0,m.h)(Boolean)),this.codes=[],this.allFilter$=this.filterStore.allFilters$.pipe((0,_.R)(this.destroy$)),this.setFilter=this.effect(I=>I.pipe((0,m.h)(Boolean),(0,h.b)(300),(0,f.U)(F=>Object.fromEntries(Object.entries(F).map(([ot,nt])=>[ot,this.prepareValueFromForm(nt)]))),(0,v.b)(F=>this.filterStore.set(F))))}get isInitialized$(){return this.isInitialized.asObservable()}init(){this.filterForm.valueChanges.pipe((0,_.R)(this.destroy$)).subscribe(I=>this.setFilter(I)),this.codes=Object.keys(this.filterForm.controls),this.setInitialValueToForm()}resetFilters(){this.filterForm.reset()}getFilterByCode(I){return this.filter$.pipe((0,f.U)(F=>F[I]))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.isInitialized.complete()}setInitialValueToForm(){this.filter$.pipe((0,C.q)(1)).subscribe(I=>{this.filterForm.patchValue(this.prepareValueToForm(I)),this.isFilledAtLeastOneField(I)&&this.filterForm.markAsDirty(),this.isInitialized.next(!0)})}isFilledAtLeastOneField(I){return Object.values(I).some(F=>!!F)}prepareValueFromForm(I){return Array.isArray(I)?I.length>0?JSON.stringify(I):void 0:I||void 0}prepareValueToForm(I){const F={};return Object.entries(I).forEach(([ot,nt])=>{try{nt&&(F[ot]=JSON.parse(nt))}catch{F[ot]=nt}}),F}static{this.\u0275fac=function(F){return new(F||E)}}static{this.\u0275prov=t.Yz7({token:E,factory:E.\u0275fac})}}(0,e.gn)([i.UM],E.prototype,"isInitialized$",null);class O extends D{constructor(){super(...arguments),this.filters=new T.X({})}get allFilters$(){return this.filters.asObservable()}filter$(I){return this.allFilters$.pipe((0,f.U)(F=>F[I]))}set(I){const F={...this.filters.value};Object.entries(I).forEach(([ot,nt])=>{nt?F[ot]=String(nt):delete F[ot]}),(Object.keys(this.filters.value).length>0||Object.keys(F).length>0)&&this.filters.next(F)}}(0,e.gn)([i.UM],O.prototype,"allFilters$",null);var M=o(2926);const A={provide:D,useClass:{ROUTER:(()=>{class Z extends D{constructor(){super(...arguments),this.routerStore=(0,t.f3M)(M.fT)}get allFilters$(){return this.routerStore.queryParams$}filter$(F){return this.routerStore.queryParam$(F)}set(F){this.routerStore.setQueryParams(F)}static{this.\u0275fac=function(){let F;return function(nt){return(F||(F=t.n5z(Z)))(nt||Z)}}()}static{this.\u0275prov=t.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})(),LOCAL:O}.ROUTER};var w=o(6814),p=o(7331),L=o(721),V=o(2527),et=o(5586),tt=o(334);function ht(Z,I){if(1&Z&&(t.ynx(0),t._uU(1),t.BQk()),2&Z){const F=I.polymorpheusOutlet;t.xp6(1),t.hij(" ",F," ")}}function it(Z,I){if(1&Z&&(t.TgZ(0,"div",3),t.YNc(1,ht,2,1,"ng-container",4),t.qZA()),2&Z){const F=t.oxw(2);t.xp6(1),t.Q6J("polymorpheusOutlet",F.template)}}function It(Z,I){if(1&Z&&t.YNc(0,it,2,1,"div",2),2&Z){const F=t.oxw();t.Q6J("ngIf",F.template)}}let st=(()=>{class Z{constructor(){this.isApplied=!1,this.open=!1}get applied(){return this.isApplied}onClick(){this.open=!this.open}onObscured(F){F&&(this.open=!1)}onActiveZone(F){this.open=F&&this.open}static{this.\u0275fac=function(ot){return new(ot||Z)}}static{this.\u0275cmp=t.Xpm({type:Z,selectors:[["app-filter-funnel"]],hostVars:2,hostBindings:function(ot,nt){2&ot&&t.ekj("applied",nt.applied)},inputs:{template:"template",isApplied:["isApplied","isApplied",F=>!!F]},standalone:!0,features:[t.Xq5,t.jDz],decls:4,vars:3,consts:[["tuiIconButton","","iconStart","appIconFilter","appearance","action-grayscale","size","m","tuiDropdownAppearance","cloud",3,"tuiDropdown","tuiDropdownManual","tuiObscuredEnabled","click","tuiActiveZoneChange","tuiObscured"],["content",""],["class","island",4,"ngIf"],[1,"island"],[4,"polymorpheusOutlet"]],template:function(ot,nt){if(1&ot&&(t.TgZ(0,"button",0),t.NdJ("click",function(Dt){return Dt.stopPropagation(),nt.onClick()})("tuiActiveZoneChange",function(Dt){return nt.onActiveZone(Dt)})("tuiObscured",function(Dt){return nt.onObscured(Dt)}),t._uU(1," \u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 "),t.qZA(),t.YNc(2,It,1,1,"ng-template",null,1,t.W1O)),2&ot){const At=t.MAs(3);t.Q6J("tuiDropdown",At)("tuiDropdownManual",nt.open)("tuiObscuredEnabled",nt.open)}},dependencies:[V.xG,et.s$,tt.Ek,tt.td,tt.nS,p.d,L.Q,w.O5],styles:['.applied[_nghost-%COMP%]{position:relative}.applied[_nghost-%COMP%]:after{position:absolute;top:8px;right:8px;width:8px;height:8px;content:"";background-color:var(--tui-status-negative);border-radius:50%}.island[_ngcontent-%COMP%]{padding:12px;min-width:407px}'],changeDetection:0})}}return Z})();const dt={1:"desc","-1":"asc"},St=Z=>{if(Z.sortField){const I=dt[Z.sortDirection.toString()]||"desc";return{sortField:Z.sortField,sortDirection:I}}};var bt=o(7354);const u=Z=>{const I=(0,bt.fY)(Z.dateFrom,!0),F=(0,bt.fY)(Z.dateTo,!0);return I&&F?{dateFrom:I,dateTo:F}:void 0},ut=(Z,I)=>{try{return JSON.parse(Z)}catch(F){return void console.error(`\u041f\u0440\u0438 \u0440\u0430\u0437\u0431\u043e\u0440\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 ${I} \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430`,F)}}},2926:(Qt,$,o)=>{"use strict";o.d($,{Cp:()=>O,aP:()=>U,cI:()=>R,fT:()=>f,Ob:()=>C});var e=o(5879),t=o(4190),a=o(6321),i=o(4221);const g=A=>A.router?.state,T=(0,i.P1)(g,A=>A?.queryParams),m=(0,i.P1)(g,A=>A?.params);let f=(()=>{class A{constructor(w){this.store=w,this.router=(0,e.f3M)(t.F0),this.queryParams$=this.store.select(T),this.queryParam$=p=>this.store.select((A=>(0,i.P1)(T,S=>S&&S[A]))(p)),this.param$=p=>this.store.select((A=>(0,i.P1)(m,S=>S&&S[A]))(p))}setQueryParams(w){return a.z.schedule(()=>{this.router.navigate([],{queryParams:w,queryParamsHandling:"merge"})},0)}static{this.\u0275fac=function(p){return new(p||A)(e.LFG(i.yh))}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const C={router:o(493).mg};var D=o(2181),y=o(3997),E=o(2460);const O=new e.OlP("Provide Observable with policy params: guid and sysCode",{providedIn:"root",factory:()=>{const A=(0,e.f3M)(f),S=A.param$("sysCode").pipe((0,D.h)(p=>"string"==typeof p),(0,y.x)());return A.param$("guid").pipe((0,D.h)(p=>!!p),(0,y.x)()).pipe((0,E.M)(S))}});var M=o(7398);const U=new e.OlP("Token is provides Observable with regNumber of request",{providedIn:"root",factory:()=>(0,e.f3M)(f).param$("regNumber").pipe((0,M.U)(A=>A?A.replace("-","/"):null))});class R{serialize(S){let w=S.root,p={};for(;w.firstChild;)w=w.firstChild,p={...p,...w.params};const{url:L,root:{queryParams:V}}=S;return{url:L,params:p,queryParams:V}}}},1141:(Qt,$,o)=>{"use strict";var e=o(6593),t=o(6814),a=o(7582),i=o(5879),g=o(6223),T=o(4190),_=o(2707),m=o(8451),h=o(2527),f=o(7019);const v=[{label:"\u0421\u0443\u043f\u0435\u0440\u0432\u0438\u0437\u043e\u0440",path:"supervisor",icon:"supervisorIcon",requiredPermission:[f.OP.READ_ALL_REQUEST_SUPERVISOR]},{label:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0442\u043e\u043b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",path:"employee",icon:"@tui.document",requiredPermission:[f.OP.READ_ALL_REQUEST_EMPLOYEE]},{label:"\u041f\u043e\u0438\u0441\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",path:"clients",icon:"clientsNavIcon"}];var C=o(6201);function D(Fe,cn){if(1&Fe&&i._UZ(0,"a",2),2&Fe){const ve=cn.$implicit,en=i.oxw();i.ekj("disabled",en.menuItemDisabled(ve.requiredPermission)),i.Q6J("iconStart",ve.icon)("routerLink",en.menuItemDisabled(ve.requiredPermission)?null:ve.path)("tuiHint",ve.label)}}class y{constructor(){this.userService=(0,i.f3M)(_.K),this.mainNavList=v}menuItemDisabled(cn){return!(!cn||!cn.length||this.userService.permissions()?.some(ve=>cn?.includes(ve)))}static{this.\u0275fac=function(ve){return new(ve||y)}}static{this.\u0275cmp=i.Xpm({type:y,selectors:[["app-nav-menu"]],standalone:!0,features:[i.jDz],decls:2,vars:1,consts:[[1,"navigation-items"],["routerLinkActive","active","appearance","custom","tuiIconButton","","size","m","tuiHintAppearance","dark",3,"iconStart","routerLink","disabled","tuiHint",4,"ngFor","ngForOf"],["routerLinkActive","active","appearance","custom","tuiIconButton","","size","m","tuiHintAppearance","dark",3,"iconStart","routerLink","tuiHint"]],template:function(ve,en){1&ve&&(i.TgZ(0,"div",0),i.YNc(1,D,1,5,"a",1),i.qZA()),2&ve&&(i.xp6(1),i.Q6J("ngForOf",en.mainNavList))},dependencies:[h.xG,t.sg,T.Od,T.rH,C.D,g.UX],styles:["[_nghost-%COMP%]{padding:8px;display:flex;max-height:100%;flex-direction:column;justify-content:space-between;background:var(--tui-background-base-alt);border-radius:var(--tui-radius-s)}[_nghost-%COMP%]   .navigation-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}[_nghost-%COMP%]   a[tuiIconButton][_ngcontent-%COMP%]{color:var(--dms-icon-primary-color);background-color:#e0e0e0;transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--t-radius: var(--tui-radius-xxs)}[_nghost-%COMP%]   a[tuiIconButton][_ngcontent-%COMP%]:not(.active):hover{background-color:var(--arm-hover)}[_nghost-%COMP%]   a[tuiIconButton].active[_ngcontent-%COMP%]{pointer-events:none;background-color:var(--tui-background-accent-opposite);cursor:default}[_nghost-%COMP%]   a[tuiIconButton].active[_ngcontent-%COMP%]:before{color:var(--tui-background-base)}[_nghost-%COMP%]   a[tuiIconButton].disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none;cursor:default}"],changeDetection:0})}}(0,a.gn)([m.UM],y.prototype,"menuItemDisabled",null);var E=o(1912),O=o(4221),M=o(721),U=o(7331),R=o(4728),A=o(1534),S=o(3588),w=o(1977),p=o(5619),L=o(8180);var tt=o(1993),ht=o(7354),it=o(7343),It=o(7398),st=o(2572),dt=o(7234),St=o(2181),bt=o(9397);let u=(()=>{class Fe{constructor(){this.wsService=(0,i.f3M)(it.Gm),this.destroyRef=(0,i.f3M)(i.ktI),this.store=(0,i.f3M)(O.yh),this.sourceCode=(0,i.f3M)(ht.Uc),this.currentUserStatus$=this.store.select(E.CurrentUserDefaultStatusSelector),this.currentModuleStatus$=this.store.select(E.CurrentUserStatusesSelector).pipe((0,It.U)(ve=>ve.find(en=>en.moduleCode===this.sourceCode)||null))}initWatch(){this.wsService.watchJsonMessage("/topic/status").pipe((0,tt.sL)(this.destroyRef)).subscribe(ve=>{const en=ve.body;en&&(0,st.a)([this.store.select(E.CurrentUserKeycloakProfileSelector).pipe((0,dt.n)(zn=>!zn||!zn.username),(0,L.q)(1)),this.currentUserStatus$.pipe((0,dt.n)(zn=>!zn),(0,L.q)(1)),this.currentModuleStatus$.pipe((0,dt.n)(zn=>!zn),(0,L.q)(1)),this.store.select(E.CurrentUserStatusesSelector).pipe((0,dt.n)(zn=>!zn||!zn.length),(0,L.q)(1))]).pipe((0,L.q)(1),(0,tt.sL)(this.destroyRef),(0,St.h)(([zn])=>(0,f.v0)(en.login,zn?.username)),(0,It.U)(([zn,Mi,ti,_i])=>({response:en,profile:zn,currentUserStatus:Mi,currentModuleStatus:ti,currentUserStatuses:_i})),(0,bt.b)(zn=>{this.changeStatusOnWSResponse(zn)})).subscribe()})}changeStatusOnWSResponse(ve){const en=ve.response.states.find(vi=>vi.default),zn=ve.response.states.find(vi=>!vi.default&&vi.moduleCode===this.sourceCode),Mi=en?.stateCode&&ve.currentUserStatus?.stateCode!==en.stateCode,ti=zn?.stateCode&&ve.currentModuleStatus?.stateCode!==zn.stateCode;if(!Mi&&!ti)return;const _i=[...ve.currentUserStatuses];if(Mi){const vi=ve.currentUserStatuses.findIndex(ho=>!ho.moduleCode);_i[vi]={..._i[vi],...en}}if(ti){const vi=ve.currentUserStatuses.findIndex(ho=>ho.moduleCode===zn.moduleCode);_i[vi]={..._i[vi],...zn}}this.store.dispatch(E.UserProfileStoreActions.setCurrentUserStatuses({currentUserStatuses:_i}))}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})();class ut{constructor(){this.selectedFullLogin$=(0,i.f3M)(E.SELECTED_USER_CARD_LOGIN_TOKEN),this.router=(0,i.f3M)(T.F0)}checkIfStatusIsActive(cn,ve){return cn===ve?.stateCode}getStatusColorClass(cn){return cn.moduleCode?{online:"Online"===cn.stateType,offline:"ShortOffline"===cn.stateType||"LongOffline"===cn.stateType}:{online:"onl"===cn.stateCode,offline:"offl"===cn.stateCode||"vacat"===cn.stateCode,busy:"din"===cn.stateCode}}getLinkToUserProfile(cn){return"/profile/"+E.UserProfileUtilsClass.parseKeycloakLoginToRouteParamLogin(cn?.username||"")}getLinkToEditUserProfile(cn){return this.getLinkToUserProfile(cn)+"/edit"}goToCurrentUserProfile(cn){this.selectedFullLogin$.next(cn?.username||null),this.router.navigateByUrl(this.getLinkToUserProfile(cn))}goToEditCurrentUserProfile(cn){this.selectedFullLogin$.next(cn?.username||null),this.router.navigateByUrl(this.getLinkToEditUserProfile(cn))}static{this.\u0275fac=function(ve){return new(ve||ut)}}static{this.\u0275prov=i.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}}(0,a.gn)([m.UM],ut.prototype,"checkIfStatusIsActive",null),(0,a.gn)([m.UM],ut.prototype,"getStatusColorClass",null),(0,a.gn)([m.UM],ut.prototype,"getLinkToUserProfile",null),(0,a.gn)([m.UM],ut.prototype,"getLinkToEditUserProfile",null);let Z=(()=>{class Fe{constructor(){this.statusesList$=new p.X([])}getStatusesList(){return this.statusesList$.asObservable()}setStatusesList(ve){this.statusesList$.next(ve)}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})();var I=o(334);function F(Fe,cn){1&Fe&&i._UZ(0,"tui-icon",20),2&Fe&&i.Udp("color","#ffffff")}const ot=function(Fe){return{active:Fe}};function nt(Fe,cn){if(1&Fe){const ve=i.EpF();i.ynx(0),i.TgZ(1,"a",17),i.NdJ("click",function(zn){const ti=i.CHM(ve).$implicit,_i=i.oxw(3).ngIf,vi=i.oxw().ngIf,no=i.oxw();return i.KtG(no.selectStatus(zn,vi,_i,ti))}),i.TgZ(2,"span"),i._UZ(3,"span",18),i._uU(4),i.qZA(),i.YNc(5,F,1,2,"tui-icon",19),i.qZA(),i.BQk()}if(2&Fe){const ve=cn.$implicit,en=i.oxw(3).ngIf,zn=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(4,ot,zn.userProfileUtilsService.checkIfStatusIsActive(ve.stateCode,en))),i.xp6(2),i.Q6J("ngClass",zn.userProfileUtilsService.getStatusColorClass(ve)),i.xp6(1),i.hij(" ",ve.stateName," "),i.xp6(1),i.Q6J("ngIf",zn.userProfileUtilsService.checkIfStatusIsActive(ve.stateCode,en))}}function At(Fe,cn){if(1&Fe&&(i.ynx(0),i.YNc(1,nt,6,6,"ng-container",16),i.BQk()),2&Fe){const ve=cn.ngIf;i.xp6(1),i.Q6J("ngForOf",ve)}}function Dt(Fe,cn){if(1&Fe){const ve=i.EpF();i.TgZ(0,"div",12)(1,"div",13),i.YNc(2,At,2,1,"ng-container",0),i.ALo(3,"async"),i.qZA(),i.TgZ(4,"div",13)(5,"a",14),i.NdJ("click",function(){i.CHM(ve);const zn=i.oxw(2).ngIf,Mi=i.oxw();return i.KtG(Mi.goToCurrentUserProfileLink(zn))}),i.TgZ(6,"span"),i._uU(7,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),i.qZA(),i._UZ(8,"tui-icon",15),i.qZA()()()}if(2&Fe){const ve=i.oxw(3);i.xp6(2),i.Q6J("ngIf",i.lcZ(3,3,ve.userStatusService.statusesList$.asObservable())),i.xp6(6),i.Udp("color","#ffffff")}}function Wt(Fe,cn){if(1&Fe){const ve=i.EpF();i.ynx(0),i.TgZ(1,"div",1)(2,"div",2)(3,"div",3),i._UZ(4,"tui-avatar",4),i.qZA(),i._UZ(5,"div",5),i.qZA(),i.TgZ(6,"div",6)(7,"div",7),i._uU(8),i.qZA(),i.TgZ(9,"div",8),i._uU(10),i.qZA()(),i.TgZ(11,"div",9)(12,"button",10),i.NdJ("click",function(){i.CHM(ve);const zn=i.oxw(2);return i.KtG(zn.toggleOpen())})("tuiActiveZoneChange",function(zn){i.CHM(ve);const Mi=i.oxw(2);return i.KtG(Mi.onActiveZone(zn))})("tuiObscured",function(zn){i.CHM(ve);const Mi=i.oxw(2);return i.KtG(Mi.onObscured(zn))}),i.ALo(13,"async"),i.qZA()(),i.YNc(14,Dt,9,5,"ng-template",null,11,i.W1O),i.qZA(),i.BQk()}if(2&Fe){const ve=cn.ngIf,en=i.MAs(15),zn=i.oxw().ngIf,Mi=i.oxw();i.xp6(4),i.Udp("color","#ffffff"),i.Q6J("size","s"),i.xp6(1),i.Q6J("ngClass",Mi.userProfileUtilsService.getStatusColorClass(ve)),i.xp6(3),i.Oqu(Mi.getLastNamePlusInitials(zn)),i.xp6(1),i.Q6J("ngClass",Mi.userProfileUtilsService.getStatusColorClass(ve)),i.xp6(1),i.hij(" ",ve.stateName," "),i.xp6(2),i.Q6J("tuiDropdown",en)("tuiDropdownManual",i.lcZ(13,9,Mi.open$)||!1)}}function Nt(Fe,cn){if(1&Fe&&(i.ynx(0),i.YNc(1,Wt,16,11,"ng-container",0),i.ALo(2,"async"),i.BQk()),2&Fe){const ve=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,ve.currentStatus$))}}class Rt{constructor(){this.store=(0,i.f3M)(O.yh),this.userStatusService=(0,i.f3M)(E.UserStatusService),this.confirmVacationDialog=(0,R.q6)(E.ConfirmVacationDialogComponent,{size:"auto"}),this.userProfileUtilsService=(0,i.f3M)(ut),this.userProfile$=this.store.select(E.CurrentUserKeycloakProfileSelector),this.currentStatus$=this.store.select(E.CurrentUserDefaultStatusSelector),this.open$=new p.X(!1)}getLastNamePlusInitials(cn){return`${cn.lastName} ${(cn.firstName||"")[0]}.`}toggleOpen(){this.open$.next(!this.open$.value)}onObscured(cn){cn&&this.open$.next(!1)}onActiveZone(cn){this.open$.next(cn&&this.open$.value)}goToCurrentUserProfileLink(cn){this.toggleOpen(),this.userProfileUtilsService.goToCurrentUserProfile(cn)}selectStatus(cn,ve,en,zn){cn.preventDefault(),cn.stopPropagation(),cn.stopImmediatePropagation(),zn.stateCode!==en.stateCode&&("vacat"===zn.stateCode?this.confirmVacationDialog().pipe((0,L.q)(1)).subscribe(Mi=>{Mi===E.ConfirmVacationResultTypes.GoToEditProfile?this.userProfileUtilsService.goToEditCurrentUserProfile(ve):Mi===E.ConfirmVacationResultTypes.SetStatusToVacation&&this.updateCurrentUserStatus(ve,en,zn)}):this.updateCurrentUserStatus(ve,en,zn))}updateCurrentUserStatus(cn,ve,en){en.stateCode!==ve.stateCode&&this.store.dispatch(E.UserProfileStoreActions.updateCurrentUserStatus({queryParams:{login:cn.username},body:{currentStateUid:ve.currentStateUid,stateCode:en.stateCode},statusType:E.UserStatusTypes.default}))}static{this.\u0275fac=function(ve){return new(ve||Rt)}}static{this.\u0275cmp=i.Xpm({type:Rt,selectors:[["app-profile-dropdown"]],standalone:!0,features:[i.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"profile-button__container"],[1,"profile-button__image-block"],[1,"profile-button__image"],["src","@tui.circle-user",3,"size"],[1,"profile-button__status-dot",3,"ngClass"],[1,"profile-button__text-block"],[1,"profile-button__name"],[1,"profile-button__status-text",3,"ngClass"],[1,"profile-button__arrow"],["appearance","profile-dropdown","tuiIconButton","","tuiChevron","","tuiDropdownAppearance","profile-dropdown",3,"tuiDropdown","tuiDropdownManual","click","tuiActiveZoneChange","tuiObscured"],["profileDropdown",""],[1,"profile-dropdown__container"],[1,"profile-dropdown__menu-block"],[1,"profile-dropdown__menu-item",3,"click"],["icon","@tui.user"],[4,"ngFor","ngForOf"],[1,"profile-dropdown__menu-item",3,"ngClass","click"],[1,"profile-dropdown__status-dot",3,"ngClass"],["icon","@tui.check",3,"color",4,"ngIf"],["icon","@tui.check"]],template:function(ve,en){1&ve&&(i.YNc(0,Nt,3,3,"ng-container",0),i.ALo(1,"async")),2&ve&&i.Q6J("ngIf",i.lcZ(1,1,en.userProfile$))},dependencies:[t.ez,t.mk,t.sg,t.O5,t.Ov,S.nV,h.xG,A.R,w.H,I.Ek,I.td,I.nS,M.Q,U.d],styles:['.profile-button__container[_ngcontent-%COMP%]{display:flex;height:40px;justify-content:flex-start;align-items:center;color:#fff;background-color:#00000080;border-radius:24px}.profile-button__image-block[_ngcontent-%COMP%]{position:relative;display:flex;width:40px;height:40px;justify-content:center;align-items:center}.profile-button__status-dot[_ngcontent-%COMP%]{position:absolute;z-index:10;top:8px;right:8px;width:10px;height:10px;border:1px solid black;border-radius:50%}.profile-button__status-dot.online[_ngcontent-%COMP%]{background-color:#26d66c}.profile-button__status-dot.offline[_ngcontent-%COMP%]{background-color:#9c9c9c}.profile-button__status-dot.busy[_ngcontent-%COMP%]{background-color:#ffa330}.profile-button__text-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.profile-button__name[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.profile-button__status-text[_ngcontent-%COMP%]{font:var(--tui-font-text-xs)}.profile-button__status-text.online[_ngcontent-%COMP%]{color:#26d66c}.profile-button__status-text.offline[_ngcontent-%COMP%]{color:#9c9c9c}.profile-button__status-text.busy[_ngcontent-%COMP%]{color:#ffa330}.profile-button__arrow[_ngcontent-%COMP%]{display:flex;width:40px;height:40px;justify-content:center;align-items:center}.profile-dropdown__container[_ngcontent-%COMP%]{padding:4px 0;display:flex;width:228px;flex-direction:column;justify-content:flex-start;align-items:flex-start}.profile-dropdown__menu-block[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;flex-direction:column;justify-content:flex-start;align-items:flex-start}.profile-dropdown__menu-block[_ngcontent-%COMP%]:not(:first-child){margin-top:8px}.profile-dropdown__menu-block[_ngcontent-%COMP%]:not(:first-child):before{position:absolute;top:-4px;left:0;display:block;width:100%;height:1px;content:"";background-color:#4f4f4f}.profile-dropdown__menu-item[_ngcontent-%COMP%]{padding:6px 12px;display:flex;width:100%;height:31px;justify-content:space-between;align-items:center;font:var(--tui-font-text-s);transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.profile-dropdown__menu-item[_ngcontent-%COMP%]:not(.profile-dropdown__menu-item.active):hover{background-color:var(--tui-background-accent-opposite)}.profile-dropdown__menu-item.active[_ngcontent-%COMP%]{cursor:default}.profile-dropdown__menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:8px}.profile-dropdown__status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%}.profile-dropdown__status-dot.online[_ngcontent-%COMP%]{background-color:#26d66c}.profile-dropdown__status-dot.offline[_ngcontent-%COMP%]{background-color:#9c9c9c}.profile-dropdown__status-dot.busy[_ngcontent-%COMP%]{background-color:#ffa330}'],changeDetection:0})}}function Bt(Fe,cn){1&Fe&&i._UZ(0,"tui-icon",13),2&Fe&&i.Udp("color","#ffffff")}(0,a.gn)([m.UM],Rt.prototype,"getLastNamePlusInitials",null);const B=function(Fe){return{active:Fe}};function k(Fe,cn){if(1&Fe){const ve=i.EpF();i.ynx(0),i.TgZ(1,"a",11),i.NdJ("click",function(zn){const ti=i.CHM(ve).$implicit,_i=i.oxw(3).ngIf,vi=i.oxw().ngIf,no=i.oxw();return i.KtG(no.selectStatus(zn,vi,_i,ti))}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.YNc(4,Bt,1,2,"tui-icon",12),i.qZA(),i.BQk()}if(2&Fe){const ve=cn.$implicit,en=i.oxw(3).ngIf,zn=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(3,B,zn.userProfileUtilsService.checkIfStatusIsActive(ve.stateCode,en))),i.xp6(2),i.hij(" ",ve.stateName," "),i.xp6(1),i.Q6J("ngIf",zn.userProfileUtilsService.checkIfStatusIsActive(ve.stateCode,en))}}function yt(Fe,cn){if(1&Fe&&(i.ynx(0),i.YNc(1,k,5,5,"ng-container",10),i.BQk()),2&Fe){const ve=cn.ngIf;i.xp6(1),i.Q6J("ngForOf",ve)}}function Y(Fe,cn){if(1&Fe&&(i.TgZ(0,"div",5)(1,"div",6),i._UZ(2,"div",7),i.TgZ(3,"div",8),i._uU(4),i.qZA()(),i.TgZ(5,"div",9),i.YNc(6,yt,2,1,"ng-container",0),i.ALo(7,"async"),i.qZA()()),2&Fe){const ve=i.oxw().ngIf,en=i.oxw(2);i.xp6(2),i.Q6J("ngClass",en.userProfileUtilsService.getStatusColorClass(ve)),i.xp6(1),i.Q6J("ngClass",en.userProfileUtilsService.getStatusColorClass(ve)),i.xp6(1),i.hij(" ",ve.stateName," "),i.xp6(2),i.Q6J("ngIf",i.lcZ(7,4,en.statusesList$))}}function xt(Fe,cn){if(1&Fe){const ve=i.EpF();i.ynx(0),i.TgZ(1,"div",1)(2,"button",2),i.NdJ("click",function(){i.CHM(ve);const zn=i.oxw(2);return i.KtG(zn.toggleOpen())})("tuiActiveZoneChange",function(zn){i.CHM(ve);const Mi=i.oxw(2);return i.KtG(Mi.onActiveZone(zn))})("tuiObscured",function(zn){i.CHM(ve);const Mi=i.oxw(2);return i.KtG(Mi.onObscured(zn))}),i.ALo(3,"async"),i.qZA(),i._UZ(4,"div",3),i.qZA(),i.YNc(5,Y,8,6,"ng-template",null,4,i.W1O),i.BQk()}if(2&Fe){const ve=cn.ngIf,en=i.MAs(6),zn=i.oxw(2);i.xp6(2),i.Q6J("tuiDropdown",en)("tuiDropdownManual",i.lcZ(3,3,zn.open$)||!1),i.xp6(2),i.Q6J("ngClass",zn.userProfileUtilsService.getStatusColorClass(ve))}}function z(Fe,cn){if(1&Fe&&(i.ynx(0),i.YNc(1,xt,7,5,"ng-container",0),i.ALo(2,"async"),i.BQk()),2&Fe){const ve=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,ve.currentStatus$))}}let at=(()=>{class Fe{constructor(){this.moduleStatusService=(0,i.f3M)(Z),this.sourceCode=(0,i.f3M)(ht.Uc),this.store=(0,i.f3M)(O.yh),this.userProfileUtilsService=(0,i.f3M)(ut),this.currentStatus$=this.store.select(E.CurrentUserStatusesSelector).pipe((0,It.U)(ve=>ve.find(en=>en.moduleCode===this.sourceCode)||null)),this.statusesList$=this.moduleStatusService.getStatusesList(),this.userProfile$=this.store.select(E.CurrentUserKeycloakProfileSelector),this.open$=new p.X(!1)}toggleOpen(){this.open$.next(!this.open$.value)}onObscured(ve){ve&&this.open$.next(!1)}onActiveZone(ve){this.open$.next(ve&&this.open$.value)}selectStatus(ve,en,zn,Mi){ve.preventDefault(),ve.stopPropagation(),ve.stopImmediatePropagation(),Mi.stateCode!==zn.stateCode&&this.updateCurrentUserStatus(en,zn,Mi)}updateCurrentUserStatus(ve,en,zn){zn.stateCode!==en.stateCode&&this.store.dispatch(E.UserProfileStoreActions.updateCurrentUserStatus({queryParams:{login:ve.username},body:{currentStateUid:en.currentStateUid,stateCode:zn.stateCode},statusType:E.UserStatusTypes.module}))}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275cmp=i.Xpm({type:Fe,selectors:[["app-module-status-dropdown"]],standalone:!0,features:[i.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"profile-dropdown__button"],["appearance","module-status-dropdown","tuiIconButton","","iconStart","@tui.list","tuiDropdownAppearance","profile-dropdown",3,"tuiDropdown","tuiDropdownManual","click","tuiActiveZoneChange","tuiObscured"],[1,"profile-dropdown__status-dot",3,"ngClass"],["profileDropdown",""],[1,"profile-dropdown__container"],[1,"profile-dropdown__current-status"],[1,"profile-dropdown__current-status-dot",3,"ngClass"],[1,"profile-dropdown__current-status-text",3,"ngClass"],[1,"profile-dropdown__menu-block"],[4,"ngFor","ngForOf"],[1,"profile-dropdown__menu-item",3,"ngClass","click"],["icon","@tui.check",3,"color",4,"ngIf"],["icon","@tui.check"]],template:function(en,zn){1&en&&(i.YNc(0,z,3,3,"ng-container",0),i.ALo(1,"async")),2&en&&i.Q6J("ngIf",i.lcZ(1,1,zn.userProfile$))},dependencies:[t.ez,t.mk,t.sg,t.O5,t.Ov,h.xG,A.R,I.Ek,I.td,I.nS,M.Q,U.d],styles:[".profile-dropdown__container[_ngcontent-%COMP%]{padding:4px 0;display:flex;width:228px;flex-direction:column;justify-content:flex-start;align-items:flex-start}.profile-dropdown__button[_ngcontent-%COMP%]{position:relative}.profile-dropdown__status-dot[_ngcontent-%COMP%]{position:absolute;z-index:10;top:0;right:0;width:12px;height:12px;border-radius:50%}.profile-dropdown__status-dot.online[_ngcontent-%COMP%]{background-color:#26d66c}.profile-dropdown__status-dot.offline[_ngcontent-%COMP%]{background-color:#9c9c9c}.profile-dropdown__status-dot.busy[_ngcontent-%COMP%]{background-color:#ffa330}.profile-dropdown__current-status[_ngcontent-%COMP%]{padding:12px 16px;display:flex;width:100%;height:46px;align-items:center;font:var(--tui-font-text-l);gap:12px;border-bottom:1px solid #4f4f4f}.profile-dropdown__current-status-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.profile-dropdown__current-status-dot.online[_ngcontent-%COMP%]{background-color:#26d66c}.profile-dropdown__current-status-dot.offline[_ngcontent-%COMP%]{background-color:#9c9c9c}.profile-dropdown__current-status-dot.busy[_ngcontent-%COMP%]{background-color:#ffa330}.profile-dropdown__menu-block[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;flex-direction:column;justify-content:flex-start;align-items:flex-start}.profile-dropdown__menu-item[_ngcontent-%COMP%]{padding:6px 12px;display:flex;width:100%;height:31px;justify-content:space-between;align-items:center;font:var(--tui-font-text-s);transition-property:background-color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.profile-dropdown__menu-item[_ngcontent-%COMP%]:not(.profile-dropdown__menu-item.active):hover{background-color:var(--tui-background-accent-opposite)}.profile-dropdown__menu-item.active[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0})}}return Fe})();var Pt=o(692);let Gt=(()=>{class Fe{constructor(){this.aegleRestService=(0,i.f3M)(Pt.DA),this.dialog=(0,i.f3M)(R.RO),this.deputyUpdateErrorDialog$=this.dialog.open(f.K9,{size:"m",closeable:!1,data:{label:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044f",content:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0437\u0430\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d.",isMainAction:!1}})}getDeputies(ve){const en={login:ve.login};return ve.moduleCode&&(en.moduleCode=ve.moduleCode),ve.userId&&(en.userId=ve.userId),this.aegleRestService.get("/deputies",{params:en})}addDeputies(ve){return this.aegleRestService.post("/deputy",ve)}updateDeputy(ve,en){return this.aegleRestService.patch(`/deputy/${ve}`,en)}removeDeputy(ve){return this.aegleRestService.delete("/deputy",{params:{deputyUid:ve}})}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})(),De=(()=>{class Fe{constructor(){this.aegleRestService=(0,i.f3M)(Pt.DA)}getEmployeeState(ve,en){return this.aegleRestService.get("/employee-state",{params:{login:ve}})}patchEmployeeState(ve,en){return this.aegleRestService.patch("/employee-state",en,{params:ve})}getUserStates(ve){return ve?this.aegleRestService.get("/states",{params:{moduleCode:ve}}):this.aegleRestService.get("/states")}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})(),Ut=(()=>{class Fe{static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275cmp=i.Xpm({type:Fe,selectors:[["app-toolbar"]],standalone:!0,features:[i.jDz],decls:8,vars:0,consts:[[1,"toolbar"],["routerLink","/",1,"toolbar__logo"],["src","assets/images/logo.svg","alt","Egla","width","60","height","52"],[1,"toolbar__profile"]],template:function(en,zn){1&en&&(i.TgZ(0,"header",0)(1,"a",1),i._UZ(2,"img",2),i.TgZ(3,"span"),i._uU(4,"Egla"),i.qZA()(),i.TgZ(5,"div",3),i._UZ(6,"app-module-status-dropdown")(7,"app-profile-dropdown"),i.qZA()())},dependencies:[Rt,at],styles:[".toolbar[_ngcontent-%COMP%]{padding:12px;display:flex;justify-content:space-between;font:var(--tui-font-heading-4);color:var(--tui-background-base);background-color:var(--tui-background-accent-opposite-hover);background-image:url(assets/images/shine.png);background-size:cover;border-bottom-right-radius:28px;border-bottom-left-radius:28px}.toolbar__logo[_ngcontent-%COMP%]{display:flex;align-items:center}.toolbar__logo[_ngcontent-%COMP%]:focus{outline:none}.toolbar__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;display:inline-block;width:60px}.toolbar__logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;line-height:41px;font-weight:400;color:var(--tui-background-base)}.toolbar__profile[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px;align-items:center}.user-menu[_ngcontent-%COMP%]{padding:7px 44px 7px 14px;display:flex;height:40px;align-items:center;color:var(--tui-background-base);background:rgba(0,0,0,.5);border-radius:60px;cursor:pointer}.user-menu[_ngcontent-%COMP%]:hover, .user-menu[_ngcontent-%COMP%]:active, .user-menu[_ngcontent-%COMP%]:focus{color:var(--tui-background-base)}.user-menu[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{margin-right:10px;width:24px;height:24px;font-size:18px}"],changeDetection:0})}}return Fe})();const Q=["*"];let Ot=(()=>{class Fe{static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275cmp=i.Xpm({type:Fe,selectors:[["app-layout"]],standalone:!0,features:[i.jDz],ngContentSelectors:Q,decls:4,vars:0,template:function(en,zn){1&en&&(i.F$t(),i._UZ(0,"app-toolbar"),i.TgZ(1,"main"),i._UZ(2,"app-nav-menu"),i.Hsn(3),i.qZA())},dependencies:[t.ez,Ut,y],styles:["[_nghost-%COMP%]{padding-top:65px;display:flex;width:100%;flex-direction:column;background-color:var(--arm-main-background)}[_nghost-%COMP%]   app-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:10;top:0;right:0;left:0}[_nghost-%COMP%]   app-nav-menu[_ngcontent-%COMP%]{margin:8px 0 8px 8px}[_nghost-%COMP%]   main[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 65px);flex-grow:1}"],changeDetection:0})}}return Fe})();var Ft=o(4017),le=o(385);let ne=(()=>{class Fe{constructor(){this.tuiPlatform=(0,i.f3M)(le.ff,{skipSelf:!0})}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275dir=i.lG2({type:Fe,selectors:[["","tuiPlatform",""]],hostVars:1,hostBindings:function(en,zn){2&en&&i.uIk("data-platform",zn.tuiPlatform)},inputs:{tuiPlatform:"tuiPlatform"},standalone:!0,features:[i._Bn([{provide:le.ff,useFactory:()=>(0,i.f3M)(Fe).tuiPlatform}])]})}}return Fe})();var Ge=o(5742),Se=o(5592),Pe=o(3019),Ue=o(2438),Ee=o(7921),de=o(7081),ae=o(6232);let Bn=(()=>{class Fe extends Se.y{visualViewport=(0,i.f3M)(Ge.m9).visualViewport;stream$=this.visualViewport?(0,Pe.T)((0,Ue.R)(this.visualViewport,"resize"),(0,Ue.R)(this.visualViewport,"scroll"),(0,Ue.R)(this.visualViewport,"scrollend")).pipe((0,Ee.O)(null),(0,It.U)(()=>this.visualViewport),(0,St.h)(Boolean),(0,de.d)({bufferSize:1,refCount:!0})):ae.E;constructor(){super(ve=>this.stream$.subscribe(ve))}static \u0275fac=function(en){return new(en||Fe)};static \u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})();var Ae=o(5929);let Hn=(()=>{class Fe{constructor(){this.w=(0,i.f3M)(Ge.Az),this.style=(0,Ae.AG)().style,this.$=(0,i.f3M)(Bn).pipe((0,tt.sL)()).subscribe(({offsetLeft:ve,offsetTop:en,height:zn,width:Mi,scale:ti})=>{this.style.setProperty("--tui-viewport-x",(0,m.O9)(ve)),this.style.setProperty("--tui-viewport-y",(0,m.O9)(en)),this.style.setProperty("--tui-viewport-height",(0,m.O9)(zn)),this.style.setProperty("--tui-viewport-width",(0,m.O9)(Mi)),this.style.setProperty("--tui-viewport-scale",String(ti)),this.style.setProperty("--tui-viewport-vh",(0,m.O9)(this.w.innerHeight/100)),this.style.setProperty("--tui-viewport-vw",(0,m.O9)(this.w.innerWidth/100))})}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275dir=i.lG2({type:Fe,selectors:[["","tuiVisualViewport",""]],standalone:!0})}}return Fe})();var rn=o(1393),re=o(3597),wn=o(1564);let oe=(()=>{class Fe extends Ft.Bb{static{this.\u0275fac=function(){let ve;return function(zn){return(ve||(ve=i.n5z(Fe)))(zn||Fe)}}()}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})();var xn=o(940),ce=o(2701),me=o(8797),En=o(1255);function _n(Fe,cn){1&Fe&&i._UZ(0,"tui-scroll-controls",3)}const Qe=["*",[["tuiOverContent"]],[["tuiOverDialogs"]],[["tuiOverAlerts"]],[["tuiOverDropdowns"]],[["tuiOverHints"]]],xe=["*","tuiOverContent","tuiOverDialogs","tuiOverAlerts","tuiOverDropdowns","tuiOverHints"];let je=(()=>{class Fe extends Ft.oL{constructor(){super(),this.reducedMotion=(0,i.f3M)(ce.TK),this.duration=(0,me.cZ)((0,i.f3M)(ce.ZW)),this.isMobileRes=(0,tt.O4)((0,i.f3M)(xn.zE).pipe((0,It.U)(ve=>"mobile"===ve),(0,rn.NA)()),{initialValue:!1}),this.nativeScrollbar="native"===(0,i.f3M)(wn.bC).mode,this.scrollbars=!(this.nativeScrollbar||(0,i.f3M)(le.fL)),(0,i.f3M)(t.K0).documentElement.setAttribute("data-tui-theme",(0,i.f3M)(ce.r2).toLowerCase()),this.nativeScrollbar||(0,i.f3M)(t.K0).defaultView?.document.documentElement.classList.add("tui-zero-scrollbar")}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275cmp=i.Xpm({type:Fe,selectors:[["tui-root"]],hostAttrs:["data-tui-version","4.19.0"],hostVars:6,hostBindings:function(en,zn){1&en&&i.NdJ("touchstart.passive.silent",function(){return 0}),2&en&&(i.Udp("--tui-duration",zn.duration,"ms")("--tui-scroll-behavior",zn.reducedMotion?"auto":"smooth"),i.ekj("_mobile",zn.isMobileRes()))},standalone:!0,features:[i._Bn([],[(0,Ft.ze)(oe)]),i.qOj,i.jDz,i.zW0([ne,Hn])],ngContentSelectors:xe,decls:14,vars:1,consts:[[1,"t-root-content"],["class","t-root-scrollbar",4,"ngIf"],["viewContainer",""],[1,"t-root-scrollbar"]],template:function(en,zn){1&en&&(i.F$t(Qe),i.TgZ(0,"div",0),i.Hsn(1),i.qZA(),i.YNc(2,_n,1,0,"tui-scroll-controls",1),i.GkF(3,null,2),i.Hsn(5,1),i._UZ(6,"tui-dialogs"),i.Hsn(7,2),i._UZ(8,"tui-alerts"),i.Hsn(9,3),i._UZ(10,"tui-dropdowns"),i.Hsn(11,4),i._UZ(12,"tui-hints"),i.Hsn(13,5)),2&en&&(i.xp6(2),i.Q6J("ngIf",zn.scrollbars))},dependencies:[t.O5,re.Jp,R.r4,I.JY,C.Z0,wn.bl],styles:['@keyframes tuiPresent{to{content:""}}@keyframes tuiSkeletonVibe{to{opacity:.5}}.tui-zero-scrollbar{scrollbar-width:none;-ms-overflow-style:none}.tui-zero-scrollbar::-webkit-scrollbar,.tui-zero-scrollbar::-webkit-scrollbar-thumb{display:none}body,input{margin:0}tui-root{position:relative;display:block;font:var(--tui-font-text-s);color:var(--tui-text-primary);flex:1;border-image:conic-gradient(var(--tui-background-base) 0 0) fill 0/0/0 0 100vh 0;-webkit-tap-highlight-color:transparent}tui-root>.t-root-scrollbar{position:fixed;top:0;left:0;bottom:0;right:0;z-index:0;display:none;margin:0}[data-tui-theme] tui-root>.t-root-scrollbar{display:block}.t-root-content{position:relative;top:var(--t-root-top);block-size:100%;isolation:isolate}.t-root-content>*{--t-root-top: 0}[tuiDropdownButton][tuiDropdownButton]{display:none}\n'],encapsulation:2})}}return Fe})();var ke=o(5375),we=o(4869),Ne=o(4664);const Ke=(Fe,cn)=>{(0,st.a)([cn.select(E.CurrentUserKeycloakProfileSelector).pipe((0,L.q)(1)),Fe.statusesList$.asObservable().pipe((0,L.q)(1)),cn.select(E.CurrentUserDefaultStatusSelector).pipe((0,L.q)(1))]).subscribe(([ve,en,zn])=>{if(null!==ve&&void 0!==ve.username&&en&&zn){const Mi=zn,ti=en.find(_i=>"offl"===_i.stateCode);Mi&&"onl"===Mi.stateCode&&cn.dispatch(E.UserProfileStoreActions.updateCurrentUserStatus({queryParams:{login:ve.username},body:{currentStateUid:Mi.currentStateUid,stateCode:ti.stateCode},statusType:E.UserStatusTypes.default}))}})};let qe=(()=>{class Fe{constructor(){this.destroyRef=(0,i.f3M)(i.ktI),this.keycloakService=(0,i.f3M)(we.MZ),this.userStatusService=(0,i.f3M)(E.UserStatusService),this.store=(0,i.f3M)(O.yh)}initStreamRefreshToken(){this.keycloakService.keycloakEvents$.pipe((0,tt.sL)(this.destroyRef),(0,St.h)(ve=>ve.type===we.RA.OnTokenExpired),(0,Ne.w)(()=>this.keycloakService.updateToken().catch(ve=>{Ke(this.userStatusService,this.store),console.error("Failed to refresh token",ve)}))).subscribe(),this.keycloakService.keycloakEvents$.pipe((0,tt.sL)(this.destroyRef),(0,St.h)(ve=>ve.type===we.RA.OnAuthRefreshError)).subscribe(()=>{Ke(this.userStatusService,this.store)})}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}return Fe})();const kn={"@tui.users":"users.icon","@tui.user":"user.icon","@tui.user-plus":"user-plus.icon","@tui.folder":"folder.icon","@tui.document":"document.icon","@tui.settings":"settings.icon","@tui.dots-greed":"dots-grid.icon","@tui.calendar":"calendar.icon","@tui.calendar-date":"calendar-date.icon","@tui.chevron-right":"chevron-right.icon","@tui.chevrons-up-down":"chevrons-up-down.icon","@tui.chevron-left":"chevron-left.icon","@tui.chevron-down":"chevron-down.icon","@tui.chevron-up":"chevron-up.icon","@tui.sort-descending":"chevron-down.icon","@tui.sort-ascending":"chevron-up.icon","@tui.refresh-cw":"refresh.icon","@tui.icon-plus":"plus.icon","@tui.minus":"minus.icon","@tui.check":"check.icon","@tui.x":"close.icon","@tui.sort-off":"sort.icon","@tui.sort-down":"sort-down.icon","@tui.file-check":"file-check.icon","@tui.file-search":"file-search.icon","@tui.heart-square":"heart-square.icon","@tui.user-check":"user-check.icon","@tui.eye":"eye.icon","@tui.clock":"clock.icon","@tui.warning":"warning.icon","@tui.drag":"dots-grid.icon","@tui.shield-off":"shield-off.icon","@tui.alert-triangle":"alert-triangle.icon","@tui.copy":"copy.icon","@tui.search":"search.icon",appColumnsIcon:"columns.icon",dmsIconAddFile:"add-file.icon",appIconFilePlus:"add-file.icon",appIconMarker:"default.marker",appIconCluster:"cluster.icon",appIconMapPoint:"map-point.icon",dmsIconDots:"dots.icon",appIconFranchiseMarker:"franchise.marker",appActivity:"activity.icon",appIconSorting:"sorting.icon",appProfile:"profile.icon",appIconFilter:"filter.icon",appIconFilterDropdown:"sliders.icon",appIconBank:"bank.icon",appIconCalculate:"calculate.icon",appIconPencil:"pencil.icon",appIconPhone:"phone.icon",appIconBasket:"basket.icon",appIconRestore:"restore.icon",appIconMessage:"message.icon",appIconDownloadFile:"file-download.icon",appIconMap:"map.icon",appFranchiseIcon:"franchise.icon",appPlusCircle:"plus-circle.icon",appMinusCircle:"minus-circle.icon",appCancelService:"cancel-service.icon",appBeakerIcon:"beaker.icon",appIconScan:"scan.icon",appIconCheckHeartGradient:"check-heart-gradient.icon",appIconFileX:"file-x.icon",appIconDownloadCircle:"download-circle.icon",appIconDuplication:"duplication.icon",appIconSearchCheck:"search-check.icon",appIconCheckCircle:"check-circle.icon",appIconXCircle:"x-circle.icon",appIconArrowNarrowUp:"arrow-narrow-up.icon",dmsIconDownloadCloud:"download-cloud.icon",dmsIconStar:"star.icon",appReturnRequestToFilial:"return-request-to-filial.icon",appReturnRequestToGC:"return-request-to-gc.icon",appTakeOver:"take-over.icon",appTransferRequestToEmployee:"transfer-request-to-employee.icon",appTransferRequestToFilial:"transfer-request-to-filial.icon",appTransferRequestToSkillGroup:"transfer-request-to-skill-group.icon",appUrgentRequest:"urgent-request.icon",appParentRequest:"parent-request.icon",appNegativeMessage:"negative-message.icon",appVipRequest:"vip-request.icon",appFaceDown:"face-down.icon",appIconGitBranch:"git-branch.icon",appIconGitFlow:"git-flow.icon",appIconArrowRight:"arrow-right.icon",buildingIcon:"building.icon",clinicIcon:"clinic.icon",flaskIcon:"flask.icon",playCircleIcon:"play-circle.icon",pauseCircleIcon:"pause-circle.icon",putOffIcon:"put-off.icon",messageSquareIcon:"message-square.icon",chatIcon:"chat.icon",statisticsIcon:"statistics.icon",smsIcon:"sms.icon",lightningIcon:"lightning.icon",appLink:"link.icon",appIconCornerRightDown:"corner-right-down.icon",clientsNavIcon:"clients-nav.icon",supervisorIcon:"supervisor.icon",errorCircleIcon:"error-circle.icon",creditCardcheckIcon:"credit-card-check.icon",creditCardRefreshIcon:"credit-card-refresh.icon",appOpenAiLogo:"open-ai-logo.icon",appIconReverseRight:"reverse-right.icon",appIconEditCommentIcon:"edit-comment.icon",appIconRemoveCommentIcon:"remove-comment.icon",appIconPinComment:"pin-comment.icon",appIconPinnedComment:"pinned-comment.icon",appIconAddReplyToComment:"add-reply-to-comment.icon",appFileCopyIcon:"file-copy.icon",appRepeat:"repeat.icon",appIconPencil2:"pencil2.icon"},ui={provide:ce.uY,deps:[[new i.tp0,ce.uY]],useFactory:Fe=>cn=>kn[cn]?`assets/icons/${kn[cn]}.svg#${kn[cn]}`:Fe(cn)};let eo=(()=>{class Fe{constructor(){this.authService=(0,i.f3M)(qe),this.wsService=(0,i.f3M)(it.Gm),this.userStatusWatcherService=(0,i.f3M)(u)}beforeUnloadHandler(ve){this.wsService.deactivate()}ngOnInit(){this.authService.initStreamRefreshToken(),this.userStatusWatcherService.initWatch()}ngOnDestroy(){this.wsService.deactivate()}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275cmp=i.Xpm({type:Fe,selectors:[["app-root"]],hostBindings:function(en,zn){1&en&&i.NdJ("beforeunload",function(ti){return zn.beforeUnloadHandler(ti)},!1,i.Jf7)},standalone:!0,features:[i._Bn([ui,(0,ke.wt)({showIcons:!1})]),i.jDz],decls:5,vars:0,consts:[["ngProjectAs","tuiOverContent",5,["tuiOverContent"]]],template:function(en,zn){1&en&&(i.TgZ(0,"tui-root")(1,"app-layout"),i._UZ(2,"router-outlet"),i.qZA(),i.ynx(3,0),i._UZ(4,"dms-over-content-portal"),i.BQk(),i.qZA())},dependencies:[T.lC,Ot,je,f.LW],changeDetection:0})}}return Fe})();var Pn=o(3040),tn=o(9194);const ln=(0,i.MR2)([{provide:tn.d9,useFactory:()=>{const Fe=(0,i.f3M)(Pn.L).get("ENV");return{url:`${window.location.protocol}//${window.location.host}/proxy`,clientKey:"secret",appName:Fe,refreshInterval:20,environment:Fe}}},{provide:i.ip1,useFactory:(Fe,cn)=>()=>Fe.isLoaded$.pipe((0,L.q)(1),(0,It.U)(()=>cn.get(tn.$2).initialized$.pipe((0,L.q)(1)))),multi:!0,deps:[Pn.L,i.zs3]}]);var Zn=o(9862);const ei=void 0,oi=["ru",[["AM","PM"],ei,ei],ei,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],ei,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ei,ei,ei],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[ei,"\u0440."],GEL:[ei,"\u10da"],PHP:[ei,"\u20b1"],RON:[ei,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function wi(Fe){const ve=Math.floor(Math.abs(Fe)),en=Fe.toString().replace(/^[^.]*\.?/,"").length;return 0===en&&ve%10==1&&ve%100!=11?1:0===en&&ve%10===Math.floor(ve%10)&&ve%10>=2&&ve%10<=4&&!(ve%100>=12&&ve%100<=14)?3:0===en&&ve%10==0||0===en&&ve%10===Math.floor(ve%10)&&ve%10>=5&&ve%10<=9||0===en&&ve%100===Math.floor(ve%100)&&ve%100>=11&&ve%100<=14?4:5}];var Li=o(6825),mi=o(6108);let Zi=(()=>{class Fe extends Li._j{constructor(ve,en){super(),this._nextAnimationId=0,this._renderer=ve.createRenderer(en.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(ve){const en=this._nextAnimationId.toString();this._nextAnimationId++;const zn=Array.isArray(ve)?(0,Li.vP)(ve):ve;return uo(this._renderer,null,en,"register",[zn]),new Qi(en,this._renderer)}static{this.\u0275fac=function(en){return new(en||Fe)(i.LFG(i.FYo),i.LFG(t.K0))}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac})}}return Fe})();class Qi extends Li.LC{constructor(cn,ve){super(),this._id=cn,this._renderer=ve}create(cn,ve){return new Yi(this._id,cn,ve||{},this._renderer)}}class Yi{constructor(cn,ve,en,zn){this.id=cn,this.element=ve,this._renderer=zn,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",en)}_listen(cn,ve){return this._renderer.listen(this.element,`@@${this.id}:${cn}`,ve)}_command(cn,...ve){return uo(this._renderer,this.element,this.id,cn,ve)}onDone(cn){this._listen("done",cn)}onStart(cn){this._listen("start",cn)}onDestroy(cn){this._listen("destroy",cn)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(cn){this._command("setPosition",cn)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uo(Fe,cn,ve,en,zn){return Fe.setProperty(cn,`@@${ve}:${en}`,zn)}const Ki="@.disabled";let Gi=(()=>{class Fe{constructor(ve,en,zn){this.delegate=ve,this.engine=en,this._zone=zn,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,en.onRemovalComplete=(Mi,ti)=>{const _i=ti?.parentNode(Mi);_i&&ti.removeChild(_i,Mi)}}createRenderer(ve,en){const Mi=this.delegate.createRenderer(ve,en);if(!(ve&&en&&en.data&&en.data.animation)){let ho=this._rendererCache.get(Mi);return ho||(ho=new sn("",Mi,this.engine,()=>this._rendererCache.delete(Mi)),this._rendererCache.set(Mi,ho)),ho}const ti=en.id,_i=en.id+"-"+this._currentId;this._currentId++,this.engine.register(_i,ve);const vi=ho=>{Array.isArray(ho)?ho.forEach(vi):this.engine.registerTrigger(ti,_i,ve,ho.name,ho)};return en.data.animation.forEach(vi),new fi(this,_i,Mi,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(ve,en,zn){ve>=0&&ve<this._microtaskId?this._zone.run(()=>en(zn)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Mi=>{const[ti,_i]=Mi;ti(_i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([en,zn]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(en){return new(en||Fe)(i.LFG(i.FYo),i.LFG(mi.Th),i.LFG(i.R0b))}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac})}}return Fe})();class sn{constructor(cn,ve,en,zn){this.namespaceId=cn,this.delegate=ve,this.engine=en,this._onDestroy=zn}get data(){return this.delegate.data}destroyNode(cn){this.delegate.destroyNode?.(cn)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(cn,ve){return this.delegate.createElement(cn,ve)}createComment(cn){return this.delegate.createComment(cn)}createText(cn){return this.delegate.createText(cn)}appendChild(cn,ve){this.delegate.appendChild(cn,ve),this.engine.onInsert(this.namespaceId,ve,cn,!1)}insertBefore(cn,ve,en,zn=!0){this.delegate.insertBefore(cn,ve,en),this.engine.onInsert(this.namespaceId,ve,cn,zn)}removeChild(cn,ve,en){this.engine.onRemove(this.namespaceId,ve,this.delegate)}selectRootElement(cn,ve){return this.delegate.selectRootElement(cn,ve)}parentNode(cn){return this.delegate.parentNode(cn)}nextSibling(cn){return this.delegate.nextSibling(cn)}setAttribute(cn,ve,en,zn){this.delegate.setAttribute(cn,ve,en,zn)}removeAttribute(cn,ve,en){this.delegate.removeAttribute(cn,ve,en)}addClass(cn,ve){this.delegate.addClass(cn,ve)}removeClass(cn,ve){this.delegate.removeClass(cn,ve)}setStyle(cn,ve,en,zn){this.delegate.setStyle(cn,ve,en,zn)}removeStyle(cn,ve,en){this.delegate.removeStyle(cn,ve,en)}setProperty(cn,ve,en){"@"==ve.charAt(0)&&ve==Ki?this.disableAnimations(cn,!!en):this.delegate.setProperty(cn,ve,en)}setValue(cn,ve){this.delegate.setValue(cn,ve)}listen(cn,ve,en){return this.delegate.listen(cn,ve,en)}disableAnimations(cn,ve){this.engine.disableAnimations(cn,ve)}}class fi extends sn{constructor(cn,ve,en,zn,Mi){super(ve,en,zn,Mi),this.factory=cn,this.namespaceId=ve}setProperty(cn,ve,en){"@"==ve.charAt(0)?"."==ve.charAt(1)&&ve==Ki?this.disableAnimations(cn,en=void 0===en||!!en):this.engine.process(this.namespaceId,cn,ve.slice(1),en):this.delegate.setProperty(cn,ve,en)}listen(cn,ve,en){if("@"==ve.charAt(0)){const zn=function Xt(Fe){switch(Fe){case"body":return document.body;case"document":return document;case"window":return window;default:return Fe}}(cn);let Mi=ve.slice(1),ti="";return"@"!=Mi.charAt(0)&&([Mi,ti]=function Ye(Fe){const cn=Fe.indexOf(".");return[Fe.substring(0,cn),Fe.slice(cn+1)]}(Mi)),this.engine.listen(this.namespaceId,zn,Mi,ti,_i=>{this.factory.scheduleListenerCallback(_i._data||-1,en,_i)})}return this.delegate.listen(cn,ve,en)}}const Ei=[{provide:Li._j,useClass:Zi},{provide:mi.NH,useFactory:function Ve(){return new mi.Ar}},{provide:mi.Th,useClass:(()=>{class Fe extends mi.Th{constructor(ve,en,zn,Mi){super(ve.body,en,zn)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(en){return new(en||Fe)(i.LFG(t.K0),i.LFG(mi.Vi),i.LFG(mi.NH),i.LFG(i.z2F))}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac})}}return Fe})()},{provide:i.FYo,useFactory:function An(Fe,cn,ve){return new Gi(Fe,cn,ve)},deps:[e.se,mi.Th,i.R0b]}],ji=[{provide:mi.Vi,useFactory:()=>new mi.DT},{provide:i.QbO,useValue:"BrowserAnimations"},...Ei];var fn=o(7319),an=o(1728);let Mn=(()=>{class Fe{constructor(){this.restService=(0,i.f3M)(Pt.DA)}getSimpleDict(ve){return this.restService.post("/dictionary",ve)}static{this.\u0275fac=function(en){return new(en||Fe)}}static{this.\u0275prov=i.Yz7({token:Fe,factory:Fe.\u0275fac})}}return Fe})();var Tn=o(3266),bn=o(8525),ie=o(8930),We=o(7235);var Vi=o(5086),gi=o(2096),Ni=o(6697),zi=o(9315),Mo=o(2664),qo=o(3997);const mr=new i.OlP("keycloak config",{factory:()=>(0,i.f3M)(Zn.eN).get("assets/config/auth.config.json").pipe((0,It.U)(Fe=>({url:Fe.KEYCLOAK_URL+"/auth",realm:Fe.KEYCLOAK_REALM,clientId:Fe.KEYCLOAK_CLIENT_ID})))}),er=(0,i.MR2)([we.MZ,{provide:i.ip1,useFactory:(Fe,cn,ve,en,zn,Mi,ti)=>()=>(0,zi.D)([ve.get$("ENV").pipe((0,L.q)(1)),cn]).pipe((0,Ne.w)(([_i,vi])=>Fe.init({config:vi,enableBearerInterceptor:!0,loadUserProfileAtStartUp:!0,initOptions:{enableLogging:"production"!==_i,onLoad:"login-required",silentCheckSsoRedirectUri:window.location.origin+"/assets/silent-check-sso.html"}})),(0,Ne.w)(()=>(0,Mo.D)(Fe.loadUserProfile().catch(_i=>console.error("Failed to load keycloak profile",_i)))),(0,bt.b)(_i=>{_i&&(((Fe,cn,ve)=>{cn.dispatch(E.UserProfileStoreActions.setUserKeycloakProfile({currentUserKeycloakProfile:Fe})),Fe.username&&(cn.dispatch(E.UserProfileStoreActions.getCurrentUserCard({fullLogin:Fe.username})),cn.dispatch(E.UserProfileStoreActions.getCurrentUserAdmissions({moduleCode:ve})),cn.dispatch(E.UserProfileStoreActions.getCurrentUserStatuses({fullLogin:Fe.username})),cn.dispatch(E.UserProfileStoreActions.getCurrentUserDeputies({login:Fe.username,moduleCode:ve})))})(_i,en,Mi),((Fe,cn,ve,en,zn)=>{ve&&ve.username&&((!Fe.statusesList$.value||!Fe.statusesList$.value.length)&&Fe.getStatusesList().pipe((0,qo.x)()).subscribe(Mi=>{Mi&&Mi.length&&(!Fe.statusesList$.value||!Fe.statusesList$.value.length)&&(Fe.setStatusesList(Mi.filter(ti=>ti.default)),zn.setStatusesList(Mi.filter(ti=>ti.moduleCode===cn)))}),en.select(E.CurrentUserStatusesSelector).pipe((0,dt.n)(Mi=>!Mi||!Mi.length),(0,L.q)(1)).subscribe(Mi=>{const ti=Mi?.find(_i=>_i.default);ti&&"offl"===ti.stateCode&&en.dispatch(E.UserProfileStoreActions.updateCurrentUserStatus({queryParams:{login:ve.username},body:{currentStateUid:ti.currentStateUid,stateCode:"onl"},statusType:E.UserStatusTypes.default}))}))})(zn,Mi,_i,en,ti))})),deps:[we.MZ,mr,Pn.L,O.yh,E.UserStatusService,ht.Uc,Z],multi:!0},{provide:Zn.TP,useClass:we.nj,multi:!0}]),po=Fe=>{const cn=(0,i.f3M)(T.F0),ve=(0,i.f3M)(O.yh),en=Fe.data.permissions||[];return ve.select(E.CurrentUserPermissionCodesSelector).pipe((0,St.h)(Boolean),(0,It.U)(zn=>en.some(Mi=>zn.includes(Mi))||cn.createUrlTree(["/error"])))};var Ti=o(5861);const Wi=function(){var Fe=(0,Ti.Z)(function*(cn,ve){const en=(0,i.f3M)(Pn.L).get("ENV"),zn=(0,i.f3M)(T.F0),Mi=(0,i.f3M)(we.MZ);return(yield Mi.isLoggedIn())||(yield Mi.login({redirectUri:window.location.origin+ve.url})),!["production","stage"].includes(en)||(yield Mi.isLoggedIn())||zn.createUrlTree(["/error"])});return function(ve,en){return Fe.apply(this,arguments)}}(),cr={provide:o(634).I,useFactory:()=>(0,i.f3M)(Zn.eN).get("assets/config/ymap.config.json").pipe((0,It.U)(Fe=>Fe.API_KEY)),deps:[Zn.eN]},bo=[{path:"",canActivate:[Wi,po],data:{permissions:f.zC},children:[{path:"clients",loadChildren:()=>Promise.all([o.e(292),o.e(592),o.e(264)]).then(o.bind(o,2264))},{path:"supervisor",loadChildren:()=>o.e(723).then(o.bind(o,3723)),canActivate:[po],data:{permissions:[f.OP.READ_ALL_REQUEST_SUPERVISOR]}},{path:"employee",loadChildren:()=>Promise.all([o.e(357),o.e(506)]).then(o.bind(o,6506))},{path:"profile",loadChildren:()=>Promise.resolve().then(o.bind(o,8930))},{path:"",pathMatch:"full",redirectTo:"clients"}]},{path:"error",loadComponent:()=>o.e(734).then(o.bind(o,7734)).then(Fe=>Fe.PermissionDeniedComponent)},{path:"**",redirectTo:"clients"}];var qi=o(1491);const xo=new i.OlP("Sentry initialization config"),Lo=(Fe={logErrors:!0,showDialog:!1})=>({provide:i.qLn,useValue:(0,qi.v$)(Fe)});var Go=o(978),gn=o(2150);function In(Fe){return"/"===Fe[Fe.length-1]?Fe.slice(0,-1):Fe}var Bi=o(1826),No=o(437),zo=o(2462),ao=o(3054),Me=o(601),Qn=o(404);const J=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zt="HttpClient",on=(0,Go._I)((Fe={})=>{const cn={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...Fe};return{name:Zt,setupOnce(){},setup(ve){(function rt(Fe,cn){(0,No.t$)()&&(0,zo.U)(ve=>{if((0,gn.s3)()!==Fe)return;const{response:en,args:zn}=ve,[Mi,ti]=zn;en&&function Si(Fe,cn,ve,en){if(pe(Fe,ve.status,ve.url)){const zn=function On(Fe,cn){return!cn&&Fe instanceof Request||Fe instanceof Request&&Fe.bodyUsed?Fe:new Request(Fe,cn)}(cn,en);let Mi,ti,_i,vi;Sn()&&([{headers:Mi,cookies:_i},{headers:ti,cookies:vi}]=[{cookieHeader:"Cookie",obj:zn},{cookieHeader:"Set-Cookie",obj:ve}].map(({cookieHeader:ho,obj:ir})=>{const to=function Nr(Fe){const cn={};return Fe.forEach((ve,en)=>{cn[en]=ve}),cn}(ir.headers);let sr;try{const Fo=to[ho]||to[ho.toLowerCase()]||void 0;Fo&&(sr=jo(Fo))}catch{J&&Bi.kg.log(`Could not extract cookies from header ${ho}`)}return{headers:to,cookies:sr}}));const no=Be({url:zn.url,method:zn.method,status:ve.status,requestHeaders:Mi,responseHeaders:ti,requestCookies:_i,responseCookies:vi});(0,gn.eN)(no)}}(cn,Mi,en,ti)})})(ve,cn),function zt(Fe,cn){"XMLHttpRequest"in ao.GLOBAL_OBJ&&(0,Me.UK)(ve=>{if((0,gn.s3)()!==Fe)return;const en=ve.xhr,zn=en[Me.xU];if(!zn)return;const{method:Mi,request_headers:ti}=zn;try{!function Oo(Fe,cn,ve,en){if(pe(Fe,cn.status,cn.responseURL)){let zn,Mi,ti;if(Sn()){try{const vi=cn.getResponseHeader("Set-Cookie")||cn.getResponseHeader("set-cookie")||void 0;vi&&(Mi=jo(vi))}catch{J&&Bi.kg.log("Could not extract cookies from response headers")}try{ti=function Io(Fe){const cn=Fe.getAllResponseHeaders();return cn?cn.split("\r\n").reduce((ve,en)=>{const[zn,Mi]=en.split(": ");return ve[zn]=Mi,ve},{}):{}}(cn)}catch{J&&Bi.kg.log("Could not extract headers from response")}zn=en}const _i=Be({url:cn.responseURL,method:ve,status:cn.status,requestHeaders:zn,responseHeaders:ti,responseCookies:Mi});(0,gn.eN)(_i)}}(cn,en,Mi,ti)}catch(_i){J&&Bi.kg.warn("Error while extracting response event form XHR response",_i)}})}(ve,cn)}}});function rr(Fe){if(Fe){const cn=Fe["Content-Length"]||Fe["content-length"];if(cn)return parseInt(cn,10)}}function jo(Fe){return Fe.split("; ").reduce((cn,ve)=>{const[en,zn]=ve.split("=");return cn[en]=zn,cn},{})}function pe(Fe,cn,ve){return function W(Fe,cn){return Fe.some(ve=>"number"==typeof ve?ve===cn:cn>=ve[0]&&cn<=ve[1])}(Fe.failedRequestStatusCodes,cn)&&function _e(Fe,cn){return Fe.some(ve=>"string"==typeof ve?cn.includes(ve):ve.test(cn))}(Fe.failedRequestTargets,ve)&&!function Yn(Fe,cn){const ve=cn&&function ai(Fe){return void 0!==Fe.getClient}(cn)?cn.getClient():cn,en=ve&&ve.getDsn(),zn=ve&&ve.getOptions().tunnel;return function hn(Fe,cn){return!!cn&&Fe.includes(cn.host)}(Fe,en)||function te(Fe,cn){return!!cn&&In(Fe)===In(cn)}(Fe,zn)}(ve,(0,gn.s3)())}function Be(Fe){const cn=`HTTP Client Error with status code: ${Fe.status}`,ve={message:cn,exception:{values:[{type:"Error",value:cn}]},request:{url:Fe.url,method:Fe.method,headers:Fe.requestHeaders,cookies:Fe.requestCookies},contexts:{response:{status_code:Fe.status,headers:Fe.responseHeaders,cookies:Fe.responseCookies,body_size:rr(Fe.responseHeaders)}}};return(0,Qn.EG)(ve,{type:"http.client",handled:!1}),ve}function Sn(){const Fe=(0,gn.s3)();return!!Fe&&!!Fe.getOptions().sendDefaultPii}(0,Go.RN)(Zt,on);var Gn=o(2379),ni=o(5314),Lt=o(313);const $t="CaptureConsole",ue=(0,Go._I)((Fe={})=>{const cn=Fe.levels||Bi.RU;return{name:$t,setupOnce(){},setup(ve){"console"in ao.GLOBAL_OBJ&&(0,Gn.e)(({args:en,level:zn})=>{(0,gn.s3)()!==ve||!cn.includes(zn)||function ci(Fe,cn){const ve={level:(0,ni.VT)(cn),extra:{arguments:Fe}};(0,gn.$e)(en=>{if(en.addEventProcessor(ti=>(ti.logger="console",(0,Qn.EG)(ti,{handled:!1,type:"console"}),ti)),"assert"===cn&&!1===Fe[0]){const ti=`Assertion failed: ${(0,Lt.nK)(Fe.slice(1)," ")||"console.assert"}`;return en.setExtra("arguments",Fe.slice(1)),void(0,gn.uT)(ti,ve)}const zn=Fe.find(ti=>ti instanceof Error);if("error"===cn&&zn)return void(0,gn.Tb)(zn,ve);const Mi=(0,Lt.nK)(Fe," ");(0,gn.uT)(Mi,ve)})}(en,zn)})}}});(0,Go.RN)($t,ue);const So=(0,i.MR2)([(Fe=>{let cn=[];return cn=Lo(),[{provide:i.ip1,useFactory:ve=>()=>ve.pipe((0,It.U)(en=>(0,qi.S1)(en))),deps:[xo],multi:!0},{provide:i.ip1,useFactory:()=>()=>{},deps:[qi.aN],multi:!0},{provide:qi.aN,deps:[T.F0]},cn]})(),{provide:xo,useFactory:Fe=>{const cn=(0,i.f3M)(Ge.ST),ve=(0,i.f3M)(t.S$);return Fe.isLoaded$.pipe((0,L.q)(1)).pipe((0,It.U)(()=>{const en=Fe.get("ENV");return{dsn:Fe.get("SENTRY_DSN"),tracePropagationTargets:[cn.origin+ve.getBaseHref()+"api"],integrations:[on({failedRequestStatusCodes:[[400,599]]}),ue({levels:["error"]}),(0,qi.E8)()],maxBreadcrumbs:Number(Fe.get("SENTRY_BREADCRUMBS")),tracesSampler:zn=>void 0!==zn.parentSampled?zn.parentSampled:Number(Fe.get("SENTRY_TRACES_SAMPLE_RATE")),replaysSessionSampleRate:Number(Fe.get("SENTRY_REPLAYS_SESSION_SAMPLE_RATE")),replaysOnErrorSampleRate:Number(Fe.get("SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE")),environment:en,debug:["local","development","test"].includes(en),beforeSend:zn=>400===zn.contexts?.response?.status_code&&"GET"===zn.request?.method&&zn.request?.url?.includes("/api/lab-diagnostics/cart/")?null:zn}}))},deps:[Pn.L]}]);var Co=o(2926),Xo=o(8131),nr=o(493),Lr=o(7632);const dr=[(0,O.mW)({...Co.Ob,"user-profile":E.UserProfileStoreReducer}),(0,Xo.y3)(E.UserProfileStoreEffects),(0,nr.eN)({serializer:Co.cI,navigationActionTiming:nr.R0.PostActivation}),(0,Lr.rM)({maxAge:25,logOnly:!0,autoPause:!0,trace:!1,traceLimit:75})],lr={provide:it.Fo,useFactory:(Fe,cn)=>(0,Mo.D)(cn.getToken()).pipe((0,It.U)(ve=>({connectHeaders:{Authorization:`Bearer ${ve}`},brokerURL:`wss://${new URL(Fe.get("BACKEND_URL")).host}/api/ws`,heartbeatIncoming:59e3,heartbeatOutgoing:59e3,reconnectDelay:1e4}))),deps:[Pn.L,we.MZ]};(0,t.qS)(oi,"ru-RU",[[["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447.","\u043d\u043e\u0447\u0438"],["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447\u0435\u0440\u0430","\u043d\u043e\u0447\u0438"],["\u043f\u043e\u043b\u043d\u043e\u0447\u044c","\u043f\u043e\u043b\u0434\u0435\u043d\u044c","\u0443\u0442\u0440\u0430","\u0434\u043d\u044f","\u0432\u0435\u0447\u0435\u0440\u0430","\u043d\u043e\u0447\u0438"]],[["\u043f\u043e\u043b\u043d.","\u043f\u043e\u043b\u0434.","\u0443\u0442\u0440\u043e","\u0434\u0435\u043d\u044c","\u0432\u0435\u0447.","\u043d\u043e\u0447\u044c"],void 0,["\u043f\u043e\u043b\u043d\u043e\u0447\u044c","\u043f\u043e\u043b\u0434\u0435\u043d\u044c","\u0443\u0442\u0440\u043e","\u0434\u0435\u043d\u044c","\u0432\u0435\u0447\u0435\u0440","\u043d\u043e\u0447\u044c"]],["00:00","12:00",["04:00","12:00"],["12:00","18:00"],["18:00","22:00"],["22:00","04:00"]]]);const Or={providers:[(0,Zn.h_)((0,Zn.CB)([Pt.aI]),(0,Zn.MP)()),{provide:i.ip1,useFactory:Fe=>()=>Fe.load(),multi:!0,deps:[Pn.L]},So,er,(0,T.bU)(bo),function Ie(){return[...ji]}(),(0,i.RIp)(),dr,ln,cr,f.Ue,{provide:f.dE,useClass:Mn},{provide:i.soG,useValue:"ru-RU"},{provide:ce.ZW,useValue:3},{provide:t.Kl,useValue:{dateFormat:"dd.MM.yyyy"}},{provide:Vi.Z4,useValue:{required:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",pattern:"\u041f\u043e\u043b\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"}},{provide:We.Co,useValue:(0,gi.of)({name:"russian",months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",nothingFoundMessage:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",defaultErrorMessage:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e",spinTexts:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439"],shortWeekDays:["\u041f\u041d","\u0412\u0422","\u0421\u0420","\u0427\u0422","\u041f\u0422","\u0421\u0411","\u0412\u0421"],countries:{AD:"\u0410\u043d\u0434\u043e\u0440\u0440\u0430",AE:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0435 \u0410\u0440\u0430\u0431\u0441\u043a\u0438\u0435 \u042d\u043c\u0438\u0440\u0430\u0442\u044b",AF:"\u0410\u0444\u0433\u0430\u043d\u0438\u0441\u0442\u0430\u043d",AG:"\u0410\u043d\u0442\u0438\u0433\u0443\u0430 \u0438 \u0411\u0430\u0440\u0431\u0443\u0434\u0430",AI:"\u0410\u043d\u0433\u0438\u043b\u044c\u044f",AL:"\u0410\u043b\u0431\u0430\u043d\u0438\u044f",AM:"\u0410\u0440\u043c\u0435\u043d\u0438\u044f",AO:"\u0410\u043d\u0433\u043e\u043b\u0430",AR:"\u0410\u0440\u0433\u0435\u043d\u0442\u0438\u043d\u0430",AT:"\u0410\u0432\u0441\u0442\u0440\u0438\u044f",AU:"\u0410\u0432\u0441\u0442\u0440\u0430\u043b\u0438\u044f",AW:"\u0410\u0440\u0443\u0431\u0430",AZ:"\u0410\u0437\u0435\u0440\u0431\u0430\u0439\u0434\u0436\u0430\u043d",BA:"\u0411\u043e\u0441\u043d\u0438\u044f \u0438 \u0413\u0435\u0440\u0446\u0435\u0433\u043e\u0432\u0438\u043d\u0430",BB:"\u0411\u0430\u0440\u0431\u0430\u0434\u043e\u0441",BD:"\u0411\u0430\u043d\u0433\u043b\u0430\u0434\u0435\u0448",BE:"\u0411\u0435\u043b\u044c\u0433\u0438\u044f",BF:"\u0411\u0443\u0440\u043a\u0438\u043d\u0430 \u0424\u0430\u0441\u043e",BG:"\u0411\u043e\u043b\u0433\u0430\u0440\u0438\u044f",BH:"\u0411\u0430\u0445\u0440\u0435\u0439\u043d",BI:"\u0411\u0443\u0440\u0443\u043d\u0434\u0438",BJ:"\u0411\u0435\u043d\u0438\u043d",BL:"\u0421\u0435\u043d-\u0411\u0430\u0440\u0442\u0435\u043b\u044c\u043c\u0438",BM:"\u0411\u0435\u0440\u043c\u0443\u0434\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",BN:"\u0411\u0440\u0443\u043d\u0435\u0439-\u0414\u0430\u0440\u0443\u0441\u0441\u0430\u043b\u0430\u043c",BO:"\u0411\u043e\u043b\u0438\u0432\u0438\u044f",BQ:"\u0411\u043e\u043d\u0430\u0439\u0440\u0435, \u0421\u0438\u043d\u0442-\u042d\u0441\u0442\u0430\u0442\u0438\u0443\u0441 \u0438 \u0421\u0430\u0431\u0430",BR:"\u0411\u0440\u0430\u0437\u0438\u043b\u0438\u044f",BS:"\u0411\u0430\u0433\u0430\u043c\u0441\u043a\u0438\u0435 \u041e\u0441\u0442\u0440\u043e\u0432\u0430",BT:"\u0411\u0443\u0442\u0430\u043d",BW:"\u0411\u043e\u0442\u0441\u0432\u0430\u043d\u0430",BY:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c (\u0411\u0435\u043b\u043e\u0440\u0443\u0441\u0441\u0438\u044f)",BZ:"\u0411\u0435\u043b\u0438\u0437",CA:"\u041a\u0430\u043d\u0430\u0434\u0430",CD:"\u0414\u0435\u043c. \u0420\u0435\u0441\u043f. \u041a\u043e\u043d\u0433\u043e (\u041a\u0438\u043d\u0448\u0430\u0441\u0430)",CF:"\u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0430\u0444\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0430\u044f \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430",CG:"\u041a\u043e\u043d\u0433\u043e (\u0411\u0440\u0430\u0437\u0437\u0430\u0432\u0438\u043b\u044c)",CH:"\u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0438\u044f",CI:"\u041a\u043e\u0442-\u0434\u2019\u0418\u0432\u0443\u0430\u0440",CL:"\u0427\u0438\u043b\u0438",CM:"\u041a\u0430\u043c\u0435\u0440\u0443\u043d",CN:"\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0430\u044f \u041d.\u0420.",CO:"\u041a\u043e\u043b\u0443\u043c\u0431\u0438\u044f",CR:"\u041a\u043e\u0441\u0442\u0430-\u0420\u0438\u043a\u0430",CU:"\u041a\u0443\u0431\u0430",CV:"\u041a\u0430\u0431\u043e-\u0412\u0435\u0440\u0434\u0435",CW:"\u041a\u044e\u0440\u0430\u0441\u0430\u043e",CY:"\u041a\u0438\u043f\u0440",CZ:"\u0427\u0435\u0445\u0438\u044f",DE:"\u0413\u0435\u0440\u043c\u0430\u043d\u0438\u044f",DJ:"\u0414\u0436\u0438\u0431\u0443\u0442\u0438",DK:"\u0414\u0430\u043d\u0438\u044f",DM:"\u0414\u043e\u043c\u0438\u043d\u0438\u043a\u0430",DO:"\u0414\u043e\u043c\u0438\u043d\u0438\u043a\u0430\u043d\u0441\u043a\u0430\u044f \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430",DZ:"\u0410\u043b\u0436\u0438\u0440",EC:"\u042d\u043a\u0432\u0430\u0434\u043e\u0440 ",EE:"\u042d\u0441\u0442\u043e\u043d\u0438\u044f ",EG:"\u0415\u0433\u0438\u043f\u0435\u0442",ER:"\u042d\u0440\u0438\u0442\u0440\u0435\u044f",ES:"\u0418\u0441\u043f\u0430\u043d\u0438\u044f",ET:"\u042d\u0444\u0438\u043e\u043f\u0438\u044f",FI:"\u0424\u0438\u043d\u043b\u044f\u043d\u0434\u0438\u044f",FJ:"\u0424\u0438\u0434\u0436\u0438",FK:"\u0424\u043e\u043b\u043a\u043b\u0435\u043d\u0434\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",FM:"\u0424.\u0428. \u041c\u0438\u043a\u0440\u043e\u043d\u0435\u0437\u0438\u0438",FR:"\u0424\u0440\u0430\u043d\u0446\u0438\u044f",GA:"\u0413\u0430\u0431\u043e\u043d",GB:"\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f",GD:"\u0413\u0440\u0435\u043d\u0430\u0434\u0430",GE:"\u0413\u0440\u0443\u0437\u0438\u044f",GF:"\u0413\u0430\u0439\u0430\u043d\u0430",GH:"\u0413\u0430\u043d\u0430",GI:"\u0413\u0438\u0431\u0440\u0430\u043b\u0442\u0430\u0440",GL:"\u0413\u0440\u0435\u043d\u043b\u0430\u043d\u0434\u0438\u044f",GM:"\u0413\u0430\u043c\u0431\u0438\u044f",GN:"\u0413\u0432\u0438\u043d\u0435\u044f",GP:"\u0413\u0432\u0430\u0434\u0435\u043b\u0443\u043f\u0430",GQ:"\u042d\u043a\u0432\u0430\u0442\u043e\u0440\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0413\u0432\u0438\u043d\u0435\u044f",GR:"\u0413\u0440\u0435\u0446\u0438\u044f",GT:"\u0413\u0432\u0430\u0442\u0435\u043c\u0430\u043b\u0430",GW:"\u0413\u0432\u0438\u043d\u0435\u044f-\u0411\u0438\u0441\u0430\u0443",GY:"\u0413\u0430\u0439\u0430\u043d\u0430",HK:"\u0413\u043e\u043d\u043a\u043e\u043d\u0433",HN:"\u0413\u043e\u043d\u0434\u0443\u0440\u0430\u0441",HR:"\u0425\u043e\u0440\u0432\u0430\u0442\u0438\u044f",HT:"\u0413\u0430\u0438\u0442\u0438",HU:"\u0412\u0435\u043d\u0433\u0440\u0438\u044f",ID:"\u0418\u043d\u0434\u043e\u043d\u0435\u0437\u0438\u044f ",IE:"\u0418\u0440\u043b\u0430\u043d\u0434\u0438\u044f",IL:"\u0418\u0437\u0440\u0430\u0438\u043b\u044c",IN:"\u0418\u043d\u0434\u0438\u044f",IQ:"\u0418\u0440\u0430\u043a",IR:"\u0418\u0440\u0430\u043d",IS:"\u0418\u0441\u043b\u0430\u043d\u0434\u0438\u044f",IT:"\u0418\u0442\u0430\u043b\u0438\u044f",JM:"\u042f\u043c\u0430\u0439\u043a\u0430",JO:"\u0418\u043e\u0440\u0434\u0430\u043d\u0438\u044f",JP:"\u042f\u043f\u043e\u043d\u0438\u044f ",KE:"\u041a\u0435\u043d\u0438\u044f",KG:"\u041a\u0438\u0440\u0433\u0438\u0437\u0438\u044f",KH:"\u041a\u0430\u043c\u0431\u043e\u0434\u0436\u0430",KM:"\u041a\u043e\u043c\u043e\u0440\u044b",KN:"\u0421\u0435\u043d\u0442-\u041a\u0438\u0442\u0441 \u0438 \u041d\u0435\u0432\u0438\u0441",KP:"\u041a\u043e\u0440\u0435\u0439\u0441\u043a\u0430\u044f \u041d\u0414\u0420",KR:"\u0420\u0435\u0441\u043f. \u041a\u043e\u0440\u0435\u044f",KW:"\u041a\u0443\u0432\u0435\u0439\u0442",KY:"\u041a\u0430\u0439\u043c\u0430\u043d\u043e\u0432\u044b \u043e\u0441\u0442\u0440\u043e\u0432\u0430",KZ:"\u041a\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043d",LA:"\u041b\u0430\u043e\u0441",LB:"\u041b\u0438\u0432\u0430\u043d ",LC:"\u0421\u0435\u043d\u0442-\u041b\u044e\u0441\u0438\u044f",LI:"\u041b\u0438\u0445\u0442\u0435\u043d\u0448\u0442\u0435\u0439\u043d",LK:"\u0428\u0440\u0438-\u041b\u0430\u043d\u043a\u0430",LR:"\u041b\u0438\u0431\u0435\u0440\u0438\u044f",LS:"\u041b\u0435\u0441\u043e\u0442\u043e",LT:"\u041b\u0438\u0442\u0432\u0430",LU:"\u041b\u044e\u043a\u0441\u0435\u043c\u0431\u0443\u0440\u0433",LV:"\u041b\u0430\u0442\u0432\u0438\u044f",LY:"\u041b\u0438\u0432\u0438\u044f",MA:"\u041c\u0430\u0440\u043e\u043a\u043a\u043e",MC:"\u041c\u043e\u043d\u0430\u043a\u043e",MD:"\u041c\u043e\u043b\u0434\u043e\u0432\u0430",ME:"\u0427\u0435\u0440\u043d\u043e\u0433\u043e\u0440\u0438\u044f",MF:"\u0421\u0435\u043d-\u041c\u0430\u0440\u0442\u0435\u043d",MG:"\u041c\u0430\u0434\u0430\u0433\u0430\u0441\u043a\u0430\u0440",MK:"\u0420\u0435\u0441\u043f. \u0421\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u044f",ML:"\u041c\u0430\u043b\u0438",MM:"\u0411\u0438\u0440\u043c\u0430 (\u041c\u044c\u044f\u043d\u043c\u0430)",MN:"\u041c\u043e\u043d\u0433\u043e\u043b\u0438\u044f",MO:"\u041c\u0430\u043a\u0430\u043e",MQ:"\u041c\u0430\u0440\u0442\u0438\u043d\u0438\u043a\u0430",MR:"\u041c\u0430\u0432\u0440\u0438\u0442\u0430\u043d\u0438\u044f",MS:"\u041c\u043e\u043d\u0442\u0441\u0435\u0440\u0440\u0430\u0442",MT:"\u041c\u0430\u043b\u044c\u0442\u0430",MU:"\u041c\u0430\u0432\u0440\u0438\u043a\u0438\u0439",MV:"\u041c\u0430\u043b\u044c\u0434\u0438\u0432\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",MW:"\u041c\u0430\u043b\u0430\u0432\u0438",MX:"\u041c\u0435\u043a\u0441\u0438\u043a\u0430",MY:"\u041c\u0430\u043b\u0430\u0439\u0437\u0438\u044f",MZ:"\u041c\u043e\u0437\u0430\u043c\u0431\u0438\u043a",NA:"\u041d\u0430\u043c\u0438\u0431\u0438\u044f",NC:"\u041d\u043e\u0432\u0430\u044f \u041a\u0430\u043b\u0435\u0434\u043e\u043d\u0438\u044f",NE:"\u041d\u0438\u0433\u0435\u0440",NG:"\u041d\u0438\u0433\u0435\u0440\u0438\u044f",NI:"\u041d\u0438\u043a\u0430\u0440\u0430\u0433\u0443\u0430",NL:"\u041d\u0438\u0434\u0435\u0440\u043b\u0430\u043d\u0434\u044b",NO:"\u041d\u043e\u0440\u0432\u0435\u0433\u0438\u044f",NP:"\u041d\u0435\u043f\u0430\u043b",NZ:"\u041d\u043e\u0432\u0430\u044f \u0417\u0435\u043b\u0430\u043d\u0434\u0438\u044f",OM:"\u041e\u043c\u0430\u043d",PA:"\u041f\u0430\u043d\u0430\u043c\u0430",PE:"\u041f\u0435\u0440\u0443",PF:"\u0424\u0440\u0430\u043d\u0446\u0443\u0437\u0441\u043a\u0430\u044f \u041f\u043e\u043b\u0438\u043d\u0435\u0437\u0438\u044f (\u0422\u0430\u0438\u0442\u0438)",PG:"\u041f\u0430\u043f\u0443\u0430-\u041d\u043e\u0432\u0430\u044f \u0413\u0432\u0438\u043d\u0435\u044f",PH:"\u0424\u0438\u043b\u0438\u043f\u043f\u0438\u043d\u044b",PK:"\u041f\u0430\u043a\u0438\u0441\u0442\u0430\u043d",PL:"\u041f\u043e\u043b\u044c\u0448\u0430",PT:"\u041f\u043e\u0440\u0442\u0443\u0433\u0430\u043b\u0438\u044f",PW:"\u041f\u0430\u043b\u0430\u0443",PY:"\u041f\u0430\u0440\u0430\u0433\u0432\u0430\u0439",QA:"\u041a\u0430\u0442\u0430\u0440",RE:"\u0420\u0435\u044e\u043d\u044c\u043e\u043d",RO:"\u0420\u0443\u043c\u044b\u043d\u0438\u044f",RS:"\u0421\u0435\u0440\u0431\u0438\u044f",RU:"\u0420\u043e\u0441\u0441\u0438\u044f",RW:"\u0420\u0443\u0430\u043d\u0434\u0430",SA:"\u0421\u0430\u0443\u0434\u043e\u0432\u0441\u043a\u0430\u044f \u0410\u0440\u0430\u0432\u0438\u044f ",SB:"\u0421\u043e\u043b\u043e\u043c\u043e\u043d\u043e\u0432\u044b \u041e\u0441\u0442\u0440\u043e\u0432\u0430 ",SC:"\u0421\u0435\u0439\u0448\u0435\u043b\u044b",SD:"\u0421\u0443\u0434\u0430\u043d",SE:"\u0428\u0432\u0435\u0446\u0438\u044f",SG:"\u0421\u0438\u043d\u0433\u0430\u043f\u0443\u0440",SH:"\u041e\u0441\u0442\u0440\u043e\u0432 \u0421\u0432\u044f\u0442\u043e\u0439 \u0415\u043b\u0435\u043d\u044b",SI:"\u0421\u043b\u043e\u0432\u0435\u043d\u0438\u044f",SK:"\u0421\u043b\u043e\u0432\u0430\u043a\u0438\u044f",SL:"\u0421\u044c\u0435\u0440\u0440\u0430-\u041b\u0435\u043e\u043d\u0435",SM:"\u0421\u0430\u043d-\u041c\u0430\u0440\u0438\u043d\u043e",SN:"\u0421\u0435\u043d\u0435\u0433\u0430\u043b",SO:"\u0421\u043e\u043c\u0430\u043b\u0438",SR:"\u0421\u0443\u0440\u0438\u043d\u0430\u043c ",ST:"\u0421\u0430\u043d-\u0422\u043e\u043c\u0435 \u0438 \u041f\u0440\u0438\u043d\u0441\u0438\u043f\u0438",SV:"\u0421\u0430\u043b\u044c\u0432\u0430\u0434\u043e\u0440",SX:"\u0421\u0438\u043d\u0442-\u041c\u0430\u0440\u0442\u0435\u043d",SY:"\u0421\u0438\u0440\u0438\u0439\u0441\u043a\u0430\u044f \u0430\u0440\u0430\u0431\u0441\u043a\u0430\u044f \u0440\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430",SZ:"\u0421\u0432\u0430\u0437\u0438\u043b\u0435\u043d\u0434",TC:"\u0422\u0451\u0440\u043a\u0441 \u0438 \u041a\u0430\u0439\u043a\u043e\u0441",TD:"\u0427\u0430\u0434",TG:"\u0422\u043e\u0433\u043e",TH:"\u0422\u0430\u0438\u043b\u0430\u043d\u0434 ",TJ:"\u0422\u0430\u0434\u0436\u0438\u043a\u0438\u0441\u0442\u0430\u043d",TL:"\u0412\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439 \u0422\u0438\u043c\u043e\u0440",TM:"\u0422\u0443\u0440\u043a\u043c\u0435\u043d\u0438\u0441\u0442\u0430\u043d",TN:"\u0422\u0443\u043d\u0438\u0441",TO:"\u0422\u043e\u043d\u0433\u0430",TR:"\u0422\u0443\u0440\u0446\u0438\u044f",TT:"\u0422\u0440\u0438\u043d\u0438\u0434\u0430\u0434 \u0438 \u0422\u043e\u0431\u0430\u0433\u043e",TW:"\u0422\u0430\u0439\u0432\u0430\u043d\u044c",TZ:"\u0422\u0430\u043d\u0437\u0430\u043d\u0438\u044f",UA:"\u0423\u043a\u0440\u0430\u0438\u043d\u0430",UG:"\u0423\u0433\u0430\u043d\u0434\u0430",US:"\u0421\u0428\u0410",UY:"\u0423\u0440\u0443\u0433\u0432\u0430\u0439",UZ:"\u0423\u0437\u0431\u0435\u043a\u0438\u0441\u0442\u0430\u043d",VC:"\u0421\u0435\u043d\u0442-\u0412\u0438\u043d\u0441\u0435\u043d\u0442 \u0438 \u0413\u0440\u0435\u043d\u0430\u0434\u0438\u043d\u044b",VE:"\u0412\u0435\u043d\u0435\u0441\u0443\u044d\u043b\u0430",VG:"\u0411\u0440\u0438\u0442\u0430\u043d\u0441\u043a\u0438\u0435 \u0412\u0438\u0440\u0433\u0438\u043d\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",VN:"\u0412\u044c\u0435\u0442\u043d\u0430\u043c",VU:"\u0412\u0430\u043d\u0443\u0430\u0442\u0443 ",WS:"\u0421\u0430\u043c\u043e\u0430",YE:"\u0419\u0435\u043c\u0435\u043d ",YT:"\u041c\u0430\u0439\u043e\u0442\u0442\u0430",ZA:"\u042e\u0436\u043d\u043e-\u0410\u0444\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0430\u044f \u0420\u0435\u0441\u043f.",ZM:"\u0417\u0430\u043c\u0431\u0438\u044f",ZW:"\u0417\u0438\u043c\u0431\u0430\u0431\u0432\u0435",XK:"\u041a\u043e\u0441\u043e\u0432\u043e",AC:"\u041e\u0441\u0442\u0440\u043e\u0432 \u0410\u0441\u0435\u043d\u0441\u044c\u043e\u043d",AS:"\u0410\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u043e\u0435 \u0421\u0430\u043c\u043e\u0430",AX:"\u0410\u043b\u0430\u043d\u0434\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",CC:"\u041a\u043e\u043a\u043e\u0441\u043e\u0432\u044b\u0435 (\u041a\u0438\u043b\u0438\u043d\u0433) \u043e\u0441\u0442\u0440\u043e\u0432\u0430",CK:"\u041e\u0441\u0442\u0440\u043e\u0432\u0430 \u041a\u0443\u043a\u0430",CX:"\u041e\u0441\u0442\u0440\u043e\u0432 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430",EH:"\u0417\u0430\u043f\u0430\u0434\u043d\u0430\u044f \u0421\u0430\u0445\u0430\u0440\u0430",FO:"\u0424\u0430\u0440\u0435\u0440\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",GG:"\u0413\u0435\u0440\u043d\u0441\u0438",GU:"\u0413\u0443\u0430\u043c",IM:"\u041e\u0441\u0442\u0440\u043e\u0432 \u041c\u044d\u043d",JE:"\u0414\u0436\u0435\u0440\u0441\u0438",IO:"\u0411\u0440\u0438\u0442\u0430\u043d\u0441\u043a\u0430\u044f \u0422\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u044f \u0432 \u0418\u043d\u0434\u0438\u0439\u0441\u043a\u043e\u043c \u041e\u043a\u0435\u0430\u043d\u0435",KI:"\u041a\u0438\u0440\u0438\u0431\u0430\u0442\u0438",MH:"\u041c\u0430\u0440\u0448\u0430\u043b\u043b\u043e\u0432\u044b \u041e\u0441\u0442\u0440\u043e\u0432\u0430",MP:"\u0421\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u041c\u0430\u0440\u0438\u0430\u043d\u0441\u043a\u0438\u0435 \u041e\u0441\u0442\u0440\u043e\u0432\u0430",NF:"\u041e\u0441\u0442\u0440\u043e\u0432 \u041d\u043e\u0440\u0444\u043e\u043b\u043a",NR:"\u041d\u0430\u0443\u0440\u0443",NU:"\u041d\u0438\u0443\u044d",PM:"\u0421\u0435\u043d-\u041f\u044c\u0435\u0440 \u0438 \u041c\u0438\u043a\u0435\u043b\u043e\u043d",PR:"\u041f\u0443\u044d\u0440\u0442\u043e-\u0420\u0438\u043a\u043e",PS:"\u041f\u0430\u043b\u0435\u0441\u0442\u0438\u043d\u0430",SJ:"\u0428\u043f\u0438\u0446\u0431\u0435\u0440\u0433\u0435\u043d \u0438 \u042f\u043d-\u041c\u0430\u0439\u0435\u043d",SS:"\u042e\u0436\u043d\u044b\u0439 \u0421\u0443\u0434\u0430\u043d",TA:"\u0422\u0440\u0438\u0441\u0442\u0430\u043d-\u0434\u0430-\u041a\u0443\u043d\u044c\u044f",TK:"\u0422\u043e\u043a\u0435\u043b\u0430\u0443",TV:"\u0422\u0443\u0432\u0430\u043b\u0443",VA:"\u0421\u0432\u044f\u0442\u043e\u0439 \u041f\u0440\u0435\u0441\u0442\u043e\u043b (\u0412\u0430\u0442\u0438\u043a\u0430\u043d)",VI:"\u0412\u0438\u0440\u0433\u0438\u043d\u0441\u043a\u0438\u0435 \u043e\u0441\u0442\u0440\u043e\u0432\u0430",WF:"\u041e\u0441\u0442\u0440\u043e\u0432\u0430 \u0423\u043e\u043b\u043b\u0438\u0441 \u0438 \u0424\u0443\u0442\u0443\u043d\u0430"},cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",done:"\u0413\u043e\u0442\u043e\u0432\u043e",more:"\u0415\u0449\u0435",otherDate:"\u0414\u0440\u0443\u0433\u0430\u044f \u0434\u0430\u0442\u0430...",showAll:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",hide:"\u0421\u043a\u0440\u044b\u0442\u044c",mobileCalendarTexts:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u043d\u044c","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043d\u0438"],range:["\u043e\u0442","\u0434\u043e"],countTexts:["\u041f\u043b\u044e\u0441","\u041c\u0438\u043d\u0443\u0441"],time:{"HH:MM":"\u0427\u0427:\u041c\u041c","HH:MM AA":"\u0427\u0427:\u041c\u041c AA","HH:MM:SS":"\u0427\u0427:\u041c\u041c:\u0421\u0421","HH:MM:SS AA":"\u0427\u0427:\u041c\u041c:\u0421\u0421 AA","HH:MM:SS.MSS":"\u0427\u0427:\u041c\u041c:\u0421\u0421.\u041c\u0421\u0421","HH:MM:SS.MSS AA":"\u0427\u0427:\u041c\u041c:\u0421\u0421.\u041c\u0421\u0421 AA"},dateTexts:{DMY:"\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433",MDY:"\u043c\u043c.\u0434\u0434.\u0433\u0433\u0433\u0433",YMD:"\u0433\u0433\u0433\u0433.\u043c\u043c.\u0434\u0434"},digitalInformationUnits:["\u0411","\u041a\u0438\u0411","\u041c\u0438\u0411"],passwordTexts:["\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c","\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"],copyTexts:["\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"],shortCalendarMonths:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f\u0431","\u0414\u0435\u043a"],pagination:["\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"],fileTexts:{loadingError:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",preview:"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",remove:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},inputFileTexts:{defaultLabelSingle:"\u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435\xa0\u0435\u0433\u043e\xa0\u0441\u044e\u0434\u0430",defaultLabelMultiple:"\u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435\xa0\u0438\u0445\xa0\u0441\u044e\u0434\u0430",defaultLinkSingle:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",defaultLinkMultiple:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b",maxSizeRejectionReason:"\u0424\u0430\u0439\u043b \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043c",formatRejectionReason:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430",drop:"\u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0441\u044e\u0434\u0430",dropMultiple:"\u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430"},multiSelectTexts:{all:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435",none:"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0431\u043e\u0440"},confirm:{yes:"\u0414\u0430",no:"\u041d\u0435\u0442"},previewTexts:{rotate:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c"},zoomTexts:{zoomIn:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431",zoomOut:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431",reset:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431"},phoneSearch:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443 \u0438\u043b\u0438 \u043a\u043e\u0434",cardNumber:["\u041d\u043e\u043c\u0435\u0440","\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b"],cardExpiry:["\u0421\u0440\u043e\u043a","\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],showHideText:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c/\u0421\u043a\u0440\u044b\u0442\u044c",paginationTexts:{pages:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446",linesPerPage:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",of:"\u0438\u0437"},colorSelectorModeNames:["\u0421\u043f\u043b\u043e\u0448\u043d\u043e\u0439 \u0446\u0432\u0435\u0442","\u0413\u0440\u0430\u0434\u0438\u0435\u043d\u0442"],toolbarTools:{undo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",redo:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",font:"\u0428\u0440\u0438\u0444\u0442",fontStyle:"\u0421\u0442\u0438\u043b\u044c \u0448\u0440\u0438\u0444\u0442\u0430",fontSize:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",italic:"\u041a\u0443\u0440\u0441\u0438\u0432",underline:"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",strikeThrough:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",justify:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",justifyLeft:"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",justifyCenter:"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",justifyRight:"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",justifyFull:"\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435",list:"\u0421\u043f\u0438\u0441\u043a\u0438",indent:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",outdent:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",unorderedList:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",orderedList:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",quote:"\u0426\u0438\u0442\u0430\u0442\u0430",foreColor:"\u0426\u0432\u0435\u0442: \u0422\u0435\u043a\u0441\u0442",hiliteColor:"\u0426\u0432\u0435\u0442 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u044f",backColor:"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430",clear:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",link:"\u0421\u0441\u044b\u043b\u043a\u0430",attach:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b",tex:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443\u043b\u0443",code:"Code",image:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",insertHorizontalRule:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c",superscript:"\u041d\u0430\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439",subscript:"\u041f\u043e\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439",insertTable:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443",insertGroup:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",hiliteGroup:"\u041f\u043e\u043a\u0440\u0430\u0441\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",removeGroup:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",insertAnchor:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044f\u043a\u043e\u0440\u044c",mergeCells:"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438",splitCells:"\u0420\u0430\u0437\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438",rowsColumnsManaging:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438 \u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438",cellColor:"\u0426\u0432\u0435\u0442 \u044f\u0447\u0435\u0439\u043a\u0438",setDetails:"\u0410\u043a\u043a\u043e\u0440\u0434\u0435\u043e\u043d",removeDetails:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u043e\u0440\u0434\u0435\u043e\u043d"},editorEditLink:{urlExample:"example.com",anchorExample:"\u044f\u043a\u043e\u0440\u044c"},editorTableCommands:[["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430"],["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443"],["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443"]],editorCodeOptions:["\u041a\u043e\u0434","\u041a\u043e\u0434 \u0432 \u0431\u043b\u043e\u043a\u0435"],editorFontOptions:{small:"\u041c\u0435\u043b\u043a\u0438\u0439",normal:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439",large:"\u041a\u0440\u0443\u043f\u043d\u044b\u0439",title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",subtitle:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}})},{provide:ht.Uc,useValue:"arm_doctor"},{provide:bn.jO,useExisting:Ni.W},{provide:E.USER_PROFILE_API_SERVICE_TOKEN,useClass:ie.ProfileApiService},{provide:E.USER_STATUS_API_SERVICE_TOKEN,useClass:De},{provide:E.USER_DEPUTIES_API_SERVICE_TOKEN,useClass:Gt},{provide:an.mx,useClass:Tn.c},{provide:an.A4,useClass:Tn.DP},En.J0,{provide:it.KP,useValue:"/assets/scripts/shared-worker.js"},lr,{provide:fn.ny,useClass:Tn.cx},{provide:f.JJ,useValue:(0,ht.RR)()}]};(0,e.Cg)(eo,Or)},8930:(Qt,$,o)=>{"use strict";o.r($),o.d($,{ProfileApiService:()=>O,ProfilePageComponent:()=>v,USER_ADMISSIONS_MOCK:()=>U,default:()=>R,newDmsUserPermission:()=>M});var e=o(5879),t=o(1993),a=o(4190),i=o(1912),g=o(2926),T=o(4221),_=o(1564),m=o(2527),h=o(1534),f=o(2572);let v=(()=>{class A{constructor(){this.routerStore=(0,e.f3M)(g.fT),this.selectedFullLogin$=(0,e.f3M)(i.SELECTED_USER_CARD_LOGIN_TOKEN),this.store=(0,e.f3M)(T.yh),this.destroyRef=(0,e.f3M)(e.ktI),this.router=(0,e.f3M)(a.F0)}ngOnInit(){(0,f.a)([this.routerStore.param$("login"),this.store.select(i.CurrentUserCardSelector)]).pipe((0,t.sL)(this.destroyRef)).subscribe(([w,p])=>{if(!w)return;const L=i.UserProfileUtilsClass.parseRouteParamLoginToKeycloackLogin(w);this.selectedFullLogin$.next(L)})}goToClientsPage(){this.router.navigate(["clients"])}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["app-profile-page"]],standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[["appearance","floating","tuiButton","","type","button","size","m",1,"clients-page-button",3,"click"],["icon","@tui.chevron-left"]],template:function(p,L){1&p&&(e.TgZ(0,"tui-scrollbar"),e._UZ(1,"router-outlet"),e.qZA(),e.TgZ(2,"button",0),e.NdJ("click",function(){return L.goToClientsPage()}),e._UZ(3,"tui-icon",1),e.qZA())},dependencies:[_.D1,a.lC,m.xG,h.R],styles:["[_nghost-%COMP%]{position:relative;padding-bottom:10px;display:block;width:100%;height:100%}[_nghost-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{height:100%}.clients-page-button[_ngcontent-%COMP%]{position:absolute;z-index:10;top:8px;right:calc(50% + 408px);width:48px;border:1px solid #e1e1e1;cursor:pointer}.clients-page-button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:24px;height:24px}"],changeDetection:0})}}return A})();const D=[{path:":login",component:v,loadChildren:()=>Promise.resolve().then(o.bind(o,1912)).then(A=>A.routes)}];var y=o(692),E=o(2096);let O=(()=>{class A{constructor(){this.userCardEndPoint="profile",this.userAdmissionsEndPoint="user-profile",this.aegleRestService=(0,e.f3M)(y.DA)}getMiniUserCard(w){return this.aegleRestService.get(`/${this.userCardEndPoint}/mini-user`,{params:{login:w}})}getUserCard(w){return w?this.aegleRestService.get(`/${this.userCardEndPoint}/user-card`,{params:{login:w}}):(0,E.of)(null)}getUserAdmissions(w){return this.aegleRestService.get(`/${this.userAdmissionsEndPoint}/user-map`,{params:{moduleCode:w}})}getUsersList(w){const p={page:w.page.toString(),pageSize:w.pageSize.toString()};return w.fullName&&(p.fullName=w.fullName),w.currentLogin&&(p.currentLogin=w.currentLogin),this.aegleRestService.get(`/${this.userCardEndPoint}/users`,{params:p})}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const M={UPDATE_IN_STATE_READY:"update_in_state_ready",UPDATE_PHONE_NUMBER:"update_phone_number",SAVE_NEW_REQUEST:"save_new_request",CREATE_REQUEST:"create_request",READY_MY_REQUEST_EMPLOYEE:"read_my_request_employee",READ_UPLOAD_MEDCARD:"read_upload_medcard",READ_ALL_REQUEST_SUPERVISOR:"read_all_request_supervisor",READ_ALL_REQUEST_EMPLOYEE:"read_all_request_employee",CREATE_SEND_GP:"create_send_GP",CREATE_COMMENTS:"create_comments",MANAGMENT_GUIDE:"managment_guide",MANAGMENT_SKILLGROUP:"managment_skillgroup",MANAGMENT_PRIORITY_CONTRACTS:"managment_priority_contracts",CREATE_REPORTS:"create_reports",READ_DASHBOARDS:"read_dashboards",READ_AND_UPLOAD_REPORT:"read_and_upload_report",JOB_ANALYST_MODULE:"job_analyst_module",JOB_MAIL_MODULE:"job_mail_module",JOB_CHAT_MODULE:"job_chat_module",JOB_PHONE_MODULE:"job_phone_module",DESIGNER_PATTERNS:"designer_patterns"},U={login:"test",fullName:"Test Test Testovich",contacts:[{value:"test@tg",contactType:{name:"\u041b\u0438\u0447\u043d\u044b\u0439",code:"001"},contactChannel:{name:"messenger",code:"003"}}],profile:[{moduleName:"\u0410\u0420\u041c \u0422\u0415\u0421\u0422 1",moduleCode:"test_ARM_test_1",role:[{name:"111 111",code:"009",roleType:{name:"\u043a\u0435\u0439\u043a\u043b\u043e\u043a",code:"002"}},{name:"111 222",code:"009",roleType:{name:"\u043a\u0435\u0439\u043a\u043b\u043e\u043a",code:"002"}}],attributes:[{value:"\u041f\u0435\u0440\u043c\u044c",name:"\u0413\u043e\u0440\u043e\u0434",code:"002"}],...Object.values(M).map((A,S)=>({permission:{name:A,code:`${S}`,description:"\u0412\u0438\u0434\u0435\u0442\u044c \u0441\u0432\u043e\u0438 \u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0440\u0430\u0431\u043e\u0447\u0435\u043c \u0441\u0442\u043e\u043b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",attributes:[{name:"Filial",code:"001"}],permitted:!1}}))},{moduleName:"\u0410\u0420\u041c \u0422\u0415\u0421\u0422 2",moduleCode:"test_ARM_test_2",role:[{name:"222 111",code:"009",roleType:{name:"\u043a\u0435\u0439\u043a\u043b\u043e\u043a",code:"002"}},{name:"222 222",code:"009",roleType:{name:"\u043a\u0435\u0439\u043a\u043b\u043e\u043a",code:"002"}}]}]},R=D},4787:(Qt,$,o)=>{"use strict";o.d($,{J:()=>e});const e="production"},8988:(Qt,$,o)=>{"use strict";o.d($,{X:()=>e});const e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},5193:(Qt,$,o)=>{"use strict";o.d($,{RP:()=>m,cc:()=>_,fH:()=>T});var e=o(3054),t=o(3100),a=o(1826),i=o(3523),g=o(8988);function T(){return(0,e.Y)("globalEventProcessors",()=>[])}function _(h){T().push(h)}function m(h,f,v,C=0){return new t.cW((D,y)=>{const E=h[C];if(null===f||"function"!=typeof E)D(f);else{const O=E({...f},v);g.X&&E.id&&null===O&&a.kg.log(`Event processor "${E.id}" dropped event`),(0,i.J8)(O)?O.then(M=>m(h,M,v,C+1).then(D)).then(null,y):m(h,O,v,C+1).then(D).then(null,y)}})}},2150:(Qt,$,o)=>{"use strict";o.d($,{$e:()=>M,Tb:()=>T,cg:()=>bt,eN:()=>m,nZ:()=>It,n_:()=>f,s3:()=>ht,uT:()=>_,v:()=>v,yj:()=>st});var e=o(3054),t=o(4787),a=o(8078),i=o(4231),g=o(2006);function T(u,ut){return(0,a.Gd)().captureException(u,(0,g.U0)(ut))}function _(u,ut){const Z="string"==typeof ut?ut:void 0,I="string"!=typeof ut?{captureContext:ut}:void 0;return(0,a.Gd)().captureMessage(u,Z,I)}function m(u,ut){return(0,a.Gd)().captureEvent(u,ut)}function f(u,ut){(0,a.Gd)().addBreadcrumb(u,ut)}function v(u,ut){(0,a.Gd)().setContext(u,ut)}function M(...u){const ut=(0,a.Gd)();if(2===u.length){const[Z,I]=u;return ut.withScope(Z?()=>(ut.getStackTop().scope=Z,I(Z)):I)}return ut.withScope(u[0])}function ht(){return(0,a.Gd)().getClient()}function It(){return(0,a.Gd)().getScope()}function st(u){const ut=ht(),Z=(0,a.aF)(),I=It(),{release:F,environment:ot=t.J}=ut&&ut.getOptions()||{},{userAgent:nt}=e.GLOBAL_OBJ.navigator||{},At=(0,i.Hv)({release:F,environment:ot,user:I.getUser()||Z.getUser(),...nt&&{userAgent:nt},...u}),Dt=Z.getSession();return Dt&&"ok"===Dt.status&&(0,i.CT)(Dt,{status:"exited"}),dt(),Z.setSession(At),I.setSession(At),At}function dt(){const u=(0,a.aF)(),ut=It(),Z=ut.getSession()||u.getSession();Z&&(0,i.RJ)(Z),St(),u.setSession(),ut.setSession()}function St(){const u=(0,a.aF)(),ut=It(),Z=ht(),I=ut.getSession()||u.getSession();I&&Z&&Z.captureSession&&Z.captureSession(I)}function bt(u=!1){u?dt():St()}},8078:(Qt,$,o)=>{"use strict";o.d($,{Gd:()=>O,aF:()=>M,cu:()=>y});var e=o(3523),t=o(404),a=o(7245),i=o(1826),g=o(3054),T=o(4787),_=o(8988),m=o(1636),h=o(4231),f=o(5923);const v=parseFloat(f.J),C=100;class D{constructor(et,tt,ht,it=v){let It,st;this._version=it,tt?It=tt:(It=new m.sX,It.setClient(et)),ht?st=ht:(st=new m.sX,st.setClient(et)),this._stack=[{scope:It}],et&&this.bindClient(et),this._isolationScope=st}isOlderThan(et){return this._version<et}bindClient(et){const tt=this.getStackTop();tt.client=et,tt.scope.setClient(et),et&&et.setupIntegrations&&et.setupIntegrations()}pushScope(){const et=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:et}),et}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(et){const tt=this.pushScope();let ht;try{ht=et(tt)}catch(it){throw this.popScope(),it}return(0,e.J8)(ht)?ht.then(it=>(this.popScope(),it),it=>{throw this.popScope(),it}):(this.popScope(),ht)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(et,tt){const ht=this._lastEventId=tt&&tt.event_id?tt.event_id:(0,t.DM)(),it=new Error("Sentry syntheticException");return this.getScope().captureException(et,{originalException:et,syntheticException:it,...tt,event_id:ht}),ht}captureMessage(et,tt,ht){const it=this._lastEventId=ht&&ht.event_id?ht.event_id:(0,t.DM)(),It=new Error(et);return this.getScope().captureMessage(et,tt,{originalException:et,syntheticException:It,...ht,event_id:it}),it}captureEvent(et,tt){const ht=tt&&tt.event_id?tt.event_id:(0,t.DM)();return et.type||(this._lastEventId=ht),this.getScope().captureEvent(et,{...tt,event_id:ht}),ht}lastEventId(){return this._lastEventId}addBreadcrumb(et,tt){const{scope:ht,client:it}=this.getStackTop();if(!it)return;const{beforeBreadcrumb:It=null,maxBreadcrumbs:st=C}=it.getOptions&&it.getOptions()||{};if(st<=0)return;const St={timestamp:(0,a.yW)(),...et},bt=It?(0,i.Cf)(()=>It(St,tt)):St;null!==bt&&(it.emit&&it.emit("beforeAddBreadcrumb",bt,tt),ht.addBreadcrumb(bt,st))}setUser(et){this.getScope().setUser(et),this.getIsolationScope().setUser(et)}setTags(et){this.getScope().setTags(et),this.getIsolationScope().setTags(et)}setExtras(et){this.getScope().setExtras(et),this.getIsolationScope().setExtras(et)}setTag(et,tt){this.getScope().setTag(et,tt),this.getIsolationScope().setTag(et,tt)}setExtra(et,tt){this.getScope().setExtra(et,tt),this.getIsolationScope().setExtra(et,tt)}setContext(et,tt){this.getScope().setContext(et,tt),this.getIsolationScope().setContext(et,tt)}configureScope(et){const{scope:tt,client:ht}=this.getStackTop();ht&&et(tt)}run(et){const tt=E(this);try{et(this)}finally{E(tt)}}getIntegration(et){const tt=this.getClient();if(!tt)return null;try{return tt.getIntegration(et)}catch{return _.X&&i.kg.warn(`Cannot retrieve integration ${et.id} from the current Hub`),null}}startTransaction(et,tt){const ht=this._callExtensionMethod("startTransaction",et,tt);return _.X&&!ht&&(this.getClient()?i.kg.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):i.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),ht}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(et=!1){if(et)return this.endSession();this._sendSessionUpdate()}endSession(){const tt=this.getStackTop().scope,ht=tt.getSession();ht&&(0,h.RJ)(ht),this._sendSessionUpdate(),tt.setSession()}startSession(et){const{scope:tt,client:ht}=this.getStackTop(),{release:it,environment:It=T.J}=ht&&ht.getOptions()||{},{userAgent:st}=g.GLOBAL_OBJ.navigator||{},dt=(0,h.Hv)({release:it,environment:It,user:tt.getUser(),...st&&{userAgent:st},...et}),St=tt.getSession&&tt.getSession();return St&&"ok"===St.status&&(0,h.CT)(St,{status:"exited"}),this.endSession(),tt.setSession(dt),dt}shouldSendDefaultPii(){const et=this.getClient(),tt=et&&et.getOptions();return!(!tt||!tt.sendDefaultPii)}_sendSessionUpdate(){const{scope:et,client:tt}=this.getStackTop(),ht=et.getSession();ht&&tt&&tt.captureSession&&tt.captureSession(ht)}_callExtensionMethod(et,...tt){const it=y().__SENTRY__;if(it&&it.extensions&&"function"==typeof it.extensions[et])return it.extensions[et].apply(this,tt);_.X&&i.kg.warn(`Extension method ${et} couldn't be found, doing nothing.`)}}function y(){return g.GLOBAL_OBJ.__SENTRY__=g.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},g.GLOBAL_OBJ}function E(V){const et=y(),tt=p(et);return L(et,V),tt}function O(){const V=y();if(V.__SENTRY__&&V.__SENTRY__.acs){const et=V.__SENTRY__.acs.getCurrentHub();if(et)return et}return function U(V=y()){return(!function w(V){return!!(V&&V.__SENTRY__&&V.__SENTRY__.hub)}(V)||p(V).isOlderThan(v))&&L(V,new D),p(V)}(V)}function M(){return O().getIsolationScope()}function p(V){return(0,g.Y)("hub",()=>new D,V)}function L(V,et){return!!V&&((V.__SENTRY__=V.__SENTRY__||{}).hub=et,!0)}},978:(Qt,$,o)=>{"use strict";o.d($,{RN:()=>y,_I:()=>E,m7:()=>v,m8:()=>m,q4:()=>h,uf:()=>f});var e=o(404),t=o(1826),a=o(8988),i=o(5193),g=o(8078);const T=[];function m(O){const M=O.defaultIntegrations||[],U=O.integrations;let R;M.forEach(w=>{w.isDefaultInstance=!0}),R=Array.isArray(U)?[...M,...U]:"function"==typeof U?(0,e.lE)(U(M)):M;const A=function _(O){const M={};return O.forEach(U=>{const{name:R}=U,A=M[R];A&&!A.isDefaultInstance&&U.isDefaultInstance||(M[R]=U)}),Object.keys(M).map(U=>M[U])}(R),S=function D(O,M){for(let U=0;U<O.length;U++)if(!0===M(O[U]))return U;return-1}(A,w=>"Debug"===w.name);if(-1!==S){const[w]=A.splice(S,1);A.push(w)}return A}function h(O,M){const U={};return M.forEach(R=>{R&&v(O,R,U)}),U}function f(O,M){for(const U of M)U&&U.afterAllSetup&&U.afterAllSetup(O)}function v(O,M,U){if(U[M.name])a.X&&t.kg.log(`Integration skipped because it was already installed: ${M.name}`);else{if(U[M.name]=M,-1===T.indexOf(M.name)&&(M.setupOnce(i.cc,g.Gd),T.push(M.name)),M.setup&&"function"==typeof M.setup&&M.setup(O),O.on&&"function"==typeof M.preprocessEvent){const R=M.preprocessEvent.bind(M);O.on("preprocessEvent",(A,S)=>R(A,S,O))}if(O.addEventProcessor&&"function"==typeof M.processEvent){const R=M.processEvent.bind(M),A=Object.assign((S,w)=>R(S,w,O),{id:M.name});O.addEventProcessor(A)}a.X&&t.kg.log(`Integration installed: ${M.name}`)}}function y(O,M){return Object.assign(function(...R){return M(...R)},{id:O})}function E(O){return O}},1636:(Qt,$,o)=>{"use strict";o.d($,{lW:()=>v,sX:()=>f});var e=o(3523),t=o(7245),a=o(404),i=o(1826),g=o(5193),T=o(4231),_=o(7383);let h;class f{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=D()}static clone(E){return E?E.clone():new f}clone(){const E=new f;return E._breadcrumbs=[...this._breadcrumbs],E._tags={...this._tags},E._extra={...this._extra},E._contexts={...this._contexts},E._user=this._user,E._level=this._level,E._span=this._span,E._session=this._session,E._transactionName=this._transactionName,E._fingerprint=this._fingerprint,E._eventProcessors=[...this._eventProcessors],E._requestSession=this._requestSession,E._attachments=[...this._attachments],E._sdkProcessingMetadata={...this._sdkProcessingMetadata},E._propagationContext={...this._propagationContext},E._client=this._client,E}setClient(E){this._client=E}getClient(){return this._client}addScopeListener(E){this._scopeListeners.push(E)}addEventProcessor(E){return this._eventProcessors.push(E),this}setUser(E){return this._user=E||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,T.CT)(this._session,{user:E}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(E){return this._requestSession=E,this}setTags(E){return this._tags={...this._tags,...E},this._notifyScopeListeners(),this}setTag(E,O){return this._tags={...this._tags,[E]:O},this._notifyScopeListeners(),this}setExtras(E){return this._extra={...this._extra,...E},this._notifyScopeListeners(),this}setExtra(E,O){return this._extra={...this._extra,[E]:O},this._notifyScopeListeners(),this}setFingerprint(E){return this._fingerprint=E,this._notifyScopeListeners(),this}setLevel(E){return this._level=E,this._notifyScopeListeners(),this}setTransactionName(E){return this._transactionName=E,this._notifyScopeListeners(),this}setContext(E,O){return null===O?delete this._contexts[E]:this._contexts[E]=O,this._notifyScopeListeners(),this}setSpan(E){return this._span=E,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const E=this._span;return E&&E.transaction}setSession(E){return E?this._session=E:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(E){if(!E)return this;if("function"==typeof E){const O=E(this);return O instanceof f?O:this}return E instanceof f?(this._tags={...this._tags,...E._tags},this._extra={...this._extra,...E._extra},this._contexts={...this._contexts,...E._contexts},E._user&&Object.keys(E._user).length&&(this._user=E._user),E._level&&(this._level=E._level),E._fingerprint&&(this._fingerprint=E._fingerprint),E._requestSession&&(this._requestSession=E._requestSession),E._propagationContext&&(this._propagationContext=E._propagationContext)):(0,e.PO)(E)&&(this._tags={...this._tags,...E.tags},this._extra={...this._extra,...E.extra},this._contexts={...this._contexts,...E.contexts},E.user&&(this._user=E.user),E.level&&(this._level=E.level),E.fingerprint&&(this._fingerprint=E.fingerprint),E.requestSession&&(this._requestSession=E.requestSession),E.propagationContext&&(this._propagationContext=E.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=D(),this}addBreadcrumb(E,O){const M="number"==typeof O?O:100;if(M<=0)return this;const U={timestamp:(0,t.yW)(),...E},R=this._breadcrumbs;return R.push(U),this._breadcrumbs=R.length>M?R.slice(-M):R,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(E){return this._attachments.push(E),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:E,_attachments:O,_contexts:M,_tags:U,_extra:R,_user:A,_level:S,_fingerprint:w,_eventProcessors:p,_propagationContext:L,_sdkProcessingMetadata:V,_transactionName:et,_span:tt}=this;return{breadcrumbs:E,attachments:O,contexts:M,tags:U,extra:R,user:A,level:S,fingerprint:w||[],eventProcessors:p,propagationContext:L,sdkProcessingMetadata:V,transactionName:et,span:tt}}applyToEvent(E,O={},M=[]){(0,_.gi)(E,this.getScopeData());const U=[...M,...(0,g.fH)(),...this._eventProcessors];return(0,g.RP)(U,E,O)}setSDKProcessingMetadata(E){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...E},this}setPropagationContext(E){return this._propagationContext=E,this}getPropagationContext(){return this._propagationContext}captureException(E,O){const M=O&&O.event_id?O.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture exception!"),M;const U=new Error("Sentry syntheticException");return this._client.captureException(E,{originalException:E,syntheticException:U,...O,event_id:M},this),M}captureMessage(E,O,M){const U=M&&M.event_id?M.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture message!"),U;const R=new Error(E);return this._client.captureMessage(E,O,{originalException:E,syntheticException:R,...M,event_id:U},this),U}captureEvent(E,O){const M=O&&O.event_id?O.event_id:(0,a.DM)();return this._client?(this._client.captureEvent(E,{...O,event_id:M},this),M):(i.kg.warn("No client configured on scope - will not capture event!"),M)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(E=>{E(this)}),this._notifyingListeners=!1)}}function v(){return h||(h=new f),h}function D(){return{traceId:(0,a.DM)(),spanId:(0,a.DM)().substring(16)}}},4231:(Qt,$,o)=>{"use strict";o.d($,{CT:()=>g,Hv:()=>i,RJ:()=>T});var e=o(7245),t=o(404),a=o(9648);function i(m){const h=(0,e.ph)(),f={sid:(0,t.DM)(),init:!0,timestamp:h,started:h,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function _(m){return(0,a.Jr)({sid:`${m.sid}`,init:m.init,started:new Date(1e3*m.started).toISOString(),timestamp:new Date(1e3*m.timestamp).toISOString(),status:m.status,errors:m.errors,did:"number"==typeof m.did||"string"==typeof m.did?`${m.did}`:void 0,duration:m.duration,abnormal_mechanism:m.abnormal_mechanism,attrs:{release:m.release,environment:m.environment,ip_address:m.ipAddress,user_agent:m.userAgent}})}(f)};return m&&g(f,m),f}function g(m,h={}){if(h.user&&(!m.ipAddress&&h.user.ip_address&&(m.ipAddress=h.user.ip_address),!m.did&&!h.did&&(m.did=h.user.id||h.user.email||h.user.username)),m.timestamp=h.timestamp||(0,e.ph)(),h.abnormal_mechanism&&(m.abnormal_mechanism=h.abnormal_mechanism),h.ignoreDuration&&(m.ignoreDuration=h.ignoreDuration),h.sid&&(m.sid=32===h.sid.length?h.sid:(0,t.DM)()),void 0!==h.init&&(m.init=h.init),!m.did&&h.did&&(m.did=`${h.did}`),"number"==typeof h.started&&(m.started=h.started),m.ignoreDuration)m.duration=void 0;else if("number"==typeof h.duration)m.duration=h.duration;else{const f=m.timestamp-m.started;m.duration=f>=0?f:0}h.release&&(m.release=h.release),h.environment&&(m.environment=h.environment),!m.ipAddress&&h.ipAddress&&(m.ipAddress=h.ipAddress),!m.userAgent&&h.userAgent&&(m.userAgent=h.userAgent),"number"==typeof h.errors&&(m.errors=h.errors),h.status&&(m.status=h.status)}function T(m,h){let f={};h?f={status:h}:"ok"===m.status&&(f={status:"exited"}),g(m,f)}},5572:(Qt,$,o)=>{"use strict";o.d($,{_:()=>T,j:()=>_});var e=o(9648),t=o(4787),a=o(2150),i=o(4254),g=o(2202);function T(m,h,f){const v=h.getOptions(),{publicKey:C}=h.getDsn()||{},{segment:D}=f&&f.getUser()||{},y=(0,e.Jr)({environment:v.environment||t.J,release:v.release,user_segment:D,public_key:C,trace_id:m});return h.emit&&h.emit("createDsc",y),y}function _(m){const h=(0,a.s3)();if(!h)return{};const f=T((0,g.XU)(m).trace_id||"",h,(0,a.nZ)()),v=(0,i.G)(m);if(!v)return f;const C=v&&v._frozenDynamicSamplingContext;if(C)return C;const{sampleRate:D,source:y}=v.metadata;null!=D&&(f.sample_rate=`${D}`);const E=(0,g.XU)(v);return y&&"url"!==y&&(f.transaction=E.description),f.sampled=String((0,g.Tt)(v)),h.emit&&h.emit("createDsc",f),f}},7383:(Qt,$,o)=>{"use strict";o.d($,{gi:()=>T,yo:()=>_});var e=o(9648),t=o(404),a=o(5572),i=o(4254),g=o(2202);function T(y,E){const{fingerprint:O,span:M,breadcrumbs:U,sdkProcessingMetadata:R}=E;(function h(y,E){const{extra:O,tags:M,user:U,contexts:R,level:A,transactionName:S}=E,w=(0,e.Jr)(O);w&&Object.keys(w).length&&(y.extra={...w,...y.extra});const p=(0,e.Jr)(M);p&&Object.keys(p).length&&(y.tags={...p,...y.tags});const L=(0,e.Jr)(U);L&&Object.keys(L).length&&(y.user={...L,...y.user});const V=(0,e.Jr)(R);V&&Object.keys(V).length&&(y.contexts={...V,...y.contexts}),A&&(y.level=A),S&&(y.transaction=S)})(y,E),M&&function C(y,E){y.contexts={trace:(0,g.wy)(E),...y.contexts};const O=(0,i.G)(E);if(O){y.sdkProcessingMetadata={dynamicSamplingContext:(0,a.j)(E),...y.sdkProcessingMetadata};const M=(0,g.XU)(O).description;M&&(y.tags={transaction:M,...y.tags})}}(y,M),function D(y,E){y.fingerprint=y.fingerprint?(0,t.lE)(y.fingerprint):[],E&&(y.fingerprint=y.fingerprint.concat(E)),y.fingerprint&&!y.fingerprint.length&&delete y.fingerprint}(y,O),function f(y,E){const O=[...y.breadcrumbs||[],...E];y.breadcrumbs=O.length?O:void 0}(y,U),function v(y,E){y.sdkProcessingMetadata={...y.sdkProcessingMetadata,...E}}(y,R)}function _(y,E){const{extra:O,tags:M,user:U,contexts:R,level:A,sdkProcessingMetadata:S,breadcrumbs:w,fingerprint:p,eventProcessors:L,attachments:V,propagationContext:et,transactionName:tt,span:ht}=E;m(y,"extra",O),m(y,"tags",M),m(y,"user",U),m(y,"contexts",R),m(y,"sdkProcessingMetadata",S),A&&(y.level=A),tt&&(y.transactionName=tt),ht&&(y.span=ht),w.length&&(y.breadcrumbs=[...y.breadcrumbs,...w]),p.length&&(y.fingerprint=[...y.fingerprint,...p]),L.length&&(y.eventProcessors=[...y.eventProcessors,...L]),V.length&&(y.attachments=[...y.attachments,...V]),y.propagationContext={...y.propagationContext,...et}}function m(y,E,O){if(O&&Object.keys(O).length){y[E]={...y[E]};for(const M in O)Object.prototype.hasOwnProperty.call(O,M)&&(y[E][M]=O[M])}}},4254:(Qt,$,o)=>{"use strict";function e(t){return t.transaction}o.d($,{G:()=>e})},2006:(Qt,$,o)=>{"use strict";o.d($,{R:()=>v,U0:()=>R});var e=o(404),t=o(7245),a=o(313),i=o(3054),g=o(4888),T=o(4787),_=o(5193),m=o(1636),h=o(7383),f=o(2202);function v(p,L,V,et,tt,ht){const{normalizeDepth:it=3,normalizeMaxBreadth:It=1e3}=p,st={...L,event_id:L.event_id||V.event_id||(0,e.DM)(),timestamp:L.timestamp||(0,t.yW)()},dt=V.integrations||p.integrations.map(F=>F.name);(function C(p,L){const{environment:V,release:et,dist:tt,maxValueLength:ht=250}=L;"environment"in p||(p.environment="environment"in L?V:T.J),void 0===p.release&&void 0!==et&&(p.release=et),void 0===p.dist&&void 0!==tt&&(p.dist=tt),p.message&&(p.message=(0,a.$G)(p.message,ht));const it=p.exception&&p.exception.values&&p.exception.values[0];it&&it.value&&(it.value=(0,a.$G)(it.value,ht));const It=p.request;It&&It.url&&(It.url=(0,a.$G)(It.url,ht))})(st,p),function O(p,L){L.length>0&&(p.sdk=p.sdk||{},p.sdk.integrations=[...p.sdk.integrations||[],...L])}(st,dt),void 0===L.type&&function y(p,L){const V=i.GLOBAL_OBJ._sentryDebugIds;if(!V)return;let et;const tt=D.get(L);tt?et=tt:(et=new Map,D.set(L,et));const ht=Object.keys(V).reduce((it,It)=>{let st;const dt=et.get(It);dt?st=dt:(st=L(It),et.set(It,st));for(let St=st.length-1;St>=0;St--){const bt=st[St];if(bt.filename){it[bt.filename]=V[It];break}}return it},{});try{p.exception.values.forEach(it=>{it.stacktrace.frames.forEach(It=>{It.filename&&(It.debug_id=ht[It.filename])})})}catch{}}(st,p.stackParser);const St=function U(p,L){if(!L)return p;const V=p?p.clone():new m.sX;return V.update(L),V}(et,V.captureContext);V.mechanism&&(0,e.EG)(st,V.mechanism);const bt=tt&&tt.getEventProcessors?tt.getEventProcessors():[],u=(0,m.lW)().getScopeData();if(ht){const F=ht.getScopeData();(0,h.yo)(u,F)}if(St){const F=St.getScopeData();(0,h.yo)(u,F)}const ut=[...V.attachments||[],...u.attachments];ut.length&&(V.attachments=ut),(0,h.gi)(st,u);const Z=[...bt,...(0,_.fH)(),...u.eventProcessors];return(0,_.RP)(Z,st,V).then(F=>(F&&function E(p){const L={};try{p.exception.values.forEach(et=>{et.stacktrace.frames.forEach(tt=>{tt.debug_id&&(tt.abs_path?L[tt.abs_path]=tt.debug_id:tt.filename&&(L[tt.filename]=tt.debug_id),delete tt.debug_id)})})}catch{}if(0===Object.keys(L).length)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const V=p.debug_meta.images;Object.keys(L).forEach(et=>{V.push({type:"sourcemap",code_file:et,debug_id:L[et]})})}(F),"number"==typeof it&&it>0?function M(p,L,V){if(!p)return null;const et={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(tt=>({...tt,...tt.data&&{data:(0,g.Fv)(tt.data,L,V)}}))},...p.user&&{user:(0,g.Fv)(p.user,L,V)},...p.contexts&&{contexts:(0,g.Fv)(p.contexts,L,V)},...p.extra&&{extra:(0,g.Fv)(p.extra,L,V)}};return p.contexts&&p.contexts.trace&&et.contexts&&(et.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(et.contexts.trace.data=(0,g.Fv)(p.contexts.trace.data,L,V))),p.spans&&(et.spans=p.spans.map(tt=>{const ht=(0,f.XU)(tt).data;return ht&&(tt.data=(0,g.Fv)(ht,L,V)),tt})),et}(F,it,It):F))}const D=new WeakMap;function R(p){if(p)return function A(p){return p instanceof m.sX||"function"==typeof p}(p)||function w(p){return Object.keys(p).some(L=>S.includes(L))}(p)?{captureContext:p}:p}const S=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},2202:(Qt,$,o)=>{"use strict";o.d($,{$k:()=>m,Hb:()=>_,Tt:()=>C,XU:()=>f,i0:()=>g,ve:()=>i,wy:()=>T});var e=o(9648),t=o(2475),a=o(7245);const i=0,g=1;function T(D){const{spanId:y,traceId:E}=D.spanContext(),{data:O,op:M,parent_span_id:U,status:R,tags:A,origin:S}=f(D);return(0,e.Jr)({data:O,op:M,parent_span_id:U,span_id:y,status:R,tags:A,trace_id:E,origin:S})}function _(D){const{traceId:y,spanId:E}=D.spanContext(),O=C(D);return(0,t.$p)(y,E,O)}function m(D){return"number"==typeof D?h(D):Array.isArray(D)?D[0]+D[1]/1e9:D instanceof Date?h(D.getTime()):(0,a.ph)()}function h(D){return D>9999999999?D/1e3:D}function f(D){return function v(D){return"function"==typeof D.getSpanJSON}(D)?D.getSpanJSON():"function"==typeof D.toJSON?D.toJSON():{}}function C(D){const{traceFlags:y}=D.spanContext();return!!(y&g)}},5923:(Qt,$,o)=>{"use strict";o.d($,{J:()=>e});const e="7.101.1"},2748:(Qt,$,o)=>{"use strict";o.d($,{EN:()=>m,IQ:()=>h,bU:()=>i});var e=o(1666),t=o(3523),a=o(1826);const i="baggage",g="sentry-",T=/^sentry-/,_=8192;function m(C){if(!(0,t.HD)(C)&&!Array.isArray(C))return;let D={};if(Array.isArray(C))D=C.reduce((E,O)=>{const M=f(O);for(const U of Object.keys(M))E[U]=M[U];return E},{});else{if(!C)return;D=f(C)}const y=Object.entries(D).reduce((E,[O,M])=>(O.match(T)&&(E[O.slice(g.length)]=M),E),{});return Object.keys(y).length>0?y:void 0}function h(C){if(C)return function v(C){if(0!==Object.keys(C).length)return Object.entries(C).reduce((D,[y,E],O)=>{const M=`${encodeURIComponent(y)}=${encodeURIComponent(E)}`,U=0===O?M:`${D},${M}`;return U.length>_?(e.X&&a.kg.warn(`Not adding key: ${y} with val: ${E} to baggage header due to exceeding baggage size limits.`),D):U},"")}(Object.entries(C).reduce((y,[E,O])=>(O&&(y[`${g}${E}`]=O),y),{}))}function f(C){return C.split(",").map(D=>D.split("=").map(y=>decodeURIComponent(y.trim()))).reduce((D,[y,E])=>(D[y]=E,D),{})}},7431:(Qt,$,o)=>{"use strict";o.d($,{Rt:()=>g,iY:()=>h,l4:()=>_,qT:()=>m});var e=o(3523);const a=(0,o(3054).R)(),i=80;function g(f,v={}){if(!f)return"<unknown>";try{let C=f;const D=5,y=[];let E=0,O=0;const M=" > ",U=M.length;let R;const A=Array.isArray(v)?v:v.keyAttrs,S=!Array.isArray(v)&&v.maxStringLength||i;for(;C&&E++<D&&(R=T(C,A),!("html"===R||E>1&&O+y.length*U+R.length>=S));)y.push(R),O+=R.length,C=C.parentNode;return y.reverse().join(M)}catch{return"<unknown>"}}function T(f,v){const C=f,D=[];let y,E,O,M,U;if(!C||!C.tagName)return"";if(a.HTMLElement&&C instanceof HTMLElement&&C.dataset&&C.dataset.sentryComponent)return C.dataset.sentryComponent;D.push(C.tagName.toLowerCase());const R=v&&v.length?v.filter(S=>C.getAttribute(S)).map(S=>[S,C.getAttribute(S)]):null;if(R&&R.length)R.forEach(S=>{D.push(`[${S[0]}="${S[1]}"]`)});else if(C.id&&D.push(`#${C.id}`),y=C.className,y&&(0,e.HD)(y))for(E=y.split(/\s+/),U=0;U<E.length;U++)D.push(`.${E[U]}`);const A=["aria-label","type","name","title","alt"];for(U=0;U<A.length;U++)O=A[U],M=C.getAttribute(O),M&&D.push(`[${O}="${M}"]`);return D.join("")}function _(){try{return a.document.location.href}catch{return""}}function m(f){return a.document&&a.document.querySelector?a.document.querySelector(f):null}function h(f){if(!a.HTMLElement)return null;let v=f;for(let D=0;D<5;D++){if(!v)return null;if(v instanceof HTMLElement&&v.dataset.sentryComponent)return v.dataset.sentryComponent;v=v.parentNode}return null}},1666:(Qt,$,o)=>{"use strict";o.d($,{X:()=>e});const e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__},6637:(Qt,$,o)=>{"use strict";o.d($,{D2:()=>m,Hj:()=>T,rK:()=>h});var e=o(1666),t=o(1826),a=o(9806);const i={},g={};function T(f,v){i[f]=i[f]||[],i[f].push(v)}function m(f,v){g[f]||(v(),g[f]=!0)}function h(f,v){const C=f&&i[f];if(C)for(const D of C)try{D(v)}catch(y){e.X&&t.kg.error(`Error while triggering instrumentation handler.\nType: ${f}\nName: ${(0,a.$P)(D)}\nError:`,y)}}},2379:(Qt,$,o)=>{"use strict";o.d($,{e:()=>g});var e=o(1826),t=o(9648),a=o(3054),i=o(6637);function g(_){const m="console";(0,i.Hj)(m,_),(0,i.D2)(m,T)}function T(){"console"in a.GLOBAL_OBJ&&e.RU.forEach(function(_){_ in a.GLOBAL_OBJ.console&&(0,t.hl)(a.GLOBAL_OBJ.console,_,function(m){return e.LD[_]=m,function(...h){(0,i.rK)("console",{args:h,level:_});const v=e.LD[_];v&&v.apply(a.GLOBAL_OBJ.console,h)}})})}},2462:(Qt,$,o)=>{"use strict";o.d($,{U:()=>g});var e=o(9648),t=o(437),a=o(3054),i=o(6637);function g(f){const v="fetch";(0,i.Hj)(v,f),(0,i.D2)(v,T)}function T(){(0,t.t$)()&&(0,e.hl)(a.GLOBAL_OBJ,"fetch",function(f){return function(...v){const{method:C,url:D}=function h(f){if(0===f.length)return{method:"GET",url:""};if(2===f.length){const[C,D]=f;return{url:m(C),method:_(D,"method")?String(D.method).toUpperCase():"GET"}}const v=f[0];return{url:m(v),method:_(v,"method")?String(v.method).toUpperCase():"GET"}}(v),y={args:v,fetchData:{method:C,url:D},startTimestamp:Date.now()};return(0,i.rK)("fetch",{...y}),f.apply(a.GLOBAL_OBJ,v).then(E=>{const O={...y,endTimestamp:Date.now(),response:E};return(0,i.rK)("fetch",O),E},E=>{const O={...y,endTimestamp:Date.now(),error:E};throw(0,i.rK)("fetch",O),E})}})}function _(f,v){return!!f&&"object"==typeof f&&!!f[v]}function m(f){return"string"==typeof f?f:f?_(f,"url")?f.url:f.toString?f.toString():"":""}},601:(Qt,$,o)=>{"use strict";o.d($,{UK:()=>_,xU:()=>T});var e=o(3523),t=o(9648),a=o(3054),i=o(6637);const g=a.GLOBAL_OBJ,T="__sentry_xhr_v3__";function _(f){(0,i.Hj)("xhr",f),(0,i.D2)("xhr",m)}function m(){if(!g.XMLHttpRequest)return;const f=XMLHttpRequest.prototype;(0,t.hl)(f,"open",function(v){return function(...C){const D=Date.now(),y=(0,e.HD)(C[0])?C[0].toUpperCase():void 0,E=function h(f){if((0,e.HD)(f))return f;try{return f.toString()}catch{}}(C[1]);if(!y||!E)return v.apply(this,C);this[T]={method:y,url:E,request_headers:{}},"POST"===y&&E.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const O=()=>{const M=this[T];if(M&&4===this.readyState){try{M.status_code=this.status}catch{}const U={args:[y,E],endTimestamp:Date.now(),startTimestamp:D,xhr:this};(0,i.rK)("xhr",U)}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,t.hl)(this,"onreadystatechange",function(M){return function(...U){return O(),M.apply(this,U)}}):this.addEventListener("readystatechange",O),(0,t.hl)(this,"setRequestHeader",function(M){return function(...U){const[R,A]=U,S=this[T];return S&&(0,e.HD)(R)&&(0,e.HD)(A)&&(S.request_headers[R.toLowerCase()]=A),M.apply(this,U)}}),v.apply(this,C)}}),(0,t.hl)(f,"send",function(v){return function(...C){const D=this[T];if(!D)return v.apply(this,C);void 0!==C[0]&&(D.body=C[0]);const y={args:[D.method,D.url],startTimestamp:Date.now(),xhr:this};return(0,i.rK)("xhr",y),v.apply(this,C)}})}},3523:(Qt,$,o)=>{"use strict";o.d($,{Cy:()=>E,HD:()=>_,J8:()=>y,Kj:()=>D,Le:()=>m,PO:()=>f,TX:()=>g,V9:()=>M,VW:()=>i,VZ:()=>t,cO:()=>v,fm:()=>T,i2:()=>O,kK:()=>C,pt:()=>h,y1:()=>U});const e=Object.prototype.toString;function t(R){switch(e.call(R)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return M(R,Error)}}function a(R,A){return e.call(R)===`[object ${A}]`}function i(R){return a(R,"ErrorEvent")}function g(R){return a(R,"DOMError")}function T(R){return a(R,"DOMException")}function _(R){return a(R,"String")}function m(R){return"object"==typeof R&&null!==R&&"__sentry_template_string__"in R&&"__sentry_template_values__"in R}function h(R){return null===R||m(R)||"object"!=typeof R&&"function"!=typeof R}function f(R){return a(R,"Object")}function v(R){return typeof Event<"u"&&M(R,Event)}function C(R){return typeof Element<"u"&&M(R,Element)}function D(R){return a(R,"RegExp")}function y(R){return!(!R||!R.then||"function"!=typeof R.then)}function E(R){return f(R)&&"nativeEvent"in R&&"preventDefault"in R&&"stopPropagation"in R}function O(R){return"number"==typeof R&&R!=R}function M(R,A){try{return R instanceof A}catch{return!1}}function U(R){return!("object"!=typeof R||null===R||!R.__isVue&&!R._isVue)}},1826:(Qt,$,o)=>{"use strict";o.d($,{Cf:()=>T,LD:()=>g,RU:()=>i,kg:()=>m});var e=o(1666),t=o(3054);const i=["debug","info","warn","error","log","assert","trace"],g={};function T(h){if(!("console"in t.GLOBAL_OBJ))return h();const f=t.GLOBAL_OBJ.console,v={},C=Object.keys(g);C.forEach(D=>{const y=g[D];v[D]=f[D],f[D]=y});try{return h()}finally{C.forEach(D=>{f[D]=v[D]})}}const m=function _(){let h=!1;const f={enable:()=>{h=!0},disable:()=>{h=!1},isEnabled:()=>h};return i.forEach(e.X?v=>{f[v]=(...C)=>{h&&T(()=>{t.GLOBAL_OBJ.console[v](`Sentry Logger [${v}]:`,...C)})}}:v=>{f[v]=()=>{}}),f}()},404:(Qt,$,o)=>{"use strict";o.d($,{DM:()=>a,Db:()=>T,EG:()=>_,YO:()=>v,jH:()=>g,lE:()=>C});var e=o(9648),t=o(3054);function a(){const D=t.GLOBAL_OBJ,y=D.crypto||D.msCrypto;let E=()=>16*Math.random();try{if(y&&y.randomUUID)return y.randomUUID().replace(/-/g,"");y&&y.getRandomValues&&(E=()=>{const O=new Uint8Array(1);return y.getRandomValues(O),O[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,O=>(O^(15&E())>>O/4).toString(16))}function i(D){return D.exception&&D.exception.values?D.exception.values[0]:void 0}function g(D){const{message:y,event_id:E}=D;if(y)return y;const O=i(D);return O?O.type&&O.value?`${O.type}: ${O.value}`:O.type||O.value||E||"<unknown>":E||"<unknown>"}function T(D,y,E){const O=D.exception=D.exception||{},M=O.values=O.values||[],U=M[0]=M[0]||{};U.value||(U.value=y||""),U.type||(U.type=E||"Error")}function _(D,y){const E=i(D);if(!E)return;const M=E.mechanism;if(E.mechanism={type:"generic",handled:!0,...M,...y},y&&"data"in y){const U={...M&&M.data,...y.data};E.mechanism.data=U}}function v(D){if(D&&D.__sentry_captured__)return!0;try{(0,e.xp)(D,"__sentry_captured__",!0)}catch{}return!1}function C(D){return Array.isArray(D)?D:[D]}},4888:(Qt,$,o)=>{"use strict";o.d($,{Fv:()=>g,Qy:()=>T});var e=o(3523),a=o(9648),i=o(9806);function g(D,y=100,E=1/0){try{return _("",D,y,E)}catch(O){return{ERROR:`**non-serializable** (${O})`}}}function T(D,y=3,E=102400){const O=g(D,y);return function v(D){return function f(D){return~-encodeURI(D).split(/%..|./).length}(JSON.stringify(D))}(O)>E?T(D,y-1,E):O}function _(D,y,E=1/0,O=1/0,M=function t(){const D="function"==typeof WeakSet,y=D?new WeakSet:[];return[function E(M){if(D)return!!y.has(M)||(y.add(M),!1);for(let U=0;U<y.length;U++)if(y[U]===M)return!0;return y.push(M),!1},function O(M){if(D)y.delete(M);else for(let U=0;U<y.length;U++)if(y[U]===M){y.splice(U,1);break}}]}()){const[U,R]=M;if(null==y||["number","boolean","string"].includes(typeof y)&&!(0,e.i2)(y))return y;const A=function m(D,y){try{if("domain"===D&&y&&"object"==typeof y&&y._events)return"[Domain]";if("domainEmitter"===D)return"[DomainEmitter]";if(typeof global<"u"&&y===global)return"[Global]";if(typeof window<"u"&&y===window)return"[Window]";if(typeof document<"u"&&y===document)return"[Document]";if((0,e.y1)(y))return"[VueViewModel]";if((0,e.Cy)(y))return"[SyntheticEvent]";if("number"==typeof y&&y!=y)return"[NaN]";if("function"==typeof y)return`[Function: ${(0,i.$P)(y)}]`;if("symbol"==typeof y)return`[${String(y)}]`;if("bigint"==typeof y)return`[BigInt: ${String(y)}]`;const E=function h(D){const y=Object.getPrototypeOf(D);return y?y.constructor.name:"null prototype"}(y);return/^HTML(\w*)Element$/.test(E)?`[HTMLElement: ${E}]`:`[object ${E}]`}catch(E){return`**non-serializable** (${E})`}}(D,y);if(!A.startsWith("[object "))return A;if(y.__sentry_skip_normalization__)return y;const S="number"==typeof y.__sentry_override_normalization_depth__?y.__sentry_override_normalization_depth__:E;if(0===S)return A.replace("object ","");if(U(y))return"[Circular ~]";const w=y;if(w&&"function"==typeof w.toJSON)try{return _("",w.toJSON(),S-1,O,M)}catch{}const p=Array.isArray(y)?[]:{};let L=0;const V=(0,a.Sh)(y);for(const et in V)if(Object.prototype.hasOwnProperty.call(V,et)){if(L>=O){p[et]="[MaxProperties ~]";break}p[et]=_(et,V[et],S-1,O,M),L++}return R(y),p}},9648:(Qt,$,o)=>{"use strict";o.d($,{$Q:()=>m,HK:()=>h,Jr:()=>E,Sh:()=>v,_j:()=>f,hl:()=>T,xp:()=>_,zf:()=>y});var e=o(7431),t=o(1666),a=o(3523),i=o(1826),g=o(313);function T(R,A,S){if(!(A in R))return;const w=R[A],p=S(w);"function"==typeof p&&m(p,w),R[A]=p}function _(R,A,S){try{Object.defineProperty(R,A,{value:S,writable:!0,configurable:!0})}catch{t.X&&i.kg.log(`Failed to add non-enumerable property "${A}" to object`,R)}}function m(R,A){try{R.prototype=A.prototype=A.prototype||{},_(R,"__sentry_original__",A)}catch{}}function h(R){return R.__sentry_original__}function f(R){return Object.keys(R).map(A=>`${encodeURIComponent(A)}=${encodeURIComponent(R[A])}`).join("&")}function v(R){if((0,a.VZ)(R))return{message:R.message,name:R.name,stack:R.stack,...D(R)};if((0,a.cO)(R)){const A={type:R.type,target:C(R.target),currentTarget:C(R.currentTarget),...D(R)};return typeof CustomEvent<"u"&&(0,a.V9)(R,CustomEvent)&&(A.detail=R.detail),A}return R}function C(R){try{return(0,a.kK)(R)?(0,e.Rt)(R):Object.prototype.toString.call(R)}catch{return"<unknown>"}}function D(R){if("object"==typeof R&&null!==R){const A={};for(const S in R)Object.prototype.hasOwnProperty.call(R,S)&&(A[S]=R[S]);return A}return{}}function y(R,A=40){const S=Object.keys(v(R));if(S.sort(),!S.length)return"[object has no keys]";if(S[0].length>=A)return(0,g.$G)(S[0],A);for(let w=S.length;w>0;w--){const p=S.slice(0,w).join(", ");if(!(p.length>A))return w===S.length?p:(0,g.$G)(p,A)}return""}function E(R){return O(R,new Map)}function O(R,A){if(function M(R){if(!(0,a.PO)(R))return!1;try{const A=Object.getPrototypeOf(R).constructor.name;return!A||"Object"===A}catch{return!0}}(R)){const S=A.get(R);if(void 0!==S)return S;const w={};A.set(R,w);for(const p of Object.keys(R))typeof R[p]<"u"&&(w[p]=O(R[p],A));return w}if(Array.isArray(R)){const S=A.get(R);if(void 0!==S)return S;const w=[];return A.set(R,w),R.forEach(p=>{w.push(O(p,A))}),w}return R}},5314:(Qt,$,o)=>{"use strict";o.d($,{VT:()=>a});const e=["fatal","error","warning","log","info","debug"];function a(i){return"warn"===i?"warning":e.includes(i)?i:"log"}},9806:(Qt,$,o)=>{"use strict";o.d($,{$P:()=>m,Sq:()=>g,pE:()=>i});const e=50,t=/\(error: (.*)\)/,a=/captureMessage|captureException/;function i(...f){const v=f.sort((C,D)=>C[0]-D[0]).map(C=>C[1]);return(C,D=0)=>{const y=[],E=C.split("\n");for(let O=D;O<E.length;O++){const M=E[O];if(M.length>1024)continue;const U=t.test(M)?M.replace(t,"$1"):M;if(!U.match(/\S*Error: /)){for(const R of v){const A=R(U);if(A){y.push(A);break}}if(y.length>=e)break}}return function T(f){if(!f.length)return[];const v=Array.from(f);return/sentryWrapped/.test(v[v.length-1].function||"")&&v.pop(),v.reverse(),a.test(v[v.length-1].function||"")&&(v.pop(),a.test(v[v.length-1].function||"")&&v.pop()),v.slice(0,e).map(C=>({...C,filename:C.filename||v[v.length-1].filename,function:C.function||"?"}))}(y)}}function g(f){return Array.isArray(f)?i(...f):f}const _="<anonymous>";function m(f){try{return f&&"function"==typeof f&&f.name||_}catch{return _}}},313:(Qt,$,o)=>{"use strict";o.d($,{$G:()=>t,U0:()=>T,nK:()=>i});var e=o(3523);function t(_,m=0){return"string"!=typeof _||0===m||_.length<=m?_:`${_.slice(0,m)}...`}function i(_,m){if(!Array.isArray(_))return"";const h=[];for(let f=0;f<_.length;f++){const v=_[f];try{(0,e.y1)(v)?h.push("[VueViewModel]"):h.push(String(v))}catch{h.push("[value cannot be serialized]")}}return h.join(m)}function T(_,m=[],h=!1){return m.some(f=>function g(_,m,h=!1){return!!(0,e.HD)(_)&&((0,e.Kj)(m)?m.test(_):!!(0,e.HD)(m)&&(h?_===m:_.includes(m)))}(_,f,h))}},437:(Qt,$,o)=>{"use strict";o.d($,{Ak:()=>m,Du:()=>h,t$:()=>f});var e=o(1666),t=o(1826);const i=(0,o(3054).R)();function m(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function h(D){return D&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(D.toString())}function f(){if("string"==typeof EdgeRuntime)return!0;if(!m())return!1;if(h(i.fetch))return!0;let D=!1;const y=i.document;if(y&&"function"==typeof y.createElement)try{const E=y.createElement("iframe");E.hidden=!0,y.head.appendChild(E),E.contentWindow&&E.contentWindow.fetch&&(D=h(E.contentWindow.fetch)),y.head.removeChild(E)}catch(E){e.X&&t.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",E)}return D}},3100:(Qt,$,o)=>{"use strict";o.d($,{$2:()=>i,WD:()=>a,cW:()=>g});var t,T,e=o(3523);function a(T){return new g(_=>{_(T)})}function i(T){return new g((_,m)=>{m(T)})}(T=t||(t={}))[T.PENDING=0]="PENDING",T[T.RESOLVED=1]="RESOLVED",T[T.REJECTED=2]="REJECTED";class g{constructor(_){g.prototype.__init.call(this),g.prototype.__init2.call(this),g.prototype.__init3.call(this),g.prototype.__init4.call(this),this._state=t.PENDING,this._handlers=[];try{_(this._resolve,this._reject)}catch(m){this._reject(m)}}then(_,m){return new g((h,f)=>{this._handlers.push([!1,v=>{if(_)try{h(_(v))}catch(C){f(C)}else h(v)},v=>{if(m)try{h(m(v))}catch(C){f(C)}else f(v)}]),this._executeHandlers()})}catch(_){return this.then(m=>m,_)}finally(_){return new g((m,h)=>{let f,v;return this.then(C=>{v=!1,f=C,_&&_()},C=>{v=!0,f=C,_&&_()}).then(()=>{v?h(f):m(f)})})}__init(){this._resolve=_=>{this._setResult(t.RESOLVED,_)}}__init2(){this._reject=_=>{this._setResult(t.REJECTED,_)}}__init3(){this._setResult=(_,m)=>{if(this._state===t.PENDING){if((0,e.J8)(m))return void m.then(this._resolve,this._reject);this._state=_,this._value=m,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===t.PENDING)return;const _=this._handlers.slice();this._handlers=[],_.forEach(m=>{m[0]||(this._state===t.RESOLVED&&m[1](this._value),this._state===t.REJECTED&&m[2](this._value),m[0]=!0)})}}}},7245:(Qt,$,o)=>{"use strict";o.d($,{Z1:()=>m,ph:()=>g,yW:()=>a});var e=o(3054);const t=1e3;function a(){return Date.now()/t}const g=function i(){const{performance:h}=e.GLOBAL_OBJ;if(!h||!h.now)return a;const f=Date.now()-h.now(),v=null==h.timeOrigin?f:h.timeOrigin;return()=>(v+h.now())/t}();let _;const m=(()=>{const{performance:h}=e.GLOBAL_OBJ;if(!h||!h.now)return void(_="none");const f=36e5,v=h.now(),C=Date.now(),D=h.timeOrigin?Math.abs(h.timeOrigin+v-C):f,y=D<f,E=h.timing&&h.timing.navigationStart,M="number"==typeof E?Math.abs(E+v-C):f;return y||M<f?D<=M?(_="timeOrigin",h.timeOrigin):(_="navigationStart",E):(_="dateNow",C)})()},2475:(Qt,$,o)=>{"use strict";o.d($,{$p:()=>_,pT:()=>T});var e=o(2748),t=o(404);const a=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function T(m,h){const f=function i(m){if(!m)return;const h=m.match(a);if(!h)return;let f;return"1"===h[3]?f=!0:"0"===h[3]&&(f=!1),{traceId:h[1],parentSampled:f,parentSpanId:h[2]}}(m),v=(0,e.EN)(h),{traceId:C,parentSpanId:D,parentSampled:y}=f||{};return f?{traceId:C||(0,t.DM)(),parentSpanId:D||(0,t.DM)().substring(16),spanId:(0,t.DM)().substring(16),sampled:y,dsc:v||{}}:{traceId:C||(0,t.DM)(),spanId:(0,t.DM)().substring(16)}}function _(m=(0,t.DM)(),h=(0,t.DM)().substring(16),f){let v="";return void 0!==f&&(v=f?"-1":"-0"),`${m}-${h}${v}`}},3054:(Qt,$,o)=>{"use strict";function e(g){return g&&g.Math==Math?g:void 0}o.d($,{GLOBAL_OBJ:()=>t,R:()=>a,Y:()=>i});const t="object"==typeof globalThis&&e(globalThis)||"object"==typeof window&&e(window)||"object"==typeof self&&e(self)||"object"==typeof global&&e(global)||function(){return this}()||{};function a(){return t}function i(g,T,_){const m=_||t,h=m.__SENTRY__=m.__SENTRY__||{};return h[g]||(h[g]=T())}},4661:(Qt,$,o)=>{"use strict";function e(t,a){for(var i=t<0?"-":"",g=Math.abs(t).toString();g.length<a;)g="0"+g;return i+g}o.d($,{Z:()=>e})},6558:(Qt,$,o)=>{"use strict";o.d($,{j:()=>t});var e={};function t(){return e}},5351:(Qt,$,o)=>{"use strict";function e(t){var a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),t.getTime()-a.getTime()}o.d($,{Z:()=>e})},2816:(Qt,$,o)=>{"use strict";function e(t,a){if(a.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+a.length+" present")}o.d($,{Z:()=>e})},5163:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>g});var e=o(581),t=o(2816),a=o(6156),i=o(6558);function g(T,_){var m,h,f,v,C,D,y,E;(0,t.Z)(1,arguments);var O=(0,i.j)(),M=(0,a.Z)(null!==(m=null!==(h=null!==(f=null!==(v=_?.weekStartsOn)&&void 0!==v?v:null==_||null===(C=_.locale)||void 0===C||null===(D=C.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==f?f:O.weekStartsOn)&&void 0!==h?h:null===(y=O.locale)||void 0===y||null===(E=y.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==m?m:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var U=(0,e.Z)(T),R=U.getUTCDay(),A=(R<M?7:0)+R-M;return U.setUTCDate(U.getUTCDate()-A),U.setUTCHours(0,0,0,0),U}},6156:(Qt,$,o)=>{"use strict";function e(t){if(null===t||!0===t||!1===t)return NaN;var a=Number(t);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}o.d($,{Z:()=>e})},4438:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>xe});var e=o(4338),t=o(6156),a=o(581),i=o(2816);function h(ke){(0,i.Z)(1,arguments);var Ne=(0,a.Z)(ke),Ke=Ne.getUTCDay(),qe=(Ke<1?7:0)+Ke-1;return Ne.setUTCDate(Ne.getUTCDate()-qe),Ne.setUTCHours(0,0,0,0),Ne}function f(ke){(0,i.Z)(1,arguments);var we=(0,a.Z)(ke),Ne=we.getUTCFullYear(),Ke=new Date(0);Ke.setUTCFullYear(Ne+1,0,4),Ke.setUTCHours(0,0,0,0);var qe=h(Ke),kn=new Date(0);kn.setUTCFullYear(Ne,0,4),kn.setUTCHours(0,0,0,0);var ui=h(kn);return we.getTime()>=qe.getTime()?Ne+1:we.getTime()>=ui.getTime()?Ne:Ne-1}var y=o(5163),E=o(6558);function O(ke,we){var Ne,Ke,qe,kn,ui,eo,Pn,tn;(0,i.Z)(1,arguments);var ln=(0,a.Z)(ke),Zn=ln.getUTCFullYear(),Jn=(0,E.j)(),hi=(0,t.Z)(null!==(Ne=null!==(Ke=null!==(qe=null!==(kn=we?.firstWeekContainsDate)&&void 0!==kn?kn:null==we||null===(ui=we.locale)||void 0===ui||null===(eo=ui.options)||void 0===eo?void 0:eo.firstWeekContainsDate)&&void 0!==qe?qe:Jn.firstWeekContainsDate)&&void 0!==Ke?Ke:null===(Pn=Jn.locale)||void 0===Pn||null===(tn=Pn.options)||void 0===tn?void 0:tn.firstWeekContainsDate)&&void 0!==Ne?Ne:1);if(!(hi>=1&&hi<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ei=new Date(0);ei.setUTCFullYear(Zn+1,0,hi),ei.setUTCHours(0,0,0,0);var wi=(0,y.Z)(ei,we),oi=new Date(0);oi.setUTCFullYear(Zn,0,hi),oi.setUTCHours(0,0,0,0);var Li=(0,y.Z)(oi,we);return ln.getTime()>=wi.getTime()?Zn+1:ln.getTime()>=Li.getTime()?Zn:Zn-1}var A=o(4661);const w_y=function(we,Ne){var Ke=we.getUTCFullYear(),qe=Ke>0?Ke:1-Ke;return(0,A.Z)("yy"===Ne?qe%100:qe,Ne.length)},w_M=function(we,Ne){var Ke=we.getUTCMonth();return"M"===Ne?String(Ke+1):(0,A.Z)(Ke+1,2)},w_d=function(we,Ne){return(0,A.Z)(we.getUTCDate(),Ne.length)},w_h=function(we,Ne){return(0,A.Z)(we.getUTCHours()%12||12,Ne.length)},w_H=function(we,Ne){return(0,A.Z)(we.getUTCHours(),Ne.length)},w_m=function(we,Ne){return(0,A.Z)(we.getUTCMinutes(),Ne.length)},w_s=function(we,Ne){return(0,A.Z)(we.getUTCSeconds(),Ne.length)},w_S=function(we,Ne){var Ke=Ne.length,qe=we.getUTCMilliseconds(),kn=Math.floor(qe*Math.pow(10,Ke-3));return(0,A.Z)(kn,Ne.length)};function V(ke,we){var Ne=ke>0?"-":"+",Ke=Math.abs(ke),qe=Math.floor(Ke/60),kn=Ke%60;if(0===kn)return Ne+String(qe);var ui=we||"";return Ne+String(qe)+ui+(0,A.Z)(kn,2)}function et(ke,we){return ke%60==0?(ke>0?"-":"+")+(0,A.Z)(Math.abs(ke)/60,2):tt(ke,we)}function tt(ke,we){var Ne=we||"",Ke=ke>0?"-":"+",qe=Math.abs(ke);return Ke+(0,A.Z)(Math.floor(qe/60),2)+Ne+(0,A.Z)(qe%60,2)}const ht={G:function(we,Ne,Ke){var qe=we.getUTCFullYear()>0?1:0;switch(Ne){case"G":case"GG":case"GGG":return Ke.era(qe,{width:"abbreviated"});case"GGGGG":return Ke.era(qe,{width:"narrow"});default:return Ke.era(qe,{width:"wide"})}},y:function(we,Ne,Ke){if("yo"===Ne){var qe=we.getUTCFullYear();return Ke.ordinalNumber(qe>0?qe:1-qe,{unit:"year"})}return w_y(we,Ne)},Y:function(we,Ne,Ke,qe){var kn=O(we,qe),ui=kn>0?kn:1-kn;return"YY"===Ne?(0,A.Z)(ui%100,2):"Yo"===Ne?Ke.ordinalNumber(ui,{unit:"year"}):(0,A.Z)(ui,Ne.length)},R:function(we,Ne){var Ke=f(we);return(0,A.Z)(Ke,Ne.length)},u:function(we,Ne){var Ke=we.getUTCFullYear();return(0,A.Z)(Ke,Ne.length)},Q:function(we,Ne,Ke){var qe=Math.ceil((we.getUTCMonth()+1)/3);switch(Ne){case"Q":return String(qe);case"QQ":return(0,A.Z)(qe,2);case"Qo":return Ke.ordinalNumber(qe,{unit:"quarter"});case"QQQ":return Ke.quarter(qe,{width:"abbreviated",context:"formatting"});case"QQQQQ":return Ke.quarter(qe,{width:"narrow",context:"formatting"});default:return Ke.quarter(qe,{width:"wide",context:"formatting"})}},q:function(we,Ne,Ke){var qe=Math.ceil((we.getUTCMonth()+1)/3);switch(Ne){case"q":return String(qe);case"qq":return(0,A.Z)(qe,2);case"qo":return Ke.ordinalNumber(qe,{unit:"quarter"});case"qqq":return Ke.quarter(qe,{width:"abbreviated",context:"standalone"});case"qqqqq":return Ke.quarter(qe,{width:"narrow",context:"standalone"});default:return Ke.quarter(qe,{width:"wide",context:"standalone"})}},M:function(we,Ne,Ke){var qe=we.getUTCMonth();switch(Ne){case"M":case"MM":return w_M(we,Ne);case"Mo":return Ke.ordinalNumber(qe+1,{unit:"month"});case"MMM":return Ke.month(qe,{width:"abbreviated",context:"formatting"});case"MMMMM":return Ke.month(qe,{width:"narrow",context:"formatting"});default:return Ke.month(qe,{width:"wide",context:"formatting"})}},L:function(we,Ne,Ke){var qe=we.getUTCMonth();switch(Ne){case"L":return String(qe+1);case"LL":return(0,A.Z)(qe+1,2);case"Lo":return Ke.ordinalNumber(qe+1,{unit:"month"});case"LLL":return Ke.month(qe,{width:"abbreviated",context:"standalone"});case"LLLLL":return Ke.month(qe,{width:"narrow",context:"standalone"});default:return Ke.month(qe,{width:"wide",context:"standalone"})}},w:function(we,Ne,Ke,qe){var kn=function R(ke,we){(0,i.Z)(1,arguments);var Ne=(0,a.Z)(ke),Ke=(0,y.Z)(Ne,we).getTime()-function M(ke,we){var Ne,Ke,qe,kn,ui,eo,Pn,tn;(0,i.Z)(1,arguments);var ln=(0,E.j)(),Zn=(0,t.Z)(null!==(Ne=null!==(Ke=null!==(qe=null!==(kn=we?.firstWeekContainsDate)&&void 0!==kn?kn:null==we||null===(ui=we.locale)||void 0===ui||null===(eo=ui.options)||void 0===eo?void 0:eo.firstWeekContainsDate)&&void 0!==qe?qe:ln.firstWeekContainsDate)&&void 0!==Ke?Ke:null===(Pn=ln.locale)||void 0===Pn||null===(tn=Pn.options)||void 0===tn?void 0:tn.firstWeekContainsDate)&&void 0!==Ne?Ne:1),Jn=O(ke,we),hi=new Date(0);return hi.setUTCFullYear(Jn,0,Zn),hi.setUTCHours(0,0,0,0),(0,y.Z)(hi,we)}(Ne,we).getTime();return Math.round(Ke/6048e5)+1}(we,qe);return"wo"===Ne?Ke.ordinalNumber(kn,{unit:"week"}):(0,A.Z)(kn,Ne.length)},I:function(we,Ne,Ke){var qe=function D(ke){(0,i.Z)(1,arguments);var we=(0,a.Z)(ke),Ne=h(we).getTime()-function v(ke){(0,i.Z)(1,arguments);var we=f(ke),Ne=new Date(0);return Ne.setUTCFullYear(we,0,4),Ne.setUTCHours(0,0,0,0),h(Ne)}(we).getTime();return Math.round(Ne/6048e5)+1}(we);return"Io"===Ne?Ke.ordinalNumber(qe,{unit:"week"}):(0,A.Z)(qe,Ne.length)},d:function(we,Ne,Ke){return"do"===Ne?Ke.ordinalNumber(we.getUTCDate(),{unit:"date"}):w_d(we,Ne)},D:function(we,Ne,Ke){var qe=function m(ke){(0,i.Z)(1,arguments);var we=(0,a.Z)(ke),Ne=we.getTime();we.setUTCMonth(0,1),we.setUTCHours(0,0,0,0);var Ke=we.getTime();return Math.floor((Ne-Ke)/864e5)+1}(we);return"Do"===Ne?Ke.ordinalNumber(qe,{unit:"dayOfYear"}):(0,A.Z)(qe,Ne.length)},E:function(we,Ne,Ke){var qe=we.getUTCDay();switch(Ne){case"E":case"EE":case"EEE":return Ke.day(qe,{width:"abbreviated",context:"formatting"});case"EEEEE":return Ke.day(qe,{width:"narrow",context:"formatting"});case"EEEEEE":return Ke.day(qe,{width:"short",context:"formatting"});default:return Ke.day(qe,{width:"wide",context:"formatting"})}},e:function(we,Ne,Ke,qe){var kn=we.getUTCDay(),ui=(kn-qe.weekStartsOn+8)%7||7;switch(Ne){case"e":return String(ui);case"ee":return(0,A.Z)(ui,2);case"eo":return Ke.ordinalNumber(ui,{unit:"day"});case"eee":return Ke.day(kn,{width:"abbreviated",context:"formatting"});case"eeeee":return Ke.day(kn,{width:"narrow",context:"formatting"});case"eeeeee":return Ke.day(kn,{width:"short",context:"formatting"});default:return Ke.day(kn,{width:"wide",context:"formatting"})}},c:function(we,Ne,Ke,qe){var kn=we.getUTCDay(),ui=(kn-qe.weekStartsOn+8)%7||7;switch(Ne){case"c":return String(ui);case"cc":return(0,A.Z)(ui,Ne.length);case"co":return Ke.ordinalNumber(ui,{unit:"day"});case"ccc":return Ke.day(kn,{width:"abbreviated",context:"standalone"});case"ccccc":return Ke.day(kn,{width:"narrow",context:"standalone"});case"cccccc":return Ke.day(kn,{width:"short",context:"standalone"});default:return Ke.day(kn,{width:"wide",context:"standalone"})}},i:function(we,Ne,Ke){var qe=we.getUTCDay(),kn=0===qe?7:qe;switch(Ne){case"i":return String(kn);case"ii":return(0,A.Z)(kn,Ne.length);case"io":return Ke.ordinalNumber(kn,{unit:"day"});case"iii":return Ke.day(qe,{width:"abbreviated",context:"formatting"});case"iiiii":return Ke.day(qe,{width:"narrow",context:"formatting"});case"iiiiii":return Ke.day(qe,{width:"short",context:"formatting"});default:return Ke.day(qe,{width:"wide",context:"formatting"})}},a:function(we,Ne,Ke){var kn=we.getUTCHours()/12>=1?"pm":"am";switch(Ne){case"a":case"aa":return Ke.dayPeriod(kn,{width:"abbreviated",context:"formatting"});case"aaa":return Ke.dayPeriod(kn,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return Ke.dayPeriod(kn,{width:"narrow",context:"formatting"});default:return Ke.dayPeriod(kn,{width:"wide",context:"formatting"})}},b:function(we,Ne,Ke){var kn,qe=we.getUTCHours();switch(kn=12===qe?"noon":0===qe?"midnight":qe/12>=1?"pm":"am",Ne){case"b":case"bb":return Ke.dayPeriod(kn,{width:"abbreviated",context:"formatting"});case"bbb":return Ke.dayPeriod(kn,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return Ke.dayPeriod(kn,{width:"narrow",context:"formatting"});default:return Ke.dayPeriod(kn,{width:"wide",context:"formatting"})}},B:function(we,Ne,Ke){var kn,qe=we.getUTCHours();switch(kn=qe>=17?"evening":qe>=12?"afternoon":qe>=4?"morning":"night",Ne){case"B":case"BB":case"BBB":return Ke.dayPeriod(kn,{width:"abbreviated",context:"formatting"});case"BBBBB":return Ke.dayPeriod(kn,{width:"narrow",context:"formatting"});default:return Ke.dayPeriod(kn,{width:"wide",context:"formatting"})}},h:function(we,Ne,Ke){if("ho"===Ne){var qe=we.getUTCHours()%12;return 0===qe&&(qe=12),Ke.ordinalNumber(qe,{unit:"hour"})}return w_h(we,Ne)},H:function(we,Ne,Ke){return"Ho"===Ne?Ke.ordinalNumber(we.getUTCHours(),{unit:"hour"}):w_H(we,Ne)},K:function(we,Ne,Ke){var qe=we.getUTCHours()%12;return"Ko"===Ne?Ke.ordinalNumber(qe,{unit:"hour"}):(0,A.Z)(qe,Ne.length)},k:function(we,Ne,Ke){var qe=we.getUTCHours();return 0===qe&&(qe=24),"ko"===Ne?Ke.ordinalNumber(qe,{unit:"hour"}):(0,A.Z)(qe,Ne.length)},m:function(we,Ne,Ke){return"mo"===Ne?Ke.ordinalNumber(we.getUTCMinutes(),{unit:"minute"}):w_m(we,Ne)},s:function(we,Ne,Ke){return"so"===Ne?Ke.ordinalNumber(we.getUTCSeconds(),{unit:"second"}):w_s(we,Ne)},S:function(we,Ne){return w_S(we,Ne)},X:function(we,Ne,Ke,qe){var ui=(qe._originalDate||we).getTimezoneOffset();if(0===ui)return"Z";switch(Ne){case"X":return et(ui);case"XXXX":case"XX":return tt(ui);default:return tt(ui,":")}},x:function(we,Ne,Ke,qe){var ui=(qe._originalDate||we).getTimezoneOffset();switch(Ne){case"x":return et(ui);case"xxxx":case"xx":return tt(ui);default:return tt(ui,":")}},O:function(we,Ne,Ke,qe){var ui=(qe._originalDate||we).getTimezoneOffset();switch(Ne){case"O":case"OO":case"OOO":return"GMT"+V(ui,":");default:return"GMT"+tt(ui,":")}},z:function(we,Ne,Ke,qe){var ui=(qe._originalDate||we).getTimezoneOffset();switch(Ne){case"z":case"zz":case"zzz":return"GMT"+V(ui,":");default:return"GMT"+tt(ui,":")}},t:function(we,Ne,Ke,qe){var ui=Math.floor((qe._originalDate||we).getTime()/1e3);return(0,A.Z)(ui,Ne.length)},T:function(we,Ne,Ke,qe){var ui=(qe._originalDate||we).getTime();return(0,A.Z)(ui,Ne.length)}};var it=function(we,Ne){switch(we){case"P":return Ne.date({width:"short"});case"PP":return Ne.date({width:"medium"});case"PPP":return Ne.date({width:"long"});default:return Ne.date({width:"full"})}},It=function(we,Ne){switch(we){case"p":return Ne.time({width:"short"});case"pp":return Ne.time({width:"medium"});case"ppp":return Ne.time({width:"long"});default:return Ne.time({width:"full"})}};const St={p:It,P:function(we,Ne){var ui,Ke=we.match(/(P+)(p+)?/)||[],qe=Ke[1],kn=Ke[2];if(!kn)return it(we,Ne);switch(qe){case"P":ui=Ne.dateTime({width:"short"});break;case"PP":ui=Ne.dateTime({width:"medium"});break;case"PPP":ui=Ne.dateTime({width:"long"});break;default:ui=Ne.dateTime({width:"full"})}return ui.replace("{{date}}",it(qe,Ne)).replace("{{time}}",It(kn,Ne))}};var bt=o(5351),u=["D","DD"],ut=["YY","YYYY"];function F(ke,we,Ne){if("YYYY"===ke)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(we,"`) for formatting years to the input `").concat(Ne,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===ke)throw new RangeError("Use `yy` instead of `YY` (in `".concat(we,"`) for formatting years to the input `").concat(Ne,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===ke)throw new RangeError("Use `d` instead of `D` (in `".concat(we,"`) for formatting days of the month to the input `").concat(Ne,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===ke)throw new RangeError("Use `dd` instead of `DD` (in `".concat(we,"`) for formatting days of the month to the input `").concat(Ne,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ot={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};var Dt=o(1820);const B={date:(0,Dt.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,Dt.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,Dt.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var k={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};var xt=o(5408);const Ft={ordinalNumber:function(we,Ne){var Ke=Number(we),qe=Ke%100;if(qe>20||qe<10)switch(qe%10){case 1:return Ke+"st";case 2:return Ke+"nd";case 3:return Ke+"rd"}return Ke+"th"},era:(0,xt.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,xt.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(we){return we-1}}),month:(0,xt.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,xt.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,xt.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};var le=o(8722);const xn={code:"en-US",formatDistance:function(we,Ne,Ke){var qe,kn=ot[we];return qe="string"==typeof kn?kn:1===Ne?kn.one:kn.other.replace("{{count}}",Ne.toString()),null!=Ke&&Ke.addSuffix?Ke.comparison&&Ke.comparison>0?"in "+qe:qe+" ago":qe},formatLong:B,formatRelative:function(we,Ne,Ke,qe){return k[we]},localize:Ft,match:{ordinalNumber:(0,o(6314).Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(we){return parseInt(we,10)}}),era:(0,le.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,le.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(we){return we+1}}),month:(0,le.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,le.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,le.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var ce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,me=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,En=/^'([^]*?)'?$/,_n=/''/g,Qe=/[a-zA-Z]/;function xe(ke,we,Ne){var Ke,qe,kn,ui,eo,Pn,tn,ln,Zn,Jn,hi,ei,wi,oi,Li,mi,Zi,Qi;(0,i.Z)(2,arguments);var Yi=String(we),uo=(0,E.j)(),Ui=null!==(Ke=null!==(qe=Ne?.locale)&&void 0!==qe?qe:uo.locale)&&void 0!==Ke?Ke:xn,Ki=(0,t.Z)(null!==(kn=null!==(ui=null!==(eo=null!==(Pn=Ne?.firstWeekContainsDate)&&void 0!==Pn?Pn:null==Ne||null===(tn=Ne.locale)||void 0===tn||null===(ln=tn.options)||void 0===ln?void 0:ln.firstWeekContainsDate)&&void 0!==eo?eo:uo.firstWeekContainsDate)&&void 0!==ui?ui:null===(Zn=uo.locale)||void 0===Zn||null===(Jn=Zn.options)||void 0===Jn?void 0:Jn.firstWeekContainsDate)&&void 0!==kn?kn:1);if(!(Ki>=1&&Ki<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Gi=(0,t.Z)(null!==(hi=null!==(ei=null!==(wi=null!==(oi=Ne?.weekStartsOn)&&void 0!==oi?oi:null==Ne||null===(Li=Ne.locale)||void 0===Li||null===(mi=Li.options)||void 0===mi?void 0:mi.weekStartsOn)&&void 0!==wi?wi:uo.weekStartsOn)&&void 0!==ei?ei:null===(Zi=uo.locale)||void 0===Zi||null===(Qi=Zi.options)||void 0===Qi?void 0:Qi.weekStartsOn)&&void 0!==hi?hi:0);if(!(Gi>=0&&Gi<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Ui.localize)throw new RangeError("locale must contain localize property");if(!Ui.formatLong)throw new RangeError("locale must contain formatLong property");var sn=(0,a.Z)(ke);if(!(0,e.Z)(sn))throw new RangeError("Invalid time value");var Xt=function T(ke,we){return(0,i.Z)(2,arguments),function g(ke,we){(0,i.Z)(2,arguments);var Ne=(0,a.Z)(ke).getTime(),Ke=(0,t.Z)(we);return new Date(Ne+Ke)}(ke,-(0,t.Z)(we))}(sn,(0,bt.Z)(sn)),Ye={firstWeekContainsDate:Ki,weekStartsOn:Gi,locale:Ui,_originalDate:sn},se=Yi.match(me).map(function(Ve){var An=Ve[0];return"p"===An||"P"===An?(0,St[An])(Ve,Ui.formatLong):Ve}).join("").match(ce).map(function(Ve){if("''"===Ve)return"'";var An=Ve[0];if("'"===An)return function je(ke){var we=ke.match(En);return we?we[1].replace(_n,"'"):ke}(Ve);var Ei=ht[An];if(Ei)return!(null!=Ne&&Ne.useAdditionalWeekYearTokens)&&function I(ke){return-1!==ut.indexOf(ke)}(Ve)&&F(Ve,we,String(ke)),!(null!=Ne&&Ne.useAdditionalDayOfYearTokens)&&function Z(ke){return-1!==u.indexOf(ke)}(Ve)&&F(Ve,we,String(ke)),Ei(Xt,Ve,Ui.localize,Ye);if(An.match(Qe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+An+"`");return Ve}).join("");return se}},3718:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>i});var e=o(581),t=o(4661),a=o(2816);function i(g,T){var _,m;(0,a.Z)(1,arguments);var h=(0,e.Z)(g);if(isNaN(h.getTime()))throw new RangeError("Invalid time value");var f=String(null!==(_=T?.format)&&void 0!==_?_:"extended"),v=String(null!==(m=T?.representation)&&void 0!==m?m:"complete");if("extended"!==f&&"basic"!==f)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==v&&"time"!==v&&"complete"!==v)throw new RangeError("representation must be 'date', 'time', or 'complete'");var C="",D="",y="extended"===f?"-":"",E="extended"===f?":":"";if("time"!==v){var O=(0,t.Z)(h.getDate(),2),M=(0,t.Z)(h.getMonth()+1,2),U=(0,t.Z)(h.getFullYear(),4);C="".concat(U).concat(y).concat(M).concat(y).concat(O)}if("date"!==v){var R=h.getTimezoneOffset();if(0!==R){var A=Math.abs(R),S=(0,t.Z)(Math.floor(A/60),2),w=(0,t.Z)(A%60,2);D="".concat(R<0?"+":"-").concat(S,":").concat(w)}else D="Z";var tt=""===C?"":"T",ht=[(0,t.Z)(h.getHours(),2),(0,t.Z)(h.getMinutes(),2),(0,t.Z)(h.getSeconds(),2)].join(E);C="".concat(C).concat(tt).concat(ht).concat(D)}return C}},4338:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>g});var e=o(2816);function t(T){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(T)}var i=o(581);function g(T){if((0,e.Z)(1,arguments),!function a(T){return(0,e.Z)(1,arguments),T instanceof Date||"object"===t(T)&&"[object Date]"===Object.prototype.toString.call(T)}(T)&&"number"!=typeof T)return!1;var _=(0,i.Z)(T);return!isNaN(Number(_))}},1820:(Qt,$,o)=>{"use strict";function e(t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.width?String(a.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}o.d($,{Z:()=>e})},5408:(Qt,$,o)=>{"use strict";function e(t){return function(a,i){var T;if("formatting"===(null!=i&&i.context?String(i.context):"standalone")&&t.formattingValues){var _=t.defaultFormattingWidth||t.defaultWidth,m=null!=i&&i.width?String(i.width):_;T=t.formattingValues[m]||t.formattingValues[_]}else{var h=t.defaultWidth,f=null!=i&&i.width?String(i.width):t.defaultWidth;T=t.values[f]||t.values[h]}return T[t.argumentCallback?t.argumentCallback(a):a]}}o.d($,{Z:()=>e})},8722:(Qt,$,o)=>{"use strict";function e(i){return function(g){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=T.width,h=g.match(_&&i.matchPatterns[_]||i.matchPatterns[i.defaultMatchWidth]);if(!h)return null;var D,f=h[0],v=_&&i.parsePatterns[_]||i.parsePatterns[i.defaultParseWidth],C=Array.isArray(v)?function a(i,g){for(var T=0;T<i.length;T++)if(g(i[T]))return T}(v,function(E){return E.test(f)}):function t(i,g){for(var T in i)if(i.hasOwnProperty(T)&&g(i[T]))return T}(v,function(E){return E.test(f)});return D=i.valueCallback?i.valueCallback(C):C,{value:D=T.valueCallback?T.valueCallback(D):D,rest:g.slice(f.length)}}}o.d($,{Z:()=>e})},6314:(Qt,$,o)=>{"use strict";function e(t){return function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=a.match(t.matchPattern);if(!g)return null;var T=g[0],_=a.match(t.parsePattern);if(!_)return null;var m=t.valueCallback?t.valueCallback(_[0]):_[0];return{value:m=i.valueCallback?i.valueCallback(m):m,rest:a.slice(T.length)}}}o.d($,{Z:()=>e})},3820:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>S}),Math.pow(10,8);var i=6e4,g=36e5,R=o(2816),A=o(6156);function S(nt,At){var Dt;(0,R.Z)(1,arguments);var Wt=(0,A.Z)(null!==(Dt=At?.additionalDigits)&&void 0!==Dt?Dt:2);if(2!==Wt&&1!==Wt&&0!==Wt)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof nt&&"[object String]"!==Object.prototype.toString.call(nt))return new Date(NaN);var Rt,Nt=function et(nt){var Wt,At={},Dt=nt.split(w.dateTimeDelimiter);if(Dt.length>2)return At;if(/:/.test(Dt[0])?Wt=Dt[0]:(At.date=Dt[0],Wt=Dt[1],w.timeZoneDelimiter.test(At.date)&&(At.date=nt.split(w.timeZoneDelimiter)[0],Wt=nt.substr(At.date.length,nt.length))),Wt){var Nt=w.timezone.exec(Wt);Nt?(At.time=Wt.replace(Nt[1],""),At.timezone=Nt[1]):At.time=Wt}return At}(nt);if(Nt.date){var Bt=function tt(nt,At){var Dt=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+At)+"})|(\\d{2}|[+-]\\d{"+(2+At)+"})$)"),Wt=nt.match(Dt);if(!Wt)return{year:NaN,restDateString:""};var Nt=Wt[1]?parseInt(Wt[1]):null,Rt=Wt[2]?parseInt(Wt[2]):null;return{year:null===Rt?Nt:100*Rt,restDateString:nt.slice((Wt[1]||Wt[2]).length)}}(Nt.date,Wt);Rt=function ht(nt,At){if(null===At)return new Date(NaN);var Dt=nt.match(p);if(!Dt)return new Date(NaN);var Wt=!!Dt[4],Nt=it(Dt[1]),Rt=it(Dt[2])-1,Bt=it(Dt[3]),B=it(Dt[4]),k=it(Dt[5])-1;if(Wt)return function I(nt,At,Dt){return At>=1&&At<=53&&Dt>=0&&Dt<=6}(0,B,k)?function St(nt,At,Dt){var Wt=new Date(0);Wt.setUTCFullYear(nt,0,4);var Rt=7*(At-1)+Dt+1-(Wt.getUTCDay()||7);return Wt.setUTCDate(Wt.getUTCDate()+Rt),Wt}(At,B,k):new Date(NaN);var yt=new Date(0);return function ut(nt,At,Dt){return At>=0&&At<=11&&Dt>=1&&Dt<=(bt[At]||(u(nt)?29:28))}(At,Rt,Bt)&&function Z(nt,At){return At>=1&&At<=(u(nt)?366:365)}(At,Nt)?(yt.setUTCFullYear(At,Rt,Math.max(Nt,Bt)),yt):new Date(NaN)}(Bt.restDateString,Bt.year)}if(!Rt||isNaN(Rt.getTime()))return new Date(NaN);var yt,B=Rt.getTime(),k=0;if(Nt.time&&(k=function It(nt){var At=nt.match(L);if(!At)return NaN;var Dt=st(At[1]),Wt=st(At[2]),Nt=st(At[3]);return function F(nt,At,Dt){return 24===nt?0===At&&0===Dt:Dt>=0&&Dt<60&&At>=0&&At<60&&nt>=0&&nt<25}(Dt,Wt,Nt)?Dt*g+Wt*i+1e3*Nt:NaN}(Nt.time),isNaN(k)))return new Date(NaN);if(!Nt.timezone){var Y=new Date(B+k),xt=new Date(0);return xt.setFullYear(Y.getUTCFullYear(),Y.getUTCMonth(),Y.getUTCDate()),xt.setHours(Y.getUTCHours(),Y.getUTCMinutes(),Y.getUTCSeconds(),Y.getUTCMilliseconds()),xt}return yt=function dt(nt){if("Z"===nt)return 0;var At=nt.match(V);if(!At)return 0;var Dt="+"===At[1]?-1:1,Wt=parseInt(At[2]),Nt=At[3]&&parseInt(At[3])||0;return function ot(nt,At){return At>=0&&At<=59}(0,Nt)?Dt*(Wt*g+Nt*i):NaN}(Nt.timezone),isNaN(yt)?new Date(NaN):new Date(B+k+yt)}var w={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,V=/^([+-])(\d{2})(?::?(\d{2}))?$/;function it(nt){return nt?parseInt(nt):1}function st(nt){return nt&&parseFloat(nt.replace(",","."))||0}var bt=[31,null,31,30,31,30,31,31,30,31,30,31];function u(nt){return nt%400==0||nt%4==0&&nt%100!=0}},3650:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>a});var e=o(581),t=o(2816);function a(i){if((0,t.Z)(1,arguments),"string"==typeof i){var g=i.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return g?new Date(Date.UTC(+g[1],+g[2]-1,+g[3],+g[4]-(+g[9]||0)*("-"==g[8]?-1:1),+g[5]-(+g[10]||0)*("-"==g[8]?-1:1),+g[6],+((g[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,e.Z)(i)}},581:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>a});var e=o(2816);function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(i)}function a(i){(0,e.Z)(1,arguments);var g=Object.prototype.toString.call(i);return i instanceof Date||"object"===t(i)&&"[object Date]"===g?new Date(i.getTime()):"number"==typeof i||"[object Number]"===g?new Date(i):(("string"==typeof i||"[object String]"===g)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},217:function(Qt,$){var o,t;void 0!==(t="function"==typeof(o=function(){"use strict";function i(f,v,C){var D=new XMLHttpRequest;D.open("GET",f),D.responseType="blob",D.onload=function(){h(D.response,v,C)},D.onerror=function(){console.error("could not download file")},D.send()}function g(f){var v=new XMLHttpRequest;v.open("HEAD",f,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function T(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(v)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,m=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(f,v,C){var D=_.URL||_.webkitURL,y=document.createElement("a");y.download=v=v||f.name||"download",y.rel="noopener","string"==typeof f?(y.href=f,y.origin===location.origin?T(y):g(y.href)?i(f,v,C):T(y,y.target="_blank")):(y.href=D.createObjectURL(f),setTimeout(function(){D.revokeObjectURL(y.href)},4e4),setTimeout(function(){T(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,v,C){if(v=v||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(function a(f,v){return typeof v>"u"?v={autoBom:!1}:"object"!=typeof v&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\ufeff",f],{type:f.type}):f}(f,C),v);else if(g(f))i(f,v,C);else{var D=document.createElement("a");D.href=f,D.target="_blank",setTimeout(function(){T(D)})}}:function(f,v,C,D){if((D=D||open("","_blank"))&&(D.document.title=D.document.body.innerText="downloading..."),"string"==typeof f)return i(f,v,C);var y="application/octet-stream"===f.type,E=/constructor/i.test(_.HTMLElement)||_.safari,O=/CriOS\/[\d]+/.test(navigator.userAgent);if((O||y&&E||m)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var A=M.result;A=O?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),D?D.location.href=A:location=A,D=null},M.readAsDataURL(f)}else{var U=_.URL||_.webkitURL,R=U.createObjectURL(f);D?D.location=R:location.href=R,D=null,setTimeout(function(){U.revokeObjectURL(R)},4e4)}});_.saveAs=h.saveAs=h,Qt.exports=h})?o.apply($,[]):o)&&(Qt.exports=t)},2413:(Qt,$,o)=>{var e;!function(){"use strict";var t="input is invalid type",a="object"==typeof window,i=a?window:{};i.JS_SHA256_NO_WINDOW&&(a=!1);var g=!a&&"object"==typeof self,T=!i.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&"renderer"!=process.type;T?i=global:g&&(i=self);var _=!i.JS_SHA256_NO_COMMON_JS&&Qt.exports,m=o.amdO,h=!i.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),v=[-2147483648,8388608,32768,128],C=[24,16,8,0],D=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=["hex","array","digest","arrayBuffer"],E=[];(i.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return"[object Array]"===Object.prototype.toString.call(L)}),h&&(i.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return"object"==typeof L&&L.buffer&&L.buffer.constructor===ArrayBuffer});var O=function(L,V){return function(et){return new S(V,!0).update(et)[L]()}},M=function(L){var V=O("hex",L);T&&(V=U(V,L)),V.create=function(){return new S(L)},V.update=function(ht){return V.create().update(ht)};for(var et=0;et<y.length;++et){var tt=y[et];V[tt]=O(tt,L)}return V},U=function(L,V){var it,et=o(6127),tt=o(1371).Buffer,ht=V?"sha224":"sha256";return it=tt.from&&!i.JS_SHA256_NO_BUFFER_FROM?tt.from:function(st){return new tt(st)},function(st){if("string"==typeof st)return et.createHash(ht).update(st,"utf8").digest("hex");if(null==st)throw new Error(t);return st.constructor===ArrayBuffer&&(st=new Uint8Array(st)),Array.isArray(st)||ArrayBuffer.isView(st)||st.constructor===tt?et.createHash(ht).update(it(st)).digest("hex"):L(st)}},R=function(L,V){return function(et,tt){return new w(et,V,!0).update(tt)[L]()}},A=function(L){var V=R("hex",L);V.create=function(ht){return new w(ht,L)},V.update=function(ht,it){return V.create(ht).update(it)};for(var et=0;et<y.length;++et){var tt=y[et];V[tt]=R(tt,L)}return V};function S(L,V){V?(E[0]=E[16]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=0,this.blocks=E):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}function w(L,V,et){var tt,ht=typeof L;if("string"===ht){var dt,it=[],It=L.length,st=0;for(tt=0;tt<It;++tt)(dt=L.charCodeAt(tt))<128?it[st++]=dt:dt<2048?(it[st++]=192|dt>>>6,it[st++]=128|63&dt):dt<55296||dt>=57344?(it[st++]=224|dt>>>12,it[st++]=128|dt>>>6&63,it[st++]=128|63&dt):(dt=65536+((1023&dt)<<10|1023&L.charCodeAt(++tt)),it[st++]=240|dt>>>18,it[st++]=128|dt>>>12&63,it[st++]=128|dt>>>6&63,it[st++]=128|63&dt);L=it}else{if("object"!==ht)throw new Error(t);if(null===L)throw new Error(t);if(h&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!(Array.isArray(L)||h&&ArrayBuffer.isView(L)))throw new Error(t)}L.length>64&&(L=new S(V,!0).update(L).array());var St=[],bt=[];for(tt=0;tt<64;++tt){var u=L[tt]||0;St[tt]=92^u,bt[tt]=54^u}S.call(this,V,et),this.update(bt),this.oKeyPad=St,this.inner=!0,this.sharedMemory=et}S.prototype.update=function(L){if(!this.finalized){var V,et=typeof L;if("string"!==et){if("object"!==et)throw new Error(t);if(null===L)throw new Error(t);if(h&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!(Array.isArray(L)||h&&ArrayBuffer.isView(L)))throw new Error(t);V=!0}for(var tt,it,ht=0,It=L.length,st=this.blocks;ht<It;){if(this.hashed&&(this.hashed=!1,st[0]=this.block,this.block=st[16]=st[1]=st[2]=st[3]=st[4]=st[5]=st[6]=st[7]=st[8]=st[9]=st[10]=st[11]=st[12]=st[13]=st[14]=st[15]=0),V)for(it=this.start;ht<It&&it<64;++ht)st[it>>>2]|=L[ht]<<C[3&it++];else for(it=this.start;ht<It&&it<64;++ht)(tt=L.charCodeAt(ht))<128?st[it>>>2]|=tt<<C[3&it++]:tt<2048?(st[it>>>2]|=(192|tt>>>6)<<C[3&it++],st[it>>>2]|=(128|63&tt)<<C[3&it++]):tt<55296||tt>=57344?(st[it>>>2]|=(224|tt>>>12)<<C[3&it++],st[it>>>2]|=(128|tt>>>6&63)<<C[3&it++],st[it>>>2]|=(128|63&tt)<<C[3&it++]):(tt=65536+((1023&tt)<<10|1023&L.charCodeAt(++ht)),st[it>>>2]|=(240|tt>>>18)<<C[3&it++],st[it>>>2]|=(128|tt>>>12&63)<<C[3&it++],st[it>>>2]|=(128|tt>>>6&63)<<C[3&it++],st[it>>>2]|=(128|63&tt)<<C[3&it++]);this.lastByteIndex=it,this.bytes+=it-this.start,it>=64?(this.block=st[16],this.start=it-64,this.hash(),this.hashed=!0):this.start=it}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,V=this.lastByteIndex;L[16]=this.block,L[V>>>2]|=v[3&V],this.block=L[16],V>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},S.prototype.hash=function(){var St,Z,ot,nt,At,Dt,L=this.h0,V=this.h1,et=this.h2,tt=this.h3,ht=this.h4,it=this.h5,It=this.h6,st=this.h7,dt=this.blocks;for(St=16;St<64;++St)dt[St]=dt[St-16]+(((Z=dt[St-15])>>>7|Z<<25)^(Z>>>18|Z<<14)^Z>>>3)+dt[St-7]+(((Z=dt[St-2])>>>17|Z<<15)^(Z>>>19|Z<<13)^Z>>>10)<<0;for(Dt=V&et,St=0;St<64;St+=4)this.first?(this.is224?(ot=300032,st=(Z=dt[0]-1413257819)-150054599<<0,tt=Z+24177077<<0):(ot=704751109,st=(Z=dt[0]-210244248)-1521486534<<0,tt=Z+143694565<<0),this.first=!1):(st=tt+(Z=st+((ht>>>6|ht<<26)^(ht>>>11|ht<<21)^(ht>>>25|ht<<7))+(ht&it^~ht&It)+D[St]+dt[St])<<0,tt=Z+(((L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10))+((ot=L&V)^L&et^Dt))<<0),It=et+(Z=It+((st>>>6|st<<26)^(st>>>11|st<<21)^(st>>>25|st<<7))+(st&ht^~st&it)+D[St+1]+dt[St+1])<<0,et=Z+(((tt>>>2|tt<<30)^(tt>>>13|tt<<19)^(tt>>>22|tt<<10))+((nt=tt&L)^tt&V^ot))<<0,it=V+(Z=it+((It>>>6|It<<26)^(It>>>11|It<<21)^(It>>>25|It<<7))+(It&st^~It&ht)+D[St+2]+dt[St+2])<<0,V=Z+(((et>>>2|et<<30)^(et>>>13|et<<19)^(et>>>22|et<<10))+((At=et&tt)^et&L^nt))<<0,ht=L+(Z=ht+((it>>>6|it<<26)^(it>>>11|it<<21)^(it>>>25|it<<7))+(it&It^~it&st)+D[St+3]+dt[St+3])<<0,L=Z+(((V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10))+((Dt=V&et)^V&tt^At))<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+V<<0,this.h2=this.h2+et<<0,this.h3=this.h3+tt<<0,this.h4=this.h4+ht<<0,this.h5=this.h5+it<<0,this.h6=this.h6+It<<0,this.h7=this.h7+st<<0},S.prototype.toString=S.prototype.hex=function(){this.finalize();var L=this.h0,V=this.h1,et=this.h2,tt=this.h3,ht=this.h4,it=this.h5,It=this.h6,st=this.h7,dt=f[L>>>28&15]+f[L>>>24&15]+f[L>>>20&15]+f[L>>>16&15]+f[L>>>12&15]+f[L>>>8&15]+f[L>>>4&15]+f[15&L]+f[V>>>28&15]+f[V>>>24&15]+f[V>>>20&15]+f[V>>>16&15]+f[V>>>12&15]+f[V>>>8&15]+f[V>>>4&15]+f[15&V]+f[et>>>28&15]+f[et>>>24&15]+f[et>>>20&15]+f[et>>>16&15]+f[et>>>12&15]+f[et>>>8&15]+f[et>>>4&15]+f[15&et]+f[tt>>>28&15]+f[tt>>>24&15]+f[tt>>>20&15]+f[tt>>>16&15]+f[tt>>>12&15]+f[tt>>>8&15]+f[tt>>>4&15]+f[15&tt]+f[ht>>>28&15]+f[ht>>>24&15]+f[ht>>>20&15]+f[ht>>>16&15]+f[ht>>>12&15]+f[ht>>>8&15]+f[ht>>>4&15]+f[15&ht]+f[it>>>28&15]+f[it>>>24&15]+f[it>>>20&15]+f[it>>>16&15]+f[it>>>12&15]+f[it>>>8&15]+f[it>>>4&15]+f[15&it]+f[It>>>28&15]+f[It>>>24&15]+f[It>>>20&15]+f[It>>>16&15]+f[It>>>12&15]+f[It>>>8&15]+f[It>>>4&15]+f[15&It];return this.is224||(dt+=f[st>>>28&15]+f[st>>>24&15]+f[st>>>20&15]+f[st>>>16&15]+f[st>>>12&15]+f[st>>>8&15]+f[st>>>4&15]+f[15&st]),dt},S.prototype.array=S.prototype.digest=function(){this.finalize();var L=this.h0,V=this.h1,et=this.h2,tt=this.h3,ht=this.h4,it=this.h5,It=this.h6,st=this.h7,dt=[L>>>24&255,L>>>16&255,L>>>8&255,255&L,V>>>24&255,V>>>16&255,V>>>8&255,255&V,et>>>24&255,et>>>16&255,et>>>8&255,255&et,tt>>>24&255,tt>>>16&255,tt>>>8&255,255&tt,ht>>>24&255,ht>>>16&255,ht>>>8&255,255&ht,it>>>24&255,it>>>16&255,it>>>8&255,255&it,It>>>24&255,It>>>16&255,It>>>8&255,255&It];return this.is224||dt.push(st>>>24&255,st>>>16&255,st>>>8&255,255&st),dt},S.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),V=new DataView(L);return V.setUint32(0,this.h0),V.setUint32(4,this.h1),V.setUint32(8,this.h2),V.setUint32(12,this.h3),V.setUint32(16,this.h4),V.setUint32(20,this.h5),V.setUint32(24,this.h6),this.is224||V.setUint32(28,this.h7),L},(w.prototype=new S).finalize=function(){if(S.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();S.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),S.prototype.finalize.call(this)}};var p=M();p.sha256=p,p.sha224=M(!0),p.sha256.hmac=A(),p.sha224.hmac=A(!0),_?Qt.exports=p:(i.sha256=p.sha256,i.sha224=p.sha224,m&&void 0!==(e=function(){return p}.call(p,o,p,Qt))&&(Qt.exports=e))}()},5619:(Qt,$,o)=>{"use strict";o.d($,{X:()=>t});var e=o(8645);class t extends e.x{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const g=super._subscribe(i);return!g.closed&&i.next(this._value),g}getValue(){const{hasError:i,thrownError:g,_value:T}=this;if(i)throw g;return this._throwIfClosed(),T}next(i){super.next(this._value=i)}}},5592:(Qt,$,o)=>{"use strict";o.d($,{y:()=>m});var e=o(305),t=o(7394),a=o(4850),i=o(8407),g=o(2653),T=o(4674),_=o(1441);let m=(()=>{class C{constructor(y){y&&(this._subscribe=y)}lift(y){const E=new C;return E.source=this,E.operator=y,E}subscribe(y,E,O){const M=function v(C){return C&&C instanceof e.Lv||function f(C){return C&&(0,T.m)(C.next)&&(0,T.m)(C.error)&&(0,T.m)(C.complete)}(C)&&(0,t.Nn)(C)}(y)?y:new e.Hp(y,E,O);return(0,_.x)(()=>{const{operator:U,source:R}=this;M.add(U?U.call(M,R):R?this._subscribe(M):this._trySubscribe(M))}),M}_trySubscribe(y){try{return this._subscribe(y)}catch(E){y.error(E)}}forEach(y,E){return new(E=h(E))((O,M)=>{const U=new e.Hp({next:R=>{try{y(R)}catch(A){M(A),U.unsubscribe()}},error:M,complete:O});this.subscribe(U)})}_subscribe(y){var E;return null===(E=this.source)||void 0===E?void 0:E.subscribe(y)}[a.L](){return this}pipe(...y){return(0,i.U)(y)(this)}toPromise(y){return new(y=h(y))((E,O)=>{let M;this.subscribe(U=>M=U,U=>O(U),()=>E(M))})}}return C.create=D=>new C(D),C})();function h(C){var D;return null!==(D=C??g.config.Promise)&&void 0!==D?D:Promise}},7328:(Qt,$,o)=>{"use strict";o.d($,{t:()=>a});var e=o(8645),t=o(4552);class a extends e.x{constructor(g=1/0,T=1/0,_=t.l){super(),this._bufferSize=g,this._windowTime=T,this._timestampProvider=_,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=T===1/0,this._bufferSize=Math.max(1,g),this._windowTime=Math.max(1,T)}next(g){const{isStopped:T,_buffer:_,_infiniteTimeWindow:m,_timestampProvider:h,_windowTime:f}=this;T||(_.push(g),!m&&_.push(h.now()+f)),this._trimBuffer(),super.next(g)}_subscribe(g){this._throwIfClosed(),this._trimBuffer();const T=this._innerSubscribe(g),{_infiniteTimeWindow:_,_buffer:m}=this,h=m.slice();for(let f=0;f<h.length&&!g.closed;f+=_?1:2)g.next(h[f]);return this._checkFinalizedStatuses(g),T}_trimBuffer(){const{_bufferSize:g,_timestampProvider:T,_buffer:_,_infiniteTimeWindow:m}=this,h=(m?1:2)*g;if(g<1/0&&h<_.length&&_.splice(0,_.length-h),!m){const f=T.now();let v=0;for(let C=1;C<_.length&&_[C]<=f;C+=2)v=C;v&&_.splice(0,v+1)}}}},8645:(Qt,$,o)=>{"use strict";o.d($,{x:()=>_});var e=o(5592),t=o(7394);const i=(0,o(2306).d)(h=>function(){h(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g=o(9039),T=o(1441);let _=(()=>{class h extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(v){const C=new m(this,this);return C.operator=v,C}_throwIfClosed(){if(this.closed)throw new i}next(v){(0,T.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(v)}})}error(v){(0,T.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=v;const{observers:C}=this;for(;C.length;)C.shift().error(v)}})}complete(){(0,T.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:v}=this;for(;v.length;)v.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var v;return(null===(v=this.observers)||void 0===v?void 0:v.length)>0}_trySubscribe(v){return this._throwIfClosed(),super._trySubscribe(v)}_subscribe(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)}_innerSubscribe(v){const{hasError:C,isStopped:D,observers:y}=this;return C||D?t.Lc:(this.currentObservers=null,y.push(v),new t.w0(()=>{this.currentObservers=null,(0,g.P)(y,v)}))}_checkFinalizedStatuses(v){const{hasError:C,thrownError:D,isStopped:y}=this;C?v.error(D):y&&v.complete()}asObservable(){const v=new e.y;return v.source=this,v}}return h.create=(f,v)=>new m(f,v),h})();class m extends _{constructor(f,v){super(),this.destination=f,this.source=v}next(f){var v,C;null===(C=null===(v=this.destination)||void 0===v?void 0:v.next)||void 0===C||C.call(v,f)}error(f){var v,C;null===(C=null===(v=this.destination)||void 0===v?void 0:v.error)||void 0===C||C.call(v,f)}complete(){var f,v;null===(v=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===v||v.call(f)}_subscribe(f){var v,C;return null!==(C=null===(v=this.source)||void 0===v?void 0:v.subscribe(f))&&void 0!==C?C:t.Lc}}},305:(Qt,$,o)=>{"use strict";o.d($,{Hp:()=>O,Lv:()=>C});var e=o(4674),t=o(7394),a=o(2653),i=o(3894),g=o(2420);const T=h("C",void 0,void 0);function h(S,w,p){return{kind:S,value:w,error:p}}var f=o(7599),v=o(1441);class C extends t.w0{constructor(w){super(),this.isStopped=!1,w?(this.destination=w,(0,t.Nn)(w)&&w.add(this)):this.destination=A}static create(w,p,L){return new O(w,p,L)}next(w){this.isStopped?R(function m(S){return h("N",S,void 0)}(w),this):this._next(w)}error(w){this.isStopped?R(function _(S){return h("E",void 0,S)}(w),this):(this.isStopped=!0,this._error(w))}complete(){this.isStopped?R(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(w){this.destination.next(w)}_error(w){try{this.destination.error(w)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D=Function.prototype.bind;function y(S,w){return D.call(S,w)}class E{constructor(w){this.partialObserver=w}next(w){const{partialObserver:p}=this;if(p.next)try{p.next(w)}catch(L){M(L)}}error(w){const{partialObserver:p}=this;if(p.error)try{p.error(w)}catch(L){M(L)}else M(w)}complete(){const{partialObserver:w}=this;if(w.complete)try{w.complete()}catch(p){M(p)}}}class O extends C{constructor(w,p,L){let V;if(super(),(0,e.m)(w)||!w)V={next:w??void 0,error:p??void 0,complete:L??void 0};else{let et;this&&a.config.useDeprecatedNextContext?(et=Object.create(w),et.unsubscribe=()=>this.unsubscribe(),V={next:w.next&&y(w.next,et),error:w.error&&y(w.error,et),complete:w.complete&&y(w.complete,et)}):V=w}this.destination=new E(V)}}function M(S){a.config.useDeprecatedSynchronousErrorHandling?(0,v.O)(S):(0,i.h)(S)}function R(S,w){const{onStoppedNotification:p}=a.config;p&&f.z.setTimeout(()=>p(S,w))}const A={closed:!0,next:g.Z,error:function U(S){throw S},complete:g.Z}},7394:(Qt,$,o)=>{"use strict";o.d($,{Lc:()=>T,w0:()=>g,Nn:()=>_});var e=o(4674);const a=(0,o(2306).d)(h=>function(v){h(this),this.message=v?`${v.length} errors occurred during unsubscription:\n${v.map((C,D)=>`${D+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=v});var i=o(9039);class g{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:v}=this;if(v)if(this._parentage=null,Array.isArray(v))for(const y of v)y.remove(this);else v.remove(this);const{initialTeardown:C}=this;if((0,e.m)(C))try{C()}catch(y){f=y instanceof a?y.errors:[y]}const{_finalizers:D}=this;if(D){this._finalizers=null;for(const y of D)try{m(y)}catch(E){f=f??[],E instanceof a?f=[...f,...E.errors]:f.push(E)}}if(f)throw new a(f)}}add(f){var v;if(f&&f!==this)if(this.closed)m(f);else{if(f instanceof g){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(v=this._finalizers)&&void 0!==v?v:[]).push(f)}}_hasParent(f){const{_parentage:v}=this;return v===f||Array.isArray(v)&&v.includes(f)}_addParent(f){const{_parentage:v}=this;this._parentage=Array.isArray(v)?(v.push(f),v):v?[v,f]:f}_removeParent(f){const{_parentage:v}=this;v===f?this._parentage=null:Array.isArray(v)&&(0,i.P)(v,f)}remove(f){const{_finalizers:v}=this;v&&(0,i.P)(v,f),f instanceof g&&f._removeParent(this)}}g.EMPTY=(()=>{const h=new g;return h.closed=!0,h})();const T=g.EMPTY;function _(h){return h instanceof g||h&&"closed"in h&&(0,e.m)(h.remove)&&(0,e.m)(h.add)&&(0,e.m)(h.unsubscribe)}function m(h){(0,e.m)(h)?h():h.unsubscribe()}},2653:(Qt,$,o)=>{"use strict";o.d($,{config:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},708:(Qt,$,o)=>{"use strict";o.d($,{n:()=>t});var e=o(6973);function t(a,i){const g="object"==typeof i;return new Promise((T,_)=>{let h,m=!1;a.subscribe({next:f=>{h=f,m=!0},error:_,complete:()=>{m?T(h):g?T(i.defaultValue):_(new e.K)}})})}},3168:(Qt,$,o)=>{"use strict";o.d($,{c:()=>T});var e=o(5592),t=o(7394),a=o(6196),i=o(8251),g=o(9360);class T extends e.y{constructor(m,h){super(),this.source=m,this.subjectFactory=h,this._subject=null,this._refCount=0,this._connection=null,(0,g.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new t.w0;const h=this.getSubject();m.add(this.source.subscribe((0,i.x)(h,void 0,()=>{this._teardown(),h.complete()},f=>{this._teardown(),h.error(f)},()=>this._teardown()))),m.closed&&(this._connection=null,m=t.w0.EMPTY)}return m}refCount(){return(0,a.x)()(this)}}},2572:(Qt,$,o)=>{"use strict";o.d($,{a:()=>f,l:()=>v});var e=o(5592),t=o(7453),a=o(2664),i=o(2737),g=o(7400),T=o(9940),_=o(2714),m=o(8251),h=o(7103);function f(...D){const y=(0,T.yG)(D),E=(0,T.jO)(D),{args:O,keys:M}=(0,t.D)(D);if(0===O.length)return(0,a.D)([],y);const U=new e.y(v(O,y,M?R=>(0,_.n)(M,R):i.y));return E?U.pipe((0,g.Z)(E)):U}function v(D,y,E=i.y){return O=>{C(y,()=>{const{length:M}=D,U=new Array(M);let R=M,A=M;for(let S=0;S<M;S++)C(y,()=>{const w=(0,a.D)(D[S],y);let p=!1;w.subscribe((0,m.x)(O,L=>{U[S]=L,p||(p=!0,A--),A||O.next(E(U.slice()))},()=>{--R||O.complete()}))},O)},O)}}function C(D,y,E){D?(0,h.f)(E,D,y):y()}},34:(Qt,$,o)=>{"use strict";o.d($,{z:()=>i});var e=o(1948),t=o(9940),a=o(2664);function i(...g){return(0,e.u)()((0,a.D)(g,(0,t.yG)(g)))}},4911:(Qt,$,o)=>{"use strict";o.d($,{P:()=>a});var e=o(5592),t=o(4829);function a(i){return new e.y(g=>{(0,t.Xf)(i()).subscribe(g)})}},6232:(Qt,$,o)=>{"use strict";o.d($,{E:()=>t});const t=new(o(5592).y)(g=>g.complete())},9315:(Qt,$,o)=>{"use strict";o.d($,{D:()=>m});var e=o(5592),t=o(7453),a=o(4829),i=o(9940),g=o(8251),T=o(7400),_=o(2714);function m(...h){const f=(0,i.jO)(h),{args:v,keys:C}=(0,t.D)(h),D=new e.y(y=>{const{length:E}=v;if(!E)return void y.complete();const O=new Array(E);let M=E,U=E;for(let R=0;R<E;R++){let A=!1;(0,a.Xf)(v[R]).subscribe((0,g.x)(y,S=>{A||(A=!0,U--),O[R]=S},()=>M--,void 0,()=>{(!M||!A)&&(U||y.next(C?(0,_.n)(C,O):O),y.complete())}))}});return f?D.pipe((0,T.Z)(f)):D}},2664:(Qt,$,o)=>{"use strict";o.d($,{D:()=>a});var e=o(5154),t=o(4829);function a(i,g){return g?(0,e.x)(i,g):(0,t.Xf)(i)}},2438:(Qt,$,o)=>{"use strict";o.d($,{R:()=>f});var e=o(4829),t=o(5592),a=o(1631),i=o(4266),g=o(4674),T=o(7400);const _=["addListener","removeListener"],m=["addEventListener","removeEventListener"],h=["on","off"];function f(E,O,M,U){if((0,g.m)(M)&&(U=M,M=void 0),U)return f(E,O,M).pipe((0,T.Z)(U));const[R,A]=function y(E){return(0,g.m)(E.addEventListener)&&(0,g.m)(E.removeEventListener)}(E)?m.map(S=>w=>E[S](O,w,M)):function C(E){return(0,g.m)(E.addListener)&&(0,g.m)(E.removeListener)}(E)?_.map(v(E,O)):function D(E){return(0,g.m)(E.on)&&(0,g.m)(E.off)}(E)?h.map(v(E,O)):[];if(!R&&(0,i.z)(E))return(0,a.z)(S=>f(S,O,M))((0,e.Xf)(E));if(!R)throw new TypeError("Invalid event target");return new t.y(S=>{const w=(...p)=>S.next(1<p.length?p:p[0]);return R(w),()=>A(w)})}function v(E,O){return M=>U=>E[M](O,U)}},4829:(Qt,$,o)=>{"use strict";o.d($,{Xf:()=>D});var e=o(7582),t=o(4266),a=o(4026),i=o(5592),g=o(8382),T=o(5726),_=o(9853),m=o(3664),h=o(541),f=o(4674),v=o(3894),C=o(4850);function D(S){if(S instanceof i.y)return S;if(null!=S){if((0,g.c)(S))return function y(S){return new i.y(w=>{const p=S[C.L]();if((0,f.m)(p.subscribe))return p.subscribe(w);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(S);if((0,t.z)(S))return function E(S){return new i.y(w=>{for(let p=0;p<S.length&&!w.closed;p++)w.next(S[p]);w.complete()})}(S);if((0,a.t)(S))return function O(S){return new i.y(w=>{S.then(p=>{w.closed||(w.next(p),w.complete())},p=>w.error(p)).then(null,v.h)})}(S);if((0,T.D)(S))return U(S);if((0,m.T)(S))return function M(S){return new i.y(w=>{for(const p of S)if(w.next(p),w.closed)return;w.complete()})}(S);if((0,h.L)(S))return function R(S){return U((0,h.Q)(S))}(S)}throw(0,_.z)(S)}function U(S){return new i.y(w=>{(function A(S,w){var p,L,V,et;return(0,e.mG)(this,void 0,void 0,function*(){try{for(p=(0,e.KL)(S);!(L=yield p.next()).done;)if(w.next(L.value),w.closed)return}catch(tt){V={error:tt}}finally{try{L&&!L.done&&(et=p.return)&&(yield et.call(p))}finally{if(V)throw V.error}}w.complete()})})(S,w).catch(p=>w.error(p))})}},1687:(Qt,$,o)=>{"use strict";o.d($,{F:()=>a});var e=o(6321),t=o(9080);function a(i=0,g=e.z){return i<0&&(i=0),(0,t.H)(i,i,g)}},3019:(Qt,$,o)=>{"use strict";o.d($,{T:()=>T});var e=o(7537),t=o(4829),a=o(6232),i=o(9940),g=o(2664);function T(..._){const m=(0,i.yG)(_),h=(0,i._6)(_,1/0),f=_;return f.length?1===f.length?(0,t.Xf)(f[0]):(0,e.J)(h)((0,g.D)(f,m)):a.E}},4366:(Qt,$,o)=>{"use strict";o.d($,{C:()=>a});var e=o(5592),t=o(2420);const a=new e.y(t.Z)},2096:(Qt,$,o)=>{"use strict";o.d($,{of:()=>a});var e=o(9940),t=o(2664);function a(...i){const g=(0,e.yG)(i);return(0,t.D)(i,g)}},8504:(Qt,$,o)=>{"use strict";o.d($,{_:()=>a});var e=o(5592),t=o(4674);function a(i,g){const T=(0,t.m)(i)?i:()=>i,_=m=>m.error(T());return new e.y(g?m=>g.schedule(_,0,m):_)}},9080:(Qt,$,o)=>{"use strict";o.d($,{H:()=>g});var e=o(5592),t=o(6321),a=o(671),i=o(93);function g(T=0,_,m=t.P){let h=-1;return null!=_&&((0,a.K)(_)?m=_:h=_),new e.y(f=>{let v=(0,i.q)(T)?+T-m.now():T;v<0&&(v=0);let C=0;return m.schedule(function(){f.closed||(f.next(C++),0<=h?this.schedule(void 0,h):f.complete())},v)})}},8251:(Qt,$,o)=>{"use strict";o.d($,{Q:()=>a,x:()=>t});var e=o(305);function t(i,g,T,_,m){return new a(i,g,T,_,m)}class a extends e.Lv{constructor(g,T,_,m,h,f){super(g),this.onFinalize=h,this.shouldUnsubscribe=f,this._next=T?function(v){try{T(v)}catch(C){g.error(C)}}:super._next,this._error=m?function(v){try{m(v)}catch(C){g.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=_?function(){try{_()}catch(v){g.error(v)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:T}=this;super.unsubscribe(),!T&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}},6306:(Qt,$,o)=>{"use strict";o.d($,{K:()=>i});var e=o(4829),t=o(8251),a=o(9360);function i(g){return(0,a.e)((T,_)=>{let f,m=null,h=!1;m=T.subscribe((0,t.x)(_,void 0,void 0,v=>{f=(0,e.Xf)(g(v,i(g)(T))),m?(m.unsubscribe(),m=null,f.subscribe(_)):h=!0})),h&&(m.unsubscribe(),m=null,f.subscribe(_))})}},1948:(Qt,$,o)=>{"use strict";o.d($,{u:()=>t});var e=o(7537);function t(){return(0,e.J)(1)}},6328:(Qt,$,o)=>{"use strict";o.d($,{b:()=>a});var e=o(1631),t=o(4674);function a(i,g){return(0,t.m)(g)?(0,e.z)(i,g,1):(0,e.z)(i,1)}},6111:(Qt,$,o)=>{"use strict";o.d($,{D:()=>g});var e=o(9360),t=o(2420),a=o(8251),i=o(4829);function g(T){return(0,e.e)((_,m)=>{let h=!1,f=null,v=null;const C=()=>{if(v?.unsubscribe(),v=null,h){h=!1;const D=f;f=null,m.next(D)}};_.subscribe((0,a.x)(m,D=>{v?.unsubscribe(),h=!0,f=D,v=(0,a.x)(m,C,t.Z),(0,i.Xf)(T(D)).subscribe(v)},()=>{C(),m.complete()},void 0,()=>{f=v=null}))})}},3620:(Qt,$,o)=>{"use strict";o.d($,{b:()=>i});var e=o(6321),t=o(9360),a=o(8251);function i(g,T=e.z){return(0,t.e)((_,m)=>{let h=null,f=null,v=null;const C=()=>{if(h){h.unsubscribe(),h=null;const y=f;f=null,m.next(y)}};function D(){const y=v+g,E=T.now();if(E<y)return h=this.schedule(void 0,y-E),void m.add(h);C()}_.subscribe((0,a.x)(m,y=>{f=y,v=T.now(),h||(h=T.schedule(D,g),m.add(h))},()=>{C(),m.complete()},void 0,()=>{f=h=null}))})}},3572:(Qt,$,o)=>{"use strict";o.d($,{d:()=>a});var e=o(9360),t=o(8251);function a(i){return(0,e.e)((g,T)=>{let _=!1;g.subscribe((0,t.x)(T,m=>{_=!0,T.next(m)},()=>{_||T.next(i),T.complete()}))})}},932:(Qt,$,o)=>{"use strict";o.d($,{g:()=>f});var e=o(6321),t=o(34),a=o(8180),i=o(7538),g=o(975),T=o(1631),_=o(4829);function m(v,C){return C?D=>(0,t.z)(C.pipe((0,a.q)(1),(0,i.l)()),D.pipe(m(v))):(0,T.z)((D,y)=>(0,_.Xf)(v(D,y)).pipe((0,a.q)(1),(0,g.h)(D)))}var h=o(9080);function f(v,C=e.z){const D=(0,h.H)(v,C);return m(()=>D)}},3997:(Qt,$,o)=>{"use strict";o.d($,{x:()=>i});var e=o(2737),t=o(9360),a=o(8251);function i(T,_=e.y){return T=T??g,(0,t.e)((m,h)=>{let f,v=!0;m.subscribe((0,a.x)(h,C=>{const D=_(C);(v||!T(f,D))&&(v=!1,f=D,h.next(C))}))})}function g(T,_){return T===_}},7634:(Qt,$,o)=>{"use strict";o.d($,{z:()=>g});var e=o(7398),t=o(4829),a=o(9360),i=o(8251);function g(T,_){return _?m=>m.pipe(g((h,f)=>(0,t.Xf)(T(h,f)).pipe((0,e.U)((v,C)=>_(h,v,f,C))))):(0,a.e)((m,h)=>{let f=0,v=null,C=!1;m.subscribe((0,i.x)(h,D=>{v||(v=(0,i.x)(h,void 0,()=>{v=null,C&&h.complete()}),(0,t.Xf)(T(D,f++)).subscribe(v))},()=>{C=!0,!v&&h.complete()}))})}},2181:(Qt,$,o)=>{"use strict";o.d($,{h:()=>a});var e=o(9360),t=o(8251);function a(i,g){return(0,e.e)((T,_)=>{let m=0;T.subscribe((0,t.x)(_,h=>i.call(g,h,m++)&&_.next(h)))})}},4716:(Qt,$,o)=>{"use strict";o.d($,{x:()=>t});var e=o(9360);function t(a){return(0,e.e)((i,g)=>{try{i.subscribe(g)}finally{g.add(a)}})}},1374:(Qt,$,o)=>{"use strict";o.d($,{P:()=>_});var e=o(6973),t=o(2181),a=o(8180),i=o(3572),g=o(3026),T=o(2737);function _(m,h){const f=arguments.length>=2;return v=>v.pipe(m?(0,t.h)((C,D)=>m(C,D,v)):T.y,(0,a.q)(1),f?(0,i.d)(h):(0,g.T)(()=>new e.K))}},7538:(Qt,$,o)=>{"use strict";o.d($,{l:()=>i});var e=o(9360),t=o(8251),a=o(2420);function i(){return(0,e.e)((g,T)=>{g.subscribe((0,t.x)(T,a.Z))})}},7398:(Qt,$,o)=>{"use strict";o.d($,{U:()=>a});var e=o(9360),t=o(8251);function a(i,g){return(0,e.e)((T,_)=>{let m=0;T.subscribe((0,t.x)(_,h=>{_.next(i.call(g,h,m++))}))})}},975:(Qt,$,o)=>{"use strict";o.d($,{h:()=>t});var e=o(7398);function t(a){return(0,e.U)(()=>a)}},7537:(Qt,$,o)=>{"use strict";o.d($,{J:()=>a});var e=o(1631),t=o(2737);function a(i=1/0){return(0,e.z)(t.y,i)}},1631:(Qt,$,o)=>{"use strict";o.d($,{z:()=>m});var e=o(7398),t=o(4829),a=o(9360),i=o(7103),g=o(8251),_=o(4674);function m(h,f,v=1/0){return(0,_.m)(f)?m((C,D)=>(0,e.U)((y,E)=>f(C,y,D,E))((0,t.Xf)(h(C,D))),v):("number"==typeof f&&(v=f),(0,a.e)((C,D)=>function T(h,f,v,C,D,y,E,O){const M=[];let U=0,R=0,A=!1;const S=()=>{A&&!M.length&&!U&&f.complete()},w=L=>U<C?p(L):M.push(L),p=L=>{y&&f.next(L),U++;let V=!1;(0,t.Xf)(v(L,R++)).subscribe((0,g.x)(f,et=>{D?.(et),y?w(et):f.next(et)},()=>{V=!0},void 0,()=>{if(V)try{for(U--;M.length&&U<C;){const et=M.shift();E?(0,i.f)(f,E,()=>p(et)):p(et)}S()}catch(et){f.error(et)}}))};return h.subscribe((0,g.x)(f,w,()=>{A=!0,S()})),()=>{O?.()}}(C,D,h,v)))}},3093:(Qt,$,o)=>{"use strict";o.d($,{Q:()=>i});var e=o(7103),t=o(9360),a=o(8251);function i(g,T=0){return(0,t.e)((_,m)=>{_.subscribe((0,a.x)(m,h=>(0,e.f)(m,g,()=>m.next(h),T),()=>(0,e.f)(m,g,()=>m.complete(),T),h=>(0,e.f)(m,g,()=>m.error(h),T)))})}},9384:(Qt,$,o)=>{"use strict";o.d($,{G:()=>a});var e=o(9360),t=o(8251);function a(){return(0,e.e)((i,g)=>{let T,_=!1;i.subscribe((0,t.x)(g,m=>{const h=T;T=m,_&&g.next([h,m]),_=!0}))})}},6196:(Qt,$,o)=>{"use strict";o.d($,{x:()=>a});var e=o(9360),t=o(8251);function a(){return(0,e.e)((i,g)=>{let T=null;i._refCount++;const _=(0,t.x)(g,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(T=null);const m=i._connection,h=T;T=null,m&&(!h||m===h)&&m.unsubscribe(),g.unsubscribe()});i.subscribe(_),_.closed||(T=i.connect())})}},7997:(Qt,$,o)=>{"use strict";o.d($,{r:()=>T});var e=o(6232),t=o(9360),a=o(8251),i=o(4829),g=o(9080);function T(_){let h,m=1/0;return null!=_&&("object"==typeof _?({count:m=1/0,delay:h}=_):m=_),m<=0?()=>e.E:(0,t.e)((f,v)=>{let D,C=0;const y=()=>{if(D?.unsubscribe(),D=null,null!=h){const O="number"==typeof h?(0,g.H)(h):(0,i.Xf)(h(C)),M=(0,a.x)(v,()=>{M.unsubscribe(),E()});O.subscribe(M)}else E()},E=()=>{let O=!1;D=f.subscribe((0,a.x)(v,void 0,()=>{++C<m?D?y():O=!0:v.complete()})),O&&y()};E()})}},6424:(Qt,$,o)=>{"use strict";o.d($,{R:()=>a});var e=o(9360),t=o(9732);function a(i,g){return(0,e.e)((0,t.U)(i,g,arguments.length>=2,!0))}},9732:(Qt,$,o)=>{"use strict";o.d($,{U:()=>t});var e=o(8251);function t(a,i,g,T,_){return(m,h)=>{let f=g,v=i,C=0;m.subscribe((0,e.x)(h,D=>{const y=C++;v=f?a(v,D,y):(f=!0,D),T&&h.next(v)},_&&(()=>{f&&h.next(v),h.complete()})))}}},3020:(Qt,$,o)=>{"use strict";o.d($,{B:()=>g});var e=o(4829),t=o(8645),a=o(305),i=o(9360);function g(_={}){const{connector:m=(()=>new t.x),resetOnError:h=!0,resetOnComplete:f=!0,resetOnRefCountZero:v=!0}=_;return C=>{let D,y,E,O=0,M=!1,U=!1;const R=()=>{y?.unsubscribe(),y=void 0},A=()=>{R(),D=E=void 0,M=U=!1},S=()=>{const w=D;A(),w?.unsubscribe()};return(0,i.e)((w,p)=>{O++,!U&&!M&&R();const L=E=E??m();p.add(()=>{O--,0===O&&!U&&!M&&(y=T(S,v))}),L.subscribe(p),!D&&O>0&&(D=new a.Hp({next:V=>L.next(V),error:V=>{U=!0,R(),y=T(A,h,V),L.error(V)},complete:()=>{M=!0,R(),y=T(A,f),L.complete()}}),(0,e.Xf)(w).subscribe(D))})(C)}}function T(_,m,...h){if(!0===m)return void _();if(!1===m)return;const f=new a.Hp({next:()=>{f.unsubscribe(),_()}});return(0,e.Xf)(m(...h)).subscribe(f)}},7081:(Qt,$,o)=>{"use strict";o.d($,{d:()=>a});var e=o(7328),t=o(3020);function a(i,g,T){let _,m=!1;return i&&"object"==typeof i?({bufferSize:_=1/0,windowTime:g=1/0,refCount:m=!1,scheduler:T}=i):_=i??1/0,(0,t.B)({connector:()=>new e.t(_,g,T),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:m})}},836:(Qt,$,o)=>{"use strict";o.d($,{T:()=>t});var e=o(2181);function t(a){return(0,e.h)((i,g)=>a<=g)}},7234:(Qt,$,o)=>{"use strict";o.d($,{n:()=>a});var e=o(9360),t=o(8251);function a(i){return(0,e.e)((g,T)=>{let _=!1,m=0;g.subscribe((0,t.x)(T,h=>(_||(_=!i(h,m++)))&&T.next(h)))})}},7921:(Qt,$,o)=>{"use strict";o.d($,{O:()=>i});var e=o(34),t=o(9940),a=o(9360);function i(...g){const T=(0,t.yG)(g);return(0,a.e)((_,m)=>{(T?(0,e.z)(g,_,T):(0,e.z)(g,_)).subscribe(m)})}},4664:(Qt,$,o)=>{"use strict";o.d($,{w:()=>i});var e=o(4829),t=o(9360),a=o(8251);function i(g,T){return(0,t.e)((_,m)=>{let h=null,f=0,v=!1;const C=()=>v&&!h&&m.complete();_.subscribe((0,a.x)(m,D=>{h?.unsubscribe();let y=0;const E=f++;(0,e.Xf)(g(D,E)).subscribe(h=(0,a.x)(m,O=>m.next(T?T(D,O,E,y++):O),()=>{h=null,C()}))},()=>{v=!0,C()}))})}},8180:(Qt,$,o)=>{"use strict";o.d($,{q:()=>i});var e=o(6232),t=o(9360),a=o(8251);function i(g){return g<=0?()=>e.E:(0,t.e)((T,_)=>{let m=0;T.subscribe((0,a.x)(_,h=>{++m<=g&&(_.next(h),g<=m&&_.complete())}))})}},9773:(Qt,$,o)=>{"use strict";o.d($,{R:()=>g});var e=o(9360),t=o(8251),a=o(4829),i=o(2420);function g(T){return(0,e.e)((_,m)=>{(0,a.Xf)(T).subscribe((0,t.x)(m,()=>m.complete(),i.Z)),!m.closed&&_.subscribe(m)})}},812:(Qt,$,o)=>{"use strict";o.d($,{o:()=>a});var e=o(9360),t=o(8251);function a(i,g=!1){return(0,e.e)((T,_)=>{let m=0;T.subscribe((0,t.x)(_,h=>{const f=i(h,m++);(f||g)&&_.next(h),!f&&_.complete()}))})}},9397:(Qt,$,o)=>{"use strict";o.d($,{b:()=>g});var e=o(4674),t=o(9360),a=o(8251),i=o(2737);function g(T,_,m){const h=(0,e.m)(T)||_||m?{next:T,error:_,complete:m}:T;return h?(0,t.e)((f,v)=>{var C;null===(C=h.subscribe)||void 0===C||C.call(h);let D=!0;f.subscribe((0,a.x)(v,y=>{var E;null===(E=h.next)||void 0===E||E.call(h,y),v.next(y)},()=>{var y;D=!1,null===(y=h.complete)||void 0===y||y.call(h),v.complete()},y=>{var E;D=!1,null===(E=h.error)||void 0===E||E.call(h,y),v.error(y)},()=>{var y,E;D&&(null===(y=h.unsubscribe)||void 0===y||y.call(h)),null===(E=h.finalize)||void 0===E||E.call(h)}))}):i.y}},8753:(Qt,$,o)=>{"use strict";o.d($,{p:()=>_});var e=o(6321),t=o(9360),a=o(8251),i=o(4829),T=o(9080);function _(m,h=e.z,f){const v=(0,T.H)(m,h);return function g(m,h){return(0,t.e)((f,v)=>{const{leading:C=!0,trailing:D=!1}=h??{};let y=!1,E=null,O=null,M=!1;const U=()=>{O?.unsubscribe(),O=null,D&&(S(),M&&v.complete())},R=()=>{O=null,M&&v.complete()},A=w=>O=(0,i.Xf)(m(w)).subscribe((0,a.x)(v,U,R)),S=()=>{if(y){y=!1;const w=E;E=null,v.next(w),!M&&A(w)}};f.subscribe((0,a.x)(v,w=>{y=!0,E=w,(!O||O.closed)&&(C?S():A(w))},()=>{M=!0,(!(D&&y&&O)||O.closed)&&v.complete()}))})}(()=>v,f)}},3026:(Qt,$,o)=>{"use strict";o.d($,{T:()=>i});var e=o(6973),t=o(9360),a=o(8251);function i(T=g){return(0,t.e)((_,m)=>{let h=!1;_.subscribe((0,a.x)(m,f=>{h=!0,m.next(f)},()=>h?m.complete():m.error(T())))})}function g(){return new e.K}},5178:(Qt,$,o)=>{"use strict";o.d($,{V:()=>h});var e=o(6321),t=o(93),a=o(9360),i=o(4829),g=o(2306),T=o(8251),_=o(7103);const m=(0,g.d)(v=>function(D=null){v(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=D});function h(v,C){const{first:D,each:y,with:E=f,scheduler:O=C??e.z,meta:M=null}=(0,t.q)(v)?{first:v}:"number"==typeof v?{each:v}:v;if(null==D&&null==y)throw new TypeError("No timeout provided.");return(0,a.e)((U,R)=>{let A,S,w=null,p=0;const L=V=>{S=(0,_.f)(R,O,()=>{try{A.unsubscribe(),(0,i.Xf)(E({meta:M,lastValue:w,seen:p})).subscribe(R)}catch(et){R.error(et)}},V)};A=U.subscribe((0,T.x)(R,V=>{S?.unsubscribe(),p++,R.next(w=V),y>0&&L(y)},void 0,void 0,()=>{S?.closed||S?.unsubscribe(),w=null})),!p&&L(null!=D?"number"==typeof D?D:+D-O.now():y)})}function f(v){throw new m(v)}},2460:(Qt,$,o)=>{"use strict";o.d($,{M:()=>_});var e=o(9360),t=o(8251),a=o(4829),i=o(2737),g=o(2420),T=o(9940);function _(...m){const h=(0,T.jO)(m);return(0,e.e)((f,v)=>{const C=m.length,D=new Array(C);let y=m.map(()=>!1),E=!1;for(let O=0;O<C;O++)(0,a.Xf)(m[O]).subscribe((0,t.x)(v,M=>{D[O]=M,!E&&!y[O]&&(y[O]=!0,(E=y.every(i.y))&&(y=null))},g.Z));f.subscribe((0,t.x)(v,O=>{if(E){const M=[O,...D];v.next(h?h(...M):M)}}))})}},5154:(Qt,$,o)=>{"use strict";o.d($,{x:()=>w});var e=o(4829),t=o(3093),a=o(9360);function i(p,L=0){return(0,a.e)((V,et)=>{et.add(p.schedule(()=>V.subscribe(et),L))})}var _=o(5592),h=o(4971),f=o(4674),v=o(7103);function D(p,L){if(!p)throw new Error("Iterable cannot be null");return new _.y(V=>{(0,v.f)(V,L,()=>{const et=p[Symbol.asyncIterator]();(0,v.f)(V,L,()=>{et.next().then(tt=>{tt.done?V.complete():V.next(tt.value)})},0,!0)})})}var y=o(8382),E=o(4026),O=o(4266),M=o(3664),U=o(5726),R=o(9853),A=o(541);function w(p,L){if(null!=p){if((0,y.c)(p))return function g(p,L){return(0,e.Xf)(p).pipe(i(L),(0,t.Q)(L))}(p,L);if((0,O.z)(p))return function m(p,L){return new _.y(V=>{let et=0;return L.schedule(function(){et===p.length?V.complete():(V.next(p[et++]),V.closed||this.schedule())})})}(p,L);if((0,E.t)(p))return function T(p,L){return(0,e.Xf)(p).pipe(i(L),(0,t.Q)(L))}(p,L);if((0,U.D)(p))return D(p,L);if((0,M.T)(p))return function C(p,L){return new _.y(V=>{let et;return(0,v.f)(V,L,()=>{et=p[h.h](),(0,v.f)(V,L,()=>{let tt,ht;try{({value:tt,done:ht}=et.next())}catch(it){return void V.error(it)}ht?V.complete():V.next(tt)},0,!0)}),()=>(0,f.m)(et?.return)&&et.return()})}(p,L);if((0,A.L)(p))return function S(p,L){return D((0,A.Q)(p),L)}(p,L)}throw(0,R.z)(p)}},1954:(Qt,$,o)=>{"use strict";o.d($,{o:()=>g});var e=o(7394);class t extends e.w0{constructor(_,m){super()}schedule(_,m=0){return this}}const a={setInterval(T,_,...m){const{delegate:h}=a;return h?.setInterval?h.setInterval(T,_,...m):setInterval(T,_,...m)},clearInterval(T){const{delegate:_}=a;return(_?.clearInterval||clearInterval)(T)},delegate:void 0};var i=o(9039);class g extends t{constructor(_,m){super(_,m),this.scheduler=_,this.work=m,this.pending=!1}schedule(_,m=0){var h;if(this.closed)return this;this.state=_;const f=this.id,v=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(v,f,m)),this.pending=!0,this.delay=m,this.id=null!==(h=this.id)&&void 0!==h?h:this.requestAsyncId(v,this.id,m),this}requestAsyncId(_,m,h=0){return a.setInterval(_.flush.bind(_,this),h)}recycleAsyncId(_,m,h=0){if(null!=h&&this.delay===h&&!1===this.pending)return m;null!=m&&a.clearInterval(m)}execute(_,m){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const h=this._execute(_,m);if(h)return h;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_,m){let f,h=!1;try{this.work(_)}catch(v){h=!0,f=v||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),f}unsubscribe(){if(!this.closed){const{id:_,scheduler:m}=this,{actions:h}=m;this.work=this.state=this.scheduler=null,this.pending=!1,(0,i.P)(h,this),null!=_&&(this.id=this.recycleAsyncId(m,_,null)),this.delay=null,super.unsubscribe()}}}},2631:(Qt,$,o)=>{"use strict";o.d($,{v:()=>a});var e=o(4552);class t{constructor(g,T=t.now){this.schedulerActionCtor=g,this.now=T}schedule(g,T=0,_){return new this.schedulerActionCtor(this,g).schedule(_,T)}}t.now=e.l.now;class a extends t{constructor(g,T=t.now){super(g,T),this.actions=[],this._active=!1}flush(g){const{actions:T}=this;if(this._active)return void T.push(g);let _;this._active=!0;do{if(_=g.execute(g.state,g.delay))break}while(g=T.shift());if(this._active=!1,_){for(;g=T.shift();)g.unsubscribe();throw _}}}},927:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>_});var e=o(1954),t=o(7394);const a={schedule(h){let f=requestAnimationFrame,v=cancelAnimationFrame;const{delegate:C}=a;C&&(f=C.requestAnimationFrame,v=C.cancelAnimationFrame);const D=f(y=>{v=void 0,h(y)});return new t.w0(()=>v?.(D))},requestAnimationFrame(...h){const{delegate:f}=a;return(f?.requestAnimationFrame||requestAnimationFrame)(...h)},cancelAnimationFrame(...h){const{delegate:f}=a;return(f?.cancelAnimationFrame||cancelAnimationFrame)(...h)},delegate:void 0};var g=o(2631);const _=new class T extends g.v{flush(f){let v;this._active=!0,f?v=f.id:(v=this._scheduled,this._scheduled=void 0);const{actions:C}=this;let D;f=f||C.shift();do{if(D=f.execute(f.state,f.delay))break}while((f=C[0])&&f.id===v&&C.shift());if(this._active=!1,D){for(;(f=C[0])&&f.id===v&&C.shift();)f.unsubscribe();throw D}}}(class i extends e.o{constructor(f,v){super(f,v),this.scheduler=f,this.work=v}requestAsyncId(f,v,C=0){return null!==C&&C>0?super.requestAsyncId(f,v,C):(f.actions.push(this),f._scheduled||(f._scheduled=a.requestAnimationFrame(()=>f.flush(void 0))))}recycleAsyncId(f,v,C=0){var D;if(null!=C?C>0:this.delay>0)return super.recycleAsyncId(f,v,C);const{actions:y}=f;null!=v&&v===f._scheduled&&(null===(D=y[y.length-1])||void 0===D?void 0:D.id)!==v&&(a.cancelAnimationFrame(v),f._scheduled=void 0)}})},6410:(Qt,$,o)=>{"use strict";o.d($,{E:()=>y});var e=o(1954);let a,t=1;const i={};function g(O){return O in i&&(delete i[O],!0)}const T={setImmediate(O){const M=t++;return i[M]=!0,a||(a=Promise.resolve()),a.then(()=>g(M)&&O()),M},clearImmediate(O){g(O)}},{setImmediate:m,clearImmediate:h}=T,f={setImmediate(...O){const{delegate:M}=f;return(M?.setImmediate||m)(...O)},clearImmediate(O){const{delegate:M}=f;return(M?.clearImmediate||h)(O)},delegate:void 0};var C=o(2631);const y=new class D extends C.v{flush(M){this._active=!0;const U=this._scheduled;this._scheduled=void 0;const{actions:R}=this;let A;M=M||R.shift();do{if(A=M.execute(M.state,M.delay))break}while((M=R[0])&&M.id===U&&R.shift());if(this._active=!1,A){for(;(M=R[0])&&M.id===U&&R.shift();)M.unsubscribe();throw A}}}(class v extends e.o{constructor(M,U){super(M,U),this.scheduler=M,this.work=U}requestAsyncId(M,U,R=0){return null!==R&&R>0?super.requestAsyncId(M,U,R):(M.actions.push(this),M._scheduled||(M._scheduled=f.setImmediate(M.flush.bind(M,void 0))))}recycleAsyncId(M,U,R=0){var A;if(null!=R?R>0:this.delay>0)return super.recycleAsyncId(M,U,R);const{actions:S}=M;null!=U&&(null===(A=S[S.length-1])||void 0===A?void 0:A.id)!==U&&(f.clearImmediate(U),M._scheduled===U&&(M._scheduled=void 0))}})},6321:(Qt,$,o)=>{"use strict";o.d($,{P:()=>i,z:()=>a});var e=o(1954);const a=new(o(2631).v)(e.o),i=a},4552:(Qt,$,o)=>{"use strict";o.d($,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},2381:(Qt,$,o)=>{"use strict";o.d($,{N:()=>g});var e=o(1954),a=o(2631);const g=new class i extends a.v{}(class t extends e.o{constructor(m,h){super(m,h),this.scheduler=m,this.work=h}schedule(m,h=0){return h>0?super.schedule(m,h):(this.delay=h,this.state=m,this.scheduler.flush(this),this)}execute(m,h){return h>0||this.closed?super.execute(m,h):this._execute(m,h)}requestAsyncId(m,h,f=0){return null!=f&&f>0||null==f&&this.delay>0?super.requestAsyncId(m,h,f):(m.flush(this),0)}})},7599:(Qt,$,o)=>{"use strict";o.d($,{z:()=>e});const e={setTimeout(t,a,...i){const{delegate:g}=e;return g?.setTimeout?g.setTimeout(t,a,...i):setTimeout(t,a,...i)},clearTimeout(t){const{delegate:a}=e;return(a?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(Qt,$,o)=>{"use strict";o.d($,{h:()=>t});const t=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qt,$,o)=>{"use strict";o.d($,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Qt,$,o)=>{"use strict";o.d($,{K:()=>t});const t=(0,o(2306).d)(a=>function(){a(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Qt,$,o)=>{"use strict";o.d($,{_6:()=>T,jO:()=>i,yG:()=>g});var e=o(4674),t=o(671);function a(_){return _[_.length-1]}function i(_){return(0,e.m)(a(_))?_.pop():void 0}function g(_){return(0,t.K)(a(_))?_.pop():void 0}function T(_,m){return"number"==typeof a(_)?_.pop():m}},7453:(Qt,$,o)=>{"use strict";o.d($,{D:()=>g});const{isArray:e}=Array,{getPrototypeOf:t,prototype:a,keys:i}=Object;function g(_){if(1===_.length){const m=_[0];if(e(m))return{args:m,keys:null};if(function T(_){return _&&"object"==typeof _&&t(_)===a}(m)){const h=i(m);return{args:h.map(f=>m[f]),keys:h}}}return{args:_,keys:null}}},7728:(Qt,$,o)=>{"use strict";o.d($,{k:()=>t});const{isArray:e}=Array;function t(a){return 1===a.length&&e(a[0])?a[0]:a}},9039:(Qt,$,o)=>{"use strict";function e(t,a){if(t){const i=t.indexOf(a);0<=i&&t.splice(i,1)}}o.d($,{P:()=>e})},2306:(Qt,$,o)=>{"use strict";function e(t){const i=t(g=>{Error.call(g),g.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}o.d($,{d:()=>e})},2714:(Qt,$,o)=>{"use strict";function e(t,a){return t.reduce((i,g,T)=>(i[g]=a[T],i),{})}o.d($,{n:()=>e})},1441:(Qt,$,o)=>{"use strict";o.d($,{O:()=>i,x:()=>a});var e=o(2653);let t=null;function a(g){if(e.config.useDeprecatedSynchronousErrorHandling){const T=!t;if(T&&(t={errorThrown:!1,error:null}),g(),T){const{errorThrown:_,error:m}=t;if(t=null,_)throw m}}else g()}function i(g){e.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=g)}},7103:(Qt,$,o)=>{"use strict";function e(t,a,i,g=0,T=!1){const _=a.schedule(function(){i(),T?t.add(this.schedule(null,g)):this.unsubscribe()},g);if(t.add(_),!T)return _}o.d($,{f:()=>e})},2737:(Qt,$,o)=>{"use strict";function e(t){return t}o.d($,{y:()=>e})},4266:(Qt,$,o)=>{"use strict";o.d($,{z:()=>e});const e=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(Qt,$,o)=>{"use strict";o.d($,{D:()=>t});var e=o(4674);function t(a){return Symbol.asyncIterator&&(0,e.m)(a?.[Symbol.asyncIterator])}},93:(Qt,$,o)=>{"use strict";function e(t){return t instanceof Date&&!isNaN(t)}o.d($,{q:()=>e})},4674:(Qt,$,o)=>{"use strict";function e(t){return"function"==typeof t}o.d($,{m:()=>e})},8382:(Qt,$,o)=>{"use strict";o.d($,{c:()=>a});var e=o(4850),t=o(4674);function a(i){return(0,t.m)(i[e.L])}},3664:(Qt,$,o)=>{"use strict";o.d($,{T:()=>a});var e=o(4971),t=o(4674);function a(i){return(0,t.m)(i?.[e.h])}},7258:(Qt,$,o)=>{"use strict";o.d($,{b:()=>a});var e=o(5592),t=o(4674);function a(i){return!!i&&(i instanceof e.y||(0,t.m)(i.lift)&&(0,t.m)(i.subscribe))}},4026:(Qt,$,o)=>{"use strict";o.d($,{t:()=>t});var e=o(4674);function t(a){return(0,e.m)(a?.then)}},541:(Qt,$,o)=>{"use strict";o.d($,{L:()=>i,Q:()=>a});var e=o(7582),t=o(4674);function a(g){return(0,e.FC)(this,arguments,function*(){const _=g.getReader();try{for(;;){const{value:m,done:h}=yield(0,e.qq)(_.read());if(h)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(m)}}finally{_.releaseLock()}})}function i(g){return(0,t.m)(g?.getReader)}},671:(Qt,$,o)=>{"use strict";o.d($,{K:()=>t});var e=o(4674);function t(a){return a&&(0,e.m)(a.schedule)}},9360:(Qt,$,o)=>{"use strict";o.d($,{A:()=>t,e:()=>a});var e=o(4674);function t(i){return(0,e.m)(i?.lift)}function a(i){return g=>{if(t(g))return g.lift(function(T){try{return i(T,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>i});var e=o(7398);const{isArray:t}=Array;function i(g){return(0,e.U)(T=>function a(g,T){return t(T)?g(...T):g(T)}(g,T))}},2420:(Qt,$,o)=>{"use strict";function e(){}o.d($,{Z:()=>e})},8407:(Qt,$,o)=>{"use strict";o.d($,{U:()=>a,z:()=>t});var e=o(2737);function t(...i){return a(i)}function a(i){return 0===i.length?e.y:1===i.length?i[0]:function(T){return i.reduce((_,m)=>m(_),T)}}},3894:(Qt,$,o)=>{"use strict";o.d($,{h:()=>a});var e=o(2653),t=o(7599);function a(i){t.z.setTimeout(()=>{const{onUnhandledError:g}=e.config;if(!g)throw i;g(i)})}},9853:(Qt,$,o)=>{"use strict";function e(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}o.d($,{z:()=>e})},5644:Qt=>{function $(){}$.prototype={on:function(o,e,t){var a=this.e||(this.e={});return(a[o]||(a[o]=[])).push({fn:e,ctx:t}),this},once:function(o,e,t){var a=this;function i(){a.off(o,i),e.apply(t,arguments)}return i._=e,this.on(o,i,t)},emit:function(o){for(var e=[].slice.call(arguments,1),t=((this.e||(this.e={}))[o]||[]).slice(),a=0,i=t.length;a<i;a++)t[a].fn.apply(t[a].ctx,e);return this},off:function(o,e){var t=this.e||(this.e={}),a=t[o],i=[];if(a&&e)for(var g=0,T=a.length;g<T;g++)a[g].fn!==e&&a[g].fn._!==e&&i.push(a[g]);return i.length?t[o]=i:delete t[o],this}},Qt.exports=$,Qt.exports.TinyEmitter=$},6272:function(Qt,$,o){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(i){for(var g,T=1,_=arguments.length;T<_;T++)for(var m in g=arguments[T])Object.prototype.hasOwnProperty.call(g,m)&&(i[m]=g[m]);return i},e.apply(this,arguments)};Object.defineProperty($,"__esModule",{value:!0});var t=o(2935),a=function(){function i(){}return i.prototype.generateEventId=function(){return(0,t.v4)()},i.prototype.createImpressionEvent=function(g,T,_,m,h,f){var v=this.createBaseEvent(g,T,_,m,h);return f?e(e({},v),{variant:f}):v},i.prototype.createBaseEvent=function(g,T,_,m,h){return{eventType:m,eventId:this.generateEventId(),context:g,enabled:T,featureName:_,impressionData:h}},i}();$.default=a},2032:function(Qt,$,o){"use strict";var U,e=this&&this.__extends||(U=function(R,A){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var p in w)Object.prototype.hasOwnProperty.call(w,p)&&(S[p]=w[p])})(R,A)},function(R,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function S(){this.constructor=R}U(R,A),R.prototype=null===A?Object.create(A):(S.prototype=A.prototype,new S)}),t=this&&this.__assign||function(){return t=Object.assign||function(U){for(var R,A=1,S=arguments.length;A<S;A++)for(var w in R=arguments[A])Object.prototype.hasOwnProperty.call(R,w)&&(U[w]=R[w]);return U},t.apply(this,arguments)},a=this&&this.__awaiter||function(U,R,A,S){return new(A||(A=Promise))(function(p,L){function V(ht){try{tt(S.next(ht))}catch(it){L(it)}}function et(ht){try{tt(S.throw(ht))}catch(it){L(it)}}function tt(ht){ht.done?p(ht.value):function w(p){return p instanceof A?p:new A(function(L){L(p)})}(ht.value).then(V,et)}tt((S=S.apply(U,R||[])).next())})},i=this&&this.__generator||function(U,R){var S,w,p,L,A={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return L={next:V(0),throw:V(1),return:V(2)},"function"==typeof Symbol&&(L[Symbol.iterator]=function(){return this}),L;function V(tt){return function(ht){return function et(tt){if(S)throw new TypeError("Generator is already executing.");for(;A;)try{if(S=1,w&&(p=2&tt[0]?w.return:tt[0]?w.throw||((p=w.return)&&p.call(w),0):w.next)&&!(p=p.call(w,tt[1])).done)return p;switch(w=0,p&&(tt=[2&tt[0],p.value]),tt[0]){case 0:case 1:p=tt;break;case 4:return A.label++,{value:tt[1],done:!1};case 5:A.label++,w=tt[1],tt=[0];continue;case 7:tt=A.ops.pop(),A.trys.pop();continue;default:if(!(p=(p=A.trys).length>0&&p[p.length-1])&&(6===tt[0]||2===tt[0])){A=0;continue}if(3===tt[0]&&(!p||tt[1]>p[0]&&tt[1]<p[3])){A.label=tt[1];break}if(6===tt[0]&&A.label<p[1]){A.label=p[1],p=tt;break}if(p&&A.label<p[2]){A.label=p[2],A.ops.push(tt);break}p[2]&&A.ops.pop(),A.trys.pop();continue}tt=R.call(U,A)}catch(ht){tt=[6,ht],w=0}finally{S=p=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,ht])}}},g=this&&this.__spreadArray||function(U,R,A){if(A||2===arguments.length)for(var p,S=0,w=R.length;S<w;S++)(p||!(S in R))&&(p||(p=Array.prototype.slice.call(R,0,S)),p[S]=R[S]);return U.concat(p||Array.prototype.slice.call(R))};Object.defineProperty($,"__esModule",{value:!0}),$.InMemoryStorageProvider=$.LocalStorageProvider=$.UnleashClient=$.resolveFetch=$.EVENTS=void 0;var T=o(5644),_=o(2466),m=o(5961);$.InMemoryStorageProvider=m.default;var h=o(9229);$.LocalStorageProvider=h.default;var f=o(6272),v=o(2062),C=["userId","sessionId","remoteAddress"];$.EVENTS={INIT:"initialized",ERROR:"error",READY:"ready",UPDATE:"update",IMPRESSION:"impression",SENT:"sent"};var y={name:"disabled",enabled:!1},E="repo";$.resolveFetch=function(){try{if(typeof window<"u"&&"fetch"in window)return fetch.bind(window);if("fetch"in globalThis)return fetch.bind(globalThis)}catch(U){console.error('Unleash failed to resolve "fetch"',U)}};var M=function(U){function R(A){var S=A.storageProvider,w=A.url,p=A.clientKey,L=A.disableRefresh,V=void 0!==L&&L,et=A.refreshInterval,tt=void 0===et?30:et,ht=A.metricsInterval,it=void 0===ht?30:ht,It=A.disableMetrics,st=void 0!==It&&It,dt=A.appName,St=A.environment,bt=void 0===St?"default":St,u=A.context,ut=A.fetch,Z=void 0===ut?(0,$.resolveFetch)():ut,I=A.bootstrap,F=A.bootstrapOverride,ot=void 0===F||F,nt=A.headerName,At=void 0===nt?"Authorization":nt,Dt=A.customHeaders,Wt=void 0===Dt?{}:Dt,Nt=A.impressionDataAll,Rt=void 0!==Nt&&Nt,Bt=A.usePOSTrequests,B=void 0!==Bt&&Bt,k=U.call(this)||this;if(k.toggles=[],k.etag="",k.readyEventEmitted=!1,k.usePOSTrequests=!1,k.started=!1,!w)throw new Error("url is required");if(!p)throw new Error("clientKey is required");if(!dt)throw new Error("appName is required.");return k.eventsHandler=new f.default,k.impressionDataAll=Rt,k.toggles=I&&I.length>0?I:[],k.url=w instanceof URL?w:new URL(w),k.clientKey=p,k.headerName=At,k.customHeaders=Wt,k.storage=S||(typeof window<"u"?new h.default:new m.default),k.refreshInterval=V?0:1e3*tt,k.context=t({appName:dt,environment:bt},u),k.usePOSTrequests=B,k.ready=new Promise(function(yt){k.init().then(yt).catch(function(Y){console.error(Y),k.emit($.EVENTS.ERROR,Y),yt()})}),Z||console.error('Unleash: You must either provide your own "fetch" implementation or run in an environment where "fetch" is available.'),k.fetch=Z,k.bootstrap=I&&I.length>0?I:void 0,k.bootstrapOverride=ot,k.metrics=new _.default({onError:k.emit.bind(k,$.EVENTS.ERROR),onSent:k.emit.bind(k,$.EVENTS.SENT),appName:dt,metricsInterval:it,disableMetrics:st,url:k.url,clientKey:p,fetch:Z,headerName:At,customHeaders:Wt}),k}return e(R,U),R.prototype.getAllToggles=function(){return g([],this.toggles,!0)},R.prototype.isEnabled=function(A){var S,w=this.toggles.find(function(V){return V.name===A}),p=!!w&&w.enabled;if(this.metrics.count(A,p),w?.impressionData||this.impressionDataAll){var L=this.eventsHandler.createImpressionEvent(this.context,p,A,"isEnabled",null!==(S=w?.impressionData)&&void 0!==S?S:void 0);this.emit($.EVENTS.IMPRESSION,L)}return p},R.prototype.getVariant=function(A){var S,w=this.toggles.find(function(et){return et.name===A}),p=w?.enabled||!1,L=w?w.variant:y;if(L.name&&this.metrics.countVariant(A,L.name),this.metrics.count(A,p),w?.impressionData||this.impressionDataAll){var V=this.eventsHandler.createImpressionEvent(this.context,p,A,"getVariant",null!==(S=w?.impressionData)&&void 0!==S?S:void 0,L.name);this.emit($.EVENTS.IMPRESSION,V)}return L},R.prototype.updateContext=function(A){return a(this,void 0,void 0,function(){var w=this;return i(this,function(p){switch(p.label){case 0:return(A.appName||A.environment)&&console.warn("appName and environment are static. They can't be updated with updateContext."),this.context=t(t({},{environment:this.context.environment,appName:this.context.appName,sessionId:this.context.sessionId}),A),this.timerRef||this.readyEventEmitted?[4,this.fetchToggles()]:[3,2];case 1:return p.sent(),[3,4];case 2:return this.started?[4,new Promise(function(L){var V=function(){w.fetchToggles().then(function(){w.off($.EVENTS.READY,V),L()})};w.once($.EVENTS.READY,V)})]:[3,4];case 3:p.sent(),p.label=4;case 4:return[2]}})})},R.prototype.getContext=function(){return t({},this.context)},R.prototype.setContextField=function(A,S){var w,p;if(C.includes(A))this.context=t(t({},this.context),((w={})[A]=S,w));else{var L=t(t({},this.context.properties),((p={})[A]=S,p));this.context=t(t({},this.context),{properties:L})}this.timerRef&&this.fetchToggles()},R.prototype.init=function(){return a(this,void 0,void 0,function(){var A,S;return i(this,function(w){switch(w.label){case 0:return[4,this.resolveSessionId()];case 1:return A=w.sent(),this.context=t({sessionId:A},this.context),S=this,[4,this.storage.get(E)];case 2:return S.toggles=w.sent()||[],this.bootstrap&&(this.bootstrapOverride||0===this.toggles.length)?[4,this.storage.save(E,this.bootstrap)]:[3,4];case 3:w.sent(),this.toggles=this.bootstrap,this.emit($.EVENTS.READY),w.label=4;case 4:return this.emit($.EVENTS.INIT),[2]}})})},R.prototype.start=function(){return a(this,void 0,void 0,function(){var A,S=this;return i(this,function(w){switch(w.label){case 0:return this.started=!0,this.timerRef?(console.error("Unleash SDK has already started, if you want to restart the SDK you should call client.stop() before starting again."),[2]):[4,this.ready];case 1:return w.sent(),this.metrics.start(),A=this.refreshInterval,[4,this.fetchToggles()];case 2:return w.sent(),A>0&&(this.timerRef=setInterval(function(){return S.fetchToggles()},A)),[2]}})})},R.prototype.stop=function(){this.timerRef&&(clearInterval(this.timerRef),this.timerRef=void 0),this.metrics.stop()},R.prototype.resolveSessionId=function(){return a(this,void 0,void 0,function(){var A;return i(this,function(S){switch(S.label){case 0:return this.context.sessionId?[2,this.context.sessionId]:[3,1];case 1:return[4,this.storage.get("sessionId")];case 2:return(A=S.sent())?[3,4]:(A=Math.floor(1e9*Math.random()),[4,this.storage.save("sessionId",A)]);case 3:S.sent(),S.label=4;case 4:return[2,A]}})})},R.prototype.getHeaders=function(){var A,S=((A={})[this.headerName]=this.clientKey,A.Accept="application/json",A["Content-Type"]="application/json",A["If-None-Match"]=this.etag,A);return Object.entries(this.customHeaders).filter(v.notNullOrUndefined).forEach(function(w){return S[w[0]]=w[1]}),S},R.prototype.storeToggles=function(A){return a(this,void 0,void 0,function(){return i(this,function(S){switch(S.label){case 0:return this.toggles=A,this.emit($.EVENTS.UPDATE),[4,this.storage.save(E,A)];case 1:return S.sent(),[2]}})})},R.prototype.fetchToggles=function(){return a(this,void 0,void 0,function(){var A,S,w,p,L,V,et;return i(this,function(tt){switch(tt.label){case 0:if(!this.fetch)return[3,8];tt.label=1;case 1:return tt.trys.push([1,7,,8]),S=(A=this.usePOSTrequests)?this.url:(0,v.urlWithContextAsQuery)(this.url,this.context),w=A?"POST":"GET",p=A?JSON.stringify({context:this.context}):void 0,[4,this.fetch(S.toString(),{method:w,cache:"no-cache",headers:this.getHeaders(),body:p})];case 2:return(L=tt.sent()).ok&&304!==L.status?(this.etag=L.headers.get("ETag")||"",[4,L.json()]):[3,5];case 3:return V=tt.sent(),[4,this.storeToggles(V.toggles)];case 4:return tt.sent(),!this.bootstrap&&!this.readyEventEmitted&&(this.emit($.EVENTS.READY),this.readyEventEmitted=!0),[3,6];case 5:!L.ok&&304!==L.status&&(console.error("Unleash: Fetching feature toggles did not have an ok response"),this.emit($.EVENTS.ERROR,{type:"HttpError",code:L.status})),tt.label=6;case 6:return[3,8];case 7:return et=tt.sent(),console.error("Unleash: unable to fetch feature toggles",et),this.emit($.EVENTS.ERROR,et),[3,8];case 8:return[2]}})})},R}(T.TinyEmitter);$.UnleashClient=M},2466:function(Qt,$,o){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(_){for(var m,h=1,f=arguments.length;h<f;h++)for(var v in m=arguments[h])Object.prototype.hasOwnProperty.call(m,v)&&(_[v]=m[v]);return _},e.apply(this,arguments)},t=this&&this.__awaiter||function(_,m,h,f){return new(h||(h=Promise))(function(C,D){function y(M){try{O(f.next(M))}catch(U){D(U)}}function E(M){try{O(f.throw(M))}catch(U){D(U)}}function O(M){M.done?C(M.value):function v(C){return C instanceof h?C:new h(function(D){D(C)})}(M.value).then(y,E)}O((f=f.apply(_,m||[])).next())})},a=this&&this.__generator||function(_,m){var f,v,C,D,h={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return D={next:y(0),throw:y(1),return:y(2)},"function"==typeof Symbol&&(D[Symbol.iterator]=function(){return this}),D;function y(O){return function(M){return function E(O){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,v&&(C=2&O[0]?v.return:O[0]?v.throw||((C=v.return)&&C.call(v),0):v.next)&&!(C=C.call(v,O[1])).done)return C;switch(v=0,C&&(O=[2&O[0],C.value]),O[0]){case 0:case 1:C=O;break;case 4:return h.label++,{value:O[1],done:!1};case 5:h.label++,v=O[1],O=[0];continue;case 7:O=h.ops.pop(),h.trys.pop();continue;default:if(!(C=(C=h.trys).length>0&&C[C.length-1])&&(6===O[0]||2===O[0])){h=0;continue}if(3===O[0]&&(!C||O[1]>C[0]&&O[1]<C[3])){h.label=O[1];break}if(6===O[0]&&h.label<C[1]){h.label=C[1],C=O;break}if(C&&h.label<C[2]){h.label=C[2],h.ops.push(O);break}C[2]&&h.ops.pop(),h.trys.pop();continue}O=m.call(_,h)}catch(M){O=[6,M],v=0}finally{f=C=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([O,M])}}};Object.defineProperty($,"__esModule",{value:!0});var i=o(2062),g=function(){},T=function(){function _(m){var f=m.onSent,v=m.appName,C=m.metricsInterval,D=m.disableMetrics,y=void 0!==D&&D,E=m.url,O=m.clientKey,M=m.fetch,U=m.headerName,R=m.customHeaders,A=void 0===R?{}:R;this.onError=m.onError,this.onSent=f||g,this.disabled=y,this.metricsInterval=1e3*C,this.appName=v,this.url=E instanceof URL?E:new URL(E),this.clientKey=O,this.bucket=this.createEmptyBucket(),this.fetch=M,this.headerName=U,this.customHeaders=A}return _.prototype.start=function(){var m=this;if(this.disabled)return!1;"number"==typeof this.metricsInterval&&this.metricsInterval>0&&setTimeout(function(){m.startTimer(),m.sendMetrics()},2e3)},_.prototype.stop=function(){this.timer&&(clearTimeout(this.timer),delete this.timer)},_.prototype.createEmptyBucket=function(){return{start:new Date,stop:null,toggles:{}}},_.prototype.getHeaders=function(){var m,h=((m={})[this.headerName]=this.clientKey,m.Accept="application/json",m["Content-Type"]="application/json",m);return Object.entries(this.customHeaders).filter(i.notNullOrUndefined).forEach(function(f){return h[f[0]]=f[1]}),h},_.prototype.sendMetrics=function(){return t(this,void 0,void 0,function(){var m,h,f;return a(this,function(v){switch(v.label){case 0:if(m="".concat(this.url,"/client/metrics"),h=this.getPayload(),this.bucketIsEmpty(h))return[2];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.fetch(m,{cache:"no-cache",method:"POST",headers:this.getHeaders(),body:JSON.stringify(h)})];case 2:return v.sent(),this.onSent(h),[3,4];case 3:return f=v.sent(),console.error("Unleash: unable to send feature metrics",f),this.onError(f),[3,4];case 4:return[2]}})})},_.prototype.count=function(m,h){return!(this.disabled||!this.bucket||(this.assertBucket(m),this.bucket.toggles[m][h?"yes":"no"]++,0))},_.prototype.countVariant=function(m,h){return!(this.disabled||!this.bucket||(this.assertBucket(m),this.bucket.toggles[m].variants[h]?this.bucket.toggles[m].variants[h]+=1:this.bucket.toggles[m].variants[h]=1,0))},_.prototype.assertBucket=function(m){if(this.disabled||!this.bucket)return!1;this.bucket.toggles[m]||(this.bucket.toggles[m]={yes:0,no:0,variants:{}})},_.prototype.startTimer=function(){var m=this;this.timer=setInterval(function(){m.sendMetrics()},this.metricsInterval)},_.prototype.bucketIsEmpty=function(m){return 0===Object.keys(m.bucket.toggles).length},_.prototype.getPayload=function(){var m=e(e({},this.bucket),{stop:new Date});return this.bucket=this.createEmptyBucket(),{bucket:m,appName:this.appName,instanceId:"browser"}},_}();$.default=T},5961:function(Qt,$){"use strict";var o=this&&this.__awaiter||function(a,i,g,T){return new(g||(g=Promise))(function(m,h){function f(D){try{C(T.next(D))}catch(y){h(y)}}function v(D){try{C(T.throw(D))}catch(y){h(y)}}function C(D){D.done?m(D.value):function _(m){return m instanceof g?m:new g(function(h){h(m)})}(D.value).then(f,v)}C((T=T.apply(a,i||[])).next())})},e=this&&this.__generator||function(a,i){var T,_,m,h,g={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return h={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function f(C){return function(D){return function v(C){if(T)throw new TypeError("Generator is already executing.");for(;g;)try{if(T=1,_&&(m=2&C[0]?_.return:C[0]?_.throw||((m=_.return)&&m.call(_),0):_.next)&&!(m=m.call(_,C[1])).done)return m;switch(_=0,m&&(C=[2&C[0],m.value]),C[0]){case 0:case 1:m=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,_=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(!(m=(m=g.trys).length>0&&m[m.length-1])&&(6===C[0]||2===C[0])){g=0;continue}if(3===C[0]&&(!m||C[1]>m[0]&&C[1]<m[3])){g.label=C[1];break}if(6===C[0]&&g.label<m[1]){g.label=m[1],m=C;break}if(m&&g.label<m[2]){g.label=m[2],g.ops.push(C);break}m[2]&&g.ops.pop(),g.trys.pop();continue}C=i.call(a,g)}catch(D){C=[6,D],_=0}finally{T=m=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,D])}}};Object.defineProperty($,"__esModule",{value:!0});var t=function(){function a(){this.store=new Map}return a.prototype.save=function(i,g){return o(this,void 0,void 0,function(){return e(this,function(T){return this.store.set(i,g),[2]})})},a.prototype.get=function(i){return o(this,void 0,void 0,function(){return e(this,function(g){return[2,this.store.get(i)]})})},a}();$.default=t},9229:function(Qt,$){"use strict";var o=this&&this.__awaiter||function(a,i,g,T){return new(g||(g=Promise))(function(m,h){function f(D){try{C(T.next(D))}catch(y){h(y)}}function v(D){try{C(T.throw(D))}catch(y){h(y)}}function C(D){D.done?m(D.value):function _(m){return m instanceof g?m:new g(function(h){h(m)})}(D.value).then(f,v)}C((T=T.apply(a,i||[])).next())})},e=this&&this.__generator||function(a,i){var T,_,m,h,g={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return h={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function f(C){return function(D){return function v(C){if(T)throw new TypeError("Generator is already executing.");for(;g;)try{if(T=1,_&&(m=2&C[0]?_.return:C[0]?_.throw||((m=_.return)&&m.call(_),0):_.next)&&!(m=m.call(_,C[1])).done)return m;switch(_=0,m&&(C=[2&C[0],m.value]),C[0]){case 0:case 1:m=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,_=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(!(m=(m=g.trys).length>0&&m[m.length-1])&&(6===C[0]||2===C[0])){g=0;continue}if(3===C[0]&&(!m||C[1]>m[0]&&C[1]<m[3])){g.label=C[1];break}if(6===C[0]&&g.label<m[1]){g.label=m[1],m=C;break}if(m&&g.label<m[2]){g.label=m[2],g.ops.push(C);break}m[2]&&g.ops.pop(),g.trys.pop();continue}C=i.call(a,g)}catch(D){C=[6,D],_=0}finally{T=m=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,D])}}};Object.defineProperty($,"__esModule",{value:!0});var t=function(){function a(){this.prefix="unleash:repository"}return a.prototype.save=function(i,g){return o(this,void 0,void 0,function(){var T,_;return e(this,function(m){T=JSON.stringify(g),_="".concat(this.prefix,":").concat(i);try{window.localStorage.setItem(_,T)}catch(h){console.error(h)}return[2]})})},a.prototype.get=function(i){try{var g="".concat(this.prefix,":").concat(i),T=window.localStorage.getItem(g);return T?JSON.parse(T):void 0}catch(_){console.error(_)}},a}();$.default=t},2062:(Qt,$)=>{"use strict";Object.defineProperty($,"__esModule",{value:!0}),$.urlWithContextAsQuery=$.notNullOrUndefined=void 0,$.notNullOrUndefined=function(t){return null!=t[1]},$.urlWithContextAsQuery=function(t,a){var i=new URL(t.toString());return Object.entries(a).filter($.notNullOrUndefined).forEach(function(g){var T=g[0],_=g[1];"properties"===T&&_?Object.entries(_).filter($.notNullOrUndefined).forEach(function(m){var f=m[1];return i.searchParams.append("properties[".concat(m[0],"]"),f)}):i.searchParams.append(T,_)}),i}},2935:(Qt,$,o)=>{"use strict";o.r($),o.d($,{NIL:()=>Rt,parse:()=>U,stringify:()=>f,v1:()=>O,v3:()=>Z,v4:()=>F,v5:()=>Nt,validate:()=>T,version:()=>B});var e,t=new Uint8Array(16);function a(){if(!e&&!(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,T=function g(k){return"string"==typeof k&&i.test(k)};for(var _=[],m=0;m<256;++m)_.push((m+256).toString(16).substr(1));const f=function h(k){var yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=(_[k[yt+0]]+_[k[yt+1]]+_[k[yt+2]]+_[k[yt+3]]+"-"+_[k[yt+4]]+_[k[yt+5]]+"-"+_[k[yt+6]]+_[k[yt+7]]+"-"+_[k[yt+8]]+_[k[yt+9]]+"-"+_[k[yt+10]]+_[k[yt+11]]+_[k[yt+12]]+_[k[yt+13]]+_[k[yt+14]]+_[k[yt+15]]).toLowerCase();if(!T(Y))throw TypeError("Stringified UUID is invalid");return Y};var v,C,D=0,y=0;const O=function E(k,yt,Y){var xt=yt&&Y||0,z=yt||new Array(16),at=(k=k||{}).node||v,Pt=void 0!==k.clockseq?k.clockseq:C;if(null==at||null==Pt){var Gt=k.random||(k.rng||a)();null==at&&(at=v=[1|Gt[0],Gt[1],Gt[2],Gt[3],Gt[4],Gt[5]]),null==Pt&&(Pt=C=16383&(Gt[6]<<8|Gt[7]))}var De=void 0!==k.msecs?k.msecs:Date.now(),Ut=void 0!==k.nsecs?k.nsecs:y+1,Q=De-D+(Ut-y)/1e4;if(Q<0&&void 0===k.clockseq&&(Pt=Pt+1&16383),(Q<0||De>D)&&void 0===k.nsecs&&(Ut=0),Ut>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");D=De,y=Ut,C=Pt;var Ot=(1e4*(268435455&(De+=122192928e5))+Ut)%4294967296;z[xt++]=Ot>>>24&255,z[xt++]=Ot>>>16&255,z[xt++]=Ot>>>8&255,z[xt++]=255&Ot;var Ft=De/4294967296*1e4&268435455;z[xt++]=Ft>>>8&255,z[xt++]=255&Ft,z[xt++]=Ft>>>24&15|16,z[xt++]=Ft>>>16&255,z[xt++]=Pt>>>8|128,z[xt++]=255&Pt;for(var le=0;le<6;++le)z[xt+le]=at[le];return yt||f(z)},U=function M(k){if(!T(k))throw TypeError("Invalid UUID");var yt,Y=new Uint8Array(16);return Y[0]=(yt=parseInt(k.slice(0,8),16))>>>24,Y[1]=yt>>>16&255,Y[2]=yt>>>8&255,Y[3]=255&yt,Y[4]=(yt=parseInt(k.slice(9,13),16))>>>8,Y[5]=255&yt,Y[6]=(yt=parseInt(k.slice(14,18),16))>>>8,Y[7]=255&yt,Y[8]=(yt=parseInt(k.slice(19,23),16))>>>8,Y[9]=255&yt,Y[10]=(yt=parseInt(k.slice(24,36),16))/1099511627776&255,Y[11]=yt/4294967296&255,Y[12]=yt>>>24&255,Y[13]=yt>>>16&255,Y[14]=yt>>>8&255,Y[15]=255&yt,Y};function w(k,yt,Y){function xt(z,at,Pt,Gt){if("string"==typeof z&&(z=function R(k){k=unescape(encodeURIComponent(k));for(var yt=[],Y=0;Y<k.length;++Y)yt.push(k.charCodeAt(Y));return yt}(z)),"string"==typeof at&&(at=U(at)),16!==at.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var De=new Uint8Array(16+z.length);if(De.set(at),De.set(z,at.length),(De=Y(De))[6]=15&De[6]|yt,De[8]=63&De[8]|128,Pt){Gt=Gt||0;for(var Ut=0;Ut<16;++Ut)Pt[Gt+Ut]=De[Ut];return Pt}return f(De)}try{xt.name=k}catch{}return xt.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",xt.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",xt}function V(k){return 14+(k+64>>>9<<4)+1}function ht(k,yt){var Y=(65535&k)+(65535&yt);return(k>>16)+(yt>>16)+(Y>>16)<<16|65535&Y}function It(k,yt,Y,xt,z,at){return ht(function it(k,yt){return k<<yt|k>>>32-yt}(ht(ht(yt,k),ht(xt,at)),z),Y)}function st(k,yt,Y,xt,z,at,Pt){return It(yt&Y|~yt&xt,k,yt,z,at,Pt)}function dt(k,yt,Y,xt,z,at,Pt){return It(yt&xt|Y&~xt,k,yt,z,at,Pt)}function St(k,yt,Y,xt,z,at,Pt){return It(yt^Y^xt,k,yt,z,at,Pt)}function bt(k,yt,Y,xt,z,at,Pt){return It(Y^(yt|~xt),k,yt,z,at,Pt)}const Z=w("v3",48,function p(k){if("string"==typeof k){var yt=unescape(encodeURIComponent(k));k=new Uint8Array(yt.length);for(var Y=0;Y<yt.length;++Y)k[Y]=yt.charCodeAt(Y)}return function L(k){for(var yt=[],Y=32*k.length,xt="0123456789abcdef",z=0;z<Y;z+=8){var at=k[z>>5]>>>z%32&255,Pt=parseInt(xt.charAt(at>>>4&15)+xt.charAt(15&at),16);yt.push(Pt)}return yt}(function et(k,yt){k[yt>>5]|=128<<yt%32,k[V(yt)-1]=yt;for(var Y=1732584193,xt=-271733879,z=-1732584194,at=271733878,Pt=0;Pt<k.length;Pt+=16){var Gt=Y,De=xt,Ut=z,Q=at;Y=st(Y,xt,z,at,k[Pt],7,-680876936),at=st(at,Y,xt,z,k[Pt+1],12,-389564586),z=st(z,at,Y,xt,k[Pt+2],17,606105819),xt=st(xt,z,at,Y,k[Pt+3],22,-1044525330),Y=st(Y,xt,z,at,k[Pt+4],7,-176418897),at=st(at,Y,xt,z,k[Pt+5],12,1200080426),z=st(z,at,Y,xt,k[Pt+6],17,-1473231341),xt=st(xt,z,at,Y,k[Pt+7],22,-45705983),Y=st(Y,xt,z,at,k[Pt+8],7,1770035416),at=st(at,Y,xt,z,k[Pt+9],12,-1958414417),z=st(z,at,Y,xt,k[Pt+10],17,-42063),xt=st(xt,z,at,Y,k[Pt+11],22,-1990404162),Y=st(Y,xt,z,at,k[Pt+12],7,1804603682),at=st(at,Y,xt,z,k[Pt+13],12,-40341101),z=st(z,at,Y,xt,k[Pt+14],17,-1502002290),Y=dt(Y,xt=st(xt,z,at,Y,k[Pt+15],22,1236535329),z,at,k[Pt+1],5,-165796510),at=dt(at,Y,xt,z,k[Pt+6],9,-1069501632),z=dt(z,at,Y,xt,k[Pt+11],14,643717713),xt=dt(xt,z,at,Y,k[Pt],20,-373897302),Y=dt(Y,xt,z,at,k[Pt+5],5,-701558691),at=dt(at,Y,xt,z,k[Pt+10],9,38016083),z=dt(z,at,Y,xt,k[Pt+15],14,-660478335),xt=dt(xt,z,at,Y,k[Pt+4],20,-405537848),Y=dt(Y,xt,z,at,k[Pt+9],5,568446438),at=dt(at,Y,xt,z,k[Pt+14],9,-1019803690),z=dt(z,at,Y,xt,k[Pt+3],14,-187363961),xt=dt(xt,z,at,Y,k[Pt+8],20,1163531501),Y=dt(Y,xt,z,at,k[Pt+13],5,-1444681467),at=dt(at,Y,xt,z,k[Pt+2],9,-51403784),z=dt(z,at,Y,xt,k[Pt+7],14,1735328473),Y=St(Y,xt=dt(xt,z,at,Y,k[Pt+12],20,-1926607734),z,at,k[Pt+5],4,-378558),at=St(at,Y,xt,z,k[Pt+8],11,-2022574463),z=St(z,at,Y,xt,k[Pt+11],16,1839030562),xt=St(xt,z,at,Y,k[Pt+14],23,-35309556),Y=St(Y,xt,z,at,k[Pt+1],4,-1530992060),at=St(at,Y,xt,z,k[Pt+4],11,1272893353),z=St(z,at,Y,xt,k[Pt+7],16,-155497632),xt=St(xt,z,at,Y,k[Pt+10],23,-1094730640),Y=St(Y,xt,z,at,k[Pt+13],4,681279174),at=St(at,Y,xt,z,k[Pt],11,-358537222),z=St(z,at,Y,xt,k[Pt+3],16,-722521979),xt=St(xt,z,at,Y,k[Pt+6],23,76029189),Y=St(Y,xt,z,at,k[Pt+9],4,-640364487),at=St(at,Y,xt,z,k[Pt+12],11,-421815835),z=St(z,at,Y,xt,k[Pt+15],16,530742520),Y=bt(Y,xt=St(xt,z,at,Y,k[Pt+2],23,-995338651),z,at,k[Pt],6,-198630844),at=bt(at,Y,xt,z,k[Pt+7],10,1126891415),z=bt(z,at,Y,xt,k[Pt+14],15,-1416354905),xt=bt(xt,z,at,Y,k[Pt+5],21,-57434055),Y=bt(Y,xt,z,at,k[Pt+12],6,1700485571),at=bt(at,Y,xt,z,k[Pt+3],10,-1894986606),z=bt(z,at,Y,xt,k[Pt+10],15,-1051523),xt=bt(xt,z,at,Y,k[Pt+1],21,-2054922799),Y=bt(Y,xt,z,at,k[Pt+8],6,1873313359),at=bt(at,Y,xt,z,k[Pt+15],10,-30611744),z=bt(z,at,Y,xt,k[Pt+6],15,-1560198380),xt=bt(xt,z,at,Y,k[Pt+13],21,1309151649),Y=bt(Y,xt,z,at,k[Pt+4],6,-145523070),at=bt(at,Y,xt,z,k[Pt+11],10,-1120210379),z=bt(z,at,Y,xt,k[Pt+2],15,718787259),xt=bt(xt,z,at,Y,k[Pt+9],21,-343485551),Y=ht(Y,Gt),xt=ht(xt,De),z=ht(z,Ut),at=ht(at,Q)}return[Y,xt,z,at]}(function tt(k){if(0===k.length)return[];for(var yt=8*k.length,Y=new Uint32Array(V(yt)),xt=0;xt<yt;xt+=8)Y[xt>>5]|=(255&k[xt/8])<<xt%32;return Y}(k),8*k.length))}),F=function I(k,yt,Y){var xt=(k=k||{}).random||(k.rng||a)();if(xt[6]=15&xt[6]|64,xt[8]=63&xt[8]|128,yt){Y=Y||0;for(var z=0;z<16;++z)yt[Y+z]=xt[z];return yt}return f(xt)};function ot(k,yt,Y,xt){switch(k){case 0:return yt&Y^~yt&xt;case 1:case 3:return yt^Y^xt;case 2:return yt&Y^yt&xt^Y&xt}}function nt(k,yt){return k<<yt|k>>>32-yt}const Nt=w("v5",80,function At(k){var yt=[1518500249,1859775393,2400959708,3395469782],Y=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof k){var xt=unescape(encodeURIComponent(k));k=[];for(var z=0;z<xt.length;++z)k.push(xt.charCodeAt(z))}else Array.isArray(k)||(k=Array.prototype.slice.call(k));k.push(128);for(var Pt=Math.ceil((k.length/4+2)/16),Gt=new Array(Pt),De=0;De<Pt;++De){for(var Ut=new Uint32Array(16),Q=0;Q<16;++Q)Ut[Q]=k[64*De+4*Q]<<24|k[64*De+4*Q+1]<<16|k[64*De+4*Q+2]<<8|k[64*De+4*Q+3];Gt[De]=Ut}Gt[Pt-1][14]=8*(k.length-1)/Math.pow(2,32),Gt[Pt-1][14]=Math.floor(Gt[Pt-1][14]),Gt[Pt-1][15]=8*(k.length-1)&4294967295;for(var Ot=0;Ot<Pt;++Ot){for(var Ft=new Uint32Array(80),le=0;le<16;++le)Ft[le]=Gt[Ot][le];for(var ne=16;ne<80;++ne)Ft[ne]=nt(Ft[ne-3]^Ft[ne-8]^Ft[ne-14]^Ft[ne-16],1);for(var Ge=Y[0],Se=Y[1],Pe=Y[2],Ue=Y[3],Ee=Y[4],de=0;de<80;++de){var ae=Math.floor(de/20),$e=nt(Ge,5)+ot(ae,Se,Pe,Ue)+Ee+yt[ae]+Ft[de]>>>0;Ee=Ue,Ue=Pe,Pe=nt(Se,30)>>>0,Se=Ge,Ge=$e}Y[0]=Y[0]+Ge>>>0,Y[1]=Y[1]+Se>>>0,Y[2]=Y[2]+Pe>>>0,Y[3]=Y[3]+Ue>>>0,Y[4]=Y[4]+Ee>>>0}return[Y[0]>>24&255,Y[0]>>16&255,Y[0]>>8&255,255&Y[0],Y[1]>>24&255,Y[1]>>16&255,Y[1]>>8&255,255&Y[1],Y[2]>>24&255,Y[2]>>16&255,Y[2]>>8&255,255&Y[2],Y[3]>>24&255,Y[3]>>16&255,Y[3]>>8&255,255&Y[3],Y[4]>>24&255,Y[4]>>16&255,Y[4]>>8&255,255&Y[4]]}),Rt="00000000-0000-0000-0000-000000000000",B=function Bt(k){if(!T(k))throw TypeError("Invalid UUID");return parseInt(k.substr(14,1),16)}},4004:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>v});const t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const i=new Uint8Array(16);function g(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(i)}const T=[];for(let C=0;C<256;++C)T.push((C+256).toString(16).slice(1));const v=function f(C,D,y){if(t.randomUUID&&!D&&!C)return t.randomUUID();const E=(C=C||{}).random||(C.rng||g)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,D){y=y||0;for(let O=0;O<16;++O)D[y+O]=E[O];return D}return function _(C,D=0){return(T[C[D+0]]+T[C[D+1]]+T[C[D+2]]+T[C[D+3]]+"-"+T[C[D+4]]+T[C[D+5]]+"-"+T[C[D+6]]+T[C[D+7]]+"-"+T[C[D+8]]+T[C[D+9]]+"-"+T[C[D+10]]+T[C[D+11]]+T[C[D+12]]+T[C[D+13]]+T[C[D+14]]+T[C[D+15]]).toLowerCase()}(E)}},1371:()=>{},6127:()=>{},6825:(Qt,$,o)=>{"use strict";o.d($,{EY:()=>O,IO:()=>E,LC:()=>t,X$:()=>i,ZE:()=>U,ZN:()=>M,_j:()=>e,eR:()=>v,jt:()=>g,k1:()=>R,l3:()=>a,oB:()=>m,pV:()=>D,vP:()=>_});class e{}class t{}const a="*";function i(A,S){return{type:7,name:A,definitions:S,options:{}}}function g(A,S=null){return{type:4,styles:S,timings:A}}function _(A,S=null){return{type:2,steps:A,options:S}}function m(A){return{type:6,styles:A,offset:null}}function v(A,S,w=null){return{type:1,expr:A,animation:S,options:w}}function D(A=null){return{type:9,options:A}}function E(A,S,w=null){return{type:11,selector:A,animation:S,options:w}}function O(A,S){return{type:12,timings:A,animation:S}}class M{constructor(S=0,w=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=S+w}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}onStart(S){this._originalOnStartFns.push(S),this._onStartFns.push(S)}onDone(S){this._originalOnDoneFns.push(S),this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(S=>S()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(S){this._position=this.totalTime?S*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(S){const w="start"==S?this._onStartFns:this._onDoneFns;w.forEach(p=>p()),w.length=0}}class U{constructor(S){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=S;let w=0,p=0,L=0;const V=this.players.length;0==V?queueMicrotask(()=>this._onFinish()):this.players.forEach(et=>{et.onDone(()=>{++w==V&&this._onFinish()}),et.onDestroy(()=>{++p==V&&this._onDestroy()}),et.onStart(()=>{++L==V&&this._onStart()})}),this.totalTime=this.players.reduce((et,tt)=>Math.max(et,tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this.players.forEach(S=>S.init())}onStart(S){this._onStartFns.push(S)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(S=>S()),this._onStartFns=[])}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(S=>S.play())}pause(){this.players.forEach(S=>S.pause())}restart(){this.players.forEach(S=>S.restart())}finish(){this._onFinish(),this.players.forEach(S=>S.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(S=>S.destroy()),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this.players.forEach(S=>S.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(S){const w=S*this.totalTime;this.players.forEach(p=>{const L=p.totalTime?Math.min(1,w/p.totalTime):1;p.setPosition(L)})}getPosition(){const S=this.players.reduce((w,p)=>null===w||p.totalTime>w.totalTime?p:w,null);return null!=S?S.getPosition():0}beforeDestroy(){this.players.forEach(S=>{S.beforeDestroy&&S.beforeDestroy()})}triggerCallback(S){const w="start"==S?this._onStartFns:this._onDoneFns;w.forEach(p=>p()),w.length=0}}const R="!"},6108:(Qt,$,o)=>{"use strict";o.d($,{Ar:()=>Fn,DT:()=>Io,NH:()=>Le,Th:()=>ii,Vi:()=>Ot,nV:()=>Q});var e=o(6825),t=o(5879);function i(_e){return new t.vHH(3e3,!1)}function nt(_e){switch(_e.length){case 0:return new e.ZN;case 1:return _e[0];default:return new e.ZE(_e)}}function At(_e,W,rt=new Map,zt=new Map){const pe=[],Be=[];let On=-1,Sn=null;if(W.forEach(Gn=>{const ni=Gn.get("offset"),Lt=ni==On,$t=Lt&&Sn||new Map;Gn.forEach((mt,ue)=>{let He=ue,ci=mt;if("offset"!==ue)switch(He=_e.normalizePropertyName(He,pe),ci){case e.k1:ci=rt.get(ue);break;case e.l3:ci=zt.get(ue);break;default:ci=_e.normalizeStyleValue(ue,He,ci,pe)}$t.set(He,ci)}),Lt||Be.push($t),Sn=$t,On=ni}),pe.length)throw function ht(_e){return new t.vHH(3502,!1)}();return Be}function Dt(_e,W,rt,zt){switch(W){case"start":_e.onStart(()=>zt(rt&&Wt(rt,"start",_e)));break;case"done":_e.onDone(()=>zt(rt&&Wt(rt,"done",_e)));break;case"destroy":_e.onDestroy(()=>zt(rt&&Wt(rt,"destroy",_e)))}}function Wt(_e,W,rt){const Be=Nt(_e.element,_e.triggerName,_e.fromState,_e.toState,W||_e.phaseName,rt.totalTime??_e.totalTime,!!rt.disabled),On=_e._data;return null!=On&&(Be._data=On),Be}function Nt(_e,W,rt,zt,pe="",Be=0,On){return{element:_e,triggerName:W,fromState:rt,toState:zt,phaseName:pe,totalTime:Be,disabled:!!On}}function Rt(_e,W,rt){let zt=_e.get(W);return zt||_e.set(W,zt=rt),zt}function Bt(_e){const W=_e.indexOf(":");return[_e.substring(1,W),_e.slice(W+1)]}const B=(()=>typeof document>"u"?null:document.documentElement)();function k(_e){const W=_e.parentNode||_e.host||null;return W===B?null:W}let Y=null,xt=!1;function Gt(_e,W){for(;W;){if(W===_e)return!0;W=k(W)}return!1}function De(_e,W,rt){if(rt)return Array.from(_e.querySelectorAll(W));const zt=_e.querySelector(W);return zt?[zt]:[]}let Q=(()=>{class _e{validateStyleProperty(rt){return function z(_e){Y||(Y=function Pt(){return typeof document<"u"?document.body:null}()||{},xt=!!Y.style&&"WebkitAppearance"in Y.style);let W=!0;return Y.style&&!function yt(_e){return"ebkit"==_e.substring(1,6)}(_e)&&(W=_e in Y.style,!W&&xt&&(W="Webkit"+_e.charAt(0).toUpperCase()+_e.slice(1)in Y.style)),W}(rt)}matchesElement(rt,zt){return!1}containsElement(rt,zt){return Gt(rt,zt)}getParentElement(rt){return k(rt)}query(rt,zt,pe){return De(rt,zt,pe)}computeStyle(rt,zt,pe){return pe||""}animate(rt,zt,pe,Be,On,Sn=[],Gn){return new e.ZN(pe,Be)}static{this.\u0275fac=function(zt){return new(zt||_e)}}static{this.\u0275prov=t.Yz7({token:_e,factory:_e.\u0275fac})}}return _e})(),Ot=(()=>{class _e{static{this.NOOP=new Q}}return _e})();const Ft=1e3,Ge="ng-enter",Se="ng-leave",Pe="ng-trigger",Ue=".ng-trigger",Ee="ng-animating",de=".ng-animating";function ae(_e){if("number"==typeof _e)return _e;const W=_e.match(/^(-?[\.\d]+)(m?s)/);return!W||W.length<2?0:$e(parseFloat(W[1]),W[2])}function $e(_e,W){return"s"===W?_e*Ft:_e}function Bn(_e,W,rt){return _e.hasOwnProperty("duration")?_e:function Ae(_e,W,rt){let pe,Be=0,On="";if("string"==typeof _e){const Sn=_e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Sn)return W.push(i()),{duration:0,delay:0,easing:""};pe=$e(parseFloat(Sn[1]),Sn[2]);const Gn=Sn[3];null!=Gn&&(Be=$e(parseFloat(Gn),Sn[4]));const ni=Sn[5];ni&&(On=ni)}else pe=_e;if(!rt){let Sn=!1,Gn=W.length;pe<0&&(W.push(function g(){return new t.vHH(3100,!1)}()),Sn=!0),Be<0&&(W.push(function T(){return new t.vHH(3101,!1)}()),Sn=!0),Sn&&W.splice(Gn,0,i())}return{duration:pe,delay:Be,easing:On}}(_e,W,rt)}function Hn(_e,W={}){return Object.keys(_e).forEach(rt=>{W[rt]=_e[rt]}),W}function rn(_e){const W=new Map;return Object.keys(_e).forEach(rt=>{W.set(rt,_e[rt])}),W}function oe(_e,W=new Map,rt){if(rt)for(let[zt,pe]of rt)W.set(zt,pe);for(let[zt,pe]of _e)W.set(zt,pe);return W}function Ht(_e,W,rt){W.forEach((zt,pe)=>{const Be=ke(pe);rt&&!rt.has(pe)&&rt.set(pe,_e.style[Be]),_e.style[Be]=zt})}function xn(_e,W){W.forEach((rt,zt)=>{const pe=ke(zt);_e.style[pe]=""})}function ce(_e){return Array.isArray(_e)?1==_e.length?_e[0]:(0,e.vP)(_e):_e}const En=new RegExp("{{\\s*(.+?)\\s*}}","g");function _n(_e){let W=[];if("string"==typeof _e){let rt;for(;rt=En.exec(_e);)W.push(rt[1]);En.lastIndex=0}return W}function Qe(_e,W,rt){const zt=_e.toString(),pe=zt.replace(En,(Be,On)=>{let Sn=W[On];return null==Sn&&(rt.push(function m(_e){return new t.vHH(3003,!1)}()),Sn=""),Sn.toString()});return pe==zt?_e:pe}function xe(_e){const W=[];let rt=_e.next();for(;!rt.done;)W.push(rt.value),rt=_e.next();return W}const je=/-+([a-z0-9])/g;function ke(_e){return _e.replace(je,(...W)=>W[1].toUpperCase())}function qe(_e,W,rt){switch(W.type){case 7:return _e.visitTrigger(W,rt);case 0:return _e.visitState(W,rt);case 1:return _e.visitTransition(W,rt);case 2:return _e.visitSequence(W,rt);case 3:return _e.visitGroup(W,rt);case 4:return _e.visitAnimate(W,rt);case 5:return _e.visitKeyframes(W,rt);case 6:return _e.visitStyle(W,rt);case 8:return _e.visitReference(W,rt);case 9:return _e.visitAnimateChild(W,rt);case 10:return _e.visitAnimateRef(W,rt);case 11:return _e.visitQuery(W,rt);case 12:return _e.visitStagger(W,rt);default:throw function h(_e){return new t.vHH(3004,!1)}()}}function kn(_e,W){return window.getComputedStyle(_e)[W]}const Jn="*";function hi(_e,W){const rt=[];return"string"==typeof _e?_e.split(/\s*,\s*/).forEach(zt=>function ei(_e,W,rt){if(":"==_e[0]){const Gn=function wi(_e,W){switch(_e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(rt,zt)=>parseFloat(zt)>parseFloat(rt);case":decrement":return(rt,zt)=>parseFloat(zt)<parseFloat(rt);default:return W.push(function L(_e){return new t.vHH(3016,!1)}()),"* => *"}}(_e,rt);if("function"==typeof Gn)return void W.push(Gn);_e=Gn}const zt=_e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==zt||zt.length<4)return rt.push(function p(_e){return new t.vHH(3015,!1)}()),W;const pe=zt[1],Be=zt[2],On=zt[3];W.push(mi(pe,On));"<"==Be[0]&&!(pe==Jn&&On==Jn)&&W.push(mi(On,pe))}(zt,rt,W)):rt.push(_e),rt}const oi=new Set(["true","1"]),Li=new Set(["false","0"]);function mi(_e,W){const rt=oi.has(_e)||Li.has(_e),zt=oi.has(W)||Li.has(W);return(pe,Be)=>{let On=_e==Jn||_e==pe,Sn=W==Jn||W==Be;return!On&&rt&&"boolean"==typeof pe&&(On=pe?oi.has(_e):Li.has(_e)),!Sn&&zt&&"boolean"==typeof Be&&(Sn=Be?oi.has(W):Li.has(W)),On&&Sn}}const Qi=new RegExp("s*:selfs*,?","g");function Yi(_e,W,rt,zt){return new Ui(_e).build(W,rt,zt)}class Ui{constructor(W){this._driver=W}build(W,rt,zt){const pe=new sn(rt);return this._resetContextStyleTimingState(pe),qe(this,ce(W),pe)}_resetContextStyleTimingState(W){W.currentQuerySelector="",W.collectedStyles=new Map,W.collectedStyles.set("",new Map),W.currentTime=0}visitTrigger(W,rt){let zt=rt.queryCount=0,pe=rt.depCount=0;const Be=[],On=[];return"@"==W.name.charAt(0)&&rt.errors.push(function v(){return new t.vHH(3006,!1)}()),W.definitions.forEach(Sn=>{if(this._resetContextStyleTimingState(rt),0==Sn.type){const Gn=Sn,ni=Gn.name;ni.toString().split(/\s*,\s*/).forEach(Lt=>{Gn.name=Lt,Be.push(this.visitState(Gn,rt))}),Gn.name=ni}else if(1==Sn.type){const Gn=this.visitTransition(Sn,rt);zt+=Gn.queryCount,pe+=Gn.depCount,On.push(Gn)}else rt.errors.push(function C(){return new t.vHH(3007,!1)}())}),{type:7,name:W.name,states:Be,transitions:On,queryCount:zt,depCount:pe,options:null}}visitState(W,rt){const zt=this.visitStyle(W.styles,rt),pe=W.options&&W.options.params||null;if(zt.containsDynamicStyles){const Be=new Set,On=pe||{};zt.styles.forEach(Sn=>{Sn instanceof Map&&Sn.forEach(Gn=>{_n(Gn).forEach(ni=>{On.hasOwnProperty(ni)||Be.add(ni)})})}),Be.size&&(xe(Be.values()),rt.errors.push(function D(_e,W){return new t.vHH(3008,!1)}()))}return{type:0,name:W.name,style:zt,options:pe?{params:pe}:null}}visitTransition(W,rt){rt.queryCount=0,rt.depCount=0;const zt=qe(this,ce(W.animation),rt);return{type:1,matchers:hi(W.expr,rt.errors),animation:zt,queryCount:rt.queryCount,depCount:rt.depCount,options:Ye(W.options)}}visitSequence(W,rt){return{type:2,steps:W.steps.map(zt=>qe(this,zt,rt)),options:Ye(W.options)}}visitGroup(W,rt){const zt=rt.currentTime;let pe=0;const Be=W.steps.map(On=>{rt.currentTime=zt;const Sn=qe(this,On,rt);return pe=Math.max(pe,rt.currentTime),Sn});return rt.currentTime=pe,{type:3,steps:Be,options:Ye(W.options)}}visitAnimate(W,rt){const zt=function Xt(_e,W){if(_e.hasOwnProperty("duration"))return _e;if("number"==typeof _e)return se(Bn(_e,W).duration,0,"");const rt=_e;if(rt.split(/\s+/).some(Be=>"{"==Be.charAt(0)&&"{"==Be.charAt(1))){const Be=se(0,0,"");return Be.dynamic=!0,Be.strValue=rt,Be}const pe=Bn(rt,W);return se(pe.duration,pe.delay,pe.easing)}(W.timings,rt.errors);rt.currentAnimateTimings=zt;let pe,Be=W.styles?W.styles:(0,e.oB)({});if(5==Be.type)pe=this.visitKeyframes(Be,rt);else{let On=W.styles,Sn=!1;if(!On){Sn=!0;const ni={};zt.easing&&(ni.easing=zt.easing),On=(0,e.oB)(ni)}rt.currentTime+=zt.duration+zt.delay;const Gn=this.visitStyle(On,rt);Gn.isEmptyStep=Sn,pe=Gn}return rt.currentAnimateTimings=null,{type:4,timings:zt,style:pe,options:null}}visitStyle(W,rt){const zt=this._makeStyleAst(W,rt);return this._validateStyleAst(zt,rt),zt}_makeStyleAst(W,rt){const zt=[],pe=Array.isArray(W.styles)?W.styles:[W.styles];for(let Sn of pe)"string"==typeof Sn?Sn===e.l3?zt.push(Sn):rt.errors.push(new t.vHH(3002,!1)):zt.push(rn(Sn));let Be=!1,On=null;return zt.forEach(Sn=>{if(Sn instanceof Map&&(Sn.has("easing")&&(On=Sn.get("easing"),Sn.delete("easing")),!Be))for(let Gn of Sn.values())if(Gn.toString().indexOf("{{")>=0){Be=!0;break}}),{type:6,styles:zt,easing:On,offset:W.offset,containsDynamicStyles:Be,options:null}}_validateStyleAst(W,rt){const zt=rt.currentAnimateTimings;let pe=rt.currentTime,Be=rt.currentTime;zt&&Be>0&&(Be-=zt.duration+zt.delay),W.styles.forEach(On=>{"string"!=typeof On&&On.forEach((Sn,Gn)=>{const ni=rt.collectedStyles.get(rt.currentQuerySelector),Lt=ni.get(Gn);let $t=!0;Lt&&(Be!=pe&&Be>=Lt.startTime&&pe<=Lt.endTime&&(rt.errors.push(function O(_e,W,rt,zt,pe){return new t.vHH(3010,!1)}()),$t=!1),Be=Lt.startTime),$t&&ni.set(Gn,{startTime:Be,endTime:pe}),rt.options&&function me(_e,W,rt){const zt=W.params||{},pe=_n(_e);pe.length&&pe.forEach(Be=>{zt.hasOwnProperty(Be)||rt.push(function _(_e){return new t.vHH(3001,!1)}())})}(Sn,rt.options,rt.errors)})})}visitKeyframes(W,rt){const zt={type:5,styles:[],options:null};if(!rt.currentAnimateTimings)return rt.errors.push(function M(){return new t.vHH(3011,!1)}()),zt;let Be=0;const On=[];let Sn=!1,Gn=!1,ni=0;const Lt=W.steps.map(So=>{const Co=this._makeStyleAst(So,rt);let Xo=null!=Co.offset?Co.offset:function fi(_e){if("string"==typeof _e)return null;let W=null;if(Array.isArray(_e))_e.forEach(rt=>{if(rt instanceof Map&&rt.has("offset")){const zt=rt;W=parseFloat(zt.get("offset")),zt.delete("offset")}});else if(_e instanceof Map&&_e.has("offset")){const rt=_e;W=parseFloat(rt.get("offset")),rt.delete("offset")}return W}(Co.styles),nr=0;return null!=Xo&&(Be++,nr=Co.offset=Xo),Gn=Gn||nr<0||nr>1,Sn=Sn||nr<ni,ni=nr,On.push(nr),Co});Gn&&rt.errors.push(function U(){return new t.vHH(3012,!1)}()),Sn&&rt.errors.push(function R(){return new t.vHH(3200,!1)}());const $t=W.steps.length;let mt=0;Be>0&&Be<$t?rt.errors.push(function A(){return new t.vHH(3202,!1)}()):0==Be&&(mt=1/($t-1));const ue=$t-1,He=rt.currentTime,ci=rt.currentAnimateTimings,Hi=ci.duration;return Lt.forEach((So,Co)=>{const Xo=mt>0?Co==ue?1:mt*Co:On[Co],nr=Xo*Hi;rt.currentTime=He+ci.delay+nr,ci.duration=nr,this._validateStyleAst(So,rt),So.offset=Xo,zt.styles.push(So)}),zt}visitReference(W,rt){return{type:8,animation:qe(this,ce(W.animation),rt),options:Ye(W.options)}}visitAnimateChild(W,rt){return rt.depCount++,{type:9,options:Ye(W.options)}}visitAnimateRef(W,rt){return{type:10,animation:this.visitReference(W.animation,rt),options:Ye(W.options)}}visitQuery(W,rt){const zt=rt.currentQuerySelector,pe=W.options||{};rt.queryCount++,rt.currentQuery=W;const[Be,On]=function Ki(_e){const W=!!_e.split(/\s*,\s*/).find(rt=>":self"==rt);return W&&(_e=_e.replace(Qi,"")),_e=_e.replace(/@\*/g,Ue).replace(/@\w+/g,rt=>Ue+"-"+rt.slice(1)).replace(/:animating/g,de),[_e,W]}(W.selector);rt.currentQuerySelector=zt.length?zt+" "+Be:Be,Rt(rt.collectedStyles,rt.currentQuerySelector,new Map);const Sn=qe(this,ce(W.animation),rt);return rt.currentQuery=null,rt.currentQuerySelector=zt,{type:11,selector:Be,limit:pe.limit||0,optional:!!pe.optional,includeSelf:On,animation:Sn,originalSelector:W.selector,options:Ye(W.options)}}visitStagger(W,rt){rt.currentQuery||rt.errors.push(function S(){return new t.vHH(3013,!1)}());const zt="full"===W.timings?{duration:0,delay:0,easing:"full"}:Bn(W.timings,rt.errors,!0);return{type:12,animation:qe(this,ce(W.animation),rt),timings:zt,options:null}}}class sn{constructor(W){this.errors=W,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ye(_e){return _e?(_e=Hn(_e)).params&&(_e.params=function Gi(_e){return _e?Hn(_e):null}(_e.params)):_e={},_e}function se(_e,W,rt){return{duration:_e,delay:W,easing:rt}}function Ve(_e,W,rt,zt,pe,Be,On=null,Sn=!1){return{type:1,element:_e,keyframes:W,preStyleProps:rt,postStyleProps:zt,duration:pe,delay:Be,totalTime:pe+Be,easing:On,subTimeline:Sn}}class An{constructor(){this._map=new Map}get(W){return this._map.get(W)||[]}append(W,rt){let zt=this._map.get(W);zt||this._map.set(W,zt=[]),zt.push(...rt)}has(W){return this._map.has(W)}clear(){this._map.clear()}}const Ji=new RegExp(":enter","g"),Ie=new RegExp(":leave","g");function ze(_e,W,rt,zt,pe,Be=new Map,On=new Map,Sn,Gn,ni=[]){return(new pn).buildKeyframes(_e,W,rt,zt,pe,Be,On,Sn,Gn,ni)}class pn{buildKeyframes(W,rt,zt,pe,Be,On,Sn,Gn,ni,Lt=[]){ni=ni||new An;const $t=new an(W,rt,ni,pe,Be,Lt,[]);$t.options=Gn;const mt=Gn.delay?ae(Gn.delay):0;$t.currentTimeline.delayNextStep(mt),$t.currentTimeline.setStyles([On],null,$t.errors,Gn),qe(this,zt,$t);const ue=$t.timelines.filter(He=>He.containsAnimation());if(ue.length&&Sn.size){let He;for(let ci=ue.length-1;ci>=0;ci--){const Hi=ue[ci];if(Hi.element===rt){He=Hi;break}}He&&!He.allowOnlyTimelineStyles()&&He.setStyles([Sn],null,$t.errors,Gn)}return ue.length?ue.map(He=>He.buildKeyframes()):[Ve(rt,[],[],[],0,mt,"",!1)]}visitTrigger(W,rt){}visitState(W,rt){}visitTransition(W,rt){}visitAnimateChild(W,rt){const zt=rt.subInstructions.get(rt.element);if(zt){const pe=rt.createSubContext(W.options),Be=rt.currentTimeline.currentTime,On=this._visitSubInstructions(zt,pe,pe.options);Be!=On&&rt.transformIntoNewTimeline(On)}rt.previousNode=W}visitAnimateRef(W,rt){const zt=rt.createSubContext(W.options);zt.transformIntoNewTimeline(),this._applyAnimationRefDelays([W.options,W.animation.options],rt,zt),this.visitReference(W.animation,zt),rt.transformIntoNewTimeline(zt.currentTimeline.currentTime),rt.previousNode=W}_applyAnimationRefDelays(W,rt,zt){for(const pe of W){const Be=pe?.delay;if(Be){const On="number"==typeof Be?Be:ae(Qe(Be,pe?.params??{},rt.errors));zt.delayNextStep(On)}}}_visitSubInstructions(W,rt,zt){let Be=rt.currentTimeline.currentTime;const On=null!=zt.duration?ae(zt.duration):null,Sn=null!=zt.delay?ae(zt.delay):null;return 0!==On&&W.forEach(Gn=>{const ni=rt.appendInstructionToTimeline(Gn,On,Sn);Be=Math.max(Be,ni.duration+ni.delay)}),Be}visitReference(W,rt){rt.updateOptions(W.options,!0),qe(this,W.animation,rt),rt.previousNode=W}visitSequence(W,rt){const zt=rt.subContextCount;let pe=rt;const Be=W.options;if(Be&&(Be.params||Be.delay)&&(pe=rt.createSubContext(Be),pe.transformIntoNewTimeline(),null!=Be.delay)){6==pe.previousNode.type&&(pe.currentTimeline.snapshotCurrentStyles(),pe.previousNode=fn);const On=ae(Be.delay);pe.delayNextStep(On)}W.steps.length&&(W.steps.forEach(On=>qe(this,On,pe)),pe.currentTimeline.applyStylesToKeyframe(),pe.subContextCount>zt&&pe.transformIntoNewTimeline()),rt.previousNode=W}visitGroup(W,rt){const zt=[];let pe=rt.currentTimeline.currentTime;const Be=W.options&&W.options.delay?ae(W.options.delay):0;W.steps.forEach(On=>{const Sn=rt.createSubContext(W.options);Be&&Sn.delayNextStep(Be),qe(this,On,Sn),pe=Math.max(pe,Sn.currentTimeline.currentTime),zt.push(Sn.currentTimeline)}),zt.forEach(On=>rt.currentTimeline.mergeTimelineCollectedStyles(On)),rt.transformIntoNewTimeline(pe),rt.previousNode=W}_visitTiming(W,rt){if(W.dynamic){const zt=W.strValue;return Bn(rt.params?Qe(zt,rt.params,rt.errors):zt,rt.errors)}return{duration:W.duration,delay:W.delay,easing:W.easing}}visitAnimate(W,rt){const zt=rt.currentAnimateTimings=this._visitTiming(W.timings,rt),pe=rt.currentTimeline;zt.delay&&(rt.incrementTime(zt.delay),pe.snapshotCurrentStyles());const Be=W.style;5==Be.type?this.visitKeyframes(Be,rt):(rt.incrementTime(zt.duration),this.visitStyle(Be,rt),pe.applyStylesToKeyframe()),rt.currentAnimateTimings=null,rt.previousNode=W}visitStyle(W,rt){const zt=rt.currentTimeline,pe=rt.currentAnimateTimings;!pe&&zt.hasCurrentStyleProperties()&&zt.forwardFrame();const Be=pe&&pe.easing||W.easing;W.isEmptyStep?zt.applyEmptyStep(Be):zt.setStyles(W.styles,Be,rt.errors,rt.options),rt.previousNode=W}visitKeyframes(W,rt){const zt=rt.currentAnimateTimings,pe=rt.currentTimeline.duration,Be=zt.duration,Sn=rt.createSubContext().currentTimeline;Sn.easing=zt.easing,W.styles.forEach(Gn=>{Sn.forwardTime((Gn.offset||0)*Be),Sn.setStyles(Gn.styles,Gn.easing,rt.errors,rt.options),Sn.applyStylesToKeyframe()}),rt.currentTimeline.mergeTimelineCollectedStyles(Sn),rt.transformIntoNewTimeline(pe+Be),rt.previousNode=W}visitQuery(W,rt){const zt=rt.currentTimeline.currentTime,pe=W.options||{},Be=pe.delay?ae(pe.delay):0;Be&&(6===rt.previousNode.type||0==zt&&rt.currentTimeline.hasCurrentStyleProperties())&&(rt.currentTimeline.snapshotCurrentStyles(),rt.previousNode=fn);let On=zt;const Sn=rt.invokeQuery(W.selector,W.originalSelector,W.limit,W.includeSelf,!!pe.optional,rt.errors);rt.currentQueryTotal=Sn.length;let Gn=null;Sn.forEach((ni,Lt)=>{rt.currentQueryIndex=Lt;const $t=rt.createSubContext(W.options,ni);Be&&$t.delayNextStep(Be),ni===rt.element&&(Gn=$t.currentTimeline),qe(this,W.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),On=Math.max(On,$t.currentTimeline.currentTime)}),rt.currentQueryIndex=0,rt.currentQueryTotal=0,rt.transformIntoNewTimeline(On),Gn&&(rt.currentTimeline.mergeTimelineCollectedStyles(Gn),rt.currentTimeline.snapshotCurrentStyles()),rt.previousNode=W}visitStagger(W,rt){const zt=rt.parentContext,pe=rt.currentTimeline,Be=W.timings,On=Math.abs(Be.duration),Sn=On*(rt.currentQueryTotal-1);let Gn=On*rt.currentQueryIndex;switch(Be.duration<0?"reverse":Be.easing){case"reverse":Gn=Sn-Gn;break;case"full":Gn=zt.currentStaggerTime}const Lt=rt.currentTimeline;Gn&&Lt.delayNextStep(Gn);const $t=Lt.currentTime;qe(this,W.animation,rt),rt.previousNode=W,zt.currentStaggerTime=pe.currentTime-$t+(pe.startTime-zt.currentTimeline.startTime)}}const fn={};class an{constructor(W,rt,zt,pe,Be,On,Sn,Gn){this._driver=W,this.element=rt,this.subInstructions=zt,this._enterClassName=pe,this._leaveClassName=Be,this.errors=On,this.timelines=Sn,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Gn||new Mn(this._driver,rt,0),Sn.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(W,rt){if(!W)return;const zt=W;let pe=this.options;null!=zt.duration&&(pe.duration=ae(zt.duration)),null!=zt.delay&&(pe.delay=ae(zt.delay));const Be=zt.params;if(Be){let On=pe.params;On||(On=this.options.params={}),Object.keys(Be).forEach(Sn=>{(!rt||!On.hasOwnProperty(Sn))&&(On[Sn]=Qe(Be[Sn],On,this.errors))})}}_copyOptions(){const W={};if(this.options){const rt=this.options.params;if(rt){const zt=W.params={};Object.keys(rt).forEach(pe=>{zt[pe]=rt[pe]})}}return W}createSubContext(W=null,rt,zt){const pe=rt||this.element,Be=new an(this._driver,pe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(pe,zt||0));return Be.previousNode=this.previousNode,Be.currentAnimateTimings=this.currentAnimateTimings,Be.options=this._copyOptions(),Be.updateOptions(W),Be.currentQueryIndex=this.currentQueryIndex,Be.currentQueryTotal=this.currentQueryTotal,Be.parentContext=this,this.subContextCount++,Be}transformIntoNewTimeline(W){return this.previousNode=fn,this.currentTimeline=this.currentTimeline.fork(this.element,W),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(W,rt,zt){const pe={duration:rt??W.duration,delay:this.currentTimeline.currentTime+(zt??0)+W.delay,easing:""},Be=new Tn(this._driver,W.element,W.keyframes,W.preStyleProps,W.postStyleProps,pe,W.stretchStartingKeyframe);return this.timelines.push(Be),pe}incrementTime(W){this.currentTimeline.forwardTime(this.currentTimeline.duration+W)}delayNextStep(W){W>0&&this.currentTimeline.delayNextStep(W)}invokeQuery(W,rt,zt,pe,Be,On){let Sn=[];if(pe&&Sn.push(this.element),W.length>0){W=(W=W.replace(Ji,"."+this._enterClassName)).replace(Ie,"."+this._leaveClassName);let ni=this._driver.query(this.element,W,1!=zt);0!==zt&&(ni=zt<0?ni.slice(ni.length+zt,ni.length):ni.slice(0,zt)),Sn.push(...ni)}return!Be&&0==Sn.length&&On.push(function w(_e){return new t.vHH(3014,!1)}()),Sn}}class Mn{constructor(W,rt,zt,pe){this._driver=W,this.element=rt,this.startTime=zt,this._elementTimelineStylesLookup=pe,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(rt),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(rt,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(W){const rt=1===this._keyframes.size&&this._pendingStyles.size;this.duration||rt?(this.forwardTime(this.currentTime+W),rt&&this.snapshotCurrentStyles()):this.startTime+=W}fork(W,rt){return this.applyStylesToKeyframe(),new Mn(this._driver,W,rt||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(W){this.applyStylesToKeyframe(),this.duration=W,this._loadKeyframe()}_updateStyle(W,rt){this._localTimelineStyles.set(W,rt),this._globalTimelineStyles.set(W,rt),this._styleSummary.set(W,{time:this.currentTime,value:rt})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(W){W&&this._previousKeyframe.set("easing",W);for(let[rt,zt]of this._globalTimelineStyles)this._backFill.set(rt,zt||e.l3),this._currentKeyframe.set(rt,e.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(W,rt,zt,pe){rt&&this._previousKeyframe.set("easing",rt);const Be=pe&&pe.params||{},On=function ie(_e,W){const rt=new Map;let zt;return _e.forEach(pe=>{if("*"===pe){zt=zt||W.keys();for(let Be of zt)rt.set(Be,e.l3)}else oe(pe,rt)}),rt}(W,this._globalTimelineStyles);for(let[Sn,Gn]of On){const ni=Qe(Gn,Be,zt);this._pendingStyles.set(Sn,ni),this._localTimelineStyles.has(Sn)||this._backFill.set(Sn,this._globalTimelineStyles.get(Sn)??e.l3),this._updateStyle(Sn,ni)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((W,rt)=>{this._currentKeyframe.set(rt,W)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((W,rt)=>{this._currentKeyframe.has(rt)||this._currentKeyframe.set(rt,W)}))}snapshotCurrentStyles(){for(let[W,rt]of this._localTimelineStyles)this._pendingStyles.set(W,rt),this._updateStyle(W,rt)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const W=[];for(let rt in this._currentKeyframe)W.push(rt);return W}mergeTimelineCollectedStyles(W){W._styleSummary.forEach((rt,zt)=>{const pe=this._styleSummary.get(zt);(!pe||rt.time>pe.time)&&this._updateStyle(zt,rt.value)})}buildKeyframes(){this.applyStylesToKeyframe();const W=new Set,rt=new Set,zt=1===this._keyframes.size&&0===this.duration;let pe=[];this._keyframes.forEach((Sn,Gn)=>{const ni=oe(Sn,new Map,this._backFill);ni.forEach((Lt,$t)=>{Lt===e.k1?W.add($t):Lt===e.l3&&rt.add($t)}),zt||ni.set("offset",Gn/this.duration),pe.push(ni)});const Be=W.size?xe(W.values()):[],On=rt.size?xe(rt.values()):[];if(zt){const Sn=pe[0],Gn=new Map(Sn);Sn.set("offset",0),Gn.set("offset",1),pe=[Sn,Gn]}return Ve(this.element,pe,Be,On,this.duration,this.startTime,this.easing,!1)}}class Tn extends Mn{constructor(W,rt,zt,pe,Be,On,Sn=!1){super(W,rt,On.delay),this.keyframes=zt,this.preStyleProps=pe,this.postStyleProps=Be,this._stretchStartingKeyframe=Sn,this.timings={duration:On.duration,delay:On.delay,easing:On.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let W=this.keyframes,{delay:rt,duration:zt,easing:pe}=this.timings;if(this._stretchStartingKeyframe&&rt){const Be=[],On=zt+rt,Sn=rt/On,Gn=oe(W[0]);Gn.set("offset",0),Be.push(Gn);const ni=oe(W[0]);ni.set("offset",bn(Sn)),Be.push(ni);const Lt=W.length-1;for(let $t=1;$t<=Lt;$t++){let mt=oe(W[$t]);const ue=mt.get("offset");mt.set("offset",bn((rt+ue*zt)/On)),Be.push(mt)}zt=On,rt=0,pe="",W=Be}return Ve(this.element,W,this.preStyleProps,this.postStyleProps,zt,rt,pe,!0)}}function bn(_e,W=3){const rt=Math.pow(10,W-1);return Math.round(_e*rt)/rt}class Le{}const Rn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fn extends Le{normalizePropertyName(W,rt){return ke(W)}normalizeStyleValue(W,rt,zt,pe){let Be="";const On=zt.toString().trim();if(Rn.has(rt)&&0!==zt&&"0"!==zt)if("number"==typeof zt)Be="px";else{const Sn=zt.match(/^[+-]?[\d\.]+([a-z]*)$/);Sn&&0==Sn[1].length&&pe.push(function f(_e,W){return new t.vHH(3005,!1)}())}return On+Be}}function si(_e,W,rt,zt,pe,Be,On,Sn,Gn,ni,Lt,$t,mt){return{type:0,element:_e,triggerName:W,isRemovalTransition:pe,fromState:rt,fromStyles:Be,toState:zt,toStyles:On,timelines:Sn,queriedElements:Gn,preStyleProps:ni,postStyleProps:Lt,totalTime:$t,errors:mt}}const Di={};class Ii{constructor(W,rt,zt){this._triggerName=W,this.ast=rt,this._stateStyles=zt}match(W,rt,zt,pe){return function gi(_e,W,rt,zt,pe){return _e.some(Be=>Be(W,rt,zt,pe))}(this.ast.matchers,W,rt,zt,pe)}buildStyles(W,rt,zt){let pe=this._stateStyles.get("*");return void 0!==W&&(pe=this._stateStyles.get(W?.toString())||pe),pe?pe.buildStyles(rt,zt):new Map}build(W,rt,zt,pe,Be,On,Sn,Gn,ni,Lt){const $t=[],mt=this.ast.options&&this.ast.options.params||Di,He=this.buildStyles(zt,Sn&&Sn.params||Di,$t),ci=Gn&&Gn.params||Di,Hi=this.buildStyles(pe,ci,$t),So=new Set,Co=new Map,Xo=new Map,nr="void"===pe,Lr={params:Ni(ci,mt),delay:this.ast.options?.delay},dr=Lt?[]:ze(W,rt,this.ast.animation,Be,On,He,Hi,Lr,ni,$t);let lr=0;if(dr.forEach(Or=>{lr=Math.max(Or.duration+Or.delay,lr)}),$t.length)return si(rt,this._triggerName,zt,pe,nr,He,Hi,[],[],Co,Xo,lr,$t);dr.forEach(Or=>{const Fe=Or.element,cn=Rt(Co,Fe,new Set);Or.preStyleProps.forEach(en=>cn.add(en));const ve=Rt(Xo,Fe,new Set);Or.postStyleProps.forEach(en=>ve.add(en)),Fe!==rt&&So.add(Fe)});const fr=xe(So.values());return si(rt,this._triggerName,zt,pe,nr,He,Hi,dr,fr,Co,Xo,lr)}}function Ni(_e,W){const rt=Hn(W);for(const zt in _e)_e.hasOwnProperty(zt)&&null!=_e[zt]&&(rt[zt]=_e[zt]);return rt}class zi{constructor(W,rt,zt){this.styles=W,this.defaultParams=rt,this.normalizer=zt}buildStyles(W,rt){const zt=new Map,pe=Hn(this.defaultParams);return Object.keys(W).forEach(Be=>{const On=W[Be];null!==On&&(pe[Be]=On)}),this.styles.styles.forEach(Be=>{"string"!=typeof Be&&Be.forEach((On,Sn)=>{On&&(On=Qe(On,pe,rt));const Gn=this.normalizer.normalizePropertyName(Sn,rt);On=this.normalizer.normalizeStyleValue(Sn,Gn,On,rt),zt.set(Sn,On)})}),zt}}class io{constructor(W,rt,zt){this.name=W,this.ast=rt,this._normalizer=zt,this.transitionFactories=[],this.states=new Map,rt.states.forEach(pe=>{this.states.set(pe.name,new zi(pe.style,pe.options&&pe.options.params||{},zt))}),$o(this.states,"true","1"),$o(this.states,"false","0"),rt.transitions.forEach(pe=>{this.transitionFactories.push(new Ii(W,pe,this.states))}),this.fallbackTransition=function qo(_e,W,rt){return new Ii(_e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(On,Sn)=>!0],options:null,queryCount:0,depCount:0},W)}(W,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(W,rt,zt,pe){return this.transitionFactories.find(On=>On.match(W,rt,zt,pe))||null}matchStyles(W,rt,zt){return this.fallbackTransition.buildStyles(W,rt,zt)}}function $o(_e,W,rt){_e.has(W)?_e.has(rt)||_e.set(rt,_e.get(W)):_e.has(rt)&&_e.set(W,_e.get(rt))}const tr=new An;class mr{constructor(W,rt,zt){this.bodyNode=W,this._driver=rt,this._normalizer=zt,this._animations=new Map,this._playersById=new Map,this.players=[]}register(W,rt){const zt=[],Be=Yi(this._driver,rt,zt,[]);if(zt.length)throw function it(_e){return new t.vHH(3503,!1)}();this._animations.set(W,Be)}_buildPlayer(W,rt,zt){const pe=W.element,Be=At(this._normalizer,W.keyframes,rt,zt);return this._driver.animate(pe,Be,W.duration,W.delay,W.easing,[],!0)}create(W,rt,zt={}){const pe=[],Be=this._animations.get(W);let On;const Sn=new Map;if(Be?(On=ze(this._driver,rt,Be,Ge,Se,new Map,new Map,zt,tr,pe),On.forEach(Lt=>{const $t=Rt(Sn,Lt.element,new Map);Lt.postStyleProps.forEach(mt=>$t.set(mt,null))})):(pe.push(function It(){return new t.vHH(3300,!1)}()),On=[]),pe.length)throw function st(_e){return new t.vHH(3504,!1)}();Sn.forEach((Lt,$t)=>{Lt.forEach((mt,ue)=>{Lt.set(ue,this._driver.computeStyle($t,ue,e.l3))})});const ni=nt(On.map(Lt=>{const $t=Sn.get(Lt.element);return this._buildPlayer(Lt,new Map,$t)}));return this._playersById.set(W,ni),ni.onDestroy(()=>this.destroy(W)),this.players.push(ni),ni}destroy(W){const rt=this._getPlayer(W);rt.destroy(),this._playersById.delete(W);const zt=this.players.indexOf(rt);zt>=0&&this.players.splice(zt,1)}_getPlayer(W){const rt=this._playersById.get(W);if(!rt)throw function dt(_e){return new t.vHH(3301,!1)}();return rt}listen(W,rt,zt,pe){const Be=Nt(rt,"","","");return Dt(this._getPlayer(W),zt,Be,pe),()=>{}}command(W,rt,zt,pe){if("register"==zt)return void this.register(W,pe[0]);if("create"==zt)return void this.create(W,rt,pe[0]||{});const Be=this._getPlayer(W);switch(zt){case"play":Be.play();break;case"pause":Be.pause();break;case"reset":Be.reset();break;case"restart":Be.restart();break;case"finish":Be.finish();break;case"init":Be.init();break;case"setPosition":Be.setPosition(parseFloat(pe[0]));break;case"destroy":this.destroy(W)}}}const er="ng-animate-queued",Ti="ng-animate-disabled",cr=[],Uo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qi="__ng_removed";class xo{get params(){return this.options.params}constructor(W,rt=""){this.namespaceId=rt;const zt=W&&W.hasOwnProperty("value");if(this.value=function hn(_e){return _e??null}(zt?W.value:W),zt){const Be=Hn(W);delete Be.value,this.options=Be}else this.options={};this.options.params||(this.options.params={})}absorbOptions(W){const rt=W.params;if(rt){const zt=this.options.params;Object.keys(rt).forEach(pe=>{null==zt[pe]&&(zt[pe]=rt[pe])})}}}const Lo="void",Fi=new xo(Lo);class Go{constructor(W,rt,zt){this.id=W,this.hostElement=rt,this._engine=zt,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+W,ao(rt,this._hostClassName)}listen(W,rt,zt,pe){if(!this._triggers.has(rt))throw function St(_e,W){return new t.vHH(3302,!1)}();if(null==zt||0==zt.length)throw function bt(_e){return new t.vHH(3303,!1)}();if(!function ai(_e){return"start"==_e||"done"==_e}(zt))throw function u(_e,W){return new t.vHH(3400,!1)}();const Be=Rt(this._elementListeners,W,[]),On={name:rt,phase:zt,callback:pe};Be.push(On);const Sn=Rt(this._engine.statesByElement,W,new Map);return Sn.has(rt)||(ao(W,Pe),ao(W,Pe+"-"+rt),Sn.set(rt,Fi)),()=>{this._engine.afterFlush(()=>{const Gn=Be.indexOf(On);Gn>=0&&Be.splice(Gn,1),this._triggers.has(rt)||Sn.delete(rt)})}}register(W,rt){return!this._triggers.has(W)&&(this._triggers.set(W,rt),!0)}_getTrigger(W){const rt=this._triggers.get(W);if(!rt)throw function ut(_e){return new t.vHH(3401,!1)}();return rt}trigger(W,rt,zt,pe=!0){const Be=this._getTrigger(rt),On=new Yn(this.id,rt,W);let Sn=this._engine.statesByElement.get(W);Sn||(ao(W,Pe),ao(W,Pe+"-"+rt),this._engine.statesByElement.set(W,Sn=new Map));let Gn=Sn.get(rt);const ni=new xo(zt,this.id);if(!(zt&&zt.hasOwnProperty("value"))&&Gn&&ni.absorbOptions(Gn.options),Sn.set(rt,ni),Gn||(Gn=Fi),ni.value!==Lo&&Gn.value===ni.value){if(!function Et(_e,W){const rt=Object.keys(_e),zt=Object.keys(W);if(rt.length!=zt.length)return!1;for(let pe=0;pe<rt.length;pe++){const Be=rt[pe];if(!W.hasOwnProperty(Be)||_e[Be]!==W[Be])return!1}return!0}(Gn.params,ni.params)){const ci=[],Hi=Be.matchStyles(Gn.value,Gn.params,ci),So=Be.matchStyles(ni.value,ni.params,ci);ci.length?this._engine.reportError(ci):this._engine.afterFlush(()=>{xn(W,Hi),Ht(W,So)})}return}const mt=Rt(this._engine.playersByElement,W,[]);mt.forEach(ci=>{ci.namespaceId==this.id&&ci.triggerName==rt&&ci.queued&&ci.destroy()});let ue=Be.matchTransition(Gn.value,ni.value,W,ni.params),He=!1;if(!ue){if(!pe)return;ue=Be.fallbackTransition,He=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:W,triggerName:rt,transition:ue,fromState:Gn,toState:ni,player:On,isFallbackTransition:He}),He||(ao(W,er),On.onStart(()=>{Me(W,er)})),On.onDone(()=>{let ci=this.players.indexOf(On);ci>=0&&this.players.splice(ci,1);const Hi=this._engine.playersByElement.get(W);if(Hi){let So=Hi.indexOf(On);So>=0&&Hi.splice(So,1)}}),this.players.push(On),mt.push(On),On}deregister(W){this._triggers.delete(W),this._engine.statesByElement.forEach(rt=>rt.delete(W)),this._elementListeners.forEach((rt,zt)=>{this._elementListeners.set(zt,rt.filter(pe=>pe.name!=W))})}clearElementCache(W){this._engine.statesByElement.delete(W),this._elementListeners.delete(W);const rt=this._engine.playersByElement.get(W);rt&&(rt.forEach(zt=>zt.destroy()),this._engine.playersByElement.delete(W))}_signalRemovalForInnerTriggers(W,rt){const zt=this._engine.driver.query(W,Ue,!0);zt.forEach(pe=>{if(pe[qi])return;const Be=this._engine.fetchNamespacesByElement(pe);Be.size?Be.forEach(On=>On.triggerLeaveAnimation(pe,rt,!1,!0)):this.clearElementCache(pe)}),this._engine.afterFlushAnimationsDone(()=>zt.forEach(pe=>this.clearElementCache(pe)))}triggerLeaveAnimation(W,rt,zt,pe){const Be=this._engine.statesByElement.get(W),On=new Map;if(Be){const Sn=[];if(Be.forEach((Gn,ni)=>{if(On.set(ni,Gn.value),this._triggers.has(ni)){const Lt=this.trigger(W,ni,Lo,pe);Lt&&Sn.push(Lt)}}),Sn.length)return this._engine.markElementAsRemoved(this.id,W,!0,rt,On),zt&&nt(Sn).onDone(()=>this._engine.processLeaveNode(W)),!0}return!1}prepareLeaveAnimationListeners(W){const rt=this._elementListeners.get(W),zt=this._engine.statesByElement.get(W);if(rt&&zt){const pe=new Set;rt.forEach(Be=>{const On=Be.name;if(pe.has(On))return;pe.add(On);const Gn=this._triggers.get(On).fallbackTransition,ni=zt.get(On)||Fi,Lt=new xo(Lo),$t=new Yn(this.id,On,W);this._engine.totalQueuedPlayers++,this._queue.push({element:W,triggerName:On,transition:Gn,fromState:ni,toState:Lt,player:$t,isFallbackTransition:!0})})}}removeNode(W,rt){const zt=this._engine;if(W.childElementCount&&this._signalRemovalForInnerTriggers(W,rt),this.triggerLeaveAnimation(W,rt,!0))return;let pe=!1;if(zt.totalAnimations){const Be=zt.players.length?zt.playersByQueriedElement.get(W):[];if(Be&&Be.length)pe=!0;else{let On=W;for(;On=On.parentNode;)if(zt.statesByElement.get(On)){pe=!0;break}}}if(this.prepareLeaveAnimationListeners(W),pe)zt.markElementAsRemoved(this.id,W,!1,rt);else{const Be=W[qi];(!Be||Be===Uo)&&(zt.afterFlush(()=>this.clearElementCache(W)),zt.destroyInnerAnimations(W),zt._onRemovalComplete(W,rt))}}insertNode(W,rt){ao(W,this._hostClassName)}drainQueuedTransitions(W){const rt=[];return this._queue.forEach(zt=>{const pe=zt.player;if(pe.destroyed)return;const Be=zt.element,On=this._elementListeners.get(Be);On&&On.forEach(Sn=>{if(Sn.name==zt.triggerName){const Gn=Nt(Be,zt.triggerName,zt.fromState.value,zt.toState.value);Gn._data=W,Dt(zt.player,Sn.phase,Gn,Sn.callback)}}),pe.markedForDestroy?this._engine.afterFlush(()=>{pe.destroy()}):rt.push(zt)}),this._queue=[],rt.sort((zt,pe)=>{const Be=zt.transition.ast.depCount,On=pe.transition.ast.depCount;return 0==Be||0==On?Be-On:this._engine.driver.containsElement(zt.element,pe.element)?1:-1})}destroy(W){this.players.forEach(rt=>rt.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,W)}}class gn{_onRemovalComplete(W,rt){this.onRemovalComplete(W,rt)}constructor(W,rt,zt){this.bodyNode=W,this.driver=rt,this._normalizer=zt,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(pe,Be)=>{}}get queuedPlayers(){const W=[];return this._namespaceList.forEach(rt=>{rt.players.forEach(zt=>{zt.queued&&W.push(zt)})}),W}createNamespace(W,rt){const zt=new Go(W,rt,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,rt)?this._balanceNamespaceList(zt,rt):(this.newHostElements.set(rt,zt),this.collectEnterElement(rt)),this._namespaceLookup[W]=zt}_balanceNamespaceList(W,rt){const zt=this._namespaceList,pe=this.namespacesByHostElement;if(zt.length-1>=0){let On=!1,Sn=this.driver.getParentElement(rt);for(;Sn;){const Gn=pe.get(Sn);if(Gn){const ni=zt.indexOf(Gn);zt.splice(ni+1,0,W),On=!0;break}Sn=this.driver.getParentElement(Sn)}On||zt.unshift(W)}else zt.push(W);return pe.set(rt,W),W}register(W,rt){let zt=this._namespaceLookup[W];return zt||(zt=this.createNamespace(W,rt)),zt}registerTrigger(W,rt,zt){let pe=this._namespaceLookup[W];pe&&pe.register(rt,zt)&&this.totalAnimations++}destroy(W,rt){W&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const zt=this._fetchNamespace(W);this.namespacesByHostElement.delete(zt.hostElement);const pe=this._namespaceList.indexOf(zt);pe>=0&&this._namespaceList.splice(pe,1),zt.destroy(rt),delete this._namespaceLookup[W]}))}_fetchNamespace(W){return this._namespaceLookup[W]}fetchNamespacesByElement(W){const rt=new Set,zt=this.statesByElement.get(W);if(zt)for(let pe of zt.values())if(pe.namespaceId){const Be=this._fetchNamespace(pe.namespaceId);Be&&rt.add(Be)}return rt}trigger(W,rt,zt,pe){if(In(rt)){const Be=this._fetchNamespace(W);if(Be)return Be.trigger(rt,zt,pe),!0}return!1}insertNode(W,rt,zt,pe){if(!In(rt))return;const Be=rt[qi];if(Be&&Be.setForRemoval){Be.setForRemoval=!1,Be.setForMove=!0;const On=this.collectedLeaveElements.indexOf(rt);On>=0&&this.collectedLeaveElements.splice(On,1)}if(W){const On=this._fetchNamespace(W);On&&On.insertNode(rt,zt)}pe&&this.collectEnterElement(rt)}collectEnterElement(W){this.collectedEnterElements.push(W)}markElementAsDisabled(W,rt){rt?this.disabledNodes.has(W)||(this.disabledNodes.add(W),ao(W,Ti)):this.disabledNodes.has(W)&&(this.disabledNodes.delete(W),Me(W,Ti))}removeNode(W,rt,zt){if(In(rt)){const pe=W?this._fetchNamespace(W):null;pe?pe.removeNode(rt,zt):this.markElementAsRemoved(W,rt,!1,zt);const Be=this.namespacesByHostElement.get(rt);Be&&Be.id!==W&&Be.removeNode(rt,zt)}else this._onRemovalComplete(rt,zt)}markElementAsRemoved(W,rt,zt,pe,Be){this.collectedLeaveElements.push(rt),rt[qi]={namespaceId:W,setForRemoval:pe,hasAnimation:zt,removedBeforeQueried:!1,previousTriggersValues:Be}}listen(W,rt,zt,pe,Be){return In(rt)?this._fetchNamespace(W).listen(rt,zt,pe,Be):()=>{}}_buildInstruction(W,rt,zt,pe,Be){return W.transition.build(this.driver,W.element,W.fromState.value,W.toState.value,zt,pe,W.fromState.options,W.toState.options,rt,Be)}destroyInnerAnimations(W){let rt=this.driver.query(W,Ue,!0);rt.forEach(zt=>this.destroyActiveAnimationsForElement(zt)),0!=this.playersByQueriedElement.size&&(rt=this.driver.query(W,de,!0),rt.forEach(zt=>this.finishActiveQueriedAnimationOnElement(zt)))}destroyActiveAnimationsForElement(W){const rt=this.playersByElement.get(W);rt&&rt.forEach(zt=>{zt.queued?zt.markedForDestroy=!0:zt.destroy()})}finishActiveQueriedAnimationOnElement(W){const rt=this.playersByQueriedElement.get(W);rt&&rt.forEach(zt=>zt.finish())}whenRenderingDone(){return new Promise(W=>{if(this.players.length)return nt(this.players).onDone(()=>W());W()})}processLeaveNode(W){const rt=W[qi];if(rt&&rt.setForRemoval){if(W[qi]=Uo,rt.namespaceId){this.destroyInnerAnimations(W);const zt=this._fetchNamespace(rt.namespaceId);zt&&zt.clearElementCache(W)}this._onRemovalComplete(W,rt.setForRemoval)}W.classList?.contains(Ti)&&this.markElementAsDisabled(W,!1),this.driver.query(W,".ng-animate-disabled",!0).forEach(zt=>{this.markElementAsDisabled(zt,!1)})}flush(W=-1){let rt=[];if(this.newHostElements.size&&(this.newHostElements.forEach((zt,pe)=>this._balanceNamespaceList(zt,pe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let zt=0;zt<this.collectedEnterElements.length;zt++)ao(this.collectedEnterElements[zt],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const zt=[];try{rt=this._flushAnimations(zt,W)}finally{for(let pe=0;pe<zt.length;pe++)zt[pe]()}}else for(let zt=0;zt<this.collectedLeaveElements.length;zt++)this.processLeaveNode(this.collectedLeaveElements[zt]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(zt=>zt()),this._flushFns=[],this._whenQuietFns.length){const zt=this._whenQuietFns;this._whenQuietFns=[],rt.length?nt(rt).onDone(()=>{zt.forEach(pe=>pe())}):zt.forEach(pe=>pe())}}reportError(W){throw function Z(_e){return new t.vHH(3402,!1)}()}_flushAnimations(W,rt){const zt=new An,pe=[],Be=new Map,On=[],Sn=new Map,Gn=new Map,ni=new Map,Lt=new Set;this.disabledNodes.forEach(ti=>{Lt.add(ti);const _i=this.driver.query(ti,".ng-animate-queued",!0);for(let vi=0;vi<_i.length;vi++)Lt.add(_i[vi])});const $t=this.bodyNode,mt=Array.from(this.statesByElement.keys()),ue=zo(mt,this.collectedEnterElements),He=new Map;let ci=0;ue.forEach((ti,_i)=>{const vi=Ge+ci++;He.set(_i,vi),ti.forEach(no=>ao(no,vi))});const Hi=[],So=new Set,Co=new Set;for(let ti=0;ti<this.collectedLeaveElements.length;ti++){const _i=this.collectedLeaveElements[ti],vi=_i[qi];vi&&vi.setForRemoval&&(Hi.push(_i),So.add(_i),vi.hasAnimation?this.driver.query(_i,".ng-star-inserted",!0).forEach(no=>So.add(no)):Co.add(_i))}const Xo=new Map,nr=zo(mt,Array.from(So));nr.forEach((ti,_i)=>{const vi=Se+ci++;Xo.set(_i,vi),ti.forEach(no=>ao(no,vi))}),W.push(()=>{ue.forEach((ti,_i)=>{const vi=He.get(_i);ti.forEach(no=>Me(no,vi))}),nr.forEach((ti,_i)=>{const vi=Xo.get(_i);ti.forEach(no=>Me(no,vi))}),Hi.forEach(ti=>{this.processLeaveNode(ti)})});const Lr=[],dr=[];for(let ti=this._namespaceList.length-1;ti>=0;ti--)this._namespaceList[ti].drainQueuedTransitions(rt).forEach(vi=>{const no=vi.player,ho=vi.element;if(Lr.push(no),this.collectedEnterElements.length){const or=ho[qi];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(vi.triggerName)){const Cr=or.previousTriggersValues.get(vi.triggerName),ur=this.statesByElement.get(vi.element);if(ur&&ur.has(vi.triggerName)){const Ir=ur.get(vi.triggerName);Ir.value=Cr,ur.set(vi.triggerName,Ir)}}return void no.destroy()}}const ir=!$t||!this.driver.containsElement($t,ho),to=Xo.get(ho),sr=He.get(ho),Fo=this._buildInstruction(vi,zt,sr,to,ir);if(Fo.errors&&Fo.errors.length)return void dr.push(Fo);if(ir)return no.onStart(()=>xn(ho,Fo.fromStyles)),no.onDestroy(()=>Ht(ho,Fo.toStyles)),void pe.push(no);if(vi.isFallbackTransition)return no.onStart(()=>xn(ho,Fo.fromStyles)),no.onDestroy(()=>Ht(ho,Fo.toStyles)),void pe.push(no);const co=[];Fo.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||co.push(or)}),Fo.timelines=co,zt.append(ho,Fo.timelines),On.push({instruction:Fo,player:no,element:ho}),Fo.queriedElements.forEach(or=>Rt(Sn,or,[]).push(no)),Fo.preStyleProps.forEach((or,Cr)=>{if(or.size){let ur=Gn.get(Cr);ur||Gn.set(Cr,ur=new Set),or.forEach((Ir,go)=>ur.add(go))}}),Fo.postStyleProps.forEach((or,Cr)=>{let ur=ni.get(Cr);ur||ni.set(Cr,ur=new Set),or.forEach((Ir,go)=>ur.add(go))})});if(dr.length){const ti=[];dr.forEach(_i=>{ti.push(function F(_e,W){return new t.vHH(3505,!1)}())}),Lr.forEach(_i=>_i.destroy()),this.reportError(ti)}const lr=new Map,fr=new Map;On.forEach(ti=>{const _i=ti.element;zt.has(_i)&&(fr.set(_i,_i),this._beforeAnimationBuild(ti.player.namespaceId,ti.instruction,lr))}),pe.forEach(ti=>{const _i=ti.element;this._getPreviousPlayers(_i,!1,ti.namespaceId,ti.triggerName,null).forEach(no=>{Rt(lr,_i,[]).push(no),no.destroy()})});const Or=Hi.filter(ti=>on(ti,Gn,ni)),Fe=new Map;No(Fe,this.driver,Co,ni,e.l3).forEach(ti=>{on(ti,Gn,ni)&&Or.push(ti)});const ve=new Map;ue.forEach((ti,_i)=>{No(ve,this.driver,new Set(ti),Gn,e.k1)}),Or.forEach(ti=>{const _i=Fe.get(ti),vi=ve.get(ti);Fe.set(ti,new Map([..._i?.entries()??[],...vi?.entries()??[]]))});const en=[],zn=[],Mi={};On.forEach(ti=>{const{element:_i,player:vi,instruction:no}=ti;if(zt.has(_i)){if(Lt.has(_i))return vi.onDestroy(()=>Ht(_i,no.toStyles)),vi.disabled=!0,vi.overrideTotalTime(no.totalTime),void pe.push(vi);let ho=Mi;if(fr.size>1){let to=_i;const sr=[];for(;to=to.parentNode;){const Fo=fr.get(to);if(Fo){ho=Fo;break}sr.push(to)}sr.forEach(Fo=>fr.set(Fo,ho))}const ir=this._buildAnimation(vi.namespaceId,no,lr,Be,ve,Fe);if(vi.setRealPlayer(ir),ho===Mi)en.push(vi);else{const to=this.playersByElement.get(ho);to&&to.length&&(vi.parentPlayer=nt(to)),pe.push(vi)}}else xn(_i,no.fromStyles),vi.onDestroy(()=>Ht(_i,no.toStyles)),zn.push(vi),Lt.has(_i)&&pe.push(vi)}),zn.forEach(ti=>{const _i=Be.get(ti.element);if(_i&&_i.length){const vi=nt(_i);ti.setRealPlayer(vi)}}),pe.forEach(ti=>{ti.parentPlayer?ti.syncPlayerEvents(ti.parentPlayer):ti.destroy()});for(let ti=0;ti<Hi.length;ti++){const _i=Hi[ti],vi=_i[qi];if(Me(_i,Se),vi&&vi.hasAnimation)continue;let no=[];if(Sn.size){let ir=Sn.get(_i);ir&&ir.length&&no.push(...ir);let to=this.driver.query(_i,de,!0);for(let sr=0;sr<to.length;sr++){let Fo=Sn.get(to[sr]);Fo&&Fo.length&&no.push(...Fo)}}const ho=no.filter(ir=>!ir.destroyed);ho.length?Qn(this,_i,ho):this.processLeaveNode(_i)}return Hi.length=0,en.forEach(ti=>{this.players.push(ti),ti.onDone(()=>{ti.destroy();const _i=this.players.indexOf(ti);this.players.splice(_i,1)}),ti.play()}),en}afterFlush(W){this._flushFns.push(W)}afterFlushAnimationsDone(W){this._whenQuietFns.push(W)}_getPreviousPlayers(W,rt,zt,pe,Be){let On=[];if(rt){const Sn=this.playersByQueriedElement.get(W);Sn&&(On=Sn)}else{const Sn=this.playersByElement.get(W);if(Sn){const Gn=!Be||Be==Lo;Sn.forEach(ni=>{ni.queued||!Gn&&ni.triggerName!=pe||On.push(ni)})}}return(zt||pe)&&(On=On.filter(Sn=>!(zt&&zt!=Sn.namespaceId||pe&&pe!=Sn.triggerName))),On}_beforeAnimationBuild(W,rt,zt){const Be=rt.element,On=rt.isRemovalTransition?void 0:W,Sn=rt.isRemovalTransition?void 0:rt.triggerName;for(const Gn of rt.timelines){const ni=Gn.element,Lt=ni!==Be,$t=Rt(zt,ni,[]);this._getPreviousPlayers(ni,Lt,On,Sn,rt.toState).forEach(ue=>{const He=ue.getRealPlayer();He.beforeDestroy&&He.beforeDestroy(),ue.destroy(),$t.push(ue)})}xn(Be,rt.fromStyles)}_buildAnimation(W,rt,zt,pe,Be,On){const Sn=rt.triggerName,Gn=rt.element,ni=[],Lt=new Set,$t=new Set,mt=rt.timelines.map(He=>{const ci=He.element;Lt.add(ci);const Hi=ci[qi];if(Hi&&Hi.removedBeforeQueried)return new e.ZN(He.duration,He.delay);const So=ci!==Gn,Co=function J(_e){const W=[];return Zt(_e,W),W}((zt.get(ci)||cr).map(lr=>lr.getRealPlayer())).filter(lr=>!!lr.element&&lr.element===ci),Xo=Be.get(ci),nr=On.get(ci),Lr=At(this._normalizer,He.keyframes,Xo,nr),dr=this._buildPlayer(He,Lr,Co);if(He.subTimeline&&pe&&$t.add(ci),So){const lr=new Yn(W,Sn,ci);lr.setRealPlayer(dr),ni.push(lr)}return dr});ni.forEach(He=>{Rt(this.playersByQueriedElement,He.element,[]).push(He),He.onDone(()=>function te(_e,W,rt){let zt=_e.get(W);if(zt){if(zt.length){const pe=zt.indexOf(rt);zt.splice(pe,1)}0==zt.length&&_e.delete(W)}return zt}(this.playersByQueriedElement,He.element,He))}),Lt.forEach(He=>ao(He,Ee));const ue=nt(mt);return ue.onDestroy(()=>{Lt.forEach(He=>Me(He,Ee)),Ht(Gn,rt.toStyles)}),$t.forEach(He=>{Rt(pe,He,[]).push(ue)}),ue}_buildPlayer(W,rt,zt){return rt.length>0?this.driver.animate(W.element,rt,W.duration,W.delay,W.easing,zt):new e.ZN(W.duration,W.delay)}}class Yn{constructor(W,rt,zt){this.namespaceId=W,this.triggerName=rt,this.element=zt,this._player=new e.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(W){this._containsRealPlayer||(this._player=W,this._queuedCallbacks.forEach((rt,zt)=>{rt.forEach(pe=>Dt(W,zt,void 0,pe))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(W.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(W){this.totalTime=W}syncPlayerEvents(W){const rt=this._player;rt.triggerCallback&&W.onStart(()=>rt.triggerCallback("start")),W.onDone(()=>this.finish()),W.onDestroy(()=>this.destroy())}_queueEvent(W,rt){Rt(this._queuedCallbacks,W,[]).push(rt)}onDone(W){this.queued&&this._queueEvent("done",W),this._player.onDone(W)}onStart(W){this.queued&&this._queueEvent("start",W),this._player.onStart(W)}onDestroy(W){this.queued&&this._queueEvent("destroy",W),this._player.onDestroy(W)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(W){this.queued||this._player.setPosition(W)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(W){const rt=this._player;rt.triggerCallback&&rt.triggerCallback(W)}}function In(_e){return _e&&1===_e.nodeType}function Bi(_e,W){const rt=_e.style.display;return _e.style.display=W??"none",rt}function No(_e,W,rt,zt,pe){const Be=[];rt.forEach(Gn=>Be.push(Bi(Gn)));const On=[];zt.forEach((Gn,ni)=>{const Lt=new Map;Gn.forEach($t=>{const mt=W.computeStyle(ni,$t,pe);Lt.set($t,mt),(!mt||0==mt.length)&&(ni[qi]=bo,On.push(ni))}),_e.set(ni,Lt)});let Sn=0;return rt.forEach(Gn=>Bi(Gn,Be[Sn++])),On}function zo(_e,W){const rt=new Map;if(_e.forEach(Sn=>rt.set(Sn,[])),0==W.length)return rt;const pe=new Set(W),Be=new Map;function On(Sn){if(!Sn)return 1;let Gn=Be.get(Sn);if(Gn)return Gn;const ni=Sn.parentNode;return Gn=rt.has(ni)?ni:pe.has(ni)?1:On(ni),Be.set(Sn,Gn),Gn}return W.forEach(Sn=>{const Gn=On(Sn);1!==Gn&&rt.get(Gn).push(Sn)}),rt}function ao(_e,W){_e.classList?.add(W)}function Me(_e,W){_e.classList?.remove(W)}function Qn(_e,W,rt){nt(rt).onDone(()=>_e.processLeaveNode(W))}function Zt(_e,W){for(let rt=0;rt<_e.length;rt++){const zt=_e[rt];zt instanceof e.ZE?Zt(zt.players,W):W.push(zt)}}function on(_e,W,rt){const zt=rt.get(_e);if(!zt)return!1;let pe=W.get(_e);return pe?zt.forEach(Be=>pe.add(Be)):W.set(_e,zt),rt.delete(_e),!0}class ii{constructor(W,rt,zt){this.bodyNode=W,this._driver=rt,this._normalizer=zt,this._triggerCache={},this.onRemovalComplete=(pe,Be)=>{},this._transitionEngine=new gn(W,rt,zt),this._timelineEngine=new mr(W,rt,zt),this._transitionEngine.onRemovalComplete=(pe,Be)=>this.onRemovalComplete(pe,Be)}registerTrigger(W,rt,zt,pe,Be){const On=W+"-"+pe;let Sn=this._triggerCache[On];if(!Sn){const Gn=[],Lt=Yi(this._driver,Be,Gn,[]);if(Gn.length)throw function tt(_e,W){return new t.vHH(3404,!1)}();Sn=function Mo(_e,W,rt){return new io(_e,W,rt)}(pe,Lt,this._normalizer),this._triggerCache[On]=Sn}this._transitionEngine.registerTrigger(rt,pe,Sn)}register(W,rt){this._transitionEngine.register(W,rt)}destroy(W,rt){this._transitionEngine.destroy(W,rt)}onInsert(W,rt,zt,pe){this._transitionEngine.insertNode(W,rt,zt,pe)}onRemove(W,rt,zt){this._transitionEngine.removeNode(W,rt,zt)}disableAnimations(W,rt){this._transitionEngine.markElementAsDisabled(W,rt)}process(W,rt,zt,pe){if("@"==zt.charAt(0)){const[Be,On]=Bt(zt);this._timelineEngine.command(Be,rt,On,pe)}else this._transitionEngine.trigger(W,rt,zt,pe)}listen(W,rt,zt,pe,Be){if("@"==zt.charAt(0)){const[On,Sn]=Bt(zt);return this._timelineEngine.listen(On,rt,Sn,Be)}return this._transitionEngine.listen(W,rt,zt,pe,Be)}flush(W=-1){this._transitionEngine.flush(W)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(W){this._transitionEngine.afterFlushAnimationsDone(W)}}let Oo=(()=>{class _e{static{this.initialStylesByElement=new WeakMap}constructor(rt,zt,pe){this._element=rt,this._startStyles=zt,this._endStyles=pe,this._state=0;let Be=_e.initialStylesByElement.get(rt);Be||_e.initialStylesByElement.set(rt,Be=new Map),this._initialStyles=Be}start(){this._state<1&&(this._startStyles&&Ht(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ht(this._element,this._initialStyles),this._endStyles&&(Ht(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_e.initialStylesByElement.delete(this._element),this._startStyles&&(xn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xn(this._element,this._endStyles),this._endStyles=null),Ht(this._element,this._initialStyles),this._state=3)}}return _e})();function rr(_e){let W=null;return _e.forEach((rt,zt)=>{(function jo(_e){return"display"===_e||"position"===_e})(zt)&&(W=W||new Map,W.set(zt,rt))}),W}class Nr{constructor(W,rt,zt,pe){this.element=W,this.keyframes=rt,this.options=zt,this._specialStyles=pe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=zt.duration,this._delay=zt.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(W=>W()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const W=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,W,this.options),this._finalKeyframe=W.length?W[W.length-1]:new Map;const rt=()=>this._onFinish();this.domPlayer.addEventListener("finish",rt),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",rt)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(W){const rt=[];return W.forEach(zt=>{rt.push(Object.fromEntries(zt))}),rt}_triggerWebAnimation(W,rt,zt){return W.animate(this._convertKeyframesToObject(rt),zt)}onStart(W){this._originalOnStartFns.push(W),this._onStartFns.push(W)}onDone(W){this._originalOnDoneFns.push(W),this._onDoneFns.push(W)}onDestroy(W){this._onDestroyFns.push(W)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(W=>W()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(W=>W()),this._onDestroyFns=[])}setPosition(W){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=W*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const W=new Map;this.hasStarted()&&this._finalKeyframe.forEach((zt,pe)=>{"offset"!==pe&&W.set(pe,this._finished?zt:kn(this.element,pe))}),this.currentSnapshot=W}triggerCallback(W){const rt="start"===W?this._onStartFns:this._onDoneFns;rt.forEach(zt=>zt()),rt.length=0}}class Io{validateStyleProperty(W){return!0}validateAnimatableStyleProperty(W){return!0}matchesElement(W,rt){return!1}containsElement(W,rt){return Gt(W,rt)}getParentElement(W){return k(W)}query(W,rt,zt){return De(W,rt,zt)}computeStyle(W,rt,zt){return window.getComputedStyle(W)[rt]}animate(W,rt,zt,pe,Be,On=[]){const Gn={duration:zt,delay:pe,fill:0==pe?"both":"forwards"};Be&&(Gn.easing=Be);const ni=new Map,Lt=On.filter(ue=>ue instanceof Nr);(function Ne(_e,W){return 0===_e||0===W})(zt,pe)&&Lt.forEach(ue=>{ue.currentSnapshot.forEach((He,ci)=>ni.set(ci,He))});let $t=function re(_e){return _e.length?_e[0]instanceof Map?_e:_e.map(W=>rn(W)):[]}(rt).map(ue=>oe(ue));$t=function Ke(_e,W,rt){if(rt.size&&W.length){let zt=W[0],pe=[];if(rt.forEach((Be,On)=>{zt.has(On)||pe.push(On),zt.set(On,Be)}),pe.length)for(let Be=1;Be<W.length;Be++){let On=W[Be];pe.forEach(Sn=>On.set(Sn,kn(_e,Sn)))}}return W}(W,$t,ni);const mt=function Si(_e,W){let rt=null,zt=null;return Array.isArray(W)&&W.length?(rt=rr(W[0]),W.length>1&&(zt=rr(W[W.length-1]))):W instanceof Map&&(rt=rr(W)),rt||zt?new Oo(_e,rt,zt):null}(W,$t);return new Nr(W,$t,Gn,mt)}}},3452:(Qt,$,o)=>{"use strict";o.d($,{XD:()=>v,dD:()=>f,xI:()=>m});var e=o(5879),t=o(8337),a=o(2495),i=o(8645),g=o(7394);let T=0;const _=new e.OlP("CdkAccordion");let m=(()=>{class C{constructor(){this._stateChanges=new i.x,this._openCloseAllActions=new i.x,this.id="cdk-accordion-"+T++,this._multi=!1}get multi(){return this._multi}set multi(y){this._multi=(0,a.Ig)(y)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(y){this._stateChanges.next(y)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(E){return new(E||C)}}static{this.\u0275dir=e.lG2({type:C,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e._Bn([{provide:_,useExisting:C}]),e.TTD]})}}return C})(),h=0,f=(()=>{class C{get expanded(){return this._expanded}set expanded(y){y=(0,a.Ig)(y),this._expanded!==y&&(this._expanded=y,this.expandedChange.emit(y),y?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(y){this._disabled=(0,a.Ig)(y)}constructor(y,E,O){this.accordion=y,this._changeDetectorRef=E,this._expansionDispatcher=O,this._openCloseAllSubscription=g.w0.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-"+h++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=O.listen((M,U)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===U&&this.id!==M&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(y=>{this.disabled||(this.expanded=y)})}static{this.\u0275fac=function(E){return new(E||C)(e.Y36(_,12),e.Y36(e.sBO),e.Y36(t.A8))}}static{this.\u0275dir=e.lG2({type:C,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:_,useValue:void 0}])]})}}return C})(),v=(()=>{class C{static{this.\u0275fac=function(E){return new(E||C)}}static{this.\u0275mod=e.oAB({type:C})}static{this.\u0275inj=e.cJS({})}}return C})()},9388:(Qt,$,o)=>{"use strict";o.d($,{Is:()=>_,vT:()=>h});var e=o(5879),t=o(6814);const a=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function i(){return(0,e.f3M)(t.K0)}}),g=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _=(()=>{class f{constructor(C){this.value="ltr",this.change=new e.vpe,C&&(this.value=function T(f){const v=f?.toLowerCase()||"";return"auto"===v&&typeof navigator<"u"&&navigator?.language?g.test(navigator.language)?"rtl":"ltr":"rtl"===v?"rtl":"ltr"}((C.body?C.body.dir:null)||(C.documentElement?C.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(D){return new(D||f)(e.LFG(a,8))}}static{this.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),h=(()=>{class f{static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275mod=e.oAB({type:f})}static{this.\u0275inj=e.cJS({})}}return f})()},2495:(Qt,$,o)=>{"use strict";o.d($,{Eq:()=>g,Ig:()=>t,fI:()=>_,su:()=>a});var e=o(5879);function t(h){return null!=h&&"false"!=`${h}`}function a(h,f=0){return function i(h){return!isNaN(parseFloat(h))&&!isNaN(Number(h))}(h)?Number(h):f}function g(h){return Array.isArray(h)?h:[h]}function _(h){return h instanceof e.SBq?h.nativeElement:h}},8337:(Qt,$,o)=>{"use strict";o.d($,{A8:()=>D,Ov:()=>v,P3:()=>m,Z9:()=>_,eX:()=>f,k:()=>y});var e=o(3168),t=o(7258),a=o(2096),i=o(8645),g=o(5879);class T{}function _(E){return E&&"function"==typeof E.connect&&!(E instanceof e.c)}class m extends T{constructor(O){super(),this._data=O}connect(){return(0,t.b)(this._data)?this._data:(0,a.of)(this._data)}disconnect(){}}class f{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(O,M,U,R,A){O.forEachOperation((S,w,p)=>{let L,V;null==S.previousIndex?(L=this._insertView(()=>U(S,w,p),p,M,R(S)),V=L?1:0):null==p?(this._detachAndCacheView(w,M),V=3):(L=this._moveView(w,p,M,R(S)),V=2),A&&A({context:L?.context,operation:V,record:S})})}detach(){for(const O of this._viewCache)O.destroy();this._viewCache=[]}_insertView(O,M,U,R){const A=this._insertViewFromCache(M,U);if(A)return void(A.context.$implicit=R);const S=O();return U.createEmbeddedView(S.templateRef,S.context,S.index)}_detachAndCacheView(O,M){const U=M.detach(O);this._maybeCacheView(U,M)}_moveView(O,M,U,R){const A=U.get(O);return U.move(A,M),A.context.$implicit=R,A}_maybeCacheView(O,M){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(O);else{const U=M.indexOf(O);-1===U?O.destroy():M.remove(U)}}_insertViewFromCache(O,M){const U=this._viewCache.pop();return U&&M.insert(U,O),U||null}}class v{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(O=!1,M,U=!0,R){this._multiple=O,this._emitChanges=U,this.compareWith=R,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new i.x,M&&M.length&&(O?M.forEach(A=>this._markSelected(A)):this._markSelected(M[0]),this._selectedToEmit.length=0)}select(...O){this._verifyValueAssignment(O),O.forEach(U=>this._markSelected(U));const M=this._hasQueuedChanges();return this._emitChangeEvent(),M}deselect(...O){this._verifyValueAssignment(O),O.forEach(U=>this._unmarkSelected(U));const M=this._hasQueuedChanges();return this._emitChangeEvent(),M}setSelection(...O){this._verifyValueAssignment(O);const M=this.selected,U=new Set(O);O.forEach(A=>this._markSelected(A)),M.filter(A=>!U.has(A)).forEach(A=>this._unmarkSelected(A));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}toggle(O){return this.isSelected(O)?this.deselect(O):this.select(O)}clear(O=!0){this._unmarkAll();const M=this._hasQueuedChanges();return O&&this._emitChangeEvent(),M}isSelected(O){return this._selection.has(this._getConcreteValue(O))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(O){this._multiple&&this.selected&&this._selected.sort(O)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(O){O=this._getConcreteValue(O),this.isSelected(O)||(this._multiple||this._unmarkAll(),this.isSelected(O)||this._selection.add(O),this._emitChanges&&this._selectedToEmit.push(O))}_unmarkSelected(O){O=this._getConcreteValue(O),this.isSelected(O)&&(this._selection.delete(O),this._emitChanges&&this._deselectedToEmit.push(O))}_unmarkAll(){this.isEmpty()||this._selection.forEach(O=>this._unmarkSelected(O))}_verifyValueAssignment(O){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(O){if(this.compareWith){for(let M of this._selection)if(this.compareWith(O,M))return M;return O}return O}}let D=(()=>{class E{constructor(){this._listeners=[]}notify(M,U){for(let R of this._listeners)R(M,U)}listen(M){return this._listeners.push(M),()=>{this._listeners=this._listeners.filter(U=>M!==U)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(U){return new(U||E)}}static{this.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const y=new g.OlP("_ViewRepeater")},2831:(Qt,$,o)=>{"use strict";o.d($,{Mq:()=>y,_i:()=>E,i$:()=>v,kV:()=>U,sA:()=>A,t4:()=>i});var e=o(5879),t=o(6814);let a;try{a=typeof Intl<"u"&&Intl.v8BreakIterator}catch{a=!1}let h,C,D,O,i=(()=>{class w{constructor(L){this._platformId=L,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!a)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(V){return new(V||w)(e.LFG(e.Lbi))}}static{this.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function v(w){return function f(){if(null==h&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?w:!!w.capture}function y(){if(null==D){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return D=!1,D;if("scrollBehavior"in document.documentElement.style)D=!0;else{const w=Element.prototype.scrollTo;D=!!w&&!/\{\s*\[native code\]\s*\}/.test(w.toString())}}return D}function E(){if("object"!=typeof document||!document)return 0;if(null==C){const w=document.createElement("div"),p=w.style;w.dir="rtl",p.width="1px",p.overflow="auto",p.visibility="hidden",p.pointerEvents="none",p.position="absolute";const L=document.createElement("div"),V=L.style;V.width="2px",V.height="1px",w.appendChild(L),document.body.appendChild(w),C=0,0===w.scrollLeft&&(w.scrollLeft=1,C=0===w.scrollLeft?1:2),w.remove()}return C}function U(w){if(function M(){if(null==O){const w=typeof document<"u"?document.head:null;O=!(!w||!w.createShadowRoot&&!w.attachShadow)}return O}()){const p=w.getRootNode?w.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&p instanceof ShadowRoot)return p}return null}function A(w){return w.composedPath?w.composedPath()[0]:w.target}},9473:(Qt,$,o)=>{"use strict";o.d($,{xd:()=>bt,PQ:()=>Z,x0:()=>Rt,N7:()=>Wt,mc:()=>u,mF:()=>ut,Cl:()=>yt,rL:()=>F});var e=o(2495),t=o(5879),a=o(8645),i=o(2096),g=o(5592),T=o(2438),_=o(927),m=o(6410),h=o(7394),f=o(7258),v=o(3997),C=o(6321),D=o(9360),y=o(4829),E=o(8251),M=o(9080);function U(Y,xt=C.z){return function O(Y){return(0,D.e)((xt,z)=>{let at=!1,Pt=null,Gt=null,De=!1;const Ut=()=>{if(Gt?.unsubscribe(),Gt=null,at){at=!1;const Ot=Pt;Pt=null,z.next(Ot)}De&&z.complete()},Q=()=>{Gt=null,De&&z.complete()};xt.subscribe((0,E.x)(z,Ot=>{at=!0,Pt=Ot,Gt||(0,y.Xf)(Y(Ot)).subscribe(Gt=(0,E.x)(z,Ut,Q))},()=>{De=!0,(!at||!Gt||Gt.closed)&&z.complete()}))})}(()=>(0,M.H)(Y,xt))}var R=o(2181),A=o(9773),S=o(7921),w=o(9384),p=o(4664),L=o(7081),V=o(2831),et=o(6814),tt=o(9388),ht=o(8337);const it=["contentWrapper"],It=["*"],st=new t.OlP("VIRTUAL_SCROLL_STRATEGY");class dt{constructor(xt,z,at){this._scrolledIndexChange=new a.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,v.x)()),this._viewport=null,this._itemSize=xt,this._minBufferPx=z,this._maxBufferPx=at}attach(xt){this._viewport=xt,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(xt,z,at){this._itemSize=xt,this._minBufferPx=z,this._maxBufferPx=at,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(xt,z){this._viewport&&this._viewport.scrollToOffset(xt*this._itemSize,z)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const xt=this._viewport.getRenderedRange(),z={start:xt.start,end:xt.end},at=this._viewport.getViewportSize(),Pt=this._viewport.getDataLength();let Gt=this._viewport.measureScrollOffset(),De=this._itemSize>0?Gt/this._itemSize:0;if(z.end>Pt){const Q=Math.ceil(at/this._itemSize),Ot=Math.max(0,Math.min(De,Pt-Q));De!=Ot&&(De=Ot,Gt=Ot*this._itemSize,z.start=Math.floor(De)),z.end=Math.max(0,Math.min(Pt,z.start+Q))}const Ut=Gt-z.start*this._itemSize;if(Ut<this._minBufferPx&&0!=z.start){const Q=Math.ceil((this._maxBufferPx-Ut)/this._itemSize);z.start=Math.max(0,z.start-Q),z.end=Math.min(Pt,Math.ceil(De+(at+this._minBufferPx)/this._itemSize))}else{const Q=z.end*this._itemSize-(Gt+at);if(Q<this._minBufferPx&&z.end!=Pt){const Ot=Math.ceil((this._maxBufferPx-Q)/this._itemSize);Ot>0&&(z.end=Math.min(Pt,z.end+Ot),z.start=Math.max(0,Math.floor(De-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(z),this._viewport.setRenderedContentOffset(this._itemSize*z.start),this._scrolledIndexChange.next(Math.floor(De))}}function St(Y){return Y._scrollStrategy}let bt=(()=>{class Y{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new dt(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(z){this._itemSize=(0,e.su)(z)}get minBufferPx(){return this._minBufferPx}set minBufferPx(z){this._minBufferPx=(0,e.su)(z)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(z){this._maxBufferPx=(0,e.su)(z)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275dir=t.lG2({type:Y,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[t._Bn([{provide:st,useFactory:St,deps:[(0,t.Gpc)(()=>Y)]}]),t.TTD]})}}return Y})();const u=20;let ut=(()=>{class Y{constructor(z,at,Pt){this._ngZone=z,this._platform=at,this._scrolled=new a.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Pt}register(z){this.scrollContainers.has(z)||this.scrollContainers.set(z,z.elementScrolled().subscribe(()=>this._scrolled.next(z)))}deregister(z){const at=this.scrollContainers.get(z);at&&(at.unsubscribe(),this.scrollContainers.delete(z))}scrolled(z=u){return this._platform.isBrowser?new g.y(at=>{this._globalSubscription||this._addGlobalListener();const Pt=z>0?this._scrolled.pipe(U(z)).subscribe(at):this._scrolled.subscribe(at);return this._scrolledCount++,()=>{Pt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,i.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((z,at)=>this.deregister(at)),this._scrolled.complete()}ancestorScrolled(z,at){const Pt=this.getAncestorScrollContainers(z);return this.scrolled(at).pipe((0,R.h)(Gt=>!Gt||Pt.indexOf(Gt)>-1))}getAncestorScrollContainers(z){const at=[];return this.scrollContainers.forEach((Pt,Gt)=>{this._scrollableContainsElement(Gt,z)&&at.push(Gt)}),at}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(z,at){let Pt=(0,e.fI)(at),Gt=z.getElementRef().nativeElement;do{if(Pt==Gt)return!0}while(Pt=Pt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const z=this._getWindow();return(0,T.R)(z.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(at){return new(at||Y)(t.LFG(t.R0b),t.LFG(V.t4),t.LFG(et.K0,8))}}static{this.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})(),Z=(()=>{class Y{constructor(z,at,Pt,Gt){this.elementRef=z,this.scrollDispatcher=at,this.ngZone=Pt,this.dir=Gt,this._destroyed=new a.x,this._elementScrolled=new g.y(De=>this.ngZone.runOutsideAngular(()=>(0,T.R)(this.elementRef.nativeElement,"scroll").pipe((0,A.R)(this._destroyed)).subscribe(De)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(z){const at=this.elementRef.nativeElement,Pt=this.dir&&"rtl"==this.dir.value;null==z.left&&(z.left=Pt?z.end:z.start),null==z.right&&(z.right=Pt?z.start:z.end),null!=z.bottom&&(z.top=at.scrollHeight-at.clientHeight-z.bottom),Pt&&0!=(0,V._i)()?(null!=z.left&&(z.right=at.scrollWidth-at.clientWidth-z.left),2==(0,V._i)()?z.left=z.right:1==(0,V._i)()&&(z.left=z.right?-z.right:z.right)):null!=z.right&&(z.left=at.scrollWidth-at.clientWidth-z.right),this._applyScrollToOptions(z)}_applyScrollToOptions(z){const at=this.elementRef.nativeElement;(0,V.Mq)()?at.scrollTo(z):(null!=z.top&&(at.scrollTop=z.top),null!=z.left&&(at.scrollLeft=z.left))}measureScrollOffset(z){const at="left",Gt=this.elementRef.nativeElement;if("top"==z)return Gt.scrollTop;if("bottom"==z)return Gt.scrollHeight-Gt.clientHeight-Gt.scrollTop;const De=this.dir&&"rtl"==this.dir.value;return"start"==z?z=De?"right":at:"end"==z&&(z=De?at:"right"),De&&2==(0,V._i)()?z==at?Gt.scrollWidth-Gt.clientWidth-Gt.scrollLeft:Gt.scrollLeft:De&&1==(0,V._i)()?z==at?Gt.scrollLeft+Gt.scrollWidth-Gt.clientWidth:-Gt.scrollLeft:z==at?Gt.scrollLeft:Gt.scrollWidth-Gt.clientWidth-Gt.scrollLeft}static{this.\u0275fac=function(at){return new(at||Y)(t.Y36(t.SBq),t.Y36(ut),t.Y36(t.R0b),t.Y36(tt.Is,8))}}static{this.\u0275dir=t.lG2({type:Y,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return Y})(),F=(()=>{class Y{constructor(z,at,Pt){this._platform=z,this._change=new a.x,this._changeListener=Gt=>{this._change.next(Gt)},this._document=Pt,at.runOutsideAngular(()=>{if(z.isBrowser){const Gt=this._getWindow();Gt.addEventListener("resize",this._changeListener),Gt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const z=this._getWindow();z.removeEventListener("resize",this._changeListener),z.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const z={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),z}getViewportRect(){const z=this.getViewportScrollPosition(),{width:at,height:Pt}=this.getViewportSize();return{top:z.top,left:z.left,bottom:z.top+Pt,right:z.left+at,height:Pt,width:at}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const z=this._document,at=this._getWindow(),Pt=z.documentElement,Gt=Pt.getBoundingClientRect();return{top:-Gt.top||z.body.scrollTop||at.scrollY||Pt.scrollTop||0,left:-Gt.left||z.body.scrollLeft||at.scrollX||Pt.scrollLeft||0}}change(z=20){return z>0?this._change.pipe(U(z)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const z=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:z.innerWidth,height:z.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(at){return new(at||Y)(t.LFG(V.t4),t.LFG(t.R0b),t.LFG(et.K0,8))}}static{this.\u0275prov=t.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}return Y})();const ot=new t.OlP("VIRTUAL_SCROLLABLE");let nt=(()=>{class Y extends Z{constructor(z,at,Pt,Gt){super(z,at,Pt,Gt)}measureViewportSize(z){const at=this.elementRef.nativeElement;return"horizontal"===z?at.clientWidth:at.clientHeight}static{this.\u0275fac=function(at){return new(at||Y)(t.Y36(t.SBq),t.Y36(ut),t.Y36(t.R0b),t.Y36(tt.Is,8))}}static{this.\u0275dir=t.lG2({type:Y,features:[t.qOj]})}}return Y})();const Dt=typeof requestAnimationFrame<"u"?_.Z:m.E;let Wt=(()=>{class Y extends nt{get orientation(){return this._orientation}set orientation(z){this._orientation!==z&&(this._orientation=z,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(z){this._appendOnly=(0,e.Ig)(z)}constructor(z,at,Pt,Gt,De,Ut,Q,Ot){super(z,Ut,Pt,De),this.elementRef=z,this._changeDetectorRef=at,this._scrollStrategy=Gt,this.scrollable=Ot,this._platform=(0,t.f3M)(V.t4),this._detachedSubject=new a.x,this._renderedRangeSubject=new a.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new g.y(Ft=>this._scrollStrategy.scrolledIndexChange.subscribe(le=>Promise.resolve().then(()=>this.ngZone.run(()=>Ft.next(le))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=h.w0.EMPTY,this._viewportChanges=Q.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,S.O)(null),U(0,Dt),(0,A.R)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(z){this.ngZone.runOutsideAngular(()=>{this._forOf=z,this._forOf.dataStream.pipe((0,A.R)(this._detachedSubject)).subscribe(at=>{const Pt=at.length;Pt!==this._dataLength&&(this._dataLength=Pt,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(z){return this.getElementRef().nativeElement.getBoundingClientRect()[z]}setTotalContentSize(z){this._totalContentSize!==z&&(this._totalContentSize=z,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(z){(function At(Y,xt){return Y.start==xt.start&&Y.end==xt.end})(this._renderedRange,z)||(this.appendOnly&&(z={start:0,end:Math.max(this._renderedRange.end,z.end)}),this._renderedRangeSubject.next(this._renderedRange=z),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(z,at="to-start"){z=this.appendOnly&&"to-start"===at?0:z;const Gt="horizontal"==this.orientation,De=Gt?"X":"Y";let Q=`translate${De}(${Number((Gt&&this.dir&&"rtl"==this.dir.value?-1:1)*z)}px)`;this._renderedContentOffset=z,"to-end"===at&&(Q+=` translate${De}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Q&&(this._renderedContentTransform=Q,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(z,at="auto"){const Pt={behavior:at};"horizontal"===this.orientation?Pt.start=z:Pt.top=z,this.scrollable.scrollTo(Pt)}scrollToIndex(z,at="auto"){this._scrollStrategy.scrollToIndex(z,at)}measureScrollOffset(z){let at;return at=this.scrollable==this?Pt=>super.measureScrollOffset(Pt):Pt=>this.scrollable.measureScrollOffset(Pt),Math.max(0,at(z??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(z){let at;const De="rtl"==this.dir?.value;at="start"==z?De?"right":"left":"end"==z?De?"left":"right":z||("horizontal"===this.orientation?"left":"top");const Ut=this.scrollable.measureBoundingClientRectWithScrollOffset(at);return this.elementRef.nativeElement.getBoundingClientRect()[at]-Ut}measureRenderedContentSize(){const z=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?z.offsetWidth:z.offsetHeight}measureRangeSize(z){return this._forOf?this._forOf.measureRangeSize(z,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(z){z&&this._runAfterChangeDetection.push(z),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const z=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const at of z)at()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static{this.\u0275fac=function(at){return new(at||Y)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(st,8),t.Y36(tt.Is,8),t.Y36(ut),t.Y36(F),t.Y36(ot,8))}}static{this.\u0275cmp=t.Xpm({type:Y,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(at,Pt){if(1&at&&t.Gf(it,7),2&at){let Gt;t.iGM(Gt=t.CRH())&&(Pt._contentWrapper=Gt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(at,Pt){2&at&&t.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===Pt.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Pt.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[t._Bn([{provide:Z,useFactory:(z,at)=>z||at,deps:[[new t.FiY,new t.tBr(ot)],Y]}]),t.qOj,t.jDz],ngContentSelectors:It,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(at,Pt){1&at&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA(),t._UZ(3,"div",2)),2&at&&(t.xp6(3),t.Udp("width",Pt._totalContentWidth)("height",Pt._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}}return Y})();function Nt(Y,xt,z){if(!z.getBoundingClientRect)return 0;const Pt=z.getBoundingClientRect();return"horizontal"===Y?"start"===xt?Pt.left:Pt.right:"start"===xt?Pt.top:Pt.bottom}let Rt=(()=>{class Y{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(z){this._cdkVirtualForOf=z,(0,ht.Z9)(z)?this._dataSourceChanges.next(z):this._dataSourceChanges.next(new ht.P3((0,f.b)(z)?z:Array.from(z||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(z){this._needsUpdate=!0,this._cdkVirtualForTrackBy=z?(at,Pt)=>z(at+(this._renderedRange?this._renderedRange.start:0),Pt):void 0}set cdkVirtualForTemplate(z){z&&(this._needsUpdate=!0,this._template=z)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(z){this._viewRepeater.viewCacheSize=(0,e.su)(z)}constructor(z,at,Pt,Gt,De,Ut){this._viewContainerRef=z,this._template=at,this._differs=Pt,this._viewRepeater=Gt,this._viewport=De,this.viewChange=new a.x,this._dataSourceChanges=new a.x,this.dataStream=this._dataSourceChanges.pipe((0,S.O)(null),(0,w.G)(),(0,p.w)(([Q,Ot])=>this._changeDataSource(Q,Ot)),(0,L.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new a.x,this.dataStream.subscribe(Q=>{this._data=Q,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,A.R)(this._destroyed)).subscribe(Q=>{this._renderedRange=Q,this.viewChange.observers.length&&Ut.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(z,at){if(z.start>=z.end)return 0;const Pt=z.start-this._renderedRange.start,Gt=z.end-z.start;let De,Ut;for(let Q=0;Q<Gt;Q++){const Ot=this._viewContainerRef.get(Q+Pt);if(Ot&&Ot.rootNodes.length){De=Ut=Ot.rootNodes[0];break}}for(let Q=Gt-1;Q>-1;Q--){const Ot=this._viewContainerRef.get(Q+Pt);if(Ot&&Ot.rootNodes.length){Ut=Ot.rootNodes[Ot.rootNodes.length-1];break}}return De&&Ut?Nt(at,"end",Ut)-Nt(at,"start",De):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const z=this._differ.diff(this._renderedItems);z?this._applyChanges(z):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((z,at)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(z,at):at)),this._needsUpdate=!0)}_changeDataSource(z,at){return z&&z.disconnect(this),this._needsUpdate=!0,at?at.connect(this):(0,i.of)()}_updateContext(){const z=this._data.length;let at=this._viewContainerRef.length;for(;at--;){const Pt=this._viewContainerRef.get(at);Pt.context.index=this._renderedRange.start+at,Pt.context.count=z,this._updateComputedContextProperties(Pt.context),Pt.detectChanges()}}_applyChanges(z){this._viewRepeater.applyChanges(z,this._viewContainerRef,(Gt,De,Ut)=>this._getEmbeddedViewArgs(Gt,Ut),Gt=>Gt.item),z.forEachIdentityChange(Gt=>{this._viewContainerRef.get(Gt.currentIndex).context.$implicit=Gt.item});const at=this._data.length;let Pt=this._viewContainerRef.length;for(;Pt--;){const Gt=this._viewContainerRef.get(Pt);Gt.context.index=this._renderedRange.start+Pt,Gt.context.count=at,this._updateComputedContextProperties(Gt.context)}}_updateComputedContextProperties(z){z.first=0===z.index,z.last=z.index===z.count-1,z.even=z.index%2==0,z.odd=!z.even}_getEmbeddedViewArgs(z,at){return{templateRef:this._template,context:{$implicit:z.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:at}}static{this.\u0275fac=function(at){return new(at||Y)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4),t.Y36(ht.k),t.Y36(Wt,4),t.Y36(t.R0b))}}static{this.\u0275dir=t.lG2({type:Y,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[t._Bn([{provide:ht.k,useClass:ht.eX}])]})}}return Y})(),k=(()=>{class Y{static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275mod=t.oAB({type:Y})}static{this.\u0275inj=t.cJS({})}}return Y})(),yt=(()=>{class Y{static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275mod=t.oAB({type:Y})}static{this.\u0275inj=t.cJS({imports:[tt.vT,k,tt.vT,k]})}}return Y})()},6814:(Qt,$,o)=>{"use strict";o.d($,{$G:()=>Gi,Do:()=>O,ED:()=>Ie,EM:()=>In,H9:()=>Wi,HT:()=>i,JF:()=>zo,JJ:()=>po,K0:()=>T,Kl:()=>Ni,Mx:()=>Yi,NF:()=>Go,O5:()=>Ve,Ov:()=>Rn,PC:()=>an,PM:()=>gn,RF:()=>Ji,S$:()=>D,V_:()=>m,Ye:()=>M,Zd:()=>Fo,ax:()=>Xt,b0:()=>E,bD:()=>qi,ez:()=>bo,i8:()=>Fn,iq:()=>pn,mk:()=>Ki,n9:()=>Wo,q:()=>a,qS:()=>Qi,sg:()=>Xt,tP:()=>Mn,uU:()=>zi,w_:()=>g,zE:()=>fn});var e=o(5879);let t=null;function a(){return t}function i(G){t||(t=G)}class g{}const T=new e.OlP("DocumentToken");let _=(()=>{class G{historyGo(Tt){throw new Error("Not implemented")}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275prov=e.Yz7({token:G,factory:function(){return(0,e.f3M)(h)},providedIn:"platform"})}}return G})();const m=new e.OlP("Location Initialized");let h=(()=>{class G extends _{constructor(){super(),this._doc=(0,e.f3M)(T),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(Tt){const Jt=a().getGlobalEventTarget(this._doc,"window");return Jt.addEventListener("popstate",Tt,!1),()=>Jt.removeEventListener("popstate",Tt)}onHashChange(Tt){const Jt=a().getGlobalEventTarget(this._doc,"window");return Jt.addEventListener("hashchange",Tt,!1),()=>Jt.removeEventListener("hashchange",Tt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Tt){this._location.pathname=Tt}pushState(Tt,Jt,Ze){this._history.pushState(Tt,Jt,Ze)}replaceState(Tt,Jt,Ze){this._history.replaceState(Tt,Jt,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Tt=0){this._history.go(Tt)}getState(){return this._history.state}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275prov=e.Yz7({token:G,factory:function(){return new G},providedIn:"platform"})}}return G})();function f(G,fe){if(0==G.length)return fe;if(0==fe.length)return G;let Tt=0;return G.endsWith("/")&&Tt++,fe.startsWith("/")&&Tt++,2==Tt?G+fe.substring(1):1==Tt?G+fe:G+"/"+fe}function v(G){const fe=G.match(/#|\?|$/),Tt=fe&&fe.index||G.length;return G.slice(0,Tt-("/"===G[Tt-1]?1:0))+G.slice(Tt)}function C(G){return G&&"?"!==G[0]?"?"+G:G}let D=(()=>{class G{historyGo(Tt){throw new Error("Not implemented")}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275prov=e.Yz7({token:G,factory:function(){return(0,e.f3M)(E)},providedIn:"root"})}}return G})();const y=new e.OlP("appBaseHref");let E=(()=>{class G extends D{constructor(Tt,Jt){super(),this._platformLocation=Tt,this._removeListenerFns=[],this._baseHref=Jt??this._platformLocation.getBaseHrefFromDOM()??(0,e.f3M)(T).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Tt){this._removeListenerFns.push(this._platformLocation.onPopState(Tt),this._platformLocation.onHashChange(Tt))}getBaseHref(){return this._baseHref}prepareExternalUrl(Tt){return f(this._baseHref,Tt)}path(Tt=!1){const Jt=this._platformLocation.pathname+C(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&Tt?`${Jt}${Ze}`:Jt}pushState(Tt,Jt,Ze,Vn){const Kn=this.prepareExternalUrl(Ze+C(Vn));this._platformLocation.pushState(Tt,Jt,Kn)}replaceState(Tt,Jt,Ze,Vn){const Kn=this.prepareExternalUrl(Ze+C(Vn));this._platformLocation.replaceState(Tt,Jt,Kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Tt=0){this._platformLocation.historyGo?.(Tt)}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.LFG(_),e.LFG(y,8))}}static{this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})(),O=(()=>{class G extends D{constructor(Tt,Jt){super(),this._platformLocation=Tt,this._baseHref="",this._removeListenerFns=[],null!=Jt&&(this._baseHref=Jt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Tt){this._removeListenerFns.push(this._platformLocation.onPopState(Tt),this._platformLocation.onHashChange(Tt))}getBaseHref(){return this._baseHref}path(Tt=!1){let Jt=this._platformLocation.hash;return null==Jt&&(Jt="#"),Jt.length>0?Jt.substring(1):Jt}prepareExternalUrl(Tt){const Jt=f(this._baseHref,Tt);return Jt.length>0?"#"+Jt:Jt}pushState(Tt,Jt,Ze,Vn){let Kn=this.prepareExternalUrl(Ze+C(Vn));0==Kn.length&&(Kn=this._platformLocation.pathname),this._platformLocation.pushState(Tt,Jt,Kn)}replaceState(Tt,Jt,Ze,Vn){let Kn=this.prepareExternalUrl(Ze+C(Vn));0==Kn.length&&(Kn=this._platformLocation.pathname),this._platformLocation.replaceState(Tt,Jt,Kn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Tt=0){this._platformLocation.historyGo?.(Tt)}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.LFG(_),e.LFG(y,8))}}static{this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac})}}return G})(),M=(()=>{class G{constructor(Tt){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Tt;const Jt=this._locationStrategy.getBaseHref();this._basePath=function S(G){if(new RegExp("^(https?:)?//").test(G)){const[,Tt]=G.split(/\/\/[^\/]+/);return Tt}return G}(v(A(Jt))),this._locationStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Tt=!1){return this.normalize(this._locationStrategy.path(Tt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Tt,Jt=""){return this.path()==this.normalize(Tt+C(Jt))}normalize(Tt){return G.stripTrailingSlash(function R(G,fe){if(!G||!fe.startsWith(G))return fe;const Tt=fe.substring(G.length);return""===Tt||["/",";","?","#"].includes(Tt[0])?Tt:fe}(this._basePath,A(Tt)))}prepareExternalUrl(Tt){return Tt&&"/"!==Tt[0]&&(Tt="/"+Tt),this._locationStrategy.prepareExternalUrl(Tt)}go(Tt,Jt="",Ze=null){this._locationStrategy.pushState(Ze,"",Tt,Jt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Tt+C(Jt)),Ze)}replaceState(Tt,Jt="",Ze=null){this._locationStrategy.replaceState(Ze,"",Tt,Jt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Tt+C(Jt)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Tt=0){this._locationStrategy.historyGo?.(Tt)}onUrlChange(Tt){return this._urlChangeListeners.push(Tt),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Jt=>{this._notifyUrlChangeListeners(Jt.url,Jt.state)})),()=>{const Jt=this._urlChangeListeners.indexOf(Tt);this._urlChangeListeners.splice(Jt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Tt="",Jt){this._urlChangeListeners.forEach(Ze=>Ze(Tt,Jt))}subscribe(Tt,Jt,Ze){return this._subject.subscribe({next:Tt,error:Jt,complete:Ze})}static{this.normalizeQueryParams=C}static{this.joinWithSlash=f}static{this.stripTrailingSlash=v}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.LFG(D))}}static{this.\u0275prov=e.Yz7({token:G,factory:function(){return function U(){return new M((0,e.LFG)(D))}()},providedIn:"root"})}}return G})();function A(G){return G.replace(/\/index.html$/,"")}const w={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var p=function(G){return G[G.Decimal=0]="Decimal",G[G.Percent=1]="Percent",G[G.Currency=2]="Currency",G[G.Scientific=3]="Scientific",G}(p||{}),L=function(G){return G[G.Zero=0]="Zero",G[G.One=1]="One",G[G.Two=2]="Two",G[G.Few=3]="Few",G[G.Many=4]="Many",G[G.Other=5]="Other",G}(L||{}),V=function(G){return G[G.Format=0]="Format",G[G.Standalone=1]="Standalone",G}(V||{}),et=function(G){return G[G.Narrow=0]="Narrow",G[G.Abbreviated=1]="Abbreviated",G[G.Wide=2]="Wide",G[G.Short=3]="Short",G}(et||{}),tt=function(G){return G[G.Short=0]="Short",G[G.Medium=1]="Medium",G[G.Long=2]="Long",G[G.Full=3]="Full",G}(tt||{}),ht=function(G){return G[G.Decimal=0]="Decimal",G[G.Group=1]="Group",G[G.List=2]="List",G[G.PercentSign=3]="PercentSign",G[G.PlusSign=4]="PlusSign",G[G.MinusSign=5]="MinusSign",G[G.Exponential=6]="Exponential",G[G.SuperscriptingExponent=7]="SuperscriptingExponent",G[G.PerMille=8]="PerMille",G[G.Infinity=9]="Infinity",G[G.NaN=10]="NaN",G[G.TimeSeparator=11]="TimeSeparator",G[G.CurrencyDecimal=12]="CurrencyDecimal",G[G.CurrencyGroup=13]="CurrencyGroup",G}(ht||{});function Z(G,fe){return Y((0,e.cg1)(G)[e.wAp.DateFormat],fe)}function I(G,fe){return Y((0,e.cg1)(G)[e.wAp.TimeFormat],fe)}function F(G,fe){return Y((0,e.cg1)(G)[e.wAp.DateTimeFormat],fe)}function ot(G,fe){const Tt=(0,e.cg1)(G),Jt=Tt[e.wAp.NumberSymbols][fe];if(typeof Jt>"u"){if(fe===ht.CurrencyDecimal)return Tt[e.wAp.NumberSymbols][ht.Decimal];if(fe===ht.CurrencyGroup)return Tt[e.wAp.NumberSymbols][ht.Group]}return Jt}function nt(G,fe){return(0,e.cg1)(G)[e.wAp.NumberFormats][fe]}const Rt=e.kL8;function Bt(G){if(!G[e.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${G[e.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Y(G,fe){for(let Tt=fe;Tt>-1;Tt--)if(typeof G[Tt]<"u")return G[Tt];throw new Error("Locale data API: locale data undefined")}function xt(G){const[fe,Tt]=G.split(":");return{hours:+fe,minutes:+Tt}}const Gt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,De={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Q=function(G){return G[G.Short=0]="Short",G[G.ShortGMT=1]="ShortGMT",G[G.Long=2]="Long",G[G.Extended=3]="Extended",G}(Q||{}),Ot=function(G){return G[G.FullYear=0]="FullYear",G[G.Month=1]="Month",G[G.Date=2]="Date",G[G.Hours=3]="Hours",G[G.Minutes=4]="Minutes",G[G.Seconds=5]="Seconds",G[G.FractionalSeconds=6]="FractionalSeconds",G[G.Day=7]="Day",G}(Ot||{}),Ft=function(G){return G[G.DayPeriods=0]="DayPeriods",G[G.Days=1]="Days",G[G.Months=2]="Months",G[G.Eras=3]="Eras",G}(Ft||{});function le(G,fe,Tt,Jt){let Ze=function _n(G){if(xe(G))return G;if("number"==typeof G&&!isNaN(G))return new Date(G);if("string"==typeof G){if(G=G.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(G)){const[Ze,Vn=1,Kn=1]=G.split("-").map(Ai=>+Ai);return ne(Ze,Vn-1,Kn)}const Tt=parseFloat(G);if(!isNaN(G-Tt))return new Date(Tt);let Jt;if(Jt=G.match(Gt))return function Qe(G){const fe=new Date(0);let Tt=0,Jt=0;const Ze=G[8]?fe.setUTCFullYear:fe.setFullYear,Vn=G[8]?fe.setUTCHours:fe.setHours;G[9]&&(Tt=Number(G[9]+G[10]),Jt=Number(G[9]+G[11])),Ze.call(fe,Number(G[1]),Number(G[2])-1,Number(G[3]));const Kn=Number(G[4]||0)-Tt,Ai=Number(G[5]||0)-Jt,ko=Number(G[6]||0),Ao=Math.floor(1e3*parseFloat("0."+(G[7]||0)));return Vn.call(fe,Kn,Ai,ko,Ao),fe}(Jt)}const fe=new Date(G);if(!xe(fe))throw new Error(`Unable to convert "${G}" into a date`);return fe}(G);fe=Ge(Tt,fe)||fe;let Ai,Kn=[];for(;fe;){if(Ai=Ut.exec(fe),!Ai){Kn.push(fe);break}{Kn=Kn.concat(Ai.slice(1));const Eo=Kn.pop();if(!Eo)break;fe=Eo}}let ko=Ze.getTimezoneOffset();Jt&&(ko=ce(Jt,ko),Ze=function En(G,fe,Tt){const Jt=Tt?-1:1,Ze=G.getTimezoneOffset();return function me(G,fe){return(G=new Date(G.getTime())).setMinutes(G.getMinutes()+fe),G}(G,Jt*(ce(fe,Ze)-Ze))}(Ze,Jt,!0));let Ao="";return Kn.forEach(Eo=>{const Xi=function xn(G){if(Ht[G])return Ht[G];let fe;switch(G){case"G":case"GG":case"GGG":fe=ae(Ft.Eras,et.Abbreviated);break;case"GGGG":fe=ae(Ft.Eras,et.Wide);break;case"GGGGG":fe=ae(Ft.Eras,et.Narrow);break;case"y":fe=Ee(Ot.FullYear,1,0,!1,!0);break;case"yy":fe=Ee(Ot.FullYear,2,0,!0,!0);break;case"yyy":fe=Ee(Ot.FullYear,3,0,!1,!0);break;case"yyyy":fe=Ee(Ot.FullYear,4,0,!1,!0);break;case"Y":fe=oe(1);break;case"YY":fe=oe(2,!0);break;case"YYY":fe=oe(3);break;case"YYYY":fe=oe(4);break;case"M":case"L":fe=Ee(Ot.Month,1,1);break;case"MM":case"LL":fe=Ee(Ot.Month,2,1);break;case"MMM":fe=ae(Ft.Months,et.Abbreviated);break;case"MMMM":fe=ae(Ft.Months,et.Wide);break;case"MMMMM":fe=ae(Ft.Months,et.Narrow);break;case"LLL":fe=ae(Ft.Months,et.Abbreviated,V.Standalone);break;case"LLLL":fe=ae(Ft.Months,et.Wide,V.Standalone);break;case"LLLLL":fe=ae(Ft.Months,et.Narrow,V.Standalone);break;case"w":fe=wn(1);break;case"ww":fe=wn(2);break;case"W":fe=wn(1,!0);break;case"d":fe=Ee(Ot.Date,1);break;case"dd":fe=Ee(Ot.Date,2);break;case"c":case"cc":fe=Ee(Ot.Day,1);break;case"ccc":fe=ae(Ft.Days,et.Abbreviated,V.Standalone);break;case"cccc":fe=ae(Ft.Days,et.Wide,V.Standalone);break;case"ccccc":fe=ae(Ft.Days,et.Narrow,V.Standalone);break;case"cccccc":fe=ae(Ft.Days,et.Short,V.Standalone);break;case"E":case"EE":case"EEE":fe=ae(Ft.Days,et.Abbreviated);break;case"EEEE":fe=ae(Ft.Days,et.Wide);break;case"EEEEE":fe=ae(Ft.Days,et.Narrow);break;case"EEEEEE":fe=ae(Ft.Days,et.Short);break;case"a":case"aa":case"aaa":fe=ae(Ft.DayPeriods,et.Abbreviated);break;case"aaaa":fe=ae(Ft.DayPeriods,et.Wide);break;case"aaaaa":fe=ae(Ft.DayPeriods,et.Narrow);break;case"b":case"bb":case"bbb":fe=ae(Ft.DayPeriods,et.Abbreviated,V.Standalone,!0);break;case"bbbb":fe=ae(Ft.DayPeriods,et.Wide,V.Standalone,!0);break;case"bbbbb":fe=ae(Ft.DayPeriods,et.Narrow,V.Standalone,!0);break;case"B":case"BB":case"BBB":fe=ae(Ft.DayPeriods,et.Abbreviated,V.Format,!0);break;case"BBBB":fe=ae(Ft.DayPeriods,et.Wide,V.Format,!0);break;case"BBBBB":fe=ae(Ft.DayPeriods,et.Narrow,V.Format,!0);break;case"h":fe=Ee(Ot.Hours,1,-12);break;case"hh":fe=Ee(Ot.Hours,2,-12);break;case"H":fe=Ee(Ot.Hours,1);break;case"HH":fe=Ee(Ot.Hours,2);break;case"m":fe=Ee(Ot.Minutes,1);break;case"mm":fe=Ee(Ot.Minutes,2);break;case"s":fe=Ee(Ot.Seconds,1);break;case"ss":fe=Ee(Ot.Seconds,2);break;case"S":fe=Ee(Ot.FractionalSeconds,1);break;case"SS":fe=Ee(Ot.FractionalSeconds,2);break;case"SSS":fe=Ee(Ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":fe=Bn(Q.Short);break;case"ZZZZZ":fe=Bn(Q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":fe=Bn(Q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":fe=Bn(Q.Long);break;default:return null}return Ht[G]=fe,fe}(Eo);Ao+=Xi?Xi(Ze,Tt,ko):"''"===Eo?"'":Eo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ao}function ne(G,fe,Tt){const Jt=new Date(0);return Jt.setFullYear(G,fe,Tt),Jt.setHours(0,0,0),Jt}function Ge(G,fe){const Tt=function It(G){return(0,e.cg1)(G)[e.wAp.LocaleId]}(G);if(De[Tt]=De[Tt]||{},De[Tt][fe])return De[Tt][fe];let Jt="";switch(fe){case"shortDate":Jt=Z(G,tt.Short);break;case"mediumDate":Jt=Z(G,tt.Medium);break;case"longDate":Jt=Z(G,tt.Long);break;case"fullDate":Jt=Z(G,tt.Full);break;case"shortTime":Jt=I(G,tt.Short);break;case"mediumTime":Jt=I(G,tt.Medium);break;case"longTime":Jt=I(G,tt.Long);break;case"fullTime":Jt=I(G,tt.Full);break;case"short":const Ze=Ge(G,"shortTime"),Vn=Ge(G,"shortDate");Jt=Se(F(G,tt.Short),[Ze,Vn]);break;case"medium":const Kn=Ge(G,"mediumTime"),Ai=Ge(G,"mediumDate");Jt=Se(F(G,tt.Medium),[Kn,Ai]);break;case"long":const ko=Ge(G,"longTime"),Ao=Ge(G,"longDate");Jt=Se(F(G,tt.Long),[ko,Ao]);break;case"full":const Eo=Ge(G,"fullTime"),Xi=Ge(G,"fullDate");Jt=Se(F(G,tt.Full),[Eo,Xi])}return Jt&&(De[Tt][fe]=Jt),Jt}function Se(G,fe){return fe&&(G=G.replace(/\{([^}]+)}/g,function(Tt,Jt){return null!=fe&&Jt in fe?fe[Jt]:Tt})),G}function Pe(G,fe,Tt="-",Jt,Ze){let Vn="";(G<0||Ze&&G<=0)&&(Ze?G=1-G:(G=-G,Vn=Tt));let Kn=String(G);for(;Kn.length<fe;)Kn="0"+Kn;return Jt&&(Kn=Kn.slice(Kn.length-fe)),Vn+Kn}function Ee(G,fe,Tt=0,Jt=!1,Ze=!1){return function(Vn,Kn){let Ai=function de(G,fe){switch(G){case Ot.FullYear:return fe.getFullYear();case Ot.Month:return fe.getMonth();case Ot.Date:return fe.getDate();case Ot.Hours:return fe.getHours();case Ot.Minutes:return fe.getMinutes();case Ot.Seconds:return fe.getSeconds();case Ot.FractionalSeconds:return fe.getMilliseconds();case Ot.Day:return fe.getDay();default:throw new Error(`Unknown DateType value "${G}".`)}}(G,Vn);if((Tt>0||Ai>-Tt)&&(Ai+=Tt),G===Ot.Hours)0===Ai&&-12===Tt&&(Ai=12);else if(G===Ot.FractionalSeconds)return function Ue(G,fe){return Pe(G,3).substring(0,fe)}(Ai,fe);const ko=ot(Kn,ht.MinusSign);return Pe(Ai,fe,ko,Jt,Ze)}}function ae(G,fe,Tt=V.Format,Jt=!1){return function(Ze,Vn){return function $e(G,fe,Tt,Jt,Ze,Vn){switch(Tt){case Ft.Months:return function St(G,fe,Tt){const Jt=(0,e.cg1)(G),Vn=Y([Jt[e.wAp.MonthsFormat],Jt[e.wAp.MonthsStandalone]],fe);return Y(Vn,Tt)}(fe,Ze,Jt)[G.getMonth()];case Ft.Days:return function dt(G,fe,Tt){const Jt=(0,e.cg1)(G),Vn=Y([Jt[e.wAp.DaysFormat],Jt[e.wAp.DaysStandalone]],fe);return Y(Vn,Tt)}(fe,Ze,Jt)[G.getDay()];case Ft.DayPeriods:const Kn=G.getHours(),Ai=G.getMinutes();if(Vn){const Ao=function B(G){const fe=(0,e.cg1)(G);return Bt(fe),(fe[e.wAp.ExtraData][2]||[]).map(Jt=>"string"==typeof Jt?xt(Jt):[xt(Jt[0]),xt(Jt[1])])}(fe),Eo=function k(G,fe,Tt){const Jt=(0,e.cg1)(G);Bt(Jt);const Vn=Y([Jt[e.wAp.ExtraData][0],Jt[e.wAp.ExtraData][1]],fe)||[];return Y(Vn,Tt)||[]}(fe,Ze,Jt),Xi=Ao.findIndex(Bo=>{if(Array.isArray(Bo)){const[_o,wo]=Bo,Dr=Kn>=_o.hours&&Ai>=_o.minutes,Er=Kn<wo.hours||Kn===wo.hours&&Ai<wo.minutes;if(_o.hours<wo.hours){if(Dr&&Er)return!0}else if(Dr||Er)return!0}else if(Bo.hours===Kn&&Bo.minutes===Ai)return!0;return!1});if(-1!==Xi)return Eo[Xi]}return function st(G,fe,Tt){const Jt=(0,e.cg1)(G),Vn=Y([Jt[e.wAp.DayPeriodsFormat],Jt[e.wAp.DayPeriodsStandalone]],fe);return Y(Vn,Tt)}(fe,Ze,Jt)[Kn<12?0:1];case Ft.Eras:return function bt(G,fe){return Y((0,e.cg1)(G)[e.wAp.Eras],fe)}(fe,Jt)[G.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Tt}`)}}(Ze,Vn,G,fe,Tt,Jt)}}function Bn(G){return function(fe,Tt,Jt){const Ze=-1*Jt,Vn=ot(Tt,ht.MinusSign),Kn=Ze>0?Math.floor(Ze/60):Math.ceil(Ze/60);switch(G){case Q.Short:return(Ze>=0?"+":"")+Pe(Kn,2,Vn)+Pe(Math.abs(Ze%60),2,Vn);case Q.ShortGMT:return"GMT"+(Ze>=0?"+":"")+Pe(Kn,1,Vn);case Q.Long:return"GMT"+(Ze>=0?"+":"")+Pe(Kn,2,Vn)+":"+Pe(Math.abs(Ze%60),2,Vn);case Q.Extended:return 0===Jt?"Z":(Ze>=0?"+":"")+Pe(Kn,2,Vn)+":"+Pe(Math.abs(Ze%60),2,Vn);default:throw new Error(`Unknown zone width "${G}"`)}}}const Ae=0,Hn=4;function re(G){return ne(G.getFullYear(),G.getMonth(),G.getDate()+(Hn-G.getDay()))}function wn(G,fe=!1){return function(Tt,Jt){let Ze;if(fe){const Vn=new Date(Tt.getFullYear(),Tt.getMonth(),1).getDay()-1,Kn=Tt.getDate();Ze=1+Math.floor((Kn+Vn)/7)}else{const Vn=re(Tt),Kn=function rn(G){const fe=ne(G,Ae,1).getDay();return ne(G,0,1+(fe<=Hn?Hn:Hn+7)-fe)}(Vn.getFullYear()),Ai=Vn.getTime()-Kn.getTime();Ze=1+Math.round(Ai/6048e5)}return Pe(Ze,G,ot(Jt,ht.MinusSign))}}function oe(G,fe=!1){return function(Tt,Jt){return Pe(re(Tt).getFullYear(),G,ot(Jt,ht.MinusSign),fe)}}const Ht={};function ce(G,fe){G=G.replace(/:/g,"");const Tt=Date.parse("Jan 01, 1970 00:00:00 "+G)/6e4;return isNaN(Tt)?fe:Tt}function xe(G){return G instanceof Date&&!isNaN(G.valueOf())}const je=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ke=22,we=".",Ne="0",Ke=";",qe=",",kn="#";function Pn(G,fe,Tt,Jt,Ze,Vn,Kn=!1){let Ai="",ko=!1;if(isFinite(G)){let Ao=function ei(G){let Jt,Ze,Vn,Kn,Ai,fe=Math.abs(G)+"",Tt=0;for((Ze=fe.indexOf(we))>-1&&(fe=fe.replace(we,"")),(Vn=fe.search(/e/i))>0?(Ze<0&&(Ze=Vn),Ze+=+fe.slice(Vn+1),fe=fe.substring(0,Vn)):Ze<0&&(Ze=fe.length),Vn=0;fe.charAt(Vn)===Ne;Vn++);if(Vn===(Ai=fe.length))Jt=[0],Ze=1;else{for(Ai--;fe.charAt(Ai)===Ne;)Ai--;for(Ze-=Vn,Jt=[],Kn=0;Vn<=Ai;Vn++,Kn++)Jt[Kn]=Number(fe.charAt(Vn))}return Ze>ke&&(Jt=Jt.splice(0,ke-1),Tt=Ze-1,Ze=1),{digits:Jt,exponent:Tt,integerLen:Ze}}(G);Kn&&(Ao=function hi(G){if(0===G.digits[0])return G;const fe=G.digits.length-G.integerLen;return G.exponent?G.exponent+=2:(0===fe?G.digits.push(0,0):1===fe&&G.digits.push(0),G.integerLen+=2),G}(Ao));let Eo=fe.minInt,Xi=fe.minFrac,Bo=fe.maxFrac;if(Vn){const gr=Vn.match(je);if(null===gr)throw new Error(`${Vn} is not a valid digit info`);const Jo=gr[1],ar=gr[3],xr=gr[5];null!=Jo&&(Eo=oi(Jo)),null!=ar&&(Xi=oi(ar)),null!=xr?Bo=oi(xr):null!=ar&&Xi>Bo&&(Bo=Xi)}!function wi(G,fe,Tt){if(fe>Tt)throw new Error(`The minimum number of digits after fraction (${fe}) is higher than the maximum (${Tt}).`);let Jt=G.digits,Ze=Jt.length-G.integerLen;const Vn=Math.min(Math.max(fe,Ze),Tt);let Kn=Vn+G.integerLen,Ai=Jt[Kn];if(Kn>0){Jt.splice(Math.max(G.integerLen,Kn));for(let Xi=Kn;Xi<Jt.length;Xi++)Jt[Xi]=0}else{Ze=Math.max(0,Ze),G.integerLen=1,Jt.length=Math.max(1,Kn=Vn+1),Jt[0]=0;for(let Xi=1;Xi<Kn;Xi++)Jt[Xi]=0}if(Ai>=5)if(Kn-1<0){for(let Xi=0;Xi>Kn;Xi--)Jt.unshift(0),G.integerLen++;Jt.unshift(1),G.integerLen++}else Jt[Kn-1]++;for(;Ze<Math.max(0,Vn);Ze++)Jt.push(0);let ko=0!==Vn;const Ao=fe+G.integerLen,Eo=Jt.reduceRight(function(Xi,Bo,_o,wo){return wo[_o]=(Bo+=Xi)<10?Bo:Bo-10,ko&&(0===wo[_o]&&_o>=Ao?wo.pop():ko=!1),Bo>=10?1:0},0);Eo&&(Jt.unshift(Eo),G.integerLen++)}(Ao,Xi,Bo);let _o=Ao.digits,wo=Ao.integerLen;const Dr=Ao.exponent;let Er=[];for(ko=_o.every(gr=>!gr);wo<Eo;wo++)_o.unshift(0);for(;wo<0;wo++)_o.unshift(0);wo>0?Er=_o.splice(wo,_o.length):(Er=_o,_o=[0]);const kr=[];for(_o.length>=fe.lgSize&&kr.unshift(_o.splice(-fe.lgSize,_o.length).join(""));_o.length>fe.gSize;)kr.unshift(_o.splice(-fe.gSize,_o.length).join(""));_o.length&&kr.unshift(_o.join("")),Ai=kr.join(ot(Tt,Jt)),Er.length&&(Ai+=ot(Tt,Ze)+Er.join("")),Dr&&(Ai+=ot(Tt,ht.Exponential)+"+"+Dr)}else Ai=ot(Tt,ht.Infinity);return Ai=G<0&&!ko?fe.negPre+Ai+fe.negSuf:fe.posPre+Ai+fe.posSuf,Ai}function Jn(G,fe="-"){const Tt={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Jt=G.split(Ke),Ze=Jt[0],Vn=Jt[1],Kn=-1!==Ze.indexOf(we)?Ze.split(we):[Ze.substring(0,Ze.lastIndexOf(Ne)+1),Ze.substring(Ze.lastIndexOf(Ne)+1)],Ai=Kn[0],ko=Kn[1]||"";Tt.posPre=Ai.substring(0,Ai.indexOf(kn));for(let Eo=0;Eo<ko.length;Eo++){const Xi=ko.charAt(Eo);Xi===Ne?Tt.minFrac=Tt.maxFrac=Eo+1:Xi===kn?Tt.maxFrac=Eo+1:Tt.posSuf+=Xi}const Ao=Ai.split(qe);if(Tt.gSize=Ao[1]?Ao[1].length:0,Tt.lgSize=Ao[2]||Ao[1]?(Ao[2]||Ao[1]).length:0,Vn){const Eo=Ze.length-Tt.posPre.length-Tt.posSuf.length,Xi=Vn.indexOf(kn);Tt.negPre=Vn.substring(0,Xi).replace(/'/g,""),Tt.negSuf=Vn.slice(Xi+Eo).replace(/'/g,"")}else Tt.negPre=fe+Tt.posPre,Tt.negSuf=Tt.posSuf;return Tt}function oi(G){const fe=parseInt(G);if(isNaN(fe))throw new Error("Invalid integer literal when parsing "+G);return fe}let Li=(()=>{class G{static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275prov=e.Yz7({token:G,factory:function(Jt){let Ze=null;return Jt?Ze=new Jt:(Vn=e.LFG(e.soG),Ze=new Zi(Vn)),Ze;var Vn},providedIn:"root"})}}return G})();let Zi=(()=>{class G extends Li{constructor(Tt){super(),this.locale=Tt}getPluralCategory(Tt,Jt){switch(Rt(Jt||this.locale)(Tt)){case L.Zero:return"zero";case L.One:return"one";case L.Two:return"two";case L.Few:return"few";case L.Many:return"many";default:return"other"}}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.LFG(e.soG))}}static{this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac})}}return G})();function Qi(G,fe,Tt){return(0,e.dwT)(G,fe,Tt)}function Yi(G,fe){fe=encodeURIComponent(fe);for(const Tt of G.split(";")){const Jt=Tt.indexOf("="),[Ze,Vn]=-1==Jt?[Tt,""]:[Tt.slice(0,Jt),Tt.slice(Jt+1)];if(Ze.trim()===fe)return decodeURIComponent(Vn)}return null}const uo=/\s+/,Ui=[];let Ki=(()=>{class G{constructor(Tt,Jt,Ze,Vn){this._iterableDiffers=Tt,this._keyValueDiffers=Jt,this._ngEl=Ze,this._renderer=Vn,this.initialClasses=Ui,this.stateMap=new Map}set klass(Tt){this.initialClasses=null!=Tt?Tt.trim().split(uo):Ui}set ngClass(Tt){this.rawClass="string"==typeof Tt?Tt.trim().split(uo):Tt}ngDoCheck(){for(const Jt of this.initialClasses)this._updateState(Jt,!0);const Tt=this.rawClass;if(Array.isArray(Tt)||Tt instanceof Set)for(const Jt of Tt)this._updateState(Jt,!0);else if(null!=Tt)for(const Jt of Object.keys(Tt))this._updateState(Jt,!!Tt[Jt]);this._applyStateDiff()}_updateState(Tt,Jt){const Ze=this.stateMap.get(Tt);void 0!==Ze?(Ze.enabled!==Jt&&(Ze.changed=!0,Ze.enabled=Jt),Ze.touched=!0):this.stateMap.set(Tt,{enabled:Jt,changed:!0,touched:!0})}_applyStateDiff(){for(const Tt of this.stateMap){const Jt=Tt[0],Ze=Tt[1];Ze.changed?(this._toggleClass(Jt,Ze.enabled),Ze.changed=!1):Ze.touched||(Ze.enabled&&this._toggleClass(Jt,!1),this.stateMap.delete(Jt)),Ze.touched=!1}}_toggleClass(Tt,Jt){(Tt=Tt.trim()).length>0&&Tt.split(uo).forEach(Ze=>{Jt?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return G})(),Gi=(()=>{class G{constructor(Tt){this._viewContainerRef=Tt,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Tt){return void 0!==Tt.ngComponentOutletNgModule||void 0!==Tt.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Tt){return void 0!==Tt.ngComponentOutlet||void 0!==Tt.ngComponentOutletContent||void 0!==Tt.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Tt)}ngOnChanges(Tt){if(this._needToReCreateComponentInstance(Tt)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const Jt=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Tt)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,e.Lck)(this.ngComponentOutletNgModule,sn(Jt)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(sn(Jt)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:Jt,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Tt of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Tt,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Tt){for(const[Jt,Ze]of this._inputsUsed)Ze?(Tt.setInput(Jt,this.ngComponentOutletInputs[Jt]),this._inputsUsed.set(Jt,!1)):(Tt.setInput(Jt,void 0),this._inputsUsed.delete(Jt))}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.s_b))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[e.TTD]})}}return G})();function sn(G){return G.get(e.h0i).injector}class fi{constructor(fe,Tt,Jt,Ze){this.$implicit=fe,this.ngForOf=Tt,this.index=Jt,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xt=(()=>{class G{set ngForOf(Tt){this._ngForOf=Tt,this._ngForOfDirty=!0}set ngForTrackBy(Tt){this._trackByFn=Tt}get ngForTrackBy(){return this._trackByFn}constructor(Tt,Jt,Ze){this._viewContainer=Tt,this._template=Jt,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Tt){Tt&&(this._template=Tt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Tt=this._ngForOf;!this._differ&&Tt&&(this._differ=this._differs.find(Tt).create(this.ngForTrackBy))}if(this._differ){const Tt=this._differ.diff(this._ngForOf);Tt&&this._applyChanges(Tt)}}_applyChanges(Tt){const Jt=this._viewContainer;Tt.forEachOperation((Ze,Vn,Kn)=>{if(null==Ze.previousIndex)Jt.createEmbeddedView(this._template,new fi(Ze.item,this._ngForOf,-1,-1),null===Kn?void 0:Kn);else if(null==Kn)Jt.remove(null===Vn?void 0:Vn);else if(null!==Vn){const Ai=Jt.get(Vn);Jt.move(Ai,Kn),Ye(Ai,Ze)}});for(let Ze=0,Vn=Jt.length;Ze<Vn;Ze++){const Ai=Jt.get(Ze).context;Ai.index=Ze,Ai.count=Vn,Ai.ngForOf=this._ngForOf}Tt.forEachIdentityChange(Ze=>{Ye(Jt.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard(Tt,Jt){return!0}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return G})();function Ye(G,fe){G.context.$implicit=fe.item}let Ve=(()=>{class G{constructor(Tt,Jt){this._viewContainer=Tt,this._context=new An,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Jt}set ngIf(Tt){this._context.$implicit=this._context.ngIf=Tt,this._updateView()}set ngIfThen(Tt){Ei("ngIfThen",Tt),this._thenTemplateRef=Tt,this._thenViewRef=null,this._updateView()}set ngIfElse(Tt){Ei("ngIfElse",Tt),this._elseTemplateRef=Tt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Tt,Jt){return!0}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.s_b),e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return G})();class An{constructor(){this.$implicit=null,this.ngIf=null}}function Ei(G,fe){if(fe&&!fe.createEmbeddedView)throw new Error(`${G} must be a TemplateRef, but received '${(0,e.AaK)(fe)}'.`)}class ji{constructor(fe,Tt){this._viewContainerRef=fe,this._templateRef=Tt,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(fe){fe&&!this._created?this.create():!fe&&this._created&&this.destroy()}}let Ji=(()=>{class G{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Tt){this._ngSwitch=Tt,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Tt){this._defaultViews.push(Tt)}_matchCase(Tt){const Jt=Tt==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Jt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Jt}_updateDefaultCases(Tt){if(this._defaultViews.length>0&&Tt!==this._defaultUsed){this._defaultUsed=Tt;for(const Jt of this._defaultViews)Jt.enforceState(Tt)}}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return G})(),Wo=(()=>{class G{constructor(Tt,Jt,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new ji(Tt,Jt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ji,9))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return G})(),Ie=(()=>{class G{constructor(Tt,Jt,Ze){Ze._addDefault(new ji(Tt,Jt))}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(Ji,9))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return G})(),pn=(()=>{class G{constructor(Tt){this._localization=Tt,this._caseViews={}}set ngPlural(Tt){this._updateView(Tt)}addCase(Tt,Jt){this._caseViews[Tt]=Jt}_updateView(Tt){this._clearViews();const Ze=function mi(G,fe,Tt,Jt){let Ze=`=${G}`;if(fe.indexOf(Ze)>-1||(Ze=Tt.getPluralCategory(G,Jt),fe.indexOf(Ze)>-1))return Ze;if(fe.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${G}"`)}(Tt,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[Ze])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(Tt){Tt&&(this._activeView=Tt,this._activeView.create())}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(Li))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0})}}return G})(),fn=(()=>{class G{constructor(Tt,Jt,Ze,Vn){this.value=Tt;const Kn=!isNaN(Number(Tt));Vn.addCase(Kn?`=${Tt}`:Tt,new ji(Ze,Jt))}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.$8M("ngPluralCase"),e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(pn,1))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngPluralCase",""]],standalone:!0})}}return G})(),an=(()=>{class G{constructor(Tt,Jt,Ze){this._ngEl=Tt,this._differs=Jt,this._renderer=Ze,this._ngStyle=null,this._differ=null}set ngStyle(Tt){this._ngStyle=Tt,!this._differ&&Tt&&(this._differ=this._differs.find(Tt).create())}ngDoCheck(){if(this._differ){const Tt=this._differ.diff(this._ngStyle);Tt&&this._applyChanges(Tt)}}_setStyle(Tt,Jt){const[Ze,Vn]=Tt.split("."),Kn=-1===Ze.indexOf("-")?void 0:e.JOm.DashCase;null!=Jt?this._renderer.setStyle(this._ngEl.nativeElement,Ze,Vn?`${Jt}${Vn}`:Jt,Kn):this._renderer.removeStyle(this._ngEl.nativeElement,Ze,Kn)}_applyChanges(Tt){Tt.forEachRemovedItem(Jt=>this._setStyle(Jt.key,null)),Tt.forEachAddedItem(Jt=>this._setStyle(Jt.key,Jt.currentValue)),Tt.forEachChangedItem(Jt=>this._setStyle(Jt.key,Jt.currentValue))}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.SBq),e.Y36(e.aQg),e.Y36(e.Qsj))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return G})(),Mn=(()=>{class G{constructor(Tt){this._viewContainerRef=Tt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Tt){if(Tt.ngTemplateOutlet||Tt.ngTemplateOutletInjector){const Jt=this._viewContainerRef;if(this._viewRef&&Jt.remove(Jt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ze,ngTemplateOutletContext:Vn,ngTemplateOutletInjector:Kn}=this;this._viewRef=Jt.createEmbeddedView(Ze,Vn,Kn?{injector:Kn}:void 0)}else this._viewRef=null}else this._viewRef&&Tt.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.s_b))}}static{this.\u0275dir=e.lG2({type:G,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.TTD]})}}return G})();function bn(G,fe){return new e.vHH(2100,!1)}class ie{createSubscription(fe,Tt){return(0,e.rg0)(()=>fe.subscribe({next:Tt,error:Jt=>{throw Jt}}))}dispose(fe){(0,e.rg0)(()=>fe.unsubscribe())}}class We{createSubscription(fe,Tt){return fe.then(Tt,Jt=>{throw Jt})}dispose(fe){}}const Le=new We,un=new ie;let Rn=(()=>{class G{constructor(Tt){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Tt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Tt){return this._obj?Tt!==this._obj?(this._dispose(),this.transform(Tt)):this._latestValue:(Tt&&this._subscribe(Tt),this._latestValue)}_subscribe(Tt){this._obj=Tt,this._strategy=this._selectStrategy(Tt),this._subscription=this._strategy.createSubscription(Tt,Jt=>this._updateLatestValue(Tt,Jt))}_selectStrategy(Tt){if((0,e.QGY)(Tt))return Le;if((0,e.F4k)(Tt))return un;throw bn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Tt,Jt){Tt===this._obj&&(this._latestValue=Jt,this._ref.markForCheck())}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.sBO,16))}}static{this.\u0275pipe=e.Yjl({name:"async",type:G,pure:!1,standalone:!0})}}return G})(),Fn=(()=>{class G{transform(Tt){if(null==Tt)return null;if("string"!=typeof Tt)throw bn();return Tt.toLowerCase()}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275pipe=e.Yjl({name:"lowercase",type:G,pure:!0,standalone:!0})}}return G})();const gi=new e.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ni=new e.OlP("DATE_PIPE_DEFAULT_OPTIONS");let zi=(()=>{class G{constructor(Tt,Jt,Ze){this.locale=Tt,this.defaultTimezone=Jt,this.defaultOptions=Ze}transform(Tt,Jt,Ze,Vn){if(null==Tt||""===Tt||Tt!=Tt)return null;try{return le(Tt,Jt??this.defaultOptions?.dateFormat??"mediumDate",Vn||this.locale,Ze??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Kn){throw bn()}}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.soG,16),e.Y36(gi,24),e.Y36(Ni,24))}}static{this.\u0275pipe=e.Yjl({name:"date",type:G,pure:!0,standalone:!0})}}return G})(),po=(()=>{class G{constructor(Tt){this._locale=Tt}transform(Tt,Jt,Ze){if(!so(Tt))return null;Ze=Ze||this._locale;try{return function Zn(G,fe,Tt){return Pn(G,Jn(nt(fe,p.Decimal),ot(fe,ht.MinusSign)),fe,ht.Group,ht.Decimal,Tt)}(Ko(Tt),Ze,Jt)}catch(Vn){throw bn()}}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.soG,16))}}static{this.\u0275pipe=e.Yjl({name:"number",type:G,pure:!0,standalone:!0})}}return G})(),Wi=(()=>{class G{constructor(Tt,Jt="USD"){this._locale=Tt,this._defaultCurrencyCode=Jt}transform(Tt,Jt=this._defaultCurrencyCode,Ze="symbol",Vn,Kn){if(!so(Tt))return null;Kn=Kn||this._locale,"boolean"==typeof Ze&&(Ze=Ze?"symbol":"code");let Ai=Jt||this._defaultCurrencyCode;"code"!==Ze&&(Ai="symbol"===Ze||"symbol-narrow"===Ze?function z(G,fe,Tt="en"){const Jt=function Nt(G){return(0,e.cg1)(G)[e.wAp.Currencies]}(Tt)[G]||w[G]||[],Ze=Jt[1];return"narrow"===fe&&"string"==typeof Ze?Ze:Jt[0]||G}(Ai,"symbol"===Ze?"wide":"narrow",Kn):Ze);try{return function tn(G,fe,Tt,Jt,Ze){const Kn=Jn(nt(fe,p.Currency),ot(fe,ht.MinusSign));return Kn.minFrac=function Pt(G){let fe;const Tt=w[G];return Tt&&(fe=Tt[2]),"number"==typeof fe?fe:2}(Jt),Kn.maxFrac=Kn.minFrac,Pn(G,Kn,fe,ht.CurrencyGroup,ht.CurrencyDecimal,Ze).replace("\xa4",Tt).replace("\xa4","").trim()}(Ko(Tt),Kn,Ai,Jt,Vn)}catch(ko){throw bn()}}static{this.\u0275fac=function(Jt){return new(Jt||G)(e.Y36(e.soG,16),e.Y36(e.EJc,16))}}static{this.\u0275pipe=e.Yjl({name:"currency",type:G,pure:!0,standalone:!0})}}return G})();function so(G){return!(null==G||""===G||G!=G)}function Ko(G){if("string"==typeof G&&!isNaN(Number(G)-parseFloat(G)))return Number(G);if("number"!=typeof G)throw new Error(`${G} is not a number`);return G}let bo=(()=>{class G{static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275mod=e.oAB({type:G})}static{this.\u0275inj=e.cJS({})}}return G})();const qi="browser",xo="server";function Go(G){return G===qi}function gn(G){return G===xo}let In=(()=>{class G{static{this.\u0275prov=(0,e.Yz7)({token:G,providedIn:"root",factory:()=>new ai((0,e.LFG)(T),window)})}}return G})();class ai{constructor(fe,Tt){this.document=fe,this.window=Tt,this.offset=()=>[0,0]}setOffset(fe){this.offset=Array.isArray(fe)?()=>fe:fe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(fe){this.supportsScrolling()&&this.window.scrollTo(fe[0],fe[1])}scrollToAnchor(fe){if(!this.supportsScrolling())return;const Tt=function Bi(G,fe){const Tt=G.getElementById(fe)||G.getElementsByName(fe)[0];if(Tt)return Tt;if("function"==typeof G.createTreeWalker&&G.body&&"function"==typeof G.body.attachShadow){const Jt=G.createTreeWalker(G.body,NodeFilter.SHOW_ELEMENT);let Ze=Jt.currentNode;for(;Ze;){const Vn=Ze.shadowRoot;if(Vn){const Kn=Vn.getElementById(fe)||Vn.querySelector(`[name="${fe}"]`);if(Kn)return Kn}Ze=Jt.nextNode()}}return null}(this.document,fe);Tt&&(this.scrollToElement(Tt),Tt.focus())}setHistoryScrollRestoration(fe){this.supportsScrolling()&&(this.window.history.scrollRestoration=fe)}scrollToElement(fe){const Tt=fe.getBoundingClientRect(),Jt=Tt.left+this.window.pageXOffset,Ze=Tt.top+this.window.pageYOffset,Vn=this.offset();this.window.scrollTo(Jt-Vn[0],Ze-Vn[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zo{}const on=G=>G.src,ii=new e.OlP("ImageLoader",{providedIn:"root",factory:()=>on}),fr=new e.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});let Or=(()=>{class G{constructor(){this.preloadedImages=(0,e.f3M)(fr),this.document=(0,e.f3M)(T)}createPreloadLinkTag(Tt,Jt,Ze,Vn){if(this.preloadedImages.has(Jt))return;this.preloadedImages.add(Jt);const Kn=Tt.createElement("link");Tt.setAttribute(Kn,"as","image"),Tt.setAttribute(Kn,"href",Jt),Tt.setAttribute(Kn,"rel","preload"),Tt.setAttribute(Kn,"fetchpriority","high"),Vn&&Tt.setAttribute(Kn,"imageSizes",Vn),Ze&&Tt.setAttribute(Kn,"imageSrcset",Ze),Tt.appendChild(this.document.head,Kn)}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275prov=e.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})();const cn=/^((\s*\d+w\s*(,|$)){1,})$/,Mi=[1,2],to={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},sr=new e.OlP("ImageConfig",{providedIn:"root",factory:()=>to});let Fo=(()=>{class G{constructor(){this.imageLoader=(0,e.f3M)(ii),this.config=function co(G){let fe={};return G.breakpoints&&(fe.breakpoints=G.breakpoints.sort((Tt,Jt)=>Tt-Jt)),Object.assign({},to,G,fe)}((0,e.f3M)(sr)),this.renderer=(0,e.f3M)(e.Qsj),this.imgElement=(0,e.f3M)(e.SBq).nativeElement,this.injector=(0,e.f3M)(e.zs3),this.isServer=gn((0,e.f3M)(e.Lbi)),this.preloadLinkCreator=(0,e.f3M)(Or),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const Tt=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),Tt,this.sizes)}ngOnChanges(Tt){if(Tt.ngSrc&&!Tt.ngSrc.isFirstChange()){const Jt=this._renderedSrc;this.updateSrcAndSrcset(!0);const Ze=this._renderedSrc;null!==this.lcpObserver&&Jt&&Ze&&Jt!==Ze&&this.injector.get(e.R0b).runOutsideAngular(()=>{this.lcpObserver?.updateImage(Jt,Ze)})}}callImageLoader(Tt){let Jt=Tt;return this.loaderParams&&(Jt.loaderParams=this.loaderParams),this.imageLoader(Jt)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const Tt=cn.test(this.ngSrcset);return this.ngSrcset.split(",").filter(Ze=>""!==Ze).map(Ze=>{Ze=Ze.trim();const Vn=Tt?parseFloat(Ze):parseFloat(Ze)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:Vn})} ${Ze}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:Tt}=this.config;let Jt=Tt;return"100vw"===this.sizes?.trim()&&(Jt=Tt.filter(Vn=>Vn>=640)),Jt.map(Vn=>`${this.callImageLoader({src:this.ngSrc,width:Vn})} ${Vn}w`).join(", ")}updateSrcAndSrcset(Tt=!1){Tt&&(this._renderedSrc=null);const Jt=this.getRewrittenSrc();let Ze;return this.setHostAttribute("src",Jt),this.ngSrcset?Ze=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(Ze=this.getAutomaticSrcset()),Ze&&this.setHostAttribute("srcset",Ze),Ze}getFixedSrcset(){return Mi.map(Jt=>`${this.callImageLoader({src:this.ngSrc,width:this.width*Jt})} ${Jt}x`).join(", ")}shouldGenerateAutomaticSrcset(){let Tt=!1;return this.sizes||(Tt=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==on&&!Tt}ngOnDestroy(){}setHostAttribute(Tt,Jt){this.renderer.setAttribute(this.imgElement,Tt,Jt)}static{this.\u0275fac=function(Jt){return new(Jt||G)}}static{this.\u0275dir=e.lG2({type:G,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(Jt,Ze){2&Jt&&e.Udp("position",Ze.fill?"absolute":null)("width",Ze.fill?"100%":null)("height",Ze.fill?"100%":null)("inset",Ze.fill?"0px":null)},inputs:{ngSrc:["ngSrc","ngSrc",wr],ngSrcset:"ngSrcset",sizes:"sizes",width:["width","width",e.Cb_],height:["height","height",e.Cb_],loading:"loading",priority:["priority","priority",e.VuI],loaderParams:"loaderParams",disableOptimizedSrcset:["disableOptimizedSrcset","disableOptimizedSrcset",e.VuI],fill:["fill","fill",e.VuI],src:"src",srcset:"srcset"},standalone:!0,features:[e.Xq5,e.TTD]})}}return G})();function wr(G){return"string"==typeof G?G:(0,e.z3N)(G)}},9862:(Qt,$,o)=>{"use strict";o.d($,{CB:()=>oe,MP:()=>xn,TP:()=>Bt,UA:()=>bt,WM:()=>D,dt:()=>It,eN:()=>ut,h_:()=>wn});var e=o(5879),t=o(2096),a=o(2664),i=o(5592),g=o(6328),T=o(2181),_=o(7398),m=o(4716),h=o(4664),f=o(6814);class v{}class C{}class D{constructor(tn){this.normalizedNames=new Map,this.lazyUpdate=null,tn?"string"==typeof tn?this.lazyInit=()=>{this.headers=new Map,tn.split("\n").forEach(ln=>{const Zn=ln.indexOf(":");if(Zn>0){const Jn=ln.slice(0,Zn),hi=Jn.toLowerCase(),ei=ln.slice(Zn+1).trim();this.maybeSetNormalizedName(Jn,hi),this.headers.has(hi)?this.headers.get(hi).push(ei):this.headers.set(hi,[ei])}})}:typeof Headers<"u"&&tn instanceof Headers?(this.headers=new Map,tn.forEach((ln,Zn)=>{this.setHeaderEntries(Zn,ln)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(tn).forEach(([ln,Zn])=>{this.setHeaderEntries(ln,Zn)})}:this.headers=new Map}has(tn){return this.init(),this.headers.has(tn.toLowerCase())}get(tn){this.init();const ln=this.headers.get(tn.toLowerCase());return ln&&ln.length>0?ln[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(tn){return this.init(),this.headers.get(tn.toLowerCase())||null}append(tn,ln){return this.clone({name:tn,value:ln,op:"a"})}set(tn,ln){return this.clone({name:tn,value:ln,op:"s"})}delete(tn,ln){return this.clone({name:tn,value:ln,op:"d"})}maybeSetNormalizedName(tn,ln){this.normalizedNames.has(ln)||this.normalizedNames.set(ln,tn)}init(){this.lazyInit&&(this.lazyInit instanceof D?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(tn=>this.applyUpdate(tn)),this.lazyUpdate=null))}copyFrom(tn){tn.init(),Array.from(tn.headers.keys()).forEach(ln=>{this.headers.set(ln,tn.headers.get(ln)),this.normalizedNames.set(ln,tn.normalizedNames.get(ln))})}clone(tn){const ln=new D;return ln.lazyInit=this.lazyInit&&this.lazyInit instanceof D?this.lazyInit:this,ln.lazyUpdate=(this.lazyUpdate||[]).concat([tn]),ln}applyUpdate(tn){const ln=tn.name.toLowerCase();switch(tn.op){case"a":case"s":let Zn=tn.value;if("string"==typeof Zn&&(Zn=[Zn]),0===Zn.length)return;this.maybeSetNormalizedName(tn.name,ln);const Jn=("a"===tn.op?this.headers.get(ln):void 0)||[];Jn.push(...Zn),this.headers.set(ln,Jn);break;case"d":const hi=tn.value;if(hi){let ei=this.headers.get(ln);if(!ei)return;ei=ei.filter(wi=>-1===hi.indexOf(wi)),0===ei.length?(this.headers.delete(ln),this.normalizedNames.delete(ln)):this.headers.set(ln,ei)}else this.headers.delete(ln),this.normalizedNames.delete(ln)}}setHeaderEntries(tn,ln){const Zn=(Array.isArray(ln)?ln:[ln]).map(hi=>hi.toString()),Jn=tn.toLowerCase();this.headers.set(Jn,Zn),this.maybeSetNormalizedName(tn,Jn)}forEach(tn){this.init(),Array.from(this.normalizedNames.keys()).forEach(ln=>tn(this.normalizedNames.get(ln),this.headers.get(ln)))}}class E{encodeKey(tn){return R(tn)}encodeValue(tn){return R(tn)}decodeKey(tn){return decodeURIComponent(tn)}decodeValue(tn){return decodeURIComponent(tn)}}const M=/%(\d[a-f0-9])/gi,U={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function R(Pn){return encodeURIComponent(Pn).replace(M,(tn,ln)=>U[ln]??tn)}function A(Pn){return`${Pn}`}class S{constructor(tn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=tn.encoder||new E,tn.fromString){if(tn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function O(Pn,tn){const ln=new Map;return Pn.length>0&&Pn.replace(/^\?/,"").split("&").forEach(Jn=>{const hi=Jn.indexOf("="),[ei,wi]=-1==hi?[tn.decodeKey(Jn),""]:[tn.decodeKey(Jn.slice(0,hi)),tn.decodeValue(Jn.slice(hi+1))],oi=ln.get(ei)||[];oi.push(wi),ln.set(ei,oi)}),ln}(tn.fromString,this.encoder)}else tn.fromObject?(this.map=new Map,Object.keys(tn.fromObject).forEach(ln=>{const Zn=tn.fromObject[ln],Jn=Array.isArray(Zn)?Zn.map(A):[A(Zn)];this.map.set(ln,Jn)})):this.map=null}has(tn){return this.init(),this.map.has(tn)}get(tn){this.init();const ln=this.map.get(tn);return ln?ln[0]:null}getAll(tn){return this.init(),this.map.get(tn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(tn,ln){return this.clone({param:tn,value:ln,op:"a"})}appendAll(tn){const ln=[];return Object.keys(tn).forEach(Zn=>{const Jn=tn[Zn];Array.isArray(Jn)?Jn.forEach(hi=>{ln.push({param:Zn,value:hi,op:"a"})}):ln.push({param:Zn,value:Jn,op:"a"})}),this.clone(ln)}set(tn,ln){return this.clone({param:tn,value:ln,op:"s"})}delete(tn,ln){return this.clone({param:tn,value:ln,op:"d"})}toString(){return this.init(),this.keys().map(tn=>{const ln=this.encoder.encodeKey(tn);return this.map.get(tn).map(Zn=>ln+"="+this.encoder.encodeValue(Zn)).join("&")}).filter(tn=>""!==tn).join("&")}clone(tn){const ln=new S({encoder:this.encoder});return ln.cloneFrom=this.cloneFrom||this,ln.updates=(this.updates||[]).concat(tn),ln}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(tn=>this.map.set(tn,this.cloneFrom.map.get(tn))),this.updates.forEach(tn=>{switch(tn.op){case"a":case"s":const ln=("a"===tn.op?this.map.get(tn.param):void 0)||[];ln.push(A(tn.value)),this.map.set(tn.param,ln);break;case"d":if(void 0===tn.value){this.map.delete(tn.param);break}{let Zn=this.map.get(tn.param)||[];const Jn=Zn.indexOf(A(tn.value));-1!==Jn&&Zn.splice(Jn,1),Zn.length>0?this.map.set(tn.param,Zn):this.map.delete(tn.param)}}}),this.cloneFrom=this.updates=null)}}class p{constructor(){this.map=new Map}set(tn,ln){return this.map.set(tn,ln),this}get(tn){return this.map.has(tn)||this.map.set(tn,tn.defaultValue()),this.map.get(tn)}delete(tn){return this.map.delete(tn),this}has(tn){return this.map.has(tn)}keys(){return this.map.keys()}}function V(Pn){return typeof ArrayBuffer<"u"&&Pn instanceof ArrayBuffer}function et(Pn){return typeof Blob<"u"&&Pn instanceof Blob}function tt(Pn){return typeof FormData<"u"&&Pn instanceof FormData}class it{constructor(tn,ln,Zn,Jn){let hi;if(this.url=ln,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=tn.toUpperCase(),function L(Pn){switch(Pn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Jn?(this.body=void 0!==Zn?Zn:null,hi=Jn):hi=Zn,hi&&(this.reportProgress=!!hi.reportProgress,this.withCredentials=!!hi.withCredentials,hi.responseType&&(this.responseType=hi.responseType),hi.headers&&(this.headers=hi.headers),hi.context&&(this.context=hi.context),hi.params&&(this.params=hi.params)),this.headers||(this.headers=new D),this.context||(this.context=new p),this.params){const ei=this.params.toString();if(0===ei.length)this.urlWithParams=ln;else{const wi=ln.indexOf("?");this.urlWithParams=ln+(-1===wi?"?":wi<ln.length-1?"&":"")+ei}}else this.params=new S,this.urlWithParams=ln}serializeBody(){return null===this.body?null:V(this.body)||et(this.body)||tt(this.body)||function ht(Pn){return typeof URLSearchParams<"u"&&Pn instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof S?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tt(this.body)?null:et(this.body)?this.body.type||null:V(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof S?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(tn={}){const ln=tn.method||this.method,Zn=tn.url||this.url,Jn=tn.responseType||this.responseType,hi=void 0!==tn.body?tn.body:this.body,ei=void 0!==tn.withCredentials?tn.withCredentials:this.withCredentials,wi=void 0!==tn.reportProgress?tn.reportProgress:this.reportProgress;let oi=tn.headers||this.headers,Li=tn.params||this.params;const mi=tn.context??this.context;return void 0!==tn.setHeaders&&(oi=Object.keys(tn.setHeaders).reduce((Zi,Qi)=>Zi.set(Qi,tn.setHeaders[Qi]),oi)),tn.setParams&&(Li=Object.keys(tn.setParams).reduce((Zi,Qi)=>Zi.set(Qi,tn.setParams[Qi]),Li)),new it(ln,Zn,hi,{params:Li,headers:oi,context:mi,reportProgress:wi,responseType:Jn,withCredentials:ei})}}var It=function(Pn){return Pn[Pn.Sent=0]="Sent",Pn[Pn.UploadProgress=1]="UploadProgress",Pn[Pn.ResponseHeader=2]="ResponseHeader",Pn[Pn.DownloadProgress=3]="DownloadProgress",Pn[Pn.Response=4]="Response",Pn[Pn.User=5]="User",Pn}(It||{});class st{constructor(tn,ln=200,Zn="OK"){this.headers=tn.headers||new D,this.status=void 0!==tn.status?tn.status:ln,this.statusText=tn.statusText||Zn,this.url=tn.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends st{constructor(tn={}){super(tn),this.type=It.ResponseHeader}clone(tn={}){return new dt({headers:tn.headers||this.headers,status:void 0!==tn.status?tn.status:this.status,statusText:tn.statusText||this.statusText,url:tn.url||this.url||void 0})}}class St extends st{constructor(tn={}){super(tn),this.type=It.Response,this.body=void 0!==tn.body?tn.body:null}clone(tn={}){return new St({body:void 0!==tn.body?tn.body:this.body,headers:tn.headers||this.headers,status:void 0!==tn.status?tn.status:this.status,statusText:tn.statusText||this.statusText,url:tn.url||this.url||void 0})}}class bt extends st{constructor(tn){super(tn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${tn.url||"(unknown url)"}`:`Http failure response for ${tn.url||"(unknown url)"}: ${tn.status} ${tn.statusText}`,this.error=tn.error||null}}function u(Pn,tn){return{body:tn,headers:Pn.headers,context:Pn.context,observe:Pn.observe,params:Pn.params,reportProgress:Pn.reportProgress,responseType:Pn.responseType,withCredentials:Pn.withCredentials}}let ut=(()=>{class Pn{constructor(ln){this.handler=ln}request(ln,Zn,Jn={}){let hi;if(ln instanceof it)hi=ln;else{let oi,Li;oi=Jn.headers instanceof D?Jn.headers:new D(Jn.headers),Jn.params&&(Li=Jn.params instanceof S?Jn.params:new S({fromObject:Jn.params})),hi=new it(ln,Zn,void 0!==Jn.body?Jn.body:null,{headers:oi,context:Jn.context,params:Li,reportProgress:Jn.reportProgress,responseType:Jn.responseType||"json",withCredentials:Jn.withCredentials})}const ei=(0,t.of)(hi).pipe((0,g.b)(oi=>this.handler.handle(oi)));if(ln instanceof it||"events"===Jn.observe)return ei;const wi=ei.pipe((0,T.h)(oi=>oi instanceof St));switch(Jn.observe||"body"){case"body":switch(hi.responseType){case"arraybuffer":return wi.pipe((0,_.U)(oi=>{if(null!==oi.body&&!(oi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return oi.body}));case"blob":return wi.pipe((0,_.U)(oi=>{if(null!==oi.body&&!(oi.body instanceof Blob))throw new Error("Response is not a Blob.");return oi.body}));case"text":return wi.pipe((0,_.U)(oi=>{if(null!==oi.body&&"string"!=typeof oi.body)throw new Error("Response is not a string.");return oi.body}));default:return wi.pipe((0,_.U)(oi=>oi.body))}case"response":return wi;default:throw new Error(`Unreachable: unhandled observe type ${Jn.observe}}`)}}delete(ln,Zn={}){return this.request("DELETE",ln,Zn)}get(ln,Zn={}){return this.request("GET",ln,Zn)}head(ln,Zn={}){return this.request("HEAD",ln,Zn)}jsonp(ln,Zn){return this.request("JSONP",ln,{params:(new S).append(Zn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ln,Zn={}){return this.request("OPTIONS",ln,Zn)}patch(ln,Zn,Jn={}){return this.request("PATCH",ln,u(Jn,Zn))}post(ln,Zn,Jn={}){return this.request("POST",ln,u(Jn,Zn))}put(ln,Zn,Jn={}){return this.request("PUT",ln,u(Jn,Zn))}static{this.\u0275fac=function(Zn){return new(Zn||Pn)(e.LFG(v))}}static{this.\u0275prov=e.Yz7({token:Pn,factory:Pn.\u0275fac})}}return Pn})();function Wt(Pn,tn){return tn(Pn)}function Nt(Pn,tn){return(ln,Zn)=>tn.intercept(ln,{handle:Jn=>Pn(Jn,Zn)})}const Bt=new e.OlP(""),B=new e.OlP(""),k=new e.OlP("");function yt(){let Pn=null;return(tn,ln)=>{null===Pn&&(Pn=((0,e.f3M)(Bt,{optional:!0})??[]).reduceRight(Nt,Wt));const Zn=(0,e.f3M)(e.HDt),Jn=Zn.add();return Pn(tn,ln).pipe((0,m.x)(()=>Zn.remove(Jn)))}}let Y=(()=>{class Pn extends v{constructor(ln,Zn){super(),this.backend=ln,this.injector=Zn,this.chain=null,this.pendingTasks=(0,e.f3M)(e.HDt)}handle(ln){if(null===this.chain){const Jn=Array.from(new Set([...this.injector.get(B),...this.injector.get(k,[])]));this.chain=Jn.reduceRight((hi,ei)=>function Rt(Pn,tn,ln){return(Zn,Jn)=>ln.runInContext(()=>tn(Zn,hi=>Pn(hi,Jn)))}(hi,ei,this.injector),Wt)}const Zn=this.pendingTasks.add();return this.chain(ln,Jn=>this.backend.handle(Jn)).pipe((0,m.x)(()=>this.pendingTasks.remove(Zn)))}static{this.\u0275fac=function(Zn){return new(Zn||Pn)(e.LFG(C),e.LFG(e.lqb))}}static{this.\u0275prov=e.Yz7({token:Pn,factory:Pn.\u0275fac})}}return Pn})();const ne=/^\)\]\}',?\n/;let Se=(()=>{class Pn{constructor(ln){this.xhrFactory=ln}handle(ln){if("JSONP"===ln.method)throw new e.vHH(-2800,!1);const Zn=this.xhrFactory;return(Zn.\u0275loadImpl?(0,a.D)(Zn.\u0275loadImpl()):(0,t.of)(null)).pipe((0,h.w)(()=>new i.y(hi=>{const ei=Zn.build();if(ei.open(ln.method,ln.urlWithParams),ln.withCredentials&&(ei.withCredentials=!0),ln.headers.forEach((Ui,Ki)=>ei.setRequestHeader(Ui,Ki.join(","))),ln.headers.has("Accept")||ei.setRequestHeader("Accept","application/json, text/plain, */*"),!ln.headers.has("Content-Type")){const Ui=ln.detectContentTypeHeader();null!==Ui&&ei.setRequestHeader("Content-Type",Ui)}if(ln.responseType){const Ui=ln.responseType.toLowerCase();ei.responseType="json"!==Ui?Ui:"text"}const wi=ln.serializeBody();let oi=null;const Li=()=>{if(null!==oi)return oi;const Ui=ei.statusText||"OK",Ki=new D(ei.getAllResponseHeaders()),Gi=function Ge(Pn){return"responseURL"in Pn&&Pn.responseURL?Pn.responseURL:/^X-Request-URL:/m.test(Pn.getAllResponseHeaders())?Pn.getResponseHeader("X-Request-URL"):null}(ei)||ln.url;return oi=new dt({headers:Ki,status:ei.status,statusText:Ui,url:Gi}),oi},mi=()=>{let{headers:Ui,status:Ki,statusText:Gi,url:sn}=Li(),fi=null;204!==Ki&&(fi=typeof ei.response>"u"?ei.responseText:ei.response),0===Ki&&(Ki=fi?200:0);let Xt=Ki>=200&&Ki<300;if("json"===ln.responseType&&"string"==typeof fi){const Ye=fi;fi=fi.replace(ne,"");try{fi=""!==fi?JSON.parse(fi):null}catch(se){fi=Ye,Xt&&(Xt=!1,fi={error:se,text:fi})}}Xt?(hi.next(new St({body:fi,headers:Ui,status:Ki,statusText:Gi,url:sn||void 0})),hi.complete()):hi.error(new bt({error:fi,headers:Ui,status:Ki,statusText:Gi,url:sn||void 0}))},Zi=Ui=>{const{url:Ki}=Li(),Gi=new bt({error:Ui,status:ei.status||0,statusText:ei.statusText||"Unknown Error",url:Ki||void 0});hi.error(Gi)};let Qi=!1;const Yi=Ui=>{Qi||(hi.next(Li()),Qi=!0);let Ki={type:It.DownloadProgress,loaded:Ui.loaded};Ui.lengthComputable&&(Ki.total=Ui.total),"text"===ln.responseType&&ei.responseText&&(Ki.partialText=ei.responseText),hi.next(Ki)},uo=Ui=>{let Ki={type:It.UploadProgress,loaded:Ui.loaded};Ui.lengthComputable&&(Ki.total=Ui.total),hi.next(Ki)};return ei.addEventListener("load",mi),ei.addEventListener("error",Zi),ei.addEventListener("timeout",Zi),ei.addEventListener("abort",Zi),ln.reportProgress&&(ei.addEventListener("progress",Yi),null!==wi&&ei.upload&&ei.upload.addEventListener("progress",uo)),ei.send(wi),hi.next({type:It.Sent}),()=>{ei.removeEventListener("error",Zi),ei.removeEventListener("abort",Zi),ei.removeEventListener("load",mi),ei.removeEventListener("timeout",Zi),ln.reportProgress&&(ei.removeEventListener("progress",Yi),null!==wi&&ei.upload&&ei.upload.removeEventListener("progress",uo)),ei.readyState!==ei.DONE&&ei.abort()}})))}static{this.\u0275fac=function(Zn){return new(Zn||Pn)(e.LFG(f.JF))}}static{this.\u0275prov=e.Yz7({token:Pn,factory:Pn.\u0275fac})}}return Pn})();const Pe=new e.OlP("XSRF_ENABLED"),Ee=new e.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ae=new e.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class $e{}let Bn=(()=>{class Pn{constructor(ln,Zn,Jn){this.doc=ln,this.platform=Zn,this.cookieName=Jn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ln=this.doc.cookie||"";return ln!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(ln,this.cookieName),this.lastCookieString=ln),this.lastToken}static{this.\u0275fac=function(Zn){return new(Zn||Pn)(e.LFG(f.K0),e.LFG(e.Lbi),e.LFG(Ee))}}static{this.\u0275prov=e.Yz7({token:Pn,factory:Pn.\u0275fac})}}return Pn})();function Ae(Pn,tn){const ln=Pn.url.toLowerCase();if(!(0,e.f3M)(Pe)||"GET"===Pn.method||"HEAD"===Pn.method||ln.startsWith("http://")||ln.startsWith("https://"))return tn(Pn);const Zn=(0,e.f3M)($e).getToken(),Jn=(0,e.f3M)(ae);return null!=Zn&&!Pn.headers.has(Jn)&&(Pn=Pn.clone({headers:Pn.headers.set(Jn,Zn)})),tn(Pn)}var rn=function(Pn){return Pn[Pn.Interceptors=0]="Interceptors",Pn[Pn.LegacyInterceptors=1]="LegacyInterceptors",Pn[Pn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pn[Pn.NoXsrfProtection=3]="NoXsrfProtection",Pn[Pn.JsonpSupport=4]="JsonpSupport",Pn[Pn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pn[Pn.Fetch=6]="Fetch",Pn}(rn||{});function re(Pn,tn){return{\u0275kind:Pn,\u0275providers:tn}}function wn(...Pn){const tn=[ut,Se,Y,{provide:v,useExisting:Y},{provide:C,useExisting:Se},{provide:B,useValue:Ae,multi:!0},{provide:Pe,useValue:!0},{provide:$e,useClass:Bn}];for(const ln of Pn)tn.push(...ln.\u0275providers);return(0,e.MR2)(tn)}function oe(Pn){return re(rn.Interceptors,Pn.map(tn=>({provide:B,useValue:tn,multi:!0})))}const Ht=new e.OlP("LEGACY_INTERCEPTOR_FN");function xn(){return re(rn.LegacyInterceptors,[{provide:Ht,useFactory:yt},{provide:B,useExisting:Ht,multi:!0}])}},5879:(Qt,$,o)=>{"use strict";o.d($,{$8M:()=>hc,$WT:()=>Mo,$Z:()=>Kh,$Zp:()=>zn,AFp:()=>lh,ALo:()=>L_,AaK:()=>C,AsE:()=>fp,BQk:()=>nu,CHM:()=>_t,CRH:()=>t0,Cb_:()=>XO,DdM:()=>M_,Dn7:()=>k_,EJc:()=>zT,EiD:()=>qf,EpF:()=>zg,F$t:()=>Gg,F4k:()=>$g,FYo:()=>mh,FiY:()=>pl,Flj:()=>Xr,G7q:()=>B_,Gf:()=>X_,GfV:()=>_h,GkF:()=>np,Gpc:()=>E,Gre:()=>bm,HDt:()=>O0,HOy:()=>hp,HTZ:()=>x_,Hh0:()=>P_,Hsn:()=>Jg,Ikx:()=>gp,JOm:()=>Cl,JVY:()=>cy,JZr:()=>A,Jf7:()=>Sh,KtG:()=>ee,L6k:()=>ly,LAX:()=>dy,LFG:()=>Ke,LMc:()=>tD,LSH:()=>sd,Lbi:()=>_d,Lck:()=>UE,MAs:()=>Ug,MGl:()=>iu,MMx:()=>f_,MR2:()=>ud,NdJ:()=>op,O4$:()=>Yc,Ojb:()=>ky,OlP:()=>Ee,Oqu:()=>pp,P3R:()=>eh,PXZ:()=>mO,PiD:()=>af,Q6J:()=>qd,QGY:()=>ip,QbO:()=>Fy,Qsj:()=>Xy,R0b:()=>Gr,RDi:()=>ey,RIp:()=>ih,Rgc:()=>Kc,SBq:()=>Pc,Sil:()=>ZT,Suo:()=>q_,T8G:()=>Rh,TTD:()=>Xi,TgZ:()=>ql,Tol:()=>dm,Udp:()=>lp,VKq:()=>E_,VuI:()=>YO,W1O:()=>r0,WLB:()=>T_,X6Q:()=>DO,XFs:()=>Q,Xpm:()=>We,Xq5:()=>Eg,Xts:()=>Dc,Y36:()=>$a,YKP:()=>d_,YNc:()=>Ng,Yjl:()=>Vi,Yz7:()=>Bt,Z0I:()=>Y,ZZ4:()=>Jp,_Bn:()=>u_,_UZ:()=>ep,_uU:()=>vm,aQg:()=>Qp,c2e:()=>T0,cEC:()=>lg,cJS:()=>k,cg1:()=>_p,d8E:()=>mp,dDg:()=>pO,dqk:()=>Se,dwT:()=>UM,eBb:()=>uy,eJc:()=>Rp,ekj:()=>up,eoX:()=>S0,evT:()=>Ah,f3M:()=>kn,g9A:()=>uh,gHi:()=>Hl,gM2:()=>U_,gxx:()=>cd,h0i:()=>_a,hij:()=>su,iGM:()=>Y_,iPO:()=>yO,ifc:()=>ei,ip1:()=>E0,jDz:()=>h_,kEZ:()=>O_,kL8:()=>Fm,kcU:()=>ac,ktI:()=>Ic,kuF:()=>w,l5B:()=>D_,lG2:()=>Ii,lcZ:()=>N_,lqb:()=>Ls,lri:()=>P0,mCW:()=>Il,n5z:()=>dc,n_E:()=>du,oAB:()=>Fn,oJD:()=>th,oxw:()=>Kg,pB0:()=>py,q3G:()=>pa,q4F:()=>vh,qFp:()=>eD,qLn:()=>qs,qOj:()=>Vd,qZA:()=>tu,qbA:()=>b_,qzn:()=>La,rWj:()=>I0,r_H:()=>eC,rg0:()=>Vn,s9C:()=>rp,sBO:()=>bO,s_b:()=>hu,soG:()=>mu,tBr:()=>sf,tb:()=>jp,tdS:()=>Qr,tp0:()=>fl,uIk:()=>Kd,uOi:()=>ad,vHH:()=>S,vpe:()=>Ns,wAp:()=>ec,xi3:()=>F_,xp6:()=>Vh,ynx:()=>eu,z2F:()=>rc,z3N:()=>Zs,zSh:()=>fd,zW0:()=>vg,zs3:()=>xs});var e=o(8645),t=o(7394),a=o(5592),i=o(3019),g=o(5619),T=o(2096),_=o(3020),m=o(4664),h=o(3997);function f(n){for(let r in n)if(n[r]===f)return r;throw Error("Could not find renamed property on target object.")}function v(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function C(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(C).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function D(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const y=f({__forward_ref__:f});function E(n){return n.__forward_ref__=E,n.toString=function(){return C(this())},n}function O(n){return M(n)?n():n}function M(n){return"function"==typeof n&&n.hasOwnProperty(y)&&n.__forward_ref__===E}function U(n){return n&&!!n.\u0275providers}const A="https://g.co/ng/security#xss";class S extends Error{constructor(r,s){super(w(r,s)),this.code=r}}function w(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}function p(n){return"string"==typeof n?n:null==n?"":String(n)}function ht(n,r){throw new S(-201,!1)}function At(n,r){null==n&&function Dt(n,r,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${r} <=Actual]`))}(r,n,null,"!=")}function Bt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function k(n){return{providers:n.providers||[],imports:n.imports||[]}}function yt(n){return xt(n,Pt)||xt(n,De)}function Y(n){return null!==yt(n)}function xt(n,r){return n.hasOwnProperty(r)?n[r]:null}function at(n){return n&&(n.hasOwnProperty(Gt)||n.hasOwnProperty(Ut))?n[Gt]:null}const Pt=f({\u0275prov:f}),Gt=f({\u0275inj:f}),De=f({ngInjectableDef:f}),Ut=f({ngInjectorDef:f});var Q=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Q||{});let Ot;function Ft(){return Ot}function le(n){const r=Ot;return Ot=n,r}function ne(n,r,s){const c=yt(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Q.Optional?null:void 0!==r?r:void ht(C(n))}const Se=globalThis;class Ee{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Bt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xn={},ce="__NG_DI_FLAG__",me="ngTempTokenPath",_n=/\n/gm,xe="__source";let je;function we(n){const r=je;return je=n,r}function Ne(n,r=Q.Default){if(void 0===je)throw new S(-203,!1);return null===je?ne(n,void 0,r):je.get(n,r&Q.Optional?null:void 0,r)}function Ke(n,r=Q.Default){return(Ft()||Ne)(O(n),r)}function kn(n,r=Q.Default){return Ke(n,ui(r))}function ui(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function eo(n){const r=[];for(let s=0;s<n.length;s++){const c=O(n[s]);if(Array.isArray(c)){if(0===c.length)throw new S(900,!1);let l,d=Q.Default;for(let P=0;P<c.length;P++){const j=c[P],ct=tn(j);"number"==typeof ct?-1===ct?l=j.token:d|=ct:l=j}r.push(Ke(l,d))}else r.push(Ke(c))}return r}function Pn(n,r){return n[ce]=r,n.prototype[ce]=r,n}function tn(n){return n[ce]}function Jn(n){return{toString:n}.toString()}var hi=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(hi||{}),ei=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ei||{});const wi={},oi=[],Li=f({\u0275cmp:f}),mi=f({\u0275dir:f}),Zi=f({\u0275pipe:f}),Qi=f({\u0275mod:f}),Yi=f({\u0275fac:f}),uo=f({__NG_ELEMENT_ID__:f}),Ui=f({__NG_ENV_ID__:f});function Ki(n,r,s){let c=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const d=r.length;if(l+d===c||n.charCodeAt(l+d)<=32)return l}s=l+1}}function Gi(n,r,s){let c=0;for(;c<s.length;){const l=s[c];if("number"==typeof l){if(0!==l)break;c++;const d=s[c++],P=s[c++],j=s[c++];n.setAttribute(r,P,j,d)}else{const d=l,P=s[++c];fi(d)?n.setProperty(r,d,P):n.setAttribute(r,d,P),c++}}return c}function sn(n){return 3===n||4===n||6===n}function fi(n){return 64===n.charCodeAt(0)}function Xt(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let c=0;c<r.length;c++){const l=r[c];"number"==typeof l?s=l:0===s||Ye(n,s,l,null,-1===s||2===s?r[++c]:null)}}return n}function Ye(n,r,s,c,l){let d=0,P=n.length;if(-1===r)P=-1;else for(;d<n.length;){const j=n[d++];if("number"==typeof j){if(j===r){P=-1;break}if(j>r){P=d-1;break}}}for(;d<n.length;){const j=n[d];if("number"==typeof j)break;if(j===s){if(null===c)return void(null!==l&&(n[d+1]=l));if(c===n[d+1])return void(n[d+2]=l)}d++,null!==c&&d++,null!==l&&d++}-1!==P&&(n.splice(P,0,r),d=P+1),n.splice(d++,0,s),null!==c&&n.splice(d++,0,c),null!==l&&n.splice(d++,0,l)}const se="ng-template";function Ve(n,r,s){let c=0,l=!0;for(;c<n.length;){let d=n[c++];if("string"==typeof d&&l){const P=n[c++];if(s&&"class"===d&&-1!==Ki(P.toLowerCase(),r,0))return!0}else{if(1===d){for(;c<n.length&&"string"==typeof(d=n[c++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(l=!1)}}return!1}function An(n){return 4===n.type&&n.value!==se}function Ei(n,r,s){return r===(4!==n.type||s?n.value:se)}function ji(n,r,s){let c=4;const l=n.attrs||[],d=function pn(n){for(let r=0;r<n.length;r++)if(sn(n[r]))return r;return n.length}(l);let P=!1;for(let j=0;j<r.length;j++){const ct=r[j];if("number"!=typeof ct){if(!P)if(4&c){if(c=2|1&c,""!==ct&&!Ei(n,ct,s)||""===ct&&1===r.length){if(Ji(c))return!1;P=!0}}else{const Vt=8&c?ct:r[++j];if(8&c&&null!==n.attrs){if(!Ve(n.attrs,Vt,s)){if(Ji(c))return!1;P=!0}continue}const Xe=Wo(8&c?"class":ct,l,An(n),s);if(-1===Xe){if(Ji(c))return!1;P=!0;continue}if(""!==Vt){let Ln;Ln=Xe>d?"":l[Xe+1].toLowerCase();const $n=8&c?Ln:null;if($n&&-1!==Ki($n,Vt,0)||2&c&&Vt!==Ln){if(Ji(c))return!1;P=!0}}}}else{if(!P&&!Ji(c)&&!Ji(ct))return!1;if(P&&Ji(ct))continue;P=!1,c=ct|1&c}}return Ji(c)||P}function Ji(n){return 0==(1&n)}function Wo(n,r,s,c){if(null===r)return-1;let l=0;if(c||!s){let d=!1;for(;l<r.length;){const P=r[l];if(P===n)return l;if(3===P||6===P)d=!0;else{if(1===P||2===P){let j=r[++l];for(;"string"==typeof j;)j=r[++l];continue}if(4===P)break;if(0===P){l+=4;continue}}l+=d?1:2}return-1}return function fn(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===r)return s;s++}return-1}(r,n)}function Ie(n,r,s=!1){for(let c=0;c<r.length;c++)if(ji(n,r[c],s))return!0;return!1}function an(n,r){t:for(let s=0;s<r.length;s++){const c=r[s];if(n.length===c.length){for(let l=0;l<n.length;l++)if(n[l]!==c[l])continue t;return!0}}return!1}function Mn(n,r){return n?":not("+r.trim()+")":r}function Tn(n){let r=n[0],s=1,c=2,l="",d=!1;for(;s<n.length;){let P=n[s];if("string"==typeof P)if(2&c){const j=n[++s];l+="["+P+(j.length>0?'="'+j+'"':"")+"]"}else 8&c?l+="."+P:4&c&&(l+=" "+P);else""!==l&&!Ji(P)&&(r+=Mn(d,l),l=""),c=P,d=d||!Ji(c);s++}return""!==l&&(r+=Mn(d,l)),r}function We(n){return Jn(()=>{const r=qo(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ei.Emulated,styles:n.styles||oi,_:null,schemas:n.schemas||null,tView:null,id:""};$o(s);const c=n.dependencies;return s.directiveDefs=tr(c,!1),s.pipeDefs=tr(c,!0),s.id=function er(n){let r=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const l of s)r=Math.imul(31,r)+l.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function un(n){return gi(n)||Ni(n)}function Rn(n){return null!==n}function Fn(n){return Jn(()=>({type:n.type,bootstrap:n.bootstrap||oi,declarations:n.declarations||oi,imports:n.imports||oi,exports:n.exports||oi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Di(n,r){if(null==n)return wi;const s={};for(const c in n)if(n.hasOwnProperty(c)){let l=n[c],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=c,r&&(r[l]=d)}return s}function Ii(n){return Jn(()=>{const r=qo(n);return $o(r),r})}function Vi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function gi(n){return n[Li]||null}function Ni(n){return n[mi]||null}function zi(n){return n[Zi]||null}function Mo(n){const r=gi(n)||Ni(n)||zi(n);return null!==r&&r.standalone}function io(n,r){const s=n[Qi]||null;if(!s&&!0===r)throw new Error(`Type ${C(n)} does not have '\u0275mod' property.`);return s}function qo(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||wi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||oi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Di(n.inputs,r),outputs:Di(n.outputs)}}function $o(n){n.features?.forEach(r=>r(n))}function tr(n,r){if(!n)return null;const s=r?zi:un;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(Rn)}const po=0,Ti=1,Wi=2,so=3,Ko=4,cr=5,Uo=6,bo=7,qi=8,xo=9,Lo=10,Fi=11,Go=12,gn=13,Yn=14,te=15,hn=16,In=17,ai=18,Bi=19,No=20,zo=21,ao=22,Me=23,Qn=24,J=25,Et=1,on=2,ii=7,Oo=9,jo=11;function Io(n){return Array.isArray(n)&&"object"==typeof n[Et]}function _e(n){return Array.isArray(n)&&!0===n[Et]}function W(n){return 0!=(4&n.flags)}function rt(n){return n.componentOffset>-1}function zt(n){return 1==(1&n.flags)}function pe(n){return!!n.template}function Be(n){return 0!=(512&n[Wi])}function ve(n,r){return n.hasOwnProperty(Yi)?n[Yi]:null}const en=Symbol("SIGNAL");function zn(n){return"function"==typeof n&&void 0!==n[en]}function Mi(n,r){return(null===n||"object"!=typeof n)&&Object.is(n,r)}let ti=null,_i=!1;function vi(n){const r=ti;return ti=n,r}const no={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ho(n){if(_i)throw new Error("");if(null===ti)return;const r=ti.nextProducerIndex++;Sr(ti),r<ti.producerNode.length&&ti.producerNode[r]!==n&&go(ti)&&Ir(ti.producerNode[r],ti.producerIndexOfThis[r]),ti.producerNode[r]!==n&&(ti.producerNode[r]=n,ti.producerIndexOfThis[r]=go(ti)?ur(n,ti,r):0),ti.producerLastReadVersion[r]=n.version}function ir(n){if(!go(n)||n.dirty){if(!n.producerMustRecompute(n)&&!or(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function to(n){if(void 0===n.liveConsumerNode)return;const r=_i;_i=!0;try{for(const s of n.liveConsumerNode)s.dirty||Fo(s)}finally{_i=r}}function sr(){return!1!==ti?.consumerAllowSignalWrites}function Fo(n){n.dirty=!0,to(n),n.consumerMarkedDirty?.(n)}function co(n){return n&&(n.nextProducerIndex=0),vi(n)}function br(n,r){if(vi(r),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(go(n))for(let s=n.nextProducerIndex;s<n.producerNode.length;s++)Ir(n.producerNode[s],n.producerIndexOfThis[s]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function or(n){Sr(n);for(let r=0;r<n.producerNode.length;r++){const s=n.producerNode[r],c=n.producerLastReadVersion[r];if(c!==s.version||(ir(s),c!==s.version))return!0}return!1}function Cr(n){if(Sr(n),go(n))for(let r=0;r<n.producerNode.length;r++)Ir(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ur(n,r,s){if(Zr(n),Sr(n),0===n.liveConsumerNode.length)for(let c=0;c<n.producerNode.length;c++)n.producerIndexOfThis[c]=ur(n.producerNode[c],n,c);return n.liveConsumerIndexOfThis.push(s),n.liveConsumerNode.push(r)-1}function Ir(n,r){if(Zr(n),Sr(n),1===n.liveConsumerNode.length)for(let c=0;c<n.producerNode.length;c++)Ir(n.producerNode[c],n.producerIndexOfThis[c]);const s=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[s],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[s],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){const c=n.liveConsumerIndexOfThis[r],l=n.liveConsumerNode[r];Sr(l),l.producerIndexOfThis[c]=r}}function go(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Sr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Zr(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Xr(n,r){const s=Object.create(zr);s.computation=n,r?.equal&&(s.equal=r.equal);const c=()=>{if(ir(s),ho(s),s.value===hr)throw s.error;return s.value};return c[en]=s,c}const Jr=Symbol("UNSET"),Hr=Symbol("COMPUTING"),hr=Symbol("ERRORED"),zr=(()=>({...no,value:Jr,dirty:!0,error:null,equal:Mi,producerMustRecompute:n=>n.value===Jr||n.value===Hr,producerRecomputeValue(n){if(n.value===Hr)throw new Error("Detected cycle in computations.");const r=n.value;n.value=Hr;const s=co(n);let c;try{c=n.computation()}catch(l){c=hr,n.error=l}finally{br(n,s)}r!==Jr&&r!==hr&&c!==hr&&n.equal(r,c)?n.value=r:(n.value=c,n.version++)}}))();let os=function Vr(){throw new Error};function Fr(){os()}let $r=null;function Qr(n,r){const s=Object.create(wr);function c(){return ho(s),s.value}return s.value=n,r?.equal&&(s.equal=r.equal),c.set=fe,c.update=Tt,c.mutate=Jt,c.asReadonly=Ze,c[en]=s,c}const wr=(()=>({...no,equal:Mi,readonlyFn:void 0}))();function G(n){n.version++,to(n),$r?.()}function fe(n){const r=this[en];sr()||Fr(),r.equal(r.value,n)||(r.value=n,G(r))}function Tt(n){sr()||Fr(),fe.call(this,n(this[en].value))}function Jt(n){const r=this[en];sr()||Fr(),n(r.value),G(r)}function Ze(){const n=this[en];if(void 0===n.readonlyFn){const r=()=>this();r[en]=n,n.readonlyFn=r}return n.readonlyFn}function Vn(n){const r=vi(null);try{return n()}finally{vi(r)}}const Ai=()=>{},ko=(()=>({...no,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Ai}))();class Eo{constructor(r,s,c){this.previousValue=r,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function Xi(){return Bo}function Bo(n){return n.type.prototype.ngOnChanges&&(n.setInput=wo),_o}function _o(){const n=Er(this),r=n?.current;if(r){const s=n.previous;if(s===wi)n.previous=r;else for(let c in r)s[c]=r[c];n.current=null,this.ngOnChanges(r)}}function wo(n,r,s,c){const l=this.declaredInputs[s],d=Er(n)||function kr(n,r){return n[Dr]=r}(n,{previous:wi,current:null}),P=d.current||(d.current={}),j=d.previous,ct=j[l];P[l]=new Eo(ct&&ct.currentValue,r,j===wi),n[c]=r}Xi.ngInherit=!0;const Dr="__ngSimpleChanges__";function Er(n){return n[Dr]||null}const ar=function(n,r,s){},xr="svg";function Zo(n){for(;Array.isArray(n);)n=n[po];return n}function wt(n,r){return Zo(r[n])}function nn(n,r){return Zo(r[n.index])}function Yt(n,r){return n.data[r]}function Te(n,r){return n[r]}function Cn(n,r){const s=r[n];return Io(s)?s:s[po]}function yn(n,r){return null==r?null:n[r]}function Ct(n){n[In]=0}function qt(n){1024&n[Wi]||(n[Wi]|=1024,yi(n,1))}function Je(n){1024&n[Wi]&&(n[Wi]&=-1025,yi(n,-1))}function yi(n,r){let s=n[so];if(null===s)return;s[cr]+=r;let c=s;for(s=s[so];null!==s&&(1===r&&1===c[cr]||-1===r&&0===c[cr]);)s[cr]+=r,c=s,s=s[so]}function vt(n,r){if(256==(256&n[Wi]))throw new S(911,!1);null===n[zo]&&(n[zo]=[]),n[zo].push(r)}const ft={lFrame:Js(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wn(){return ft.bindingsEnabled}function Oi(){return null!==ft.skipHydrationRootTNode}function q(){return ft.lFrame.lView}function Re(){return ft.lFrame.tView}function _t(n){return ft.lFrame.contextLView=n,n[qi]}function ee(n){return ft.lFrame.contextLView=null,n}function he(){let n=ri();for(;null!==n&&64===n.type;)n=n.parent;return n}function ri(){return ft.lFrame.currentTNode}function vo(n,r){const s=ft.lFrame;s.currentTNode=n,s.isParent=r}function Rr(){return ft.lFrame.isParent}function ss(){ft.lFrame.isParent=!1}function Ur(){const n=ft.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function K(){return ft.lFrame.bindingIndex}function H(){return ft.lFrame.bindingIndex++}function pt(n){const r=ft.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function dn(n,r){const s=ft.lFrame;s.bindingIndex=s.bindingRootIndex=n,Xn(r)}function Xn(n){ft.lFrame.currentDirectiveIndex=n}function ki(n){const r=ft.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Ro(){return ft.lFrame.currentQueryIndex}function vr(n){ft.lFrame.currentQueryIndex=n}function Yo(n){const r=n[Ti];return 2===r.type?r.declTNode:1===r.type?n[Uo]:null}function ls(n,r,s){if(s&Q.SkipSelf){let l=r,d=n;for(;!(l=l.parent,null!==l||s&Q.Host||(l=Yo(d),null===l||(d=d[Yn],10&l.type))););if(null===l)return!1;r=l,n=d}const c=ft.lFrame=gs();return c.currentTNode=r,c.lView=n,!0}function hs(n){const r=gs(),s=n[Ti];ft.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function gs(){const n=ft.lFrame,r=null===n?null:n.child;return null===r?Js(n):r}function Js(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ms(){const n=ft.lFrame;return ft.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ya=Ms;function na(){const n=Ms();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kr(){return ft.lFrame.selectedIndex}function Es(n){ft.lFrame.selectedIndex=n}function yr(){const n=ft.lFrame;return Yt(n.tView,n.selectedIndex)}function Yc(){ft.lFrame.currentNamespace=xr}function ac(){!function Xc(){ft.lFrame.currentNamespace=null}()}let ms=!0;function Ss(){return ms}function As(n){ms=n}function Ca(n,r){for(let s=r.directiveStart,c=r.directiveEnd;s<c;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:j,ngAfterViewInit:ct,ngAfterViewChecked:Vt,ngOnDestroy:ge}=d;P&&(n.contentHooks??=[]).push(-s,P),j&&((n.contentHooks??=[]).push(s,j),(n.contentCheckHooks??=[]).push(s,j)),ct&&(n.viewHooks??=[]).push(-s,ct),Vt&&((n.viewHooks??=[]).push(s,Vt),(n.viewCheckHooks??=[]).push(s,Vt)),null!=ge&&(n.destroyHooks??=[]).push(s,ge)}}function Ma(n,r,s){qc(n,r,3,s)}function Ea(n,r,s,c){(3&n[Wi])===s&&qc(n,r,s,c)}function cc(n,r){let s=n[Wi];(3&s)===r&&(s&=8191,s+=1,n[Wi]=s)}function qc(n,r,s,c){const d=c??-1,P=r.length-1;let j=0;for(let ct=void 0!==c?65535&n[In]:0;ct<P;ct++)if("number"==typeof r[ct+1]){if(j=r[ct],null!=c&&j>=c)break}else r[ct]<0&&(n[In]+=65536),(j<d||-1==d)&&(Ou(n,s,r,ct),n[In]=(4294901760&n[In])+ct+2),ct++}function tl(n,r){ar(4,n,r);const s=vi(null);try{r.call(n)}finally{vi(s),ar(5,n,r)}}function Ou(n,r,s,c){const l=s[c]<0,d=s[c+1],j=n[l?-s[c]:s[c]];l?n[Wi]>>13<n[In]>>16&&(3&n[Wi])===r&&(n[Wi]+=8192,tl(j,d)):tl(j,d)}const Ts=-1;class ia{constructor(r,s,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function ra(n){return n!==Ts}function zs(n){return 32767&n}function sa(n,r){let s=function xu(n){return n>>16}(n),c=r;for(;s>0;)c=c[Yn],s--;return c}let Ta=!0;function Oa(n){const r=Ta;return Ta=n,r}const nl=255,il=5;let Pu=0;const vs={};function Da(n,r){const s=ol(n,r);if(-1!==s)return s;const c=r[Ti];c.firstCreatePass&&(n.injectorIndex=r.length,uc(c.data,n),uc(r,null),uc(c.blueprint,null));const l=aa(n,r),d=n.injectorIndex;if(ra(l)){const P=zs(l),j=sa(l,r),ct=j[Ti].data;for(let Vt=0;Vt<8;Vt++)r[d+Vt]=j[P+Vt]|ct[P+Vt]}return r[d+8]=l,d}function uc(n,r){n.push(0,0,0,0,0,0,0,0,r)}function ol(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function aa(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,l=r;for(;null!==l;){if(c=fc(l),null===c)return Ts;if(s++,l=l[Yn],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Ts}function ba(n,r,s){!function Iu(n,r,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(uo)&&(c=s[uo]),null==c&&(c=s[uo]=Pu++);const l=c&nl;r.data[n+(l>>il)]|=1<<l}(n,r,s)}function rl(n,r,s){if(s&Q.Optional||void 0!==n)return n;ht()}function ws(n,r,s,c){if(s&Q.Optional&&void 0===c&&(c=null),!(s&(Q.Self|Q.Host))){const l=n[xo],d=le(void 0);try{return l?l.get(r,c,s&Q.Optional):ne(r,c,s&Q.Optional)}finally{le(d)}}return rl(c,0,s)}function sl(n,r,s,c=Q.Default,l){if(null!==n){if(2048&r[Wi]&&!(c&Q.Self)){const P=function Ru(n,r,s,c,l){let d=n,P=r;for(;null!==d&&null!==P&&2048&P[Wi]&&!(512&P[Wi]);){const j=$s(d,P,s,c|Q.Self,vs);if(j!==vs)return j;let ct=d.parent;if(!ct){const Vt=P[No];if(Vt){const ge=Vt.get(s,vs,c);if(ge!==vs)return ge}ct=fc(P),P=P[Yn]}d=ct}return l}(n,r,s,c,vs);if(P!==vs)return P}const d=$s(n,r,s,c,vs);if(d!==vs)return d}return ws(r,s,c,l)}function $s(n,r,s,c,l){const d=function al(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(uo)?n[uo]:void 0;return"number"==typeof r?r>=0?r&nl:wu:r}(s);if("function"==typeof d){if(!ls(r,n,c))return c&Q.Host?rl(l,0,c):ws(r,s,c,l);try{let P;if(P=d(c),null!=P||c&Q.Optional)return P;ht()}finally{ya()}}else if("number"==typeof d){let P=null,j=ol(n,r),ct=Ts,Vt=c&Q.Host?r[te][Uo]:null;for((-1===j||c&Q.SkipSelf)&&(ct=-1===j?aa(n,r):r[j+8],ct!==Ts&&ll(c,!1)?(P=r[Ti],j=zs(ct),r=sa(ct,r)):j=-1);-1!==j;){const ge=r[Ti];if(cl(d,j,ge.data)){const Xe=Au(j,r,s,P,c,Vt);if(Xe!==vs)return Xe}ct=r[j+8],ct!==Ts&&ll(c,r[Ti].data[j+8]===Vt)&&cl(d,j,r)?(P=ge,j=zs(ct),r=sa(ct,r)):j=-1}}return l}function Au(n,r,s,c,l,d){const P=r[Ti],j=P.data[n+8],ge=Qs(j,P,s,null==c?rt(j)&&Ta:c!=P&&0!=(3&j.type),l&Q.Host&&d===j);return null!==ge?Ds(r,P,ge,j):vs}function Qs(n,r,s,c,l){const d=n.providerIndexes,P=r.data,j=1048575&d,ct=n.directiveStart,ge=d>>20,Ln=l?j+ge:n.directiveEnd;for(let $n=c?j:j+ge;$n<Ln;$n++){const pi=P[$n];if($n<ct&&s===pi||$n>=ct&&pi.type===s)return $n}if(l){const $n=P[ct];if($n&&pe($n)&&$n.type===s)return ct}return null}function Ds(n,r,s,c){let l=n[s];const d=r.data;if(function Du(n){return n instanceof ia}(l)){const P=l;P.resolving&&function V(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${s}`)}(function L(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():p(n)}(d[s]));const j=Oa(P.canSeeViewProviders);P.resolving=!0;const Vt=P.injectImpl?le(P.injectImpl):null;ls(n,c,Q.Default);try{l=n[s]=P.factory(void 0,d,n,c),r.firstCreatePass&&s>=c.directiveStart&&function Tu(n,r,s){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(c){const P=Bo(r);(s.preOrderHooks??=[]).push(n,P),(s.preOrderCheckHooks??=[]).push(n,P)}l&&(s.preOrderHooks??=[]).push(0-n,l),d&&((s.preOrderHooks??=[]).push(n,d),(s.preOrderCheckHooks??=[]).push(n,d))}(s,d[s],r)}finally{null!==Vt&&le(Vt),Oa(j),P.resolving=!1,ya()}}return l}function cl(n,r,s){return!!(s[r+(n>>il)]&1<<n)}function ll(n,r){return!(n&Q.Self||n&Q.Host&&r)}class Yr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,c){return sl(this._tNode,this._lView,r,ui(c),s)}}function wu(){return new Yr(he(),q())}function dc(n){return Jn(()=>{const r=n.prototype.constructor,s=r[Yi]||pc(r),c=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==c;){const d=l[Yi]||pc(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function pc(n){return M(n)?()=>{const r=pc(O(n));return r&&r()}:ve(n)}function fc(n){const r=n[Ti],s=r.type;return 2===s?r.declTNode:1===s?n[Uo]:null}function hc(n){return function Su(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const c=s.length;let l=0;for(;l<c;){const d=s[l];if(sn(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<c&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(he(),n)}const Rs="__parameters__";function la(n,r,s){return Jn(()=>{const c=function xa(n){return function(...s){if(n){const c=n(...s);for(const l in c)this[l]=c[l]}}}(r);function l(...d){if(this instanceof l)return c.apply(this,d),this;const P=new l(...d);return j.annotation=P,j;function j(ct,Vt,ge){const Xe=ct.hasOwnProperty(Rs)?ct[Rs]:Object.defineProperty(ct,Rs,{value:[]})[Rs];for(;Xe.length<=ge;)Xe.push(null);return(Xe[ge]=Xe[ge]||[]).push(P),ct}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}function mn(n,r){n.forEach(s=>Array.isArray(s)?mn(s,r):r(s))}function Dn(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function jn(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function li(n,r){const s=[];for(let c=0;c<n;c++)s.push(r);return s}function To(n,r,s){let c=ts(n,r);return c>=0?n[1|c]=s:(c=~c,function mo(n,r,s,c){let l=n.length;if(l==r)n.push(s,c);else if(1===l)n.push(c,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=c}}(n,c,r,s)),c}function pr(n,r){const s=ts(n,r);if(s>=0)return n[1|s]}function ts(n,r){return function bs(n,r,s){let c=0,l=n.length>>s;for(;l!==c;){const d=c+(l-c>>1),P=n[d<<s];if(r===P)return d<<s;P>r?l=d:c=d+1}return~(l<<s)}(n,r,1)}const sf=Pn(la("Inject",n=>({token:n})),-1),pl=Pn(la("Optional"),8),af=Pn(la("Self"),2),fl=Pn(la("SkipSelf"),4);function vl(n){return 128==(128&n.flags)}var Cl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cl||{});const Ev=/^>|^->|<!--|-->|--!>|<!-$/g,Tv=/(<|>)/g,Ov="\u200b$1\u200b";const $u=new Map;let Dv=0;const Zu="__ngContext__";function ns(n,r){Io(r)?(n[Zu]=r[Bi],function xv(n){$u.set(n[Bi],n)}(r)):n[Zu]=r}let Vu;function Wu(n,r){return Vu(n,r)}function Cc(n){const r=n[so];return _e(r)?r[so]:r}function xf(n){return If(n[Go])}function Pf(n){return If(n[Ko])}function If(n){for(;null!==n&&!_e(n);)n=n[Ko];return n}function Aa(n,r,s,c,l){if(null!=c){let d,P=!1;_e(c)?d=c:Io(c)&&(P=!0,c=c[po]);const j=Zo(c);0===n&&null!==s?null==l?Rf(r,s,j):ua(r,s,j,l||null,!0):1===n&&null!==s?ua(r,s,j,l||null,!0):2===n?function bl(n,r,s){const c=Ol(n,r);c&&function Wv(n,r,s,c){n.removeChild(r,s,c)}(n,c,r,s)}(r,j,P):3===n&&r.destroyNode(j),null!=d&&function Jv(n,r,s,c,l){const d=s[ii];d!==Zo(s)&&Aa(r,n,c,d,l);for(let j=jo;j<s.length;j++){const ct=s[j];Ec(ct[Ti],ct,n,r,c,d)}}(r,n,d,s,l)}}function Ku(n,r){return n.createComment(function yf(n){return n.replace(Ev,r=>r.replace(Tv,Ov))}(r))}function El(n,r,s){return n.createElement(r,s)}function Af(n,r){const s=n[Oo],c=s.indexOf(r);Je(r),s.splice(c,1)}function Tl(n,r){if(n.length<=jo)return;const s=jo+r,c=n[s];if(c){const l=c[hn];null!==l&&l!==n&&Af(l,c),r>0&&(n[s-1][Ko]=c[Ko]);const d=jn(n,jo+r);!function Uv(n,r){Ec(n,r,r[Fi],2,null,null),r[po]=null,r[Uo]=null}(c[Ti],c);const P=d[ai];null!==P&&P.detachView(d[Ti]),c[so]=null,c[Ko]=null,c[Wi]&=-129}return c}function Gu(n,r){if(!(256&r[Wi])){const s=r[Fi];r[Me]&&Cr(r[Me]),r[Qn]&&Cr(r[Qn]),s.destroyNode&&Ec(n,r,s,3,null,null),function zv(n){let r=n[Go];if(!r)return Ju(n[Ti],n);for(;r;){let s=null;if(Io(r))s=r[Go];else{const c=r[jo];c&&(s=c)}if(!s){for(;r&&!r[Ko]&&r!==n;)Io(r)&&Ju(r[Ti],r),r=r[so];null===r&&(r=n),Io(r)&&Ju(r[Ti],r),s=r&&r[Ko]}r=s}}(r)}}function Ju(n,r){if(!(256&r[Wi])){r[Wi]&=-129,r[Wi]|=256,function Vv(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const l=r[s[c]];if(!(l instanceof ia)){const d=s[c+1];if(Array.isArray(d))for(let P=0;P<d.length;P+=2){const j=l[d[P]],ct=d[P+1];ar(4,j,ct);try{ct.call(j)}finally{ar(5,j,ct)}}else{ar(4,l,d);try{d.call(l)}finally{ar(5,l,d)}}}}}(n,r),function Zv(n,r){const s=n.cleanup,c=r[bo];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const P=s[d+3];P>=0?c[P]():c[-P].unsubscribe(),d+=2}else s[d].call(c[s[d+1]]);null!==c&&(r[bo]=null);const l=r[zo];if(null!==l){r[zo]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(n,r),1===r[Ti].type&&r[Fi].destroy();const s=r[hn];if(null!==s&&_e(r[so])){s!==r[so]&&Af(s,r);const c=r[ai];null!==c&&c.detachView(n)}!function Pv(n){$u.delete(n[Bi])}(r)}}function Qu(n,r,s){return function wf(n,r,s){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return s[po];{const{componentOffset:l}=c;if(l>-1){const{encapsulation:d}=n.data[c.directiveStart+l];if(d===ei.None||d===ei.Emulated)return null}return nn(c,s)}}(n,r.parent,s)}function ua(n,r,s,c,l){n.insertBefore(r,s,c,l)}function Rf(n,r,s){n.appendChild(r,s)}function Lf(n,r,s,c,l){null!==c?ua(n,r,s,c,l):Rf(n,r,s)}function Ol(n,r){return n.parentNode(r)}function Nf(n,r,s){return kf(n,r,s)}let Yu,xl,ed,Pl,kf=function Ff(n,r,s){return 40&n.type?nn(n,s):null};function Dl(n,r,s,c){const l=Qu(n,c,r),d=r[Fi],j=Nf(c.parent||r[Uo],c,r);if(null!=l)if(Array.isArray(s))for(let ct=0;ct<s.length;ct++)Lf(d,l,s[ct],j,!1);else Lf(d,l,s,j,!1);void 0!==Yu&&Yu(d,c,r,s,l)}function Mc(n,r){if(null!==r){const s=r.type;if(3&s)return nn(r,n);if(4&s)return Xu(-1,n[r.index]);if(8&s){const c=r.child;if(null!==c)return Mc(n,c);{const l=n[r.index];return _e(l)?Xu(-1,l):Zo(l)}}if(32&s)return Wu(r,n)()||Zo(n[r.index]);{const c=Bf(n,r);return null!==c?Array.isArray(c)?c[0]:Mc(Cc(n[te]),c):Mc(n,r.next)}}return null}function Bf(n,r){return null!==r?n[te][Uo].projection[r.projection]:null}function Xu(n,r){const s=jo+n+1;if(s<r.length){const c=r[s],l=c[Ti].firstChild;if(null!==l)return Mc(c,l)}return r[ii]}function qu(n,r,s,c,l,d,P){for(;null!=s;){const j=c[s.index],ct=s.type;if(P&&0===r&&(j&&ns(Zo(j),c),s.flags|=2),32!=(32&s.flags))if(8&ct)qu(n,r,s.child,c,l,d,!1),Aa(r,n,l,j,d);else if(32&ct){const Vt=Wu(s,c);let ge;for(;ge=Vt();)Aa(r,n,l,ge,d);Aa(r,n,l,j,d)}else 16&ct?zf(n,r,c,s,l,d):Aa(r,n,l,j,d);s=P?s.projectionNext:s.next}}function Ec(n,r,s,c,l,d){qu(s,c,n.firstChild,r,l,d,!1)}function zf(n,r,s,c,l,d){const P=s[te],ct=P[Uo].projection[c.projection];if(Array.isArray(ct))for(let Vt=0;Vt<ct.length;Vt++)Aa(r,n,l,ct[Vt],d);else{let Vt=ct;const ge=P[so];vl(c)&&(Vt.flags|=128),qu(n,r,Vt,ge,l,d,!0)}}function $f(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function jf(n,r,s){const{mergedAttrs:c,classes:l,styles:d}=s;null!==c&&Gi(n,r,c),null!==l&&$f(n,r,l),null!==d&&function Yv(n,r,s){n.setAttribute(r,"style",s)}(n,r,d)}function wa(n){return function td(){if(void 0===xl&&(xl=null,Se.trustedTypes))try{xl=Se.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xl}()?.createHTML(n)||n}function ey(n){ed=n}function Ra(){if(void 0!==ed)return ed;if(typeof document<"u")return document;throw new S(210,!1)}function nd(){if(void 0===Pl&&(Pl=null,Se.trustedTypes))try{Pl=Se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pl}function Zf(n){return nd()?.createHTML(n)||n}function Wf(n){return nd()?.createScriptURL(n)||n}class da{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${A})`}}class ny extends da{getTypeName(){return"HTML"}}class iy extends da{getTypeName(){return"Style"}}class oy extends da{getTypeName(){return"Script"}}class ry extends da{getTypeName(){return"URL"}}class sy extends da{getTypeName(){return"ResourceURL"}}function Zs(n){return n instanceof da?n.changingThisBreaksApplicationSecurity:n}function La(n,r){const s=function ay(n){return n instanceof da&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${A})`)}return s===r}function cy(n){return new ny(n)}function ly(n){return new iy(n)}function uy(n){return new oy(n)}function dy(n){return new ry(n)}function py(n){return new sy(n)}class fy{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(wa(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class hy{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=wa(r),s}}const my=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Il(n){return(n=String(n)).match(my)?n:"unsafe:"+n}function Vs(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Tc(...n){const r={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(r[c]=!0);return r}const Gf=Vs("area,br,col,hr,img,wbr"),Jf=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qf=Vs("rp,rt"),id=Tc(Gf,Tc(Jf,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tc(Qf,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tc(Qf,Jf)),od=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yf=Tc(od,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_y=Vs("script,style,template");class vy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let l=this.checkClobberedElement(s,s.nextSibling);if(l){s=l;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!id.hasOwnProperty(s))return this.sanitizedSomething=!0,!_y.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=r.attributes;for(let l=0;l<c.length;l++){const d=c.item(l),P=d.name,j=P.toLowerCase();if(!Yf.hasOwnProperty(j)){this.sanitizedSomething=!0;continue}let ct=d.value;od[j]&&(ct=Il(ct)),this.buf.push(" ",P,'="',Xf(ct),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();id.hasOwnProperty(s)&&!Gf.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Xf(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const yy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cy=/([^\#-~ |!])/g;function Xf(n){return n.replace(/&/g,"&amp;").replace(yy,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Cy,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sl;function qf(n,r){let s=null;try{Sl=Sl||function Kf(n){const r=new hy(n);return function gy(){try{return!!(new window.DOMParser).parseFromString(wa(""),"text/html")}catch{return!1}}()?new fy(r):r}(n);let c=r?String(r):"";s=Sl.getInertBodyElement(c);let l=5,d=c;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,c=d,d=s.innerHTML,s=Sl.getInertBodyElement(c)}while(c!==d);return wa((new vy).sanitizeChildren(rd(s)||s))}finally{if(s){const c=rd(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function rd(n){return"content"in n&&function My(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var pa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(pa||{});function th(n){const r=Oc();return r?Zf(r.sanitize(pa.HTML,n)||""):La(n,"HTML")?Zf(Zs(n)):qf(Ra(),p(n))}function sd(n){const r=Oc();return r?r.sanitize(pa.URL,n)||"":La(n,"URL")?Zs(n):Il(p(n))}function ad(n){const r=Oc();if(r)return Wf(r.sanitize(pa.RESOURCE_URL,n)||"");if(La(n,"ResourceURL"))return Wf(Zs(n));throw new S(904,!1)}function eh(n,r,s){return function by(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?ad:sd}(r,s)(n)}function Oc(){const n=q();return n&&n[Lo].sanitizer}const Dc=new Ee("ENVIRONMENT_INITIALIZER"),cd=new Ee("INJECTOR",-1),nh=new Ee("INJECTOR_DEF_TYPES");class ld{get(r,s=xn){if(s===xn){const c=new Error(`NullInjectorError: No provider for ${C(r)}!`);throw c.name="NullInjectorError",c}return s}}function ud(n){return{\u0275providers:n}}function ih(...n){return{\u0275providers:oh(0,n),\u0275fromNgModule:!0}}function oh(n,...r){const s=[],c=new Set;let l;const d=P=>{s.push(P)};return mn(r,P=>{const j=P;Al(j,d,[],c)&&(l||=[],l.push(j))}),void 0!==l&&rh(l,d),s}function rh(n,r){for(let s=0;s<n.length;s++){const{ngModule:c,providers:l}=n[s];dd(l,d=>{r(d,c)})}}function Al(n,r,s,c){if(!(n=O(n)))return!1;let l=null,d=at(n);const P=!d&&gi(n);if(d||P){if(P&&!P.standalone)return!1;l=n}else{const ct=n.ngModule;if(d=at(ct),!d)return!1;l=ct}const j=c.has(l);if(P){if(j)return!1;if(c.add(l),P.dependencies){const ct="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const Vt of ct)Al(Vt,r,s,c)}}else{if(!d)return!1;{if(null!=d.imports&&!j){let Vt;c.add(l);try{mn(d.imports,ge=>{Al(ge,r,s,c)&&(Vt||=[],Vt.push(ge))})}finally{}void 0!==Vt&&rh(Vt,r)}if(!j){const Vt=ve(l)||(()=>new l);r({provide:l,useFactory:Vt,deps:oi},l),r({provide:nh,useValue:l,multi:!0},l),r({provide:Dc,useValue:()=>Ke(l),multi:!0},l)}const ct=d.providers;if(null!=ct&&!j){const Vt=n;dd(ct,ge=>{r(ge,Vt)})}}}return l!==n&&void 0!==n.providers}function dd(n,r){for(let s of n)U(s)&&(s=s.\u0275providers),Array.isArray(s)?dd(s,r):r(s)}const xy=f({provide:String,useValue:f});function pd(n){return null!==n&&"object"==typeof n&&xy in n}function fa(n){return"function"==typeof n}const fd=new Ee("Set Injector scope."),wl={},Iy={};let hd;function Rl(){return void 0===hd&&(hd=new ld),hd}class Ls{}class Na extends Ls{get destroyed(){return this._destroyed}constructor(r,s,c,l){super(),this.parent=s,this.source=c,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,md(r,P=>this.processProvider(P)),this.records.set(cd,Fa(void 0,this)),l.has("environment")&&this.records.set(Ls,Fa(void 0,this));const d=this.records.get(fd);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(nh.multi,oi,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=we(this),c=le(void 0);try{return r()}finally{we(s),le(c)}}get(r,s=xn,c=Q.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ui))return r[Ui](this);c=ui(c);const d=we(this),P=le(void 0);try{if(!(c&Q.SkipSelf)){let ct=this.records.get(r);if(void 0===ct){const Vt=function Ly(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ee}(r)&&yt(r);ct=Vt&&this.injectableDefInScope(Vt)?Fa(gd(r),wl):null,this.records.set(r,ct)}if(null!=ct)return this.hydrate(r,ct)}return(c&Q.Self?Rl():this.parent).get(r,s=c&Q.Optional&&s===xn?null:s)}catch(j){if("NullInjectorError"===j.name){if((j[me]=j[me]||[]).unshift(C(r)),d)throw j;return function ln(n,r,s,c){const l=n[me];throw r[xe]&&l.unshift(r[xe]),n.message=function Zn(n,r,s,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=C(r);if(Array.isArray(r))l=r.map(C).join(" -> ");else if("object"==typeof r){let d=[];for(let P in r)if(r.hasOwnProperty(P)){let j=r[P];d.push(P+":"+("string"==typeof j?JSON.stringify(j):C(j)))}l=`{${d.join(", ")}}`}return`${s}${c?"("+c+")":""}[${l}]: ${n.replace(_n,"\n  ")}`}("\n"+n.message,l,s,c),n.ngTokenPath=l,n[me]=null,n}(j,r,"R3InjectorError",this.source)}throw j}finally{le(P),we(d)}}resolveInjectorInitializers(){const r=we(this),s=le(void 0);try{const l=this.get(Dc.multi,oi,Q.Self);for(const d of l)d()}finally{we(r),le(s)}}toString(){const r=[],s=this.records;for(const c of s.keys())r.push(C(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(r){let s=fa(r=O(r))?r:O(r&&r.provide);const c=function Ay(n){return pd(n)?Fa(void 0,n.useValue):Fa(ch(n),wl)}(r);if(fa(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Fa(void 0,wl,!0),l.factory=()=>eo(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,c)}hydrate(r,s){return s.value===wl&&(s.value=Iy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ry(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=O(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function gd(n){const r=yt(n),s=null!==r?r.factory:ve(n);if(null!==s)return s;if(n instanceof Ee)throw new S(204,!1);if(n instanceof Function)return function Sy(n){const r=n.length;if(r>0)throw li(r,"?"),new S(204,!1);const s=function z(n){return n&&(n[Pt]||n[De])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new S(204,!1)}function ch(n,r,s){let c;if(fa(n)){const l=O(n);return ve(l)||gd(l)}if(pd(n))c=()=>O(n.useValue);else if(function ah(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...eo(n.deps||[]));else if(function sh(n){return!(!n||!n.useExisting)}(n))c=()=>Ke(O(n.useExisting));else{const l=O(n&&(n.useClass||n.provide));if(!function wy(n){return!!n.deps}(n))return ve(l)||gd(l);c=()=>new l(...eo(n.deps))}return c}function Fa(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function md(n,r){for(const s of n)Array.isArray(s)?md(s,r):s&&U(s)?md(s.\u0275providers,r):r(s)}const lh=new Ee("AppId",{providedIn:"root",factory:()=>Ny}),Ny="ng",uh=new Ee("Platform Initializer"),_d=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Fy=new Ee("AnimationModuleType"),ky=new Ee("CSP nonce",{providedIn:"root",factory:()=>Ra().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dh=(n,r,s)=>null;function Dd(n,r,s=!1){return dh(n,r,s)}class Ky{}class hh{}class Jy{resolveComponentFactory(r){throw function Gy(n){const r=Error(`No component factory found for ${C(n)}.`);return r.ngComponent=n,r}(r)}}let Bl=(()=>{class n{static{this.NULL=new Jy}}return n})();function Qy(){return Ba(he(),q())}function Ba(n,r){return new Pc(nn(n,r))}let Pc=(()=>{class n{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=Qy}}return n})();function Yy(n){return n instanceof Pc?n.nativeElement:n}class mh{}let Xy=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function qy(){const n=q(),s=Cn(he().index,n);return(Io(s)?s:n)[Fi]}()}}return n})(),tC=(()=>{class n{static{this.\u0275prov=Bt({token:n,providedIn:"root",factory:()=>null})}}return n})();class _h{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vh=new _h("16.2.12"),Pd={};function eC(n,r){n instanceof Na&&n.assertNotDestroyed();const c=we(n),l=le(void 0);try{return r()}finally{we(c),le(l)}}function Hl(n){if(!Ft()&&!function ke(){return je}())throw new S(-203,!1)}function Eh(n,r=null,s=null,c){const l=Th(n,r,s,c);return l.resolveInjectorInitializers(),l}function Th(n,r=null,s=null,c,l=new Set){const d=[s||oi,ih(n)];return c=c||("object"==typeof n?void 0:C(n)),new Na(d,r||Rl(),c||null,l)}let xs=(()=>{class n{static{this.THROW_IF_NOT_FOUND=xn}static{this.NULL=new ld}static create(s,c){if(Array.isArray(s))return Eh({name:""},c,s,"");{const l=s.name??"";return Eh({name:l},s.parent,s.providers,l)}}static{this.\u0275prov=Bt({token:n,providedIn:"any",factory:()=>Ke(cd)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Id(n){return n.ngOriginalError}class qs{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Id(r);for(;s&&Id(s);)s=Id(s);return s||null}}let Ic=(()=>{class n{static{this.__NG_ELEMENT_ID__=cC}static{this.__NG_ENV_ID__=s=>s}}return n})();class aC extends Ic{constructor(r){super(),this._lView=r}onDestroy(r){return vt(this._lView,r),()=>function b(n,r){if(null===n[zo])return;const s=n[zo].indexOf(r);-1!==s&&n[zo].splice(s,1)}(this._lView,r)}}function cC(){return new aC(q())}function Sd(n){return r=>{setTimeout(n,void 0,r)}}const Ns=class lC extends e.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,c){let l=r,d=s||(()=>null),P=c;if(r&&"object"==typeof r){const ct=r;l=ct.next?.bind(ct),d=ct.error?.bind(ct),P=ct.complete?.bind(ct)}this.__isAsync&&(d=Sd(d),l&&(l=Sd(l)),P&&(P=Sd(P)));const j=super.subscribe({next:l,error:d,complete:P});return r instanceof t.w0&&r.add(j),j}};function Dh(...n){}class Gr{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ns(!1),this.onMicrotaskEmpty=new Ns(!1),this.onStable=new Ns(!1),this.onError=new Ns(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&s,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function uC(){const n="function"==typeof Se.requestAnimationFrame;let r=Se[n?"requestAnimationFrame":"setTimeout"],s=Se[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fC(n){const r=()=>{!function pC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Se,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wd(n),n.isCheckStableRunning=!0,Ad(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,l,d,P,j)=>{if(function gC(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(j))return s.invokeTask(l,d,P,j);try{return bh(n),s.invokeTask(l,d,P,j)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),xh(n)}},onInvoke:(s,c,l,d,P,j,ct)=>{try{return bh(n),s.invoke(l,d,P,j,ct)}finally{n.shouldCoalesceRunChangeDetection&&r(),xh(n)}},onHasTask:(s,c,l,d)=>{s.hasTask(l,d),c===l&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,wd(n),Ad(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,c,l,d)=>(s.handleError(l,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gr.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Gr.isInAngularZone())throw new S(909,!1)}run(r,s,c){return this._inner.run(r,s,c)}runTask(r,s,c,l){const d=this._inner,P=d.scheduleEventTask("NgZoneEvent: "+l,r,dC,Dh,Dh);try{return d.runTask(P,s,c)}finally{d.cancelTask(P)}}runGuarded(r,s,c){return this._inner.runGuarded(r,s,c)}runOutsideAngular(r){return this._outer.run(r)}}const dC={};function Ad(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xh(n){n._nesting--,Ad(n)}const Ph=new Ee("",{providedIn:"root",factory:Ih});function Ih(){const n=kn(Gr);let r=!0;const s=new a.y(l=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{l.next(r),l.complete()})}),c=new a.y(l=>{let d;n.runOutsideAngular(()=>{d=n.onStable.subscribe(()=>{Gr.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,l.next(!0))})})});const P=n.onUnstable.subscribe(()=>{Gr.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),P.unsubscribe()}});return(0,i.T)(s,c.pipe((0,_.B)()))}function Sh(n){return n.ownerDocument.defaultView}function Ah(n){return n.ownerDocument}function Ws(n){return n instanceof Function?n():n}function Rh(n,r){!r&&Hl();const s=r?.injector??kn(xs);if(!function za(n){return"browser"===(n??kn(xs)).get(_d)}(s))return{destroy(){}};let c;const l=s.get(Ic).onDestroy(()=>c?.()),d=s.get(Rd),P=d.handler??=new Nh,j=s.get(Gr),ct=s.get(qs,null,{optional:!0}),Vt=new Lh(j,ct,()=>{c?.(),n()});return c=()=>{P.unregister(Vt),l()},P.register(Vt),{destroy:c}}class Lh{constructor(r,s,c){this.zone=r,this.errorHandler=s,this.callbackFn=c}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class Nh{constructor(){this.executingCallbacks=!1,this.callbacks=new Set,this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new S(102,!1)}register(r){(this.executingCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of this.callbacks)r.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}destroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}let Rd=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Bt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Sc(n){for(;n;){n[Wi]|=64;const r=Cc(n);if(Be(n)&&!r)return n;n=r}return null}const kh=new Ee("",{providedIn:"root",factory:()=>!1});let $l=null;function zh(n,r){return n[r]??Zh()}function $h(n,r){const s=Zh();s.producerNode?.length&&(n[r]=$l,s.lView=n,$l=jh())}const EC={...no,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Sc(n.lView)},lView:null};function jh(){return Object.create(EC)}function Zh(){return $l??=jh(),$l}const Ho={};function Vh(n){Wh(Re(),q(),Kr()+n,!1)}function Wh(n,r,s,c){if(!c)if(3==(3&r[Wi])){const d=n.preOrderCheckHooks;null!==d&&Ma(r,d,s)}else{const d=n.preOrderHooks;null!==d&&Ea(r,d,0,s)}Es(s)}function $a(n,r=Q.Default){const s=q();return null===s?Ke(n,r):sl(he(),s,O(n),r)}function Kh(){throw new Error("invalid")}function jl(n,r,s,c,l,d,P,j,ct,Vt,ge){const Xe=r.blueprint.slice();return Xe[po]=l,Xe[Wi]=140|c,(null!==Vt||n&&2048&n[Wi])&&(Xe[Wi]|=2048),Ct(Xe),Xe[so]=Xe[Yn]=n,Xe[qi]=s,Xe[Lo]=P||n&&n[Lo],Xe[Fi]=j||n&&n[Fi],Xe[xo]=ct||n&&n[xo]||null,Xe[Uo]=d,Xe[Bi]=function bv(){return Dv++}(),Xe[ao]=ge,Xe[No]=Vt,Xe[te]=2==r.type?n[te]:Xe,Xe}function ja(n,r,s,c,l){let d=n.data[r];if(null===d)d=function Ld(n,r,s,c,l){const d=ri(),P=Rr(),ct=n.data[r]=function SC(n,r,s,c,l,d){let P=r?r.injectorIndex:-1,j=0;return Oi()&&(j|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:P,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:j,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?d:d&&d.parent,s,r,c,l);return null===n.firstChild&&(n.firstChild=ct),null!==d&&(P?null==d.child&&null!==ct.parent&&(d.child=ct):null===d.next&&(d.next=ct,ct.prev=d)),ct}(n,r,s,c,l),function Kt(){return ft.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=c,d.attrs=l;const P=function bi(){const n=ft.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===P?-1:P.injectorIndex}return vo(d,!0),d}function Ac(n,r,s,c){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(c),n.blueprint.push(c),n.data.push(null);return l}function Gh(n,r,s,c,l){const d=zh(r,Me),P=Kr(),j=2&c;try{Es(-1),j&&r.length>J&&Wh(n,r,J,!1),ar(j?2:0,l);const Vt=j?d:null,ge=co(Vt);try{null!==Vt&&(Vt.dirty=!1),s(c,l)}finally{br(Vt,ge)}}finally{j&&null===r[Me]&&$h(r,Me),Es(P),ar(j?3:1,l)}}function Nd(n,r,s){if(W(r)){const c=vi(null);try{const d=r.directiveEnd;for(let P=r.directiveStart;P<d;P++){const j=n.data[P];j.contentQueries&&j.contentQueries(1,s[P],P)}}finally{vi(c)}}}function Fd(n,r,s){Wn()&&(function kC(n,r,s,c){const l=s.directiveStart,d=s.directiveEnd;rt(s)&&function ZC(n,r,s){const c=nn(r,n),l=Jh(s);let P=16;s.signals?P=4096:s.onPush&&(P=64);const j=Zl(n,jl(n,l,null,P,c,r,null,n[Lo].rendererFactory.createRenderer(c,s),null,null,null));n[r.index]=j}(r,s,n.data[l+s.componentOffset]),n.firstCreatePass||Da(s,r),ns(c,r);const P=s.initialInputs;for(let j=l;j<d;j++){const ct=n.data[j],Vt=Ds(r,n,j,s);ns(Vt,r),null!==P&&VC(0,j-l,Vt,ct,0,P),pe(ct)&&(Cn(s.index,r)[qi]=Ds(r,n,j,s))}}(n,r,s,nn(s,r)),64==(64&s.flags)&&tg(n,r,s))}function kd(n,r,s=nn){const c=r.localNames;if(null!==c){let l=r.index+1;for(let d=0;d<c.length;d+=2){const P=c[d+1],j=-1===P?s(r,n):n[P];n[l++]=j}}}function Jh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ud(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function Ud(n,r,s,c,l,d,P,j,ct,Vt,ge){const Xe=J+c,Ln=Xe+l,$n=function OC(n,r){const s=[];for(let c=0;c<r;c++)s.push(c<n?null:Ho);return s}(Xe,Ln),pi="function"==typeof Vt?Vt():Vt;return $n[Ti]={type:n,blueprint:$n,template:s,queries:null,viewQuery:j,declTNode:r,data:$n.slice().fill(null,Xe),bindingStartIndex:Xe,expandoStartIndex:Ln,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:ct,consts:pi,incompleteFirstPass:!1,ssrId:ge}}let Qh=n=>null;function Yh(n,r,s,c){for(let l in n)if(n.hasOwnProperty(l)){s=null===s?{}:s;const d=n[l];null===c?Xh(s,r,l,d):c.hasOwnProperty(l)&&Xh(s,r,c[l],d)}return s}function Xh(n,r,s,c){n.hasOwnProperty(s)?n[s].push(r,c):n[s]=[r,c]}function _s(n,r,s,c,l,d,P,j){const ct=nn(r,s);let ge,Vt=r.inputs;!j&&null!=Vt&&(ge=Vt[c])?(jd(n,s,ge,c,l),rt(r)&&function RC(n,r){const s=Cn(r,n);16&s[Wi]||(s[Wi]|=64)}(s,r.index)):3&r.type&&(c=function wC(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),l=null!=P?P(l,r.value||"",c):l,d.setProperty(ct,c,l))}function Bd(n,r,s,c){if(Wn()){const l=null===c?null:{"":-1},d=function BC(n,r){const s=n.directiveRegistry;let c=null,l=null;if(s)for(let d=0;d<s.length;d++){const P=s[d];if(Ie(r,P.selectors,!1))if(c||(c=[]),pe(P))if(null!==P.findHostDirectiveDefs){const j=[];l=l||new Map,P.findHostDirectiveDefs(P,j,l),c.unshift(...j,P),Hd(n,r,j.length)}else c.unshift(P),Hd(n,r,0);else l=l||new Map,P.findHostDirectiveDefs?.(P,c,l),c.push(P)}return null===c?null:[c,l]}(n,s);let P,j;null===d?P=j=null:[P,j]=d,null!==P&&qh(n,r,s,P,l,j),l&&function HC(n,r,s){if(r){const c=n.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new S(-301,!1);c.push(r[l],d)}}}(s,c,l)}s.mergedAttrs=Xt(s.mergedAttrs,s.attrs)}function qh(n,r,s,c,l,d){for(let Vt=0;Vt<c.length;Vt++)ba(Da(s,r),n,c[Vt].type);!function $C(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,c.length);for(let Vt=0;Vt<c.length;Vt++){const ge=c[Vt];ge.providersResolver&&ge.providersResolver(ge)}let P=!1,j=!1,ct=Ac(n,r,c.length,null);for(let Vt=0;Vt<c.length;Vt++){const ge=c[Vt];s.mergedAttrs=Xt(s.mergedAttrs,ge.hostAttrs),jC(n,s,r,ct,ge),zC(ct,ge,l),null!==ge.contentQueries&&(s.flags|=4),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(s.flags|=64);const Xe=ge.type.prototype;!P&&(Xe.ngOnChanges||Xe.ngOnInit||Xe.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),P=!0),!j&&(Xe.ngOnChanges||Xe.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),j=!0),ct++}!function AC(n,r,s){const l=r.directiveEnd,d=n.data,P=r.attrs,j=[];let ct=null,Vt=null;for(let ge=r.directiveStart;ge<l;ge++){const Xe=d[ge],Ln=s?s.get(Xe):null,pi=Ln?Ln.outputs:null;ct=Yh(Xe.inputs,ge,ct,Ln?Ln.inputs:null),Vt=Yh(Xe.outputs,ge,Vt,pi);const xi=null===ct||null===P||An(r)?null:WC(ct,ge,P);j.push(xi)}null!==ct&&(ct.hasOwnProperty("class")&&(r.flags|=8),ct.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=j,r.inputs=ct,r.outputs=Vt}(n,s,d)}function tg(n,r,s){const c=s.directiveStart,l=s.directiveEnd,d=s.index,P=function qn(){return ft.lFrame.currentDirectiveIndex}();try{Es(d);for(let j=c;j<l;j++){const ct=n.data[j],Vt=r[j];Xn(j),(null!==ct.hostBindings||0!==ct.hostVars||null!==ct.hostAttrs)&&UC(ct,Vt)}}finally{Es(-1),Xn(P)}}function UC(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Hd(n,r,s){r.componentOffset=s,(n.components??=[]).push(r.index)}function zC(n,r,s){if(s){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)s[r.exportAs[c]]=n;pe(r)&&(s[""]=n)}}function jC(n,r,s,c,l){n.data[c]=l;const d=l.factory||(l.factory=ve(l.type)),P=new ia(d,pe(l),$a);n.blueprint[c]=P,s[c]=P,function NC(n,r,s,c,l){const d=l.hostBindings;if(d){let P=n.hostBindingOpCodes;null===P&&(P=n.hostBindingOpCodes=[]);const j=~r.index;(function FC(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(P)!=j&&P.push(j),P.push(s,c,d)}}(n,r,c,Ac(n,s,l.hostVars,Ho),l)}function Fs(n,r,s,c,l,d){const P=nn(n,r);!function zd(n,r,s,c,l,d,P){if(null==d)n.removeAttribute(r,l,s);else{const j=null==P?p(d):P(d,c||"",l);n.setAttribute(r,l,j,s)}}(r[Fi],P,d,n.value,s,c,l)}function VC(n,r,s,c,l,d){const P=d[r];if(null!==P)for(let j=0;j<P.length;)eg(c,s,P[j++],P[j++],P[j++])}function eg(n,r,s,c,l){const d=vi(null);try{const P=n.inputTransforms;null!==P&&P.hasOwnProperty(c)&&(l=P[c].call(r,l)),null!==n.setInput?n.setInput(r,l,s,c):r[c]=l}finally{vi(d)}}function WC(n,r,s){let c=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===c&&(c=[]);const P=n[d];for(let j=0;j<P.length;j+=2)if(P[j]===r){c.push(d,P[j+1],s[l+1]);break}}l+=2}else l+=2;else l+=4}return c}function ng(n,r,s,c){return[n,!0,!1,r,null,0,c,s,null,null,null]}function ig(n,r){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const d=s[c+1];if(-1!==d){const P=n.data[d];vr(s[c]),P.contentQueries(2,r[d],d)}}}function Zl(n,r){return n[Go]?n[gn][Ko]=r:n[Go]=r,n[gn]=r,r}function $d(n,r,s){vr(0);const c=vi(null);try{r(n,s)}finally{vi(c)}}function og(n){return n[bo]||(n[bo]=[])}function rg(n){return n.cleanup||(n.cleanup=[])}function sg(n,r,s){return(null===n||pe(n))&&(s=function rs(n){for(;Array.isArray(n);){if("object"==typeof n[Et])return n;n=n[po]}return null}(s[r.index])),s[Fi]}function ag(n,r){const s=n[xo],c=s?s.get(qs,null):null;c&&c.handleError(r)}function jd(n,r,s,c,l){for(let d=0;d<s.length;){const P=s[d++],j=s[d++];eg(n.data[P],r[P],c,j,l)}}function Ks(n,r,s){const c=wt(r,n);!function Sf(n,r,s){n.setValue(r,s)}(n[Fi],c,s)}function KC(n,r){const s=Cn(r,n),c=s[Ti];!function GC(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])}(c,s);const l=s[po];null!==l&&null===s[ao]&&(s[ao]=Dd(l,s[xo])),Zd(c,s,s[qi])}function Zd(n,r,s){hs(r);try{const c=n.viewQuery;null!==c&&$d(1,c,s);const l=n.template;null!==l&&Gh(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ig(n,r),n.staticViewQueries&&$d(2,n.viewQuery,s);const d=n.components;null!==d&&function JC(n,r){for(let s=0;s<r.length;s++)KC(n,r[s])}(r,d)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[Wi]&=-5,na()}}let cg=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(s,c,l){const d=typeof Zone>"u"?null:Zone.current,P=function Kn(n,r,s){const c=Object.create(ko);s&&(c.consumerAllowSignalWrites=!0),c.fn=n,c.schedule=r;const l=P=>{c.cleanupFn=P};return c.ref={notify:()=>Fo(c),run:()=>{if(c.dirty=!1,c.hasRun&&!or(c))return;c.hasRun=!0;const P=co(c);try{c.cleanupFn(),c.cleanupFn=Ai,c.fn(l)}finally{br(c,P)}},cleanup:()=>c.cleanupFn()},c.ref}(s,Vt=>{this.all.has(Vt)&&this.queue.set(Vt,d)},l);let j;this.all.add(P),P.notify();const ct=()=>{P.cleanup(),j?.(),this.all.delete(P),this.queue.delete(P)};return j=c?.onDestroy(ct),{destroy:ct}}flush(){if(0!==this.queue.size)for(const[s,c]of this.queue)this.queue.delete(s),c?c.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Bt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function lg(n,r){!r?.injector&&Hl();const s=r?.injector??kn(xs),c=s.get(cg),l=!0!==r?.manualCleanup?s.get(Ic):null;return c.create(n,l,!!r?.allowSignalWrites)}function Vl(n,r,s){let c=s?n.styles:null,l=s?n.classes:null,d=0;if(null!==r)for(let P=0;P<r.length;P++){const j=r[P];"number"==typeof j?d=j:1==d?l=D(l,j):2==d&&(c=D(c,j+": "+r[++P]+";"))}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=l:n.classesWithoutHost=l}function wc(n,r,s,c,l=!1){for(;null!==s;){const d=r[s.index];null!==d&&c.push(Zo(d)),_e(d)&&ug(d,c);const P=s.type;if(8&P)wc(n,r,s.child,c);else if(32&P){const j=Wu(s,r);let ct;for(;ct=j();)c.push(ct)}else if(16&P){const j=Bf(r,s);if(Array.isArray(j))c.push(...j);else{const ct=Cc(r[te]);wc(ct[Ti],ct,j,c,!0)}}s=l?s.projectionNext:s.next}return c}function ug(n,r){for(let s=jo;s<n.length;s++){const c=n[s],l=c[Ti].firstChild;null!==l&&wc(c[Ti],c,l,r)}n[ii]!==n[po]&&r.push(n[ii])}function Wl(n,r,s,c=!0){const l=r[Lo],d=l.rendererFactory,P=l.afterRenderEventManager;d.begin?.(),P?.begin();try{dg(n,r,n.template,s)}catch(ct){throw c&&ag(r,ct),ct}finally{d.end?.(),l.effectManager?.flush(),P?.end()}}function dg(n,r,s,c){const l=r[Wi];if(256!=(256&l)){r[Lo].effectManager?.flush(),hs(r);try{Ct(r),function gt(n){return ft.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Gh(n,r,s,2,c);const P=3==(3&l);if(P){const Vt=n.preOrderCheckHooks;null!==Vt&&Ma(r,Vt,null)}else{const Vt=n.preOrderHooks;null!==Vt&&Ea(r,Vt,0,null),cc(r,0)}if(function YC(n){for(let r=xf(n);null!==r;r=Pf(r)){if(!r[on])continue;const s=r[Oo];for(let c=0;c<s.length;c++){qt(s[c])}}}(r),pg(r,2),null!==n.contentQueries&&ig(n,r),P){const Vt=n.contentCheckHooks;null!==Vt&&Ma(r,Vt)}else{const Vt=n.contentHooks;null!==Vt&&Ea(r,Vt,1),cc(r,1)}!function TC(n,r){const s=n.hostBindingOpCodes;if(null===s)return;const c=zh(r,Qn);try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)Es(~d);else{const P=d,j=s[++l],ct=s[++l];dn(j,P),c.dirty=!1;const Vt=co(c);try{ct(2,r[P])}finally{br(c,Vt)}}}}finally{null===r[Qn]&&$h(r,Qn),Es(-1)}}(n,r);const j=n.components;null!==j&&hg(r,j,0);const ct=n.viewQuery;if(null!==ct&&$d(2,ct,c),P){const Vt=n.viewCheckHooks;null!==Vt&&Ma(r,Vt)}else{const Vt=n.viewHooks;null!==Vt&&Ea(r,Vt,2),cc(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Wi]&=-73,Je(r)}finally{na()}}}function pg(n,r){for(let s=xf(n);null!==s;s=Pf(s))for(let c=jo;c<s.length;c++)fg(s[c],r)}function XC(n,r,s){fg(Cn(r,n),s)}function fg(n,r){if(!function ro(n){return 128==(128&n[Wi])}(n))return;const s=n[Ti],c=n[Wi];if(80&c&&0===r||1024&c||2===r)dg(s,n,s.template,n[qi]);else if(n[cr]>0){pg(n,1);const l=s.components;null!==l&&hg(n,l,1)}}function hg(n,r,s){for(let c=0;c<r.length;c++)XC(n,r[c],s)}class Rc{get rootNodes(){const r=this._lView,s=r[Ti];return wc(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qi]}set context(r){this._lView[qi]=r}get destroyed(){return 256==(256&this._lView[Wi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[so];if(_e(r)){const s=r[8],c=s?s.indexOf(this):-1;c>-1&&(Tl(r,c),jn(s,c))}this._attachedToViewContainer=!1}Gu(this._lView[Ti],this._lView)}onDestroy(r){vt(this._lView,r)}markForCheck(){Sc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wi]&=-129}reattach(){this._lView[Wi]|=128}detectChanges(){Wl(this._lView[Ti],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hv(n,r){Ec(n,r,r[Fi],2,null,null)}(this._lView[Ti],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=r}}class qC extends Rc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Wl(r[Ti],r,r[qi],!1)}checkNoChanges(){}get context(){return null}}class gg extends Bl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=gi(r);return new Lc(s,this.ngModule)}}function mg(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class e1{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,c){c=ui(c);const l=this.injector.get(r,Pd,c);return l!==Pd||s===Pd?l:this.parentInjector.get(r,s,c)}}class Lc extends hh{get inputs(){const r=this.componentDef,s=r.inputTransforms,c=mg(r.inputs);if(null!==s)for(const l of c)s.hasOwnProperty(l.propName)&&(l.transform=s[l.propName]);return c}get outputs(){return mg(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function bn(n){return n.map(Tn).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,c,l){let d=(l=l||this.ngModule)instanceof Ls?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const P=d?new e1(r,d):r,j=P.get(mh,null);if(null===j)throw new S(407,!1);const Xe={rendererFactory:j,sanitizer:P.get(tC,null),effectManager:P.get(cg,null),afterRenderEventManager:P.get(Rd,null)},Ln=j.createRenderer(null,this.componentDef),$n=this.componentDef.selectors[0][0]||"div",pi=c?function DC(n,r,s,c){const d=c.get(kh,!1)||s===ei.ShadowDom,P=n.selectRootElement(r,d);return function bC(n){Qh(n)}(P),P}(Ln,c,this.componentDef.encapsulation,P):El(Ln,$n,function t1(n){const r=n.toLowerCase();return"svg"===r?xr:"math"===r?"math":null}($n)),lo=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ci=null;null!==pi&&(Ci=Dd(pi,P,!0));const Po=Ud(0,null,null,1,0,null,null,null,null,null,null),Vo=jl(null,Po,null,lo,null,null,Xe,Ln,P,null,Ci);let Mr,fs;hs(Vo);try{const Gs=this.componentDef;let sc,Xp=null;Gs.findHostDirectiveDefs?(sc=[],Xp=new Map,Gs.findHostDirectiveDefs(Gs,sc,Xp),sc.push(Gs)):sc=[Gs];const nD=function o1(n,r){const s=n[Ti],c=J;return n[c]=r,ja(s,c,2,"#host",null)}(Vo,pi),iD=function r1(n,r,s,c,l,d,P){const j=l[Ti];!function s1(n,r,s,c){for(const l of n)r.mergedAttrs=Xt(r.mergedAttrs,l.hostAttrs);null!==r.mergedAttrs&&(Vl(r,r.mergedAttrs,!0),null!==s&&jf(c,s,r))}(c,n,r,P);let ct=null;null!==r&&(ct=Dd(r,l[xo]));const Vt=d.rendererFactory.createRenderer(r,s);let ge=16;s.signals?ge=4096:s.onPush&&(ge=64);const Xe=jl(l,Jh(s),null,ge,l[n.index],n,d,Vt,null,null,ct);return j.firstCreatePass&&Hd(j,n,c.length-1),Zl(l,Xe),l[n.index]=Xe}(nD,pi,Gs,sc,Vo,Xe,Ln);fs=Yt(Po,J),pi&&function c1(n,r,s,c){if(c)Gi(n,s,["ng-version",vh.full]);else{const{attrs:l,classes:d}=function ie(n){const r=[],s=[];let c=1,l=2;for(;c<n.length;){let d=n[c];if("string"==typeof d)2===l?""!==d&&r.push(d,n[++c]):8===l&&s.push(d);else{if(!Ji(l))break;l=d}c++}return{attrs:r,classes:s}}(r.selectors[0]);l&&Gi(n,s,l),d&&d.length>0&&$f(n,s,d.join(" "))}}(Ln,Gs,pi,c),void 0!==s&&function l1(n,r,s){const c=n.projection=[];for(let l=0;l<r.length;l++){const d=s[l];c.push(null!=d?Array.from(d):null)}}(fs,this.ngContentSelectors,s),Mr=function a1(n,r,s,c,l,d){const P=he(),j=l[Ti],ct=nn(P,l);qh(j,l,P,s,null,c);for(let ge=0;ge<s.length;ge++)ns(Ds(l,j,P.directiveStart+ge,P),l);tg(j,l,P),ct&&ns(ct,l);const Vt=Ds(l,j,P.directiveStart+P.componentOffset,P);if(n[qi]=l[qi]=Vt,null!==d)for(const ge of d)ge(Vt,r);return Nd(j,P,n),Vt}(iD,Gs,sc,Xp,Vo,[u1]),Zd(Po,Vo,null)}finally{na()}return new n1(this.componentType,Mr,Ba(fs,Vo),Vo,fs)}}class n1 extends Ky{constructor(r,s,c,l,d){super(),this.location=c,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new qC(l),this.componentType=r}setInput(r,s){const c=this._tNode.inputs;let l;if(null!==c&&(l=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;jd(d[Ti],d,l,r,s),this.previousInputValues.set(r,s),Sc(Cn(this._tNode.index,d))}}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function u1(){const n=he();Ca(q()[Ti],n)}function Vd(n){let r=function _g(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const c=[n];for(;r;){let l;if(pe(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new S(903,!1);l=r.\u0275dir}if(l){if(s){c.push(l);const P=n;P.inputs=Kl(n.inputs),P.inputTransforms=Kl(n.inputTransforms),P.declaredInputs=Kl(n.declaredInputs),P.outputs=Kl(n.outputs);const j=l.hostBindings;j&&h1(n,j);const ct=l.viewQuery,Vt=l.contentQueries;if(ct&&p1(n,ct),Vt&&f1(n,Vt),v(n.inputs,l.inputs),v(n.declaredInputs,l.declaredInputs),v(n.outputs,l.outputs),null!==l.inputTransforms&&(null===P.inputTransforms&&(P.inputTransforms={}),v(P.inputTransforms,l.inputTransforms)),pe(l)&&l.data.animation){const ge=n.data;ge.animation=(ge.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let P=0;P<d.length;P++){const j=d[P];j&&j.ngInherit&&j(n),j===Vd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function d1(n){let r=0,s=null;for(let c=n.length-1;c>=0;c--){const l=n[c];l.hostVars=r+=l.hostVars,l.hostAttrs=Xt(l.hostAttrs,s=Xt(s,l.hostAttrs))}}(c)}function Kl(n){return n===wi?{}:n===oi?[]:n}function p1(n,r){const s=n.viewQuery;n.viewQuery=s?(c,l)=>{r(c,l),s(c,l)}:r}function f1(n,r){const s=n.contentQueries;n.contentQueries=s?(c,l,d)=>{r(c,l,d),s(c,l,d)}:r}function h1(n,r){const s=n.hostBindings;n.hostBindings=s?(c,l)=>{r(c,l),s(c,l)}:r}function vg(n){return r=>{r.findHostDirectiveDefs=yg,r.hostDirectives=(Array.isArray(n)?n:n()).map(s=>"function"==typeof s?{directive:O(s),inputs:wi,outputs:wi}:{directive:O(s.directive),inputs:Cg(s.inputs),outputs:Cg(s.outputs)})}}function yg(n,r,s){if(null!==n.hostDirectives)for(const c of n.hostDirectives){const l=Ni(c.directive);v1(l.declaredInputs,c.inputs),yg(l,r,s),s.set(l,c),r.push(l)}}function Cg(n){if(void 0===n||0===n.length)return wi;const r={};for(let s=0;s<n.length;s+=2)r[n[s]]=n[s+1];return r}function v1(n,r){for(const s in r)r.hasOwnProperty(s)&&(n[r[s]]=n[s])}function Eg(n){const r=n.inputConfig,s={};for(const c in r)if(r.hasOwnProperty(c)){const l=r[c];Array.isArray(l)&&l[2]&&(s[c]=l[2])}n.inputTransforms=s}function Gl(n){return!!Wd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Wd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ks(n,r,s){return n[r]=s}function Nc(n,r){return n[r]}function is(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function ha(n,r,s,c){const l=is(n,r,s);return is(n,r+1,c)||l}function Jl(n,r,s,c,l){const d=ha(n,r,s,c);return is(n,r+2,l)||d}function Cs(n,r,s,c,l,d){const P=ha(n,r,s,c);return ha(n,r+2,l,d)||P}function Kd(n,r,s,c){const l=q();return is(l,H(),r)&&(Re(),Fs(yr(),l,n,r,s,c)),Kd}function Va(n,r,s,c){return is(n,H(),s)?r+p(s)+c:Ho}function Ng(n,r,s,c,l,d,P,j){const ct=q(),Vt=Re(),ge=n+J,Xe=Vt.firstCreatePass?function U1(n,r,s,c,l,d,P,j,ct){const Vt=r.consts,ge=ja(r,n,4,P||null,yn(Vt,j));Bd(r,s,ge,yn(Vt,ct)),Ca(r,ge);const Xe=ge.tView=Ud(2,ge,c,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Vt,null);return null!==r.queries&&(r.queries.template(r,ge),Xe.queries=r.queries.embeddedTView(ge)),ge}(ge,Vt,ct,r,s,c,l,d,P):Vt.data[ge];vo(Xe,!1);const Ln=Fg(Vt,ct,Xe,n);Ss()&&Dl(Vt,ct,Ln,Xe),ns(Ln,ct),Zl(ct,ct[ge]=ng(Ln,ct,Ln,Xe)),zt(Xe)&&Fd(Vt,ct,Xe),null!=P&&kd(ct,Xe,j)}let Fg=function kg(n,r,s,c){return As(!0),r[Fi].createComment("")};function Ug(n){return Te(function qr(){return ft.lFrame.contextLView}(),J+n)}function qd(n,r,s){const c=q();return is(c,H(),r)&&_s(Re(),yr(),c,n,r,c[Fi],s,!1),qd}function tp(n,r,s,c,l){const P=l?"class":"style";jd(n,s,r.inputs[P],P,c)}function ql(n,r,s,c){const l=q(),d=Re(),P=J+n,j=l[Fi],ct=d.firstCreatePass?function $1(n,r,s,c,l,d){const P=r.consts,ct=ja(r,n,2,c,yn(P,l));return Bd(r,s,ct,yn(P,d)),null!==ct.attrs&&Vl(ct,ct.attrs,!1),null!==ct.mergedAttrs&&Vl(ct,ct.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ct),ct}(P,d,l,r,s,c):d.data[P],Vt=Bg(d,l,ct,j,r,n);l[P]=Vt;const ge=zt(ct);return vo(ct,!0),jf(j,Vt,ct),32!=(32&ct.flags)&&Ss()&&Dl(d,l,Vt,ct),0===function vn(){return ft.lFrame.elementDepthCount}()&&ns(Vt,l),function Nn(){ft.lFrame.elementDepthCount++}(),ge&&(Fd(d,l,ct),Nd(d,ct,l)),null!==c&&kd(l,ct),ql}function tu(){let n=he();Rr()?ss():(n=n.parent,vo(n,!1));const r=n;(function oo(n){return ft.skipHydrationRootTNode===n})(r)&&function _r(){ft.skipHydrationRootTNode=null}(),function Un(){ft.lFrame.elementDepthCount--}();const s=Re();return s.firstCreatePass&&(Ca(s,n),W(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function bu(n){return 0!=(8&n.flags)}(r)&&tp(s,r,q(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function oa(n){return 0!=(16&n.flags)}(r)&&tp(s,r,q(),r.stylesWithoutHost,!1),tu}function ep(n,r,s,c){return ql(n,r,s,c),tu(),ep}let Bg=(n,r,s,c,l,d)=>(As(!0),El(c,l,function Pr(){return ft.lFrame.currentNamespace}()));function eu(n,r,s){const c=q(),l=Re(),d=n+J,P=l.firstCreatePass?function V1(n,r,s,c,l){const d=r.consts,P=yn(d,c),j=ja(r,n,8,"ng-container",P);return null!==P&&Vl(j,P,!0),Bd(r,s,j,yn(d,l)),null!==r.queries&&r.queries.elementStart(r,j),j}(d,l,c,r,s):l.data[d];vo(P,!0);const j=Hg(l,c,P,n);return c[d]=j,Ss()&&Dl(l,c,j,P),ns(j,c),zt(P)&&(Fd(l,c,P),Nd(l,P,c)),null!=s&&kd(c,P),eu}function nu(){let n=he();const r=Re();return Rr()?ss():(n=n.parent,vo(n,!1)),r.firstCreatePass&&(Ca(r,n),W(n)&&r.queries.elementEnd(n)),nu}function np(n,r,s){return eu(n,r,s),nu(),np}let Hg=(n,r,s,c)=>(As(!0),Ku(r[Fi],""));function zg(){return q()}function ip(n){return!!n&&"function"==typeof n.then}function $g(n){return!!n&&"function"==typeof n.subscribe}function op(n,r,s,c){const l=q(),d=Re(),P=he();return function Zg(n,r,s,c,l,d,P){const j=zt(c),Vt=n.firstCreatePass&&rg(n),ge=r[qi],Xe=og(r);let Ln=!0;if(3&c.type||P){const xi=nn(c,r),$i=P?P(xi):xi,lo=Xe.length,Ci=P?Vo=>P(Zo(Vo[c.index])):c.index;let Po=null;if(!P&&j&&(Po=function G1(n,r,s,c){const l=n.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const P=l[d];if(P===s&&l[d+1]===c){const j=r[bo],ct=l[d+2];return j.length>ct?j[ct]:null}"string"==typeof P&&(d+=2)}return null}(n,r,l,c.index)),null!==Po)(Po.__ngLastListenerFn__||Po).__ngNextListenerFn__=d,Po.__ngLastListenerFn__=d,Ln=!1;else{d=Wg(c,r,ge,d,!1);const Vo=s.listen($i,l,d);Xe.push(d,Vo),Vt&&Vt.push(l,Ci,lo,lo+1)}}else d=Wg(c,r,ge,d,!1);const $n=c.outputs;let pi;if(Ln&&null!==$n&&(pi=$n[l])){const xi=pi.length;if(xi)for(let $i=0;$i<xi;$i+=2){const Mr=r[pi[$i]][pi[$i+1]].subscribe(d),fs=Xe.length;Xe.push(d,Mr),Vt&&Vt.push(l,c.index,fs,-(fs+1))}}}(d,l,l[Fi],P,n,r,c),op}function Vg(n,r,s,c){try{return ar(6,r,s),!1!==s(c)}catch(l){return ag(n,l),!1}finally{ar(7,r,s)}}function Wg(n,r,s,c,l){return function d(P){if(P===Function)return c;Sc(n.componentOffset>-1?Cn(n.index,r):r);let ct=Vg(r,s,c,P),Vt=d.__ngNextListenerFn__;for(;Vt;)ct=Vg(r,s,Vt,P)&&ct,Vt=Vt.__ngNextListenerFn__;return l&&!1===ct&&P.preventDefault(),ct}}function Kg(n=1){return function Eu(n){return(ft.lFrame.contextLView=function Qc(n,r){for(;n>0;)r=r[Yn],n--;return r}(n,ft.lFrame.contextLView))[qi]}(n)}function J1(n,r){let s=null;const c=function ze(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const d=r[l];if("*"!==d){if(null===c?Ie(n,d,!0):an(c,d))return l}else s=l}return s}function Gg(n){const r=q()[te][Uo];if(!r.projection){const c=r.projection=li(n?n.length:1,null),l=c.slice();let d=r.child;for(;null!==d;){const P=n?J1(d,n):0;null!==P&&(l[P]?l[P].projectionNext=d:c[P]=d,l[P]=d),d=d.next}}}function Jg(n,r=0,s){const c=q(),l=Re(),d=ja(l,J+n,16,null,s||null);null===d.projection&&(d.projection=r),ss(),(!c[ao]||Oi())&&32!=(32&d.flags)&&function Gv(n,r,s){zf(r[Fi],0,r,s,Qu(n,s,r),Nf(s.parent||r[Uo],s,r))}(l,c,d)}function rp(n,r,s){return iu(n,"",r,"",s),rp}function iu(n,r,s,c,l){const d=q(),P=Va(d,r,s,c);return P!==Ho&&_s(Re(),yr(),d,n,P,d[Fi],l,!1),iu}function ou(n,r){return n<<17|r<<2}function ta(n){return n>>17&32767}function sp(n){return 2|n}function ga(n){return(131068&n)>>2}function ap(n,r){return-131069&n|r<<2}function cp(n){return 1|n}function om(n,r,s,c,l){const d=n[s+1],P=null===r;let j=c?ta(d):ga(d),ct=!1;for(;0!==j&&(!1===ct||P);){const ge=n[j+1];eM(n[j],r)&&(ct=!0,n[j+1]=c?cp(ge):sp(ge)),j=c?ta(ge):ga(ge)}ct&&(n[s+1]=c?sp(d):cp(d))}function eM(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ts(n,r)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function rm(n){return n.substring(jr.key,jr.keyEnd)}function sm(n,r){const s=jr.textEnd;return s===r?-1:(r=jr.keyEnd=function rM(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,jr.key=r,s),qa(n,r,s))}function qa(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function lp(n,r,s){return Ps(n,r,s,!1),lp}function up(n,r){return Ps(n,r,null,!0),up}function dm(n){Is(hM,Bs,n,!0)}function Bs(n,r){for(let s=function iM(n){return function cm(n){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=n.length}(n),sm(n,qa(n,0,jr.textEnd))}(r);s>=0;s=sm(r,s))To(n,rm(r),!0)}function Ps(n,r,s,c){const l=q(),d=Re(),P=pt(2);d.firstUpdatePass&&fm(d,n,P,c),r!==Ho&&is(l,P,r)&&gm(d,d.data[Kr()],l,l[Fi],n,l[P+1]=function mM(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=C(Zs(n)))),n}(r,s),c,P)}function Is(n,r,s,c){const l=Re(),d=pt(2);l.firstUpdatePass&&fm(l,null,d,c);const P=q();if(s!==Ho&&is(P,d,s)){const j=l.data[Kr()];if(_m(j,c)&&!pm(l,d)){let ct=c?j.classesWithoutHost:j.stylesWithoutHost;null!==ct&&(s=D(ct,s||"")),tp(l,j,P,s,c)}else!function gM(n,r,s,c,l,d,P,j){l===Ho&&(l=oi);let ct=0,Vt=0,ge=0<l.length?l[0]:null,Xe=0<d.length?d[0]:null;for(;null!==ge||null!==Xe;){const Ln=ct<l.length?l[ct+1]:void 0,$n=Vt<d.length?d[Vt+1]:void 0;let xi,pi=null;ge===Xe?(ct+=2,Vt+=2,Ln!==$n&&(pi=Xe,xi=$n)):null===Xe||null!==ge&&ge<Xe?(ct+=2,pi=ge):(Vt+=2,pi=Xe,xi=$n),null!==pi&&gm(n,r,s,c,pi,xi,P,j),ge=ct<l.length?l[ct]:null,Xe=Vt<d.length?d[Vt]:null}}(l,j,P,P[Fi],P[d+1],P[d+1]=function fM(n,r,s){if(null==s||""===s)return oi;const c=[],l=Zs(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)n(c,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&n(c,d,l[d]);else"string"==typeof l&&r(c,l);return c}(n,r,s),c,d)}}function pm(n,r){return r>=n.expandoStartIndex}function fm(n,r,s,c){const l=n.data;if(null===l[s+1]){const d=l[Kr()],P=pm(n,s);_m(d,c)&&null===r&&!P&&(r=!1),r=function lM(n,r,s,c){const l=ki(n);let d=c?r.residualClasses:r.residualStyles;if(null===l)0===(c?r.classBindings:r.styleBindings)&&(s=Bc(s=dp(null,n,r,s,c),r.attrs,c),d=null);else{const P=r.directiveStylingLast;if(-1===P||n[P]!==l)if(s=dp(l,n,r,s,c),null===d){let ct=function uM(n,r,s){const c=s?r.classBindings:r.styleBindings;if(0!==ga(c))return n[ta(c)]}(n,r,c);void 0!==ct&&Array.isArray(ct)&&(ct=dp(null,n,r,ct[1],c),ct=Bc(ct,r.attrs,c),function dM(n,r,s,c){n[ta(s?r.classBindings:r.styleBindings)]=c}(n,r,c,ct))}else d=function pM(n,r,s){let c;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)c=Bc(c,n[d].hostAttrs,s);return Bc(c,r.attrs,s)}(n,r,c)}return void 0!==d&&(c?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,c),function q1(n,r,s,c,l,d){let P=d?r.classBindings:r.styleBindings,j=ta(P),ct=ga(P);n[c]=s;let ge,Vt=!1;if(Array.isArray(s)?(ge=s[1],(null===ge||ts(s,ge)>0)&&(Vt=!0)):ge=s,l)if(0!==ct){const Ln=ta(n[j+1]);n[c+1]=ou(Ln,j),0!==Ln&&(n[Ln+1]=ap(n[Ln+1],c)),n[j+1]=function Y1(n,r){return 131071&n|r<<17}(n[j+1],c)}else n[c+1]=ou(j,0),0!==j&&(n[j+1]=ap(n[j+1],c)),j=c;else n[c+1]=ou(ct,0),0===j?j=c:n[ct+1]=ap(n[ct+1],c),ct=c;Vt&&(n[c+1]=sp(n[c+1])),om(n,ge,c,!0),om(n,ge,c,!1),function tM(n,r,s,c,l){const d=l?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&ts(d,r)>=0&&(s[c+1]=cp(s[c+1]))}(r,ge,n,c,d),P=ou(j,ct),d?r.classBindings=P:r.styleBindings=P}(l,d,r,s,P,c)}}function dp(n,r,s,c,l){let d=null;const P=s.directiveEnd;let j=s.directiveStylingLast;for(-1===j?j=s.directiveStart:j++;j<P&&(d=r[j],c=Bc(c,d.hostAttrs,l),d!==n);)j++;return null!==n&&(s.directiveStylingLast=j),c}function Bc(n,r,s){const c=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const P=r[d];"number"==typeof P?l=P:l===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),To(n,P,!!s||r[++d]))}return void 0===n?null:n}function hM(n,r,s){const c=String(r);""!==c&&!c.includes(" ")&&To(n,c,s)}function gm(n,r,s,c,l,d,P,j){if(!(3&r.type))return;const ct=n.data,Vt=ct[j+1],ge=function X1(n){return 1==(1&n)}(Vt)?mm(ct,r,s,l,ga(Vt),P):void 0;ru(ge)||(ru(d)||function Q1(n){return 2==(2&n)}(Vt)&&(d=mm(ct,null,s,l,j,P)),function Qv(n,r,s,c,l){if(r)l?n.addClass(s,c):n.removeClass(s,c);else{let d=-1===c.indexOf("-")?void 0:Cl.DashCase;null==l?n.removeStyle(s,c,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Cl.Important),n.setStyle(s,c,l,d))}}(c,P,wt(Kr(),s),l,d))}function mm(n,r,s,c,l,d){const P=null===r;let j;for(;l>0;){const ct=n[l],Vt=Array.isArray(ct),ge=Vt?ct[1]:ct,Xe=null===ge;let Ln=s[l+1];Ln===Ho&&(Ln=Xe?oi:void 0);let $n=Xe?pr(Ln,c):ge===c?Ln:void 0;if(Vt&&!ru($n)&&($n=pr(ct,c)),ru($n)&&(j=$n,P))return j;const pi=n[l+1];l=P?ta(pi):ga(pi)}if(null!==r){let ct=d?r.residualClasses:r.residualStyles;null!=ct&&(j=pr(ct,c))}return j}function ru(n){return void 0!==n}function _m(n,r){return 0!=(n.flags&(r?8:16))}function vm(n,r=""){const s=q(),c=Re(),l=n+J,d=c.firstCreatePass?ja(c,l,1,r,null):c.data[l],P=ym(c,s,d,r,n);s[l]=P,Ss()&&Dl(c,s,P,d),vo(d,!1)}let ym=(n,r,s,c,l)=>(As(!0),function Ml(n,r){return n.createText(r)}(r[Fi],c));function pp(n){return su("",n,""),pp}function su(n,r,s){const c=q(),l=Va(c,n,r,s);return l!==Ho&&Ks(c,Kr(),l),su}function fp(n,r,s,c,l){const d=q(),P=function Wa(n,r,s,c,l,d){const j=ha(n,K(),s,l);return pt(2),j?r+p(s)+c+p(l)+d:Ho}(d,n,r,s,c,l);return P!==Ho&&Ks(d,Kr(),P),fp}function hp(n,r,s,c,l,d,P,j,ct){const Vt=q(),ge=function Ga(n,r,s,c,l,d,P,j,ct,Vt){const Xe=Cs(n,K(),s,l,P,ct);return pt(4),Xe?r+p(s)+c+p(l)+d+p(P)+j+p(ct)+Vt:Ho}(Vt,n,r,s,c,l,d,P,j,ct);return ge!==Ho&&Ks(Vt,Kr(),ge),hp}function bm(n,r,s){Is(To,Bs,Va(q(),n,r,s),!0)}function gp(n,r,s){const c=q();return is(c,H(),r)&&_s(Re(),yr(),c,n,r,c[Fi],s,!0),gp}function mp(n,r,s){const c=q();if(is(c,H(),r)){const d=Re(),P=yr();_s(d,P,c,n,r,sg(ki(d.data),P,c),s,!0)}return mp}const ma=void 0;var kM=["en",[["a","p"],["AM","PM"],ma],[["AM","PM"],ma,ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ma,"{1} 'at' {0}",ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FM(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let tc={};function UM(n,r,s){"string"!=typeof r&&(s=r,r=n[ec.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),tc[r]=n,s&&(tc[r][ec.ExtraData]=s)}function _p(n){const r=function BM(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=km(r);if(s)return s;const c=r.split("-")[0];if(s=km(c),s)return s;if("en"===c)return kM;throw new S(701,!1)}function Fm(n){return _p(n)[ec.PluralCase]}function km(n){return n in tc||(tc[n]=Se.ng&&Se.ng.common&&Se.ng.common.locales&&Se.ng.common.locales[n]),tc[n]}var ec=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ec||{});const nc="en-US";let Um=nc;function Cp(n,r,s,c,l){if(n=O(n),Array.isArray(n))for(let d=0;d<n.length;d++)Cp(n[d],r,s,c,l);else{const d=Re(),P=q(),j=he();let ct=fa(n)?n:O(n.provide);const Vt=ch(n),ge=1048575&j.providerIndexes,Xe=j.directiveStart,Ln=j.providerIndexes>>20;if(fa(n)||!n.multi){const $n=new ia(Vt,l,$a),pi=Ep(ct,r,l?ge:ge+Ln,Xe);-1===pi?(ba(Da(j,P),d,ct),Mp(d,n,r.length),r.push(ct),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),s.push($n),P.push($n)):(s[pi]=$n,P[pi]=$n)}else{const $n=Ep(ct,r,ge+Ln,Xe),pi=Ep(ct,r,ge,ge+Ln),$i=pi>=0&&s[pi];if(l&&!$i||!l&&!($n>=0&&s[$n])){ba(Da(j,P),d,ct);const lo=function kE(n,r,s,c,l){const d=new ia(n,s,$a);return d.multi=[],d.index=r,d.componentProviders=0,l_(d,l,c&&!s),d}(l?FE:NE,s.length,l,c,Vt);!l&&$i&&(s[pi].providerFactory=lo),Mp(d,n,r.length,0),r.push(ct),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),s.push(lo),P.push(lo)}else Mp(d,n,$n>-1?$n:pi,l_(s[l?pi:$n],Vt,!l&&c));!l&&c&&$i&&s[pi].componentProviders++}}}function Mp(n,r,s,c){const l=fa(r),d=function Py(n){return!!n.useClass}(r);if(l||d){const ct=(d?O(r.useClass):r).prototype.ngOnDestroy;if(ct){const Vt=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const ge=Vt.indexOf(s);-1===ge?Vt.push(s,[c,ct]):Vt[ge+1].push(c,ct)}else Vt.push(s,ct)}}}function l_(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Ep(n,r,s,c){for(let l=s;l<c;l++)if(r[l]===n)return l;return-1}function NE(n,r,s,c){return Tp(this.multi,[])}function FE(n,r,s,c){const l=this.multi;let d;if(this.providerFactory){const P=this.providerFactory.componentProviders,j=Ds(s,s[Ti],this.providerFactory.index,c);d=j.slice(0,P),Tp(l,d);for(let ct=P;ct<j.length;ct++)d.push(j[ct])}else d=[],Tp(l,d);return d}function Tp(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function u_(n,r=[]){return s=>{s.providersResolver=(c,l)=>function LE(n,r,s){const c=Re();if(c.firstCreatePass){const l=pe(n);Cp(s,c.data,c.blueprint,l,!0),Cp(r,c.data,c.blueprint,l,!1)}}(c,l?l(n):n,r)}}class _a{}class d_{}function UE(n,r){return new Op(n,r??null,[])}class Op extends _a{constructor(r,s,c){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gg(this);const l=io(r);this._bootstrapComponents=Ws(l.bootstrap),this._r3Injector=Th(r,s,[{provide:_a,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver},...c],C(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Dp extends d_{constructor(r){super(),this.moduleType=r}create(r){return new Op(this.moduleType,r,[])}}class p_ extends _a{constructor(r){super(),this.componentFactoryResolver=new gg(this),this.instance=null;const s=new Na([...r.providers,{provide:_a,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver}],r.parent||Rl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function f_(n,r,s=null){return new p_({providers:n,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let HE=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=oh(0,s.type),l=c.length>0?f_([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,l)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Bt({token:n,providedIn:"environment",factory:()=>new n(Ke(Ls))})}}return n})();function h_(n){n.getStandaloneInjector=r=>r.get(HE).getOrCreateStandaloneInjector(n)}function M_(n,r,s){const c=Ur()+n,l=q();return l[c]===Ho?ks(l,c,s?r.call(s):r()):Nc(l,c)}function E_(n,r,s,c){return I_(q(),Ur(),n,r,s,c)}function T_(n,r,s,c,l){return S_(q(),Ur(),n,r,s,c,l)}function O_(n,r,s,c,l,d){return A_(q(),Ur(),n,r,s,c,l,d)}function D_(n,r,s,c,l,d,P){return w_(q(),Ur(),n,r,s,c,l,d,P)}function b_(n,r,s,c,l,d,P,j){const ct=Ur()+n,Vt=q(),ge=Cs(Vt,ct,s,c,l,d);return is(Vt,ct+4,P)||ge?ks(Vt,ct+5,j?r.call(j,s,c,l,d,P):r(s,c,l,d,P)):Nc(Vt,ct+5)}function x_(n,r,s,c,l,d,P,j,ct){const Vt=Ur()+n,ge=q(),Xe=Cs(ge,Vt,s,c,l,d);return ha(ge,Vt+4,P,j)||Xe?ks(ge,Vt+6,ct?r.call(ct,s,c,l,d,P,j):r(s,c,l,d,P,j)):Nc(ge,Vt+6)}function P_(n,r,s,c,l,d,P,j,ct,Vt){const ge=Ur()+n,Xe=q();let Ln=Cs(Xe,ge,s,c,l,d);return Jl(Xe,ge+4,P,j,ct)||Ln?ks(Xe,ge+7,Vt?r.call(Vt,s,c,l,d,P,j,ct):r(s,c,l,d,P,j,ct)):Nc(Xe,ge+7)}function Vc(n,r){const s=n[r];return s===Ho?void 0:s}function I_(n,r,s,c,l,d){const P=r+s;return is(n,P,l)?ks(n,P+1,d?c.call(d,l):c(l)):Vc(n,P+1)}function S_(n,r,s,c,l,d,P){const j=r+s;return ha(n,j,l,d)?ks(n,j+2,P?c.call(P,l,d):c(l,d)):Vc(n,j+2)}function A_(n,r,s,c,l,d,P,j){const ct=r+s;return Jl(n,ct,l,d,P)?ks(n,ct+3,j?c.call(j,l,d,P):c(l,d,P)):Vc(n,ct+3)}function w_(n,r,s,c,l,d,P,j,ct){const Vt=r+s;return Cs(n,Vt,l,d,P,j)?ks(n,Vt+4,ct?c.call(ct,l,d,P,j):c(l,d,P,j)):Vc(n,Vt+4)}function L_(n,r){const s=Re();let c;const l=n+J;s.firstCreatePass?(c=function YE(n,r){if(r)for(let s=r.length-1;s>=0;s--){const c=r[s];if(n===c.name)return c}}(r,s.pipeRegistry),s.data[l]=c,c.onDestroy&&(s.destroyHooks??=[]).push(l,c.onDestroy)):c=s.data[l];const d=c.factory||(c.factory=ve(c.type)),j=le($a);try{const ct=Oa(!1),Vt=d();return Oa(ct),function z1(n,r,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=c}(s,q(),l,Vt),Vt}finally{le(j)}}function N_(n,r,s){const c=n+J,l=q(),d=Te(l,c);return Wc(l,c)?I_(l,Ur(),r,d.transform,s,d):d.transform(s)}function F_(n,r,s,c){const l=n+J,d=q(),P=Te(d,l);return Wc(d,l)?S_(d,Ur(),r,P.transform,s,c,P):P.transform(s,c)}function k_(n,r,s,c,l){const d=n+J,P=q(),j=Te(P,d);return Wc(P,d)?A_(P,Ur(),r,j.transform,s,c,l,j):j.transform(s,c,l)}function U_(n,r,s,c,l,d){const P=n+J,j=q(),ct=Te(j,P);return Wc(j,P)?w_(j,Ur(),r,ct.transform,s,c,l,d,ct):ct.transform(s,c,l,d)}function B_(n,r,s){const c=n+J,l=q(),d=Te(l,c);return Wc(l,c)?function R_(n,r,s,c,l,d){let P=r+s,j=!1;for(let ct=0;ct<l.length;ct++)is(n,P++,l[ct])&&(j=!0);return j?ks(n,P,c.apply(d,l)):Vc(n,P)}(l,Ur(),r,d.transform,s,d):d.transform.apply(d,s)}function Wc(n,r){return n[Ti].data[r].pure}function XE(){return this._results[Symbol.iterator]()}class du{get changes(){return this._changes||(this._changes=new Ns)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=du.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=XE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const c=this;c.dirty=!1;const l=function be(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Ce(n,r,s){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let l=n[c],d=r[c];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(c._results,l,s))&&(c._results=l,c.length=l.length,c.last=l[this.length-1],c.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tT(n,r,s,c=!0){const l=r[Ti];if(function $v(n,r,s,c){const l=jo+c,d=s.length;c>0&&(s[l-1][Ko]=r),c<d-jo?(r[Ko]=s[l],Dn(s,jo+c,r)):(s.push(r),r[Ko]=null),r[so]=s;const P=r[hn];null!==P&&s!==P&&function jv(n,r){const s=n[Oo];r[te]!==r[so][so][te]&&(n[on]=!0),null===s?n[Oo]=[r]:s.push(r)}(P,r);const j=r[ai];null!==j&&j.insertView(n),r[Wi]|=128}(l,r,n,s),c){const d=Xu(s,n),P=r[Fi],j=Ol(P,n[ii]);null!==j&&function Bv(n,r,s,c,l,d){c[po]=l,c[Uo]=r,Ec(n,c,s,1,l,d)}(l,n[Uo],P,r,j,d)}}let Kc=(()=>{class n{static{this.__NG_ELEMENT_ID__=iT}}return n})();const eT=Kc,nT=class extends eT{constructor(r,s,c){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,c){const l=function qE(n,r,s,c){const l=r.tView,j=jl(n,l,s,4096&n[Wi]?4096:16,null,r,null,null,null,c?.injector??null,c?.hydrationInfo??null);j[hn]=n[r.index];const Vt=n[ai];return null!==Vt&&(j[ai]=Vt.createEmbeddedView(l)),Zd(l,j,s),j}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:c});return new Rc(l)}};function iT(){return pu(he(),q())}function pu(n,r){return 4&n.type?new nT(r,n,Ba(n,r)):null}let hu=(()=>{class n{static{this.__NG_ELEMENT_ID__=lT}}return n})();function lT(){return W_(he(),q())}const uT=hu,Z_=class extends uT{constructor(r,s,c){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=c}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const r=aa(this._hostTNode,this._hostLView);if(ra(r)){const s=sa(r,this._hostLView),c=zs(r);return new Yr(s[Ti].data[c+8],s)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=V_(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-jo}createEmbeddedView(r,s,c){let l,d;"number"==typeof c?l=c:null!=c&&(l=c.index,d=c.injector);const j=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(j,l,false),j}createComponent(r,s,c,l,d){const P=r&&!function kt(n){return"function"==typeof n}(r);let j;if(P)j=s;else{const xi=s||{};j=xi.index,c=xi.injector,l=xi.projectableNodes,d=xi.environmentInjector||xi.ngModuleRef}const ct=P?r:new Lc(gi(r)),Vt=c||this.parentInjector;if(!d&&null==ct.ngModule){const $i=(P?Vt:this.parentInjector).get(Ls,null);$i&&(d=$i)}gi(ct.componentType??{});const $n=ct.create(Vt,l,null,d);return this.insertImpl($n.hostView,j,false),$n}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,c){const l=r._lView;if(function Mt(n){return _e(n[so])}(l)){const ct=this.indexOf(r);if(-1!==ct)this.detach(ct);else{const Vt=l[so],ge=new Z_(Vt,Vt[Uo],Vt[so]);ge.detach(ge.indexOf(r))}}const P=this._adjustIndex(s),j=this._lContainer;return tT(j,l,P,!c),r.attachToViewContainerRef(),Dn(xp(j),P,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=V_(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),c=Tl(this._lContainer,s);c&&(jn(xp(this._lContainer),s),Gu(c[Ti],c))}detach(r){const s=this._adjustIndex(r,-1),c=Tl(this._lContainer,s);return c&&null!=jn(xp(this._lContainer),s)?new Rc(c):null}_adjustIndex(r,s=0){return r??this.length+s}};function V_(n){return n[8]}function xp(n){return n[8]||(n[8]=[])}function W_(n,r){let s;const c=r[n.index];return _e(c)?s=c:(s=ng(c,r,null,n),r[n.index]=s,Zl(r,s)),K_(s,r,n,c),new Z_(s,n,r)}let K_=function G_(n,r,s,c){if(n[ii])return;let l;l=8&s.type?Zo(c):function dT(n,r){const s=n[Fi],c=s.createComment(""),l=nn(r,n);return ua(s,Ol(s,l),c,function Kv(n,r){return n.nextSibling(r)}(s,l),!1),c}(r,s),n[ii]=l};class Pp{constructor(r){this.queryList=r,this.matches=null}clone(){return new Pp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ip{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const c=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<c;d++){const P=s.getByIndex(d);l.push(this.queries[P.indexInDeclarationView].clone())}return new Ip(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==o0(r,s).matches&&this.queries[s].setDirty()}}class J_{constructor(r,s,c=null){this.predicate=r,this.flags=s,this.read=c}}class Sp{constructor(r=[]){this.queries=r}elementStart(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let c=0;c<this.length;c++){const l=null!==s?s.length:0,d=this.getByIndex(c).embeddedTView(r,l);d&&(d.indexInDeclarationView=c,null!==s?s.push(d):s=[d])}return null!==s?new Sp(s):null}template(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ap{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ap(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let l=0;l<c.length;l++){const d=c[l];this.matchTNodeWithReadOption(r,s,hT(s,d)),this.matchTNodeWithReadOption(r,s,Qs(s,r,d,!1,!1))}else c===Kc?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Qs(s,r,c,!1,!1))}matchTNodeWithReadOption(r,s,c){if(null!==c){const l=this.metadata.read;if(null!==l)if(l===Pc||l===hu||l===Kc&&4&s.type)this.addMatch(s.index,-2);else{const d=Qs(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,c)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function hT(n,r){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===r)return s[c+1];return null}function mT(n,r,s,c){return-1===s?function gT(n,r){return 11&n.type?Ba(n,r):4&n.type?pu(n,r):null}(r,n):-2===s?function _T(n,r,s){return s===Pc?Ba(r,n):s===Kc?pu(r,n):s===hu?W_(r,n):void 0}(n,r,c):Ds(n,n[Ti],s,r)}function Q_(n,r,s,c){const l=r[ai].queries[c];if(null===l.matches){const d=n.data,P=s.matches,j=[];for(let ct=0;ct<P.length;ct+=2){const Vt=P[ct];j.push(Vt<0?null:mT(r,d[Vt],P[ct+1],s.metadata.read))}l.matches=j}return l.matches}function wp(n,r,s,c){const l=n.queries.getByIndex(s),d=l.matches;if(null!==d){const P=Q_(n,r,l,s);for(let j=0;j<d.length;j+=2){const ct=d[j];if(ct>0)c.push(P[j/2]);else{const Vt=d[j+1],ge=r[-ct];for(let Xe=jo;Xe<ge.length;Xe++){const Ln=ge[Xe];Ln[hn]===Ln[so]&&wp(Ln[Ti],Ln,Vt,c)}if(null!==ge[Oo]){const Xe=ge[Oo];for(let Ln=0;Ln<Xe.length;Ln++){const $n=Xe[Ln];wp($n[Ti],$n,Vt,c)}}}}}return c}function Y_(n){const r=q(),s=Re(),c=Ro();vr(c+1);const l=o0(s,c);if(n.dirty&&function di(n){return 4==(4&n[Wi])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const d=l.crossesNgTemplate?wp(s,r,c,[]):Q_(s,r,l,c);n.reset(d,Yy),n.notifyOnChanges()}return!0}return!1}function X_(n,r,s){const c=Re();c.firstCreatePass&&(n0(c,new J_(n,r,s),-1),2==(2&r)&&(c.staticViewQueries=!0)),e0(c,q(),r)}function q_(n,r,s,c){const l=Re();if(l.firstCreatePass){const d=he();n0(l,new J_(r,s,c),d.index),function yT(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}e0(l,q(),s)}function t0(){return function vT(n,r){return n[ai].queries[r].queryList}(q(),Ro())}function e0(n,r,s){const c=new du(4==(4&s));(function IC(n,r,s,c){const l=og(r);l.push(s),n.firstCreatePass&&rg(n).push(c,l.length-1)})(n,r,c,c.destroy),null===r[ai]&&(r[ai]=new Ip),r[ai].queries.push(new Pp(c))}function n0(n,r,s){null===n.queries&&(n.queries=new Sp),n.queries.track(new Ap(r,s))}function o0(n,r){return n.queries.getByIndex(r)}function r0(n,r){return pu(n,r)}function Rp(n){return!!io(n)}const E0=new Ee("Application Initializer");let Up=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=kn(E0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const l of this.appInits){const d=l();if(ip(d))s.push(d);else if($g(d)){const P=new Promise((j,ct)=>{d.subscribe({complete:j,error:ct})});s.push(P)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(l=>{this.reject(l)}),0===s.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),T0=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const mu=new Ee("LocaleId",{providedIn:"root",factory:()=>kn(mu,Q.Optional|Q.SkipSelf)||function HT(){return typeof $localize<"u"&&$localize.locale||nc}()}),zT=new Ee("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let O0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new g.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class jT{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let ZT=(()=>{class n{compileModuleSync(s){return new Dp(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),d=Ws(io(s).declarations).reduce((P,j)=>{const ct=gi(j);return ct&&P.push(new Lc(ct)),P},[]);return new jT(c,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const P0=new Ee(""),I0=new Ee("");let zp,pO=(()=>{class n{constructor(s,c,l){this._ngZone=s,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zp||(function fO(n){zp=n}(l),l.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,l){let d=-1;c&&c>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==d),s(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,l){return[]}static{this.\u0275fac=function(c){return new(c||n)(Ke(Gr),Ke(S0),Ke(I0))}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac})}}return n})(),S0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return zp?.findTestabilityInTree(this,s,c)??null}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ea=null;const $p=new Ee("PlatformDestroyListeners"),jp=new Ee("appBootstrapListener");class mO{constructor(r,s){this.name=r,this.token=s}}function yO(n){try{const{rootComponent:r,appProviders:s,platformProviders:c}=n,l=function vO(n=[]){if(ea)return ea;const r=function L0(n=[],r){return xs.create({name:r,providers:[{provide:fd,useValue:"platform"},{provide:$p,useValue:new Set([()=>ea=null])},...n]})}(n);return ea=r,function w0(){!function Wr(n){os=n}(()=>{throw new S(600,!1)})}(),function R0(n){n.get(uh,null)?.forEach(s=>s())}(r),r}(c),d=[OO(),...s||[]],j=new p_({providers:d,parent:l,debugName:"",runEnvironmentInitializers:!1}).injector,ct=j.get(Gr);return ct.run(()=>{j.resolveInjectorInitializers();const Vt=j.get(qs,null);let ge;ct.runOutsideAngular(()=>{ge=ct.onError.subscribe({next:$n=>{Vt.handleError($n)}})});const Xe=()=>j.destroy(),Ln=l.get($p);return Ln.add(Xe),j.onDestroy(()=>{ge.unsubscribe(),Ln.delete(Xe)}),function k0(n,r,s){try{const c=s();return ip(c)?c.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}(Vt,ct,()=>{const $n=j.get(Up);return $n.runInitializers(),$n.donePromise.then(()=>{!function Bm(n){At(n,"Expected localeId to be defined"),"string"==typeof n&&(Um=n.toLowerCase().replace(/_/g,"-"))}(j.get(mu,nc)||nc);const xi=j.get(rc);return void 0!==r&&xi.bootstrap(r),xi})})})}catch(r){return Promise.reject(r)}}let rc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kn(H0),this.zoneIsStable=kn(Ph),this.componentTypes=[],this.components=[],this.isStable=kn(O0).hasPendingTasks.pipe((0,m.w)(s=>s?(0,T.of)(!1):this.zoneIsStable),(0,h.x)(),(0,_.B)()),this._injector=kn(Ls)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,c){const l=s instanceof hh;if(!this._injector.get(Up).done)throw!l&&Mo(s),new S(405,!1);let P;P=l?s:this._injector.get(Bl).resolveComponentFactory(s),this.componentTypes.push(P.componentType);const j=function gO(n){return n.isBoundToModule}(P)?void 0:this._injector.get(_a),Vt=P.create(xs.NULL,[],c||P.selector,j),ge=Vt.location.nativeElement,Xe=Vt.injector.get(P0,null);return Xe?.registerApplication(ge),Vt.onDestroy(()=>{this.detachView(Vt.hostView),vu(this.components,Vt),Xe?.unregisterApplication(ge)}),this._loadComponent(Vt),Vt}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;vu(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(jp,[]);c.push(...this._bootstrapListeners),c.forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>vu(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new S(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vu(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}const H0=new Ee("",{providedIn:"root",factory:()=>kn(qs).handleError.bind(void 0)});function EO(){const n=kn(Gr),r=kn(qs);return s=>n.runOutsideAngular(()=>r.handleError(s))}let TO=(()=>{class n{constructor(){this.zone=kn(Gr),this.applicationRef=kn(rc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275prov=Bt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function z0(n){return[{provide:Gr,useFactory:n},{provide:Dc,multi:!0,useFactory:()=>{const r=kn(TO,{optional:!0});return()=>r.initialize()}},{provide:H0,useFactory:EO},{provide:Ph,useFactory:Ih}]}function OO(n){return ud([[],z0(()=>new Gr(function F0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}function DO(){return!1}let bO=(()=>{class n{static{this.__NG_ELEMENT_ID__=xO}}return n})();function xO(n){return function PO(n,r,s){if(rt(n)&&!s){const c=Cn(n.index,r);return new Rc(c,c)}return 47&n.type?new Rc(r[te],r):null}(he(),q(),16==(16&n))}class V0{constructor(){}supports(r){return Gl(r)}create(r){return new LO(r)}}const RO=(n,r)=>r;class LO{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||RO}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,c=this._removalsHead,l=0,d=null;for(;s||c;){const P=!c||s&&s.currentIndex<K0(c,l,d)?s:c,j=K0(P,l,d),ct=P.currentIndex;if(P===c)l--,c=c._nextRemoved;else if(s=s._next,null==P.previousIndex)l++;else{d||(d=[]);const Vt=j-l,ge=ct-l;if(Vt!=ge){for(let Ln=0;Ln<Vt;Ln++){const $n=Ln<d.length?d[Ln]:d[Ln]=0,pi=$n+Ln;ge<=pi&&pi<Vt&&(d[Ln]=$n+1)}d[P.previousIndex]=ge-Vt}}j!==ct&&r(P,j,ct)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Gl(r))throw new S(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,P,s=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let j=0;j<this.length;j++)d=r[j],P=this._trackByFn(j,d),null!==s&&Object.is(s.trackById,P)?(c&&(s=this._verifyReinsertion(s,d,P,j)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,P,j),c=!0),s=s._next}else l=0,function C1(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)r(c.value)}}(r,j=>{P=this._trackByFn(l,j),null!==s&&Object.is(s.trackById,P)?(c&&(s=this._verifyReinsertion(s,j,P,l)),Object.is(s.item,j)||this._addIdentityChange(s,j)):(s=this._mismatch(s,j,P,l),c=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,c,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new NO(s,c),d,l),r}_verifyReinsertion(r,s,c,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,c),this._addToMoves(r,c),r}_moveAfter(r,s,c){return this._unlink(r),this._insertAfter(r,s,c),this._addToMoves(r,c),r}_addAfter(r,s,c){return this._insertAfter(r,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,c){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new W0),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,c=r._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new W0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class NO{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FO{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const s=r._prevDup,c=r._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class W0{constructor(){this.map=new Map}put(r){const s=r.trackById;let c=this.map.get(s);c||(c=new FO,this.map.set(s,c)),c.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(n,r,s){const c=n.previousIndex;if(null===c)return c;let l=0;return s&&c<s.length&&(l=s[c]),c+r+l}class G0{constructor(){}supports(r){return r instanceof Map||Wd(r)}create(){return new kO}}class kO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Wd(r)))throw new S(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,c);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const c=r._prev;return s._next=r,s._prev=c,r._prev=s,c&&(c._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,P=l._next;return d&&(d._next=P),P&&(P._prev=d),l._next=null,l._prev=null,l}const c=new UO(r);return this._records.set(r,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(c=>s(r[c],c))}}class UO{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function J0(){return new Jp([new V0])}let Jp=(()=>{class n{static{this.\u0275prov=Bt({token:n,providedIn:"root",factory:J0})}constructor(s){this.factories=s}static create(s,c){if(null!=c){const l=c.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||J0()),deps:[[n,new fl,new pl]]}}find(s){const c=this.factories.find(l=>l.supports(s));if(null!=c)return c;throw new S(901,!1)}}return n})();function Q0(){return new Qp([new G0])}let Qp=(()=>{class n{static{this.\u0275prov=Bt({token:n,providedIn:"root",factory:Q0})}constructor(s){this.factories=s}static create(s,c){if(c){const l=c.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:c=>n.create(s,c||Q0()),deps:[[n,new fl,new pl]]}}find(s){const c=this.factories.find(l=>l.supports(s));if(c)return c;throw new S(901,!1)}}return n})();function YO(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function XO(n,r=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?r:Number(n)}function tD(n,r){const s=gi(n),c=r.elementInjector||Rl();return new Lc(s).create(c,r.projectableNodes,r.hostElement,r.environmentInjector)}function eD(n){const r=gi(n);if(!r)return null;const s=new Lc(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1993:(Qt,$,o)=>{"use strict";o.d($,{Dx:()=>T,O4:()=>Ut,sL:()=>g});var e=o(5879),t=o(5592),a=o(7328),i=o(9773);function g(Q){Q||((0,e.gHi)(g),Q=(0,e.f3M)(e.ktI));const Ot=new t.y(Ft=>Q.onDestroy(Ft.next.bind(Ft)));return Ft=>Ft.pipe((0,i.R)(Ot))}function T(Q,Ot){!Ot?.injector&&(0,e.gHi)(T);const Ft=Ot?.injector??(0,e.f3M)(e.zs3),le=new a.t(1),ne=(0,e.cEC)(()=>{let Ge;try{Ge=Q()}catch(Se){return void(0,e.rg0)(()=>le.error(Se))}(0,e.rg0)(()=>le.next(Ge))},{injector:Ft,manualCleanup:!0});return Ft.get(e.ktI).onDestroy(()=>{ne.destroy(),le.complete()}),le.asObservable()}class h extends Error{constructor(Ot,Ft){super(function f(Q,Ot){return`NG0${Math.abs(Q)}${Ot?": "+Ot:""}`}(Ot,Ft)),this.code=Ot}}let M=null;function R(Q){const Ot=M;return M=Q,Ot}function Ut(Q,Ot){const Ft=!Ot?.manualCleanup;Ft&&!Ot?.injector&&(0,e.gHi)(Ut);const le=Ft?Ot?.injector?.get(e.ktI)??(0,e.f3M)(e.ktI):null;let ne;return ne=(0,e.tdS)(Ot?.requireSync?{kind:0}:{kind:1,value:Ot?.initialValue}),function z(Q){const Ot=R(null);try{return Q()}finally{R(Ot)}}(()=>{const Ge=Q.subscribe({next:Se=>ne.set({kind:1,value:Se}),error:Se=>ne.set({kind:2,error:Se})});le?.onDestroy(Ge.unsubscribe.bind(Ge))}),(0,e.Flj)(()=>{const Ge=ne();switch(Ge.kind){case 1:return Ge.value;case 2:throw Ge.error;case 0:throw new h(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},6223:(Qt,$,o)=>{"use strict";o.d($,{Cf:()=>M,F:()=>Ye,Fj:()=>y,JJ:()=>z,JL:()=>at,JU:()=>m,NI:()=>An,Oe:()=>_e,On:()=>bn,Q7:()=>ao,UX:()=>ni,Wl:()=>f,_:()=>Di,_Y:()=>ie,a5:()=>k,cw:()=>_n,em:()=>rt,gN:()=>B,kI:()=>A,nD:()=>ii,nm:()=>je,oH:()=>zi,qu:()=>pe,sg:()=>io,u:()=>Ti,u5:()=>Gn,wO:()=>Et,x0:()=>$o});var e=o(5879),t=o(6814),a=o(2664),i=o(9315),g=o(7398);let T=(()=>{class Lt{constructor(mt,ue){this._renderer=mt,this._elementRef=ue,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(mt,ue){this._renderer.setProperty(this._elementRef.nativeElement,mt,ue)}registerOnTouched(mt){this.onTouched=mt}registerOnChange(mt){this.onChange=mt}setDisabledState(mt){this.setProperty("disabled",mt)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(e.Qsj),e.Y36(e.SBq))}}static{this.\u0275dir=e.lG2({type:Lt})}}return Lt})(),_=(()=>{class Lt extends T{static{this.\u0275fac=function(){let mt;return function(He){return(mt||(mt=e.n5z(Lt)))(He||Lt)}}()}static{this.\u0275dir=e.lG2({type:Lt,features:[e.qOj]})}}return Lt})();const m=new e.OlP("NgValueAccessor"),h={provide:m,useExisting:(0,e.Gpc)(()=>f),multi:!0};let f=(()=>{class Lt extends _{writeValue(mt){this.setProperty("checked",mt)}static{this.\u0275fac=function(){let mt;return function(He){return(mt||(mt=e.n5z(Lt)))(He||Lt)}}()}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ue,He){1&ue&&e.NdJ("change",function(Hi){return He.onChange(Hi.target.checked)})("blur",function(){return He.onTouched()})},features:[e._Bn([h]),e.qOj]})}}return Lt})();const v={provide:m,useExisting:(0,e.Gpc)(()=>y),multi:!0},D=new e.OlP("CompositionEventMode");let y=(()=>{class Lt extends T{constructor(mt,ue,He){super(mt,ue),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C(){const Lt=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(Lt.toLowerCase())}())}writeValue(mt){this.setProperty("value",mt??"")}_handleInput(mt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(mt)}_compositionStart(){this._composing=!0}_compositionEnd(mt){this._composing=!1,this._compositionMode&&this.onChange(mt)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(D,8))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ue,He){1&ue&&e.NdJ("input",function(Hi){return He._handleInput(Hi.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(Hi){return He._compositionEnd(Hi.target.value)})},features:[e._Bn([v]),e.qOj]})}}return Lt})();function E(Lt){return null==Lt||("string"==typeof Lt||Array.isArray(Lt))&&0===Lt.length}function O(Lt){return null!=Lt&&"number"==typeof Lt.length}const M=new e.OlP("NgValidators"),U=new e.OlP("NgAsyncValidators"),R=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class A{static min($t){return function S(Lt){return $t=>{if(E($t.value)||E(Lt))return null;const mt=parseFloat($t.value);return!isNaN(mt)&&mt<Lt?{min:{min:Lt,actual:$t.value}}:null}}($t)}static max($t){return function w(Lt){return $t=>{if(E($t.value)||E(Lt))return null;const mt=parseFloat($t.value);return!isNaN(mt)&&mt>Lt?{max:{max:Lt,actual:$t.value}}:null}}($t)}static required($t){return p($t)}static requiredTrue($t){return function L(Lt){return!0===Lt.value?null:{required:!0}}($t)}static email($t){return function V(Lt){return E(Lt.value)||R.test(Lt.value)?null:{email:!0}}($t)}static minLength($t){return et($t)}static maxLength($t){return tt($t)}static pattern($t){return function ht(Lt){if(!Lt)return it;let $t,mt;return"string"==typeof Lt?(mt="","^"!==Lt.charAt(0)&&(mt+="^"),mt+=Lt,"$"!==Lt.charAt(Lt.length-1)&&(mt+="$"),$t=new RegExp(mt)):(mt=Lt.toString(),$t=Lt),ue=>{if(E(ue.value))return null;const He=ue.value;return $t.test(He)?null:{pattern:{requiredPattern:mt,actualValue:He}}}}($t)}static nullValidator($t){return null}static compose($t){return ut($t)}static composeAsync($t){return I($t)}}function p(Lt){return E(Lt.value)?{required:!0}:null}function et(Lt){return $t=>E($t.value)||!O($t.value)?null:$t.value.length<Lt?{minlength:{requiredLength:Lt,actualLength:$t.value.length}}:null}function tt(Lt){return $t=>O($t.value)&&$t.value.length>Lt?{maxlength:{requiredLength:Lt,actualLength:$t.value.length}}:null}function it(Lt){return null}function It(Lt){return null!=Lt}function st(Lt){return(0,e.QGY)(Lt)?(0,a.D)(Lt):Lt}function dt(Lt){let $t={};return Lt.forEach(mt=>{$t=null!=mt?{...$t,...mt}:$t}),0===Object.keys($t).length?null:$t}function St(Lt,$t){return $t.map(mt=>mt(Lt))}function u(Lt){return Lt.map($t=>function bt(Lt){return!Lt.validate}($t)?$t:mt=>$t.validate(mt))}function ut(Lt){if(!Lt)return null;const $t=Lt.filter(It);return 0==$t.length?null:function(mt){return dt(St(mt,$t))}}function Z(Lt){return null!=Lt?ut(u(Lt)):null}function I(Lt){if(!Lt)return null;const $t=Lt.filter(It);return 0==$t.length?null:function(mt){const ue=St(mt,$t).map(st);return(0,i.D)(ue).pipe((0,g.U)(dt))}}function F(Lt){return null!=Lt?I(u(Lt)):null}function ot(Lt,$t){return null===Lt?[$t]:Array.isArray(Lt)?[...Lt,$t]:[Lt,$t]}function nt(Lt){return Lt._rawValidators}function At(Lt){return Lt._rawAsyncValidators}function Dt(Lt){return Lt?Array.isArray(Lt)?Lt:[Lt]:[]}function Wt(Lt,$t){return Array.isArray(Lt)?Lt.includes($t):Lt===$t}function Nt(Lt,$t){const mt=Dt($t);return Dt(Lt).forEach(He=>{Wt(mt,He)||mt.push(He)}),mt}function Rt(Lt,$t){return Dt($t).filter(mt=>!Wt(Lt,mt))}class Bt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($t){this._rawValidators=$t||[],this._composedValidatorFn=Z(this._rawValidators)}_setAsyncValidators($t){this._rawAsyncValidators=$t||[],this._composedAsyncValidatorFn=F(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($t){this._onDestroyCallbacks.push($t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($t=>$t()),this._onDestroyCallbacks=[]}reset($t=void 0){this.control&&this.control.reset($t)}hasError($t,mt){return!!this.control&&this.control.hasError($t,mt)}getError($t,mt){return this.control?this.control.getError($t,mt):null}}class B extends Bt{get formDirective(){return null}get path(){return null}}class k extends Bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt{constructor($t){this._cd=$t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let z=(()=>{class Lt extends yt{constructor(mt){super(mt)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(k,2))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ue,He){2&ue&&e.ekj("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)},features:[e.qOj]})}}return Lt})(),at=(()=>{class Lt extends yt{constructor(mt){super(mt)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(B,10))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ue,He){2&ue&&e.ekj("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)("ng-submitted",He.isSubmitted)},features:[e.qOj]})}}return Lt})();const Bn="VALID",Ae="INVALID",Hn="PENDING",rn="DISABLED";function re(Lt){return(xn(Lt)?Lt.validators:Lt)||null}function oe(Lt,$t){return(xn($t)?$t.asyncValidators:Lt)||null}function xn(Lt){return null!=Lt&&!Array.isArray(Lt)&&"object"==typeof Lt}function ce(Lt,$t,mt){const ue=Lt.controls;if(!($t?Object.keys(ue):ue).length)throw new e.vHH(1e3,"");if(!ue[mt])throw new e.vHH(1001,"")}function me(Lt,$t,mt){Lt._forEachChild((ue,He)=>{if(void 0===mt[He])throw new e.vHH(1002,"")})}class En{constructor($t,mt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators($t),this._assignAsyncValidators(mt)}get validator(){return this._composedValidatorFn}set validator($t){this._rawValidators=this._composedValidatorFn=$t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($t){this._rawAsyncValidators=this._composedAsyncValidatorFn=$t}get parent(){return this._parent}get valid(){return this.status===Bn}get invalid(){return this.status===Ae}get pending(){return this.status==Hn}get disabled(){return this.status===rn}get enabled(){return this.status!==rn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($t){this._assignValidators($t)}setAsyncValidators($t){this._assignAsyncValidators($t)}addValidators($t){this.setValidators(Nt($t,this._rawValidators))}addAsyncValidators($t){this.setAsyncValidators(Nt($t,this._rawAsyncValidators))}removeValidators($t){this.setValidators(Rt($t,this._rawValidators))}removeAsyncValidators($t){this.setAsyncValidators(Rt($t,this._rawAsyncValidators))}hasValidator($t){return Wt(this._rawValidators,$t)}hasAsyncValidator($t){return Wt(this._rawAsyncValidators,$t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($t={}){this.touched=!0,this._parent&&!$t.onlySelf&&this._parent.markAsTouched($t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild($t=>$t.markAllAsTouched())}markAsUntouched($t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(mt=>{mt.markAsUntouched({onlySelf:!0})}),this._parent&&!$t.onlySelf&&this._parent._updateTouched($t)}markAsDirty($t={}){this.pristine=!1,this._parent&&!$t.onlySelf&&this._parent.markAsDirty($t)}markAsPristine($t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(mt=>{mt.markAsPristine({onlySelf:!0})}),this._parent&&!$t.onlySelf&&this._parent._updatePristine($t)}markAsPending($t={}){this.status=Hn,!1!==$t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!$t.onlySelf&&this._parent.markAsPending($t)}disable($t={}){const mt=this._parentMarkedDirty($t.onlySelf);this.status=rn,this.errors=null,this._forEachChild(ue=>{ue.disable({...$t,onlySelf:!0})}),this._updateValue(),!1!==$t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$t,skipPristineCheck:mt}),this._onDisabledChange.forEach(ue=>ue(!0))}enable($t={}){const mt=this._parentMarkedDirty($t.onlySelf);this.status=Bn,this._forEachChild(ue=>{ue.enable({...$t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$t.emitEvent}),this._updateAncestors({...$t,skipPristineCheck:mt}),this._onDisabledChange.forEach(ue=>ue(!1))}_updateAncestors($t){this._parent&&!$t.onlySelf&&(this._parent.updateValueAndValidity($t),$t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent($t){this._parent=$t}getRawValue(){return this.value}updateValueAndValidity($t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bn||this.status===Hn)&&this._runAsyncValidator($t.emitEvent)),!1!==$t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$t.onlySelf&&this._parent.updateValueAndValidity($t)}_updateTreeValidity($t={emitEvent:!0}){this._forEachChild(mt=>mt._updateTreeValidity($t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rn:Bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($t){if(this.asyncValidator){this.status=Hn,this._hasOwnPendingAsyncValidator=!0;const mt=st(this.asyncValidator(this));this._asyncValidationSubscription=mt.subscribe(ue=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ue,{emitEvent:$t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors($t,mt={}){this.errors=$t,this._updateControlsErrors(!1!==mt.emitEvent)}get($t){let mt=$t;return null==mt||(Array.isArray(mt)||(mt=mt.split(".")),0===mt.length)?null:mt.reduce((ue,He)=>ue&&ue._find(He),this)}getError($t,mt){const ue=mt?this.get(mt):this;return ue&&ue.errors?ue.errors[$t]:null}hasError($t,mt){return!!this.getError($t,mt)}get root(){let $t=this;for(;$t._parent;)$t=$t._parent;return $t}_updateControlsErrors($t){this.status=this._calculateStatus(),$t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors($t)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?rn:this.errors?Ae:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hn)?Hn:this._anyControlsHaveStatus(Ae)?Ae:Bn}_anyControlsHaveStatus($t){return this._anyControls(mt=>mt.status===$t)}_anyControlsDirty(){return this._anyControls($t=>$t.dirty)}_anyControlsTouched(){return this._anyControls($t=>$t.touched)}_updatePristine($t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!$t.onlySelf&&this._parent._updatePristine($t)}_updateTouched($t={}){this.touched=this._anyControlsTouched(),this._parent&&!$t.onlySelf&&this._parent._updateTouched($t)}_registerOnCollectionChange($t){this._onCollectionChange=$t}_setUpdateStrategy($t){xn($t)&&null!=$t.updateOn&&(this._updateOn=$t.updateOn)}_parentMarkedDirty($t){return!$t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($t){return null}_assignValidators($t){this._rawValidators=Array.isArray($t)?$t.slice():$t,this._composedValidatorFn=function wn(Lt){return Array.isArray(Lt)?Z(Lt):Lt||null}(this._rawValidators)}_assignAsyncValidators($t){this._rawAsyncValidators=Array.isArray($t)?$t.slice():$t,this._composedAsyncValidatorFn=function Ht(Lt){return Array.isArray(Lt)?F(Lt):Lt||null}(this._rawAsyncValidators)}}class _n extends En{constructor($t,mt,ue){super(re(mt),oe(ue,mt)),this.controls=$t,this._initObservables(),this._setUpdateStrategy(mt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($t,mt){return this.controls[$t]?this.controls[$t]:(this.controls[$t]=mt,mt.setParent(this),mt._registerOnCollectionChange(this._onCollectionChange),mt)}addControl($t,mt,ue={}){this.registerControl($t,mt),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}removeControl($t,mt={}){this.controls[$t]&&this.controls[$t]._registerOnCollectionChange(()=>{}),delete this.controls[$t],this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}setControl($t,mt,ue={}){this.controls[$t]&&this.controls[$t]._registerOnCollectionChange(()=>{}),delete this.controls[$t],mt&&this.registerControl($t,mt),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}contains($t){return this.controls.hasOwnProperty($t)&&this.controls[$t].enabled}setValue($t,mt={}){me(this,0,$t),Object.keys($t).forEach(ue=>{ce(this,!0,ue),this.controls[ue].setValue($t[ue],{onlySelf:!0,emitEvent:mt.emitEvent})}),this.updateValueAndValidity(mt)}patchValue($t,mt={}){null!=$t&&(Object.keys($t).forEach(ue=>{const He=this.controls[ue];He&&He.patchValue($t[ue],{onlySelf:!0,emitEvent:mt.emitEvent})}),this.updateValueAndValidity(mt))}reset($t={},mt={}){this._forEachChild((ue,He)=>{ue.reset($t?$t[He]:null,{onlySelf:!0,emitEvent:mt.emitEvent})}),this._updatePristine(mt),this._updateTouched(mt),this.updateValueAndValidity(mt)}getRawValue(){return this._reduceChildren({},($t,mt,ue)=>($t[ue]=mt.getRawValue(),$t))}_syncPendingControls(){let $t=this._reduceChildren(!1,(mt,ue)=>!!ue._syncPendingControls()||mt);return $t&&this.updateValueAndValidity({onlySelf:!0}),$t}_forEachChild($t){Object.keys(this.controls).forEach(mt=>{const ue=this.controls[mt];ue&&$t(ue,mt)})}_setUpControls(){this._forEachChild($t=>{$t.setParent(this),$t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($t){for(const[mt,ue]of Object.entries(this.controls))if(this.contains(mt)&&$t(ue))return!0;return!1}_reduceValue(){return this._reduceChildren({},(mt,ue,He)=>((ue.enabled||this.disabled)&&(mt[He]=ue.value),mt))}_reduceChildren($t,mt){let ue=$t;return this._forEachChild((He,ci)=>{ue=mt(ue,He,ci)}),ue}_allControlsDisabled(){for(const $t of Object.keys(this.controls))if(this.controls[$t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($t){return this.controls.hasOwnProperty($t)?this.controls[$t]:null}}class je extends _n{}const we=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ne}),Ne="always";function Ke(Lt,$t){return[...$t.path,Lt]}function qe(Lt,$t,mt=Ne){Pn(Lt,$t),$t.valueAccessor.writeValue(Lt.value),(Lt.disabled||"always"===mt)&&$t.valueAccessor.setDisabledState?.(Lt.disabled),function ln(Lt,$t){$t.valueAccessor.registerOnChange(mt=>{Lt._pendingValue=mt,Lt._pendingChange=!0,Lt._pendingDirty=!0,"change"===Lt.updateOn&&Jn(Lt,$t)})}(Lt,$t),function hi(Lt,$t){const mt=(ue,He)=>{$t.valueAccessor.writeValue(ue),He&&$t.viewToModelUpdate(ue)};Lt.registerOnChange(mt),$t._registerOnDestroy(()=>{Lt._unregisterOnChange(mt)})}(Lt,$t),function Zn(Lt,$t){$t.valueAccessor.registerOnTouched(()=>{Lt._pendingTouched=!0,"blur"===Lt.updateOn&&Lt._pendingChange&&Jn(Lt,$t),"submit"!==Lt.updateOn&&Lt.markAsTouched()})}(Lt,$t),function eo(Lt,$t){if($t.valueAccessor.setDisabledState){const mt=ue=>{$t.valueAccessor.setDisabledState(ue)};Lt.registerOnDisabledChange(mt),$t._registerOnDestroy(()=>{Lt._unregisterOnDisabledChange(mt)})}}(Lt,$t)}function kn(Lt,$t,mt=!0){const ue=()=>{};$t.valueAccessor&&($t.valueAccessor.registerOnChange(ue),$t.valueAccessor.registerOnTouched(ue)),tn(Lt,$t),Lt&&($t._invokeOnDestroyCallbacks(),Lt._registerOnCollectionChange(()=>{}))}function ui(Lt,$t){Lt.forEach(mt=>{mt.registerOnValidatorChange&&mt.registerOnValidatorChange($t)})}function Pn(Lt,$t){const mt=nt(Lt);null!==$t.validator?Lt.setValidators(ot(mt,$t.validator)):"function"==typeof mt&&Lt.setValidators([mt]);const ue=At(Lt);null!==$t.asyncValidator?Lt.setAsyncValidators(ot(ue,$t.asyncValidator)):"function"==typeof ue&&Lt.setAsyncValidators([ue]);const He=()=>Lt.updateValueAndValidity();ui($t._rawValidators,He),ui($t._rawAsyncValidators,He)}function tn(Lt,$t){let mt=!1;if(null!==Lt){if(null!==$t.validator){const He=nt(Lt);if(Array.isArray(He)&&He.length>0){const ci=He.filter(Hi=>Hi!==$t.validator);ci.length!==He.length&&(mt=!0,Lt.setValidators(ci))}}if(null!==$t.asyncValidator){const He=At(Lt);if(Array.isArray(He)&&He.length>0){const ci=He.filter(Hi=>Hi!==$t.asyncValidator);ci.length!==He.length&&(mt=!0,Lt.setAsyncValidators(ci))}}}const ue=()=>{};return ui($t._rawValidators,ue),ui($t._rawAsyncValidators,ue),mt}function Jn(Lt,$t){Lt._pendingDirty&&Lt.markAsDirty(),Lt.setValue(Lt._pendingValue,{emitModelToViewChange:!1}),$t.viewToModelUpdate(Lt._pendingValue),Lt._pendingChange=!1}function ei(Lt,$t){Pn(Lt,$t)}function Yi(Lt,$t){if(!Lt.hasOwnProperty("model"))return!1;const mt=Lt.model;return!!mt.isFirstChange()||!Object.is($t,mt.currentValue)}function Ui(Lt,$t){Lt._syncPendingControls(),$t.forEach(mt=>{const ue=mt.control;"submit"===ue.updateOn&&ue._pendingChange&&(mt.viewToModelUpdate(ue._pendingValue),ue._pendingChange=!1)})}function Ki(Lt,$t){if(!$t)return null;let mt,ue,He;return Array.isArray($t),$t.forEach(ci=>{ci.constructor===y?mt=ci:function uo(Lt){return Object.getPrototypeOf(Lt.constructor)===_}(ci)?ue=ci:He=ci}),He||ue||mt||null}const fi={provide:B,useExisting:(0,e.Gpc)(()=>Ye)},Xt=(()=>Promise.resolve())();let Ye=(()=>{class Lt extends B{constructor(mt,ue,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new _n({},Z(mt),F(ue))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(mt){Xt.then(()=>{const ue=this._findContainer(mt.path);mt.control=ue.registerControl(mt.name,mt.control),qe(mt.control,mt,this.callSetDisabledState),mt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(mt)})}getControl(mt){return this.form.get(mt.path)}removeControl(mt){Xt.then(()=>{const ue=this._findContainer(mt.path);ue&&ue.removeControl(mt.name),this._directives.delete(mt)})}addFormGroup(mt){Xt.then(()=>{const ue=this._findContainer(mt.path),He=new _n({});ei(He,mt),ue.registerControl(mt.name,He),He.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(mt){Xt.then(()=>{const ue=this._findContainer(mt.path);ue&&ue.removeControl(mt.name)})}getFormGroup(mt){return this.form.get(mt.path)}updateModel(mt,ue){Xt.then(()=>{this.form.get(mt.path).setValue(ue)})}setValue(mt){this.control.setValue(mt)}onSubmit(mt){return this.submitted=!0,Ui(this.form,this._directives),this.ngSubmit.emit(mt),"dialog"===mt?.target?.method}onReset(){this.resetForm()}resetForm(mt=void 0){this.form.reset(mt),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(mt){return mt.pop(),mt.length?this.form.get(mt):this.form}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(M,10),e.Y36(U,10),e.Y36(we,8))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ue,He){1&ue&&e.NdJ("submit",function(Hi){return He.onSubmit(Hi)})("reset",function(){return He.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([fi]),e.qOj]})}}return Lt})();function se(Lt,$t){const mt=Lt.indexOf($t);mt>-1&&Lt.splice(mt,1)}function Ve(Lt){return"object"==typeof Lt&&null!==Lt&&2===Object.keys(Lt).length&&"value"in Lt&&"disabled"in Lt}const An=class extends En{constructor($t=null,mt,ue){super(re(mt),oe(ue,mt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($t),this._setUpdateStrategy(mt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xn(mt)&&(mt.nonNullable||mt.initialValueIsDefault)&&(this.defaultValue=Ve($t)?$t.value:$t)}setValue($t,mt={}){this.value=this._pendingValue=$t,this._onChange.length&&!1!==mt.emitModelToViewChange&&this._onChange.forEach(ue=>ue(this.value,!1!==mt.emitViewToModelChange)),this.updateValueAndValidity(mt)}patchValue($t,mt={}){this.setValue($t,mt)}reset($t=this.defaultValue,mt={}){this._applyFormState($t),this.markAsPristine(mt),this.markAsUntouched(mt),this.setValue(this.value,mt),this._pendingChange=!1}_updateValue(){}_anyControls($t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($t){this._onChange.push($t)}_unregisterOnChange($t){se(this._onChange,$t)}registerOnDisabledChange($t){this._onDisabledChange.push($t)}_unregisterOnDisabledChange($t){se(this._onDisabledChange,$t)}_forEachChild($t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($t){Ve($t)?(this.value=this._pendingValue=$t.value,$t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$t}};let Ji=(()=>{class Lt extends B{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let mt;return function(He){return(mt||(mt=e.n5z(Lt)))(He||Lt)}}()}static{this.\u0275dir=e.lG2({type:Lt,features:[e.qOj]})}}return Lt})();const Mn={provide:k,useExisting:(0,e.Gpc)(()=>bn)},Tn=(()=>Promise.resolve())();let bn=(()=>{class Lt extends k{constructor(mt,ue,He,ci,Hi,So){super(),this._changeDetectorRef=Hi,this.callSetDisabledState=So,this.control=new An,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=mt,this._setValidators(ue),this._setAsyncValidators(He),this.valueAccessor=Ki(0,ci)}ngOnChanges(mt){if(this._checkForErrors(),!this._registered||"name"in mt){if(this._registered&&(this._checkName(),this.formDirective)){const ue=mt.name.previousValue;this.formDirective.removeControl({name:ue,path:this._getPath(ue)})}this._setUpControl()}"isDisabled"in mt&&this._updateDisabled(mt),Yi(mt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(mt){this.viewModel=mt,this.update.emit(mt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(mt){Tn.then(()=>{this.control.setValue(mt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(mt){const ue=mt.isDisabled.currentValue,He=0!==ue&&(0,e.VuI)(ue);Tn.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(mt){return this._parent?Ke(mt,this._parent):[mt]}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(B,9),e.Y36(M,10),e.Y36(U,10),e.Y36(m,10),e.Y36(e.sBO,8),e.Y36(we,8))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Mn]),e.qOj,e.TTD]})}}return Lt})(),ie=(()=>{class Lt{static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Lt})();const un={provide:m,useExisting:(0,e.Gpc)(()=>Di),multi:!0};let Fn=(()=>{class Lt{static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275mod=e.oAB({type:Lt})}static{this.\u0275inj=e.cJS({})}}return Lt})(),si=(()=>{class Lt{constructor(){this._accessors=[]}add(mt,ue){this._accessors.push([mt,ue])}remove(mt){for(let ue=this._accessors.length-1;ue>=0;--ue)if(this._accessors[ue][1]===mt)return void this._accessors.splice(ue,1)}select(mt){this._accessors.forEach(ue=>{this._isSameGroup(ue,mt)&&ue[1]!==mt&&ue[1].fireUncheck(mt.value)})}_isSameGroup(mt,ue){return!!mt[0].control&&mt[0]._parent===ue._control._parent&&mt[1].name===ue.name}static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275prov=e.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:Fn})}}return Lt})(),Di=(()=>{class Lt extends _{constructor(mt,ue,He,ci){super(mt,ue),this._registry=He,this._injector=ci,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,e.f3M)(we,{optional:!0})??Ne}ngOnInit(){this._control=this._injector.get(k),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(mt){this._state=mt===this.value,this.setProperty("checked",this._state)}registerOnChange(mt){this._fn=mt,this.onChange=()=>{mt(this.value),this._registry.select(this)}}setDisabledState(mt){(this.setDisabledStateFired||mt||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",mt),this.setDisabledStateFired=!0}fireUncheck(mt){this.writeValue(mt)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(si),e.Y36(e.zs3))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(ue,He){1&ue&&e.NdJ("change",function(){return He.onChange()})("blur",function(){return He.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[e._Bn([un]),e.qOj]})}}return Lt})();const gi=new e.OlP("NgModelWithFormControlWarning"),Ni={provide:k,useExisting:(0,e.Gpc)(()=>zi)};let zi=(()=>{class Lt extends k{set isDisabled(mt){}static{this._ngModelWarningSentOnce=!1}constructor(mt,ue,He,ci,Hi){super(),this._ngModelWarningConfig=ci,this.callSetDisabledState=Hi,this.update=new e.vpe,this._ngModelWarningSent=!1,this._setValidators(mt),this._setAsyncValidators(ue),this.valueAccessor=Ki(0,He)}ngOnChanges(mt){if(this._isControlChanged(mt)){const ue=mt.form.previousValue;ue&&kn(ue,this,!1),qe(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Yi(mt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(mt){this.viewModel=mt,this.update.emit(mt)}_isControlChanged(mt){return mt.hasOwnProperty("form")}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(M,10),e.Y36(U,10),e.Y36(m,10),e.Y36(gi,8),e.Y36(we,8))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[e._Bn([Ni]),e.qOj,e.TTD]})}}return Lt})();const Mo={provide:B,useExisting:(0,e.Gpc)(()=>io)};let io=(()=>{class Lt extends B{constructor(mt,ue,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(mt),this._setAsyncValidators(ue)}ngOnChanges(mt){this._checkFormPresent(),mt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(mt){const ue=this.form.get(mt.path);return qe(ue,mt,this.callSetDisabledState),ue.updateValueAndValidity({emitEvent:!1}),this.directives.push(mt),ue}getControl(mt){return this.form.get(mt.path)}removeControl(mt){kn(mt.control||null,mt,!1),function Gi(Lt,$t){const mt=Lt.indexOf($t);mt>-1&&Lt.splice(mt,1)}(this.directives,mt)}addFormGroup(mt){this._setUpFormContainer(mt)}removeFormGroup(mt){this._cleanUpFormContainer(mt)}getFormGroup(mt){return this.form.get(mt.path)}addFormArray(mt){this._setUpFormContainer(mt)}removeFormArray(mt){this._cleanUpFormContainer(mt)}getFormArray(mt){return this.form.get(mt.path)}updateModel(mt,ue){this.form.get(mt.path).setValue(ue)}onSubmit(mt){return this.submitted=!0,Ui(this.form,this.directives),this.ngSubmit.emit(mt),"dialog"===mt?.target?.method}onReset(){this.resetForm()}resetForm(mt=void 0){this.form.reset(mt),this.submitted=!1}_updateDomValue(){this.directives.forEach(mt=>{const ue=mt.control,He=this.form.get(mt.path);ue!==He&&(kn(ue||null,mt),(Lt=>Lt instanceof An)(He)&&(qe(He,mt,this.callSetDisabledState),mt.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(mt){const ue=this.form.get(mt.path);ei(ue,mt),ue.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(mt){if(this.form){const ue=this.form.get(mt.path);ue&&function wi(Lt,$t){return tn(Lt,$t)}(ue,mt)&&ue.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pn(this.form,this),this._oldForm&&tn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(M,10),e.Y36(U,10),e.Y36(we,8))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formGroup",""]],hostBindings:function(ue,He){1&ue&&e.NdJ("submit",function(Hi){return He.onSubmit(Hi)})("reset",function(){return He.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Mo]),e.qOj,e.TTD]})}}return Lt})();const qo={provide:B,useExisting:(0,e.Gpc)(()=>$o)};let $o=(()=>{class Lt extends Ji{constructor(mt,ue,He){super(),this.name=null,this._parent=mt,this._setValidators(ue),this._setAsyncValidators(He)}_checkParentType(){er(this._parent)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(B,13),e.Y36(M,10),e.Y36(U,10))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([qo]),e.qOj]})}}return Lt})();const tr={provide:B,useExisting:(0,e.Gpc)(()=>mr)};let mr=(()=>{class Lt extends B{constructor(mt,ue,He){super(),this.name=null,this._parent=mt,this._setValidators(ue),this._setAsyncValidators(He)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){er(this._parent)}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(B,13),e.Y36(M,10),e.Y36(U,10))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([tr]),e.qOj]})}}return Lt})();function er(Lt){return!(Lt instanceof $o||Lt instanceof io||Lt instanceof mr)}const po={provide:k,useExisting:(0,e.Gpc)(()=>Ti)};let Ti=(()=>{class Lt extends k{set isDisabled(mt){}static{this._ngModelWarningSentOnce=!1}constructor(mt,ue,He,ci,Hi){super(),this._ngModelWarningConfig=Hi,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=mt,this._setValidators(ue),this._setAsyncValidators(He),this.valueAccessor=Ki(0,ci)}ngOnChanges(mt){this._added||this._setUpControl(),Yi(mt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(mt){this.viewModel=mt,this.update.emit(mt)}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(ue){return new(ue||Lt)(e.Y36(B,13),e.Y36(M,10),e.Y36(U,10),e.Y36(m,10),e.Y36(gi,8))}}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([po]),e.qOj,e.TTD]})}}return Lt})();function gn(Lt){return"number"==typeof Lt?Lt:parseInt(Lt,10)}let te=(()=>{class Lt{constructor(){this._validator=it}ngOnChanges(mt){if(this.inputName in mt){const ue=this.normalizeInput(mt[this.inputName].currentValue);this._enabled=this.enabled(ue),this._validator=this._enabled?this.createValidator(ue):it,this._onChange&&this._onChange()}}validate(mt){return this._validator(mt)}registerOnValidatorChange(mt){this._onChange=mt}enabled(mt){return null!=mt}static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275dir=e.lG2({type:Lt,features:[e.TTD]})}}return Lt})();const No={provide:M,useExisting:(0,e.Gpc)(()=>ao),multi:!0};let ao=(()=>{class Lt extends te{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.VuI,this.createValidator=mt=>p}enabled(mt){return mt}static{this.\u0275fac=function(){let mt;return function(He){return(mt||(mt=e.n5z(Lt)))(He||Lt)}}()}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ue,He){2&ue&&e.uIk("required",He._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([No]),e.qOj]})}}return Lt})();const Zt={provide:M,useExisting:(0,e.Gpc)(()=>Et),multi:!0};let Et=(()=>{class Lt extends te{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=mt=>gn(mt),this.createValidator=mt=>et(mt)}static{this.\u0275fac=function(){let mt;return function(He){return(mt||(mt=e.n5z(Lt)))(He||Lt)}}()}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(ue,He){2&ue&&e.uIk("minlength",He._enabled?He.minlength:null)},inputs:{minlength:"minlength"},features:[e._Bn([Zt]),e.qOj]})}}return Lt})();const on={provide:M,useExisting:(0,e.Gpc)(()=>ii),multi:!0};let ii=(()=>{class Lt extends te{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=mt=>gn(mt),this.createValidator=mt=>tt(mt)}static{this.\u0275fac=function(){let mt;return function(He){return(mt||(mt=e.n5z(Lt)))(He||Lt)}}()}static{this.\u0275dir=e.lG2({type:Lt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(ue,He){2&ue&&e.uIk("maxlength",He._enabled?He.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([on]),e.qOj]})}}return Lt})(),Io=(()=>{class Lt{static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275mod=e.oAB({type:Lt})}static{this.\u0275inj=e.cJS({imports:[Fn]})}}return Lt})();class _e extends En{constructor($t,mt,ue){super(re(mt),oe(ue,mt)),this.controls=$t,this._initObservables(),this._setUpdateStrategy(mt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at($t){return this.controls[this._adjustIndex($t)]}push($t,mt={}){this.controls.push($t),this._registerControl($t),this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}insert($t,mt,ue={}){this.controls.splice($t,0,mt),this._registerControl(mt),this.updateValueAndValidity({emitEvent:ue.emitEvent})}removeAt($t,mt={}){let ue=this._adjustIndex($t);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),this.updateValueAndValidity({emitEvent:mt.emitEvent})}setControl($t,mt,ue={}){let He=this._adjustIndex($t);He<0&&(He=0),this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),this.controls.splice(He,1),mt&&(this.controls.splice(He,0,mt),this._registerControl(mt)),this.updateValueAndValidity({emitEvent:ue.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue($t,mt={}){me(this,0,$t),$t.forEach((ue,He)=>{ce(this,!1,He),this.at(He).setValue(ue,{onlySelf:!0,emitEvent:mt.emitEvent})}),this.updateValueAndValidity(mt)}patchValue($t,mt={}){null!=$t&&($t.forEach((ue,He)=>{this.at(He)&&this.at(He).patchValue(ue,{onlySelf:!0,emitEvent:mt.emitEvent})}),this.updateValueAndValidity(mt))}reset($t=[],mt={}){this._forEachChild((ue,He)=>{ue.reset($t[He],{onlySelf:!0,emitEvent:mt.emitEvent})}),this._updatePristine(mt),this._updateTouched(mt),this.updateValueAndValidity(mt)}getRawValue(){return this.controls.map($t=>$t.getRawValue())}clear($t={}){this.controls.length<1||(this._forEachChild(mt=>mt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:$t.emitEvent}))}_adjustIndex($t){return $t<0?$t+this.length:$t}_syncPendingControls(){let $t=this.controls.reduce((mt,ue)=>!!ue._syncPendingControls()||mt,!1);return $t&&this.updateValueAndValidity({onlySelf:!0}),$t}_forEachChild($t){this.controls.forEach((mt,ue)=>{$t(mt,ue)})}_updateValue(){this.value=this.controls.filter($t=>$t.enabled||this.disabled).map($t=>$t.value)}_anyControls($t){return this.controls.some(mt=>mt.enabled&&$t(mt))}_setUpControls(){this._forEachChild($t=>this._registerControl($t))}_allControlsDisabled(){for(const $t of this.controls)if($t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl($t){$t.setParent(this),$t._registerOnCollectionChange(this._onCollectionChange)}_find($t){return this.at($t)??null}}const rt=Lt=>Lt instanceof _e;function zt(Lt){return!!Lt&&(void 0!==Lt.asyncValidators||void 0!==Lt.validators||void 0!==Lt.updateOn)}let pe=(()=>{class Lt{constructor(){this.useNonNullable=!1}get nonNullable(){const mt=new Lt;return mt.useNonNullable=!0,mt}group(mt,ue=null){const He=this._reduceControls(mt);let ci={};return zt(ue)?ci=ue:null!==ue&&(ci.validators=ue.validator,ci.asyncValidators=ue.asyncValidator),new _n(He,ci)}record(mt,ue=null){const He=this._reduceControls(mt);return new je(He,ue)}control(mt,ue,He){let ci={};return this.useNonNullable?(zt(ue)?ci=ue:(ci.validators=ue,ci.asyncValidators=He),new An(mt,{...ci,nonNullable:!0})):new An(mt,ue,He)}array(mt,ue,He){const ci=mt.map(Hi=>this._createControl(Hi));return new _e(ci,ue,He)}_reduceControls(mt){const ue={};return Object.keys(mt).forEach(He=>{ue[He]=this._createControl(mt[He])}),ue}_createControl(mt){return mt instanceof An||mt instanceof En?mt:Array.isArray(mt)?this.control(mt[0],mt.length>1?mt[1]:null,mt.length>2?mt[2]:null):this.control(mt)}static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275prov=e.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"})}}return Lt})(),Gn=(()=>{class Lt{static withConfig(mt){return{ngModule:Lt,providers:[{provide:we,useValue:mt.callSetDisabledState??Ne}]}}static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275mod=e.oAB({type:Lt})}static{this.\u0275inj=e.cJS({imports:[Io]})}}return Lt})(),ni=(()=>{class Lt{static withConfig(mt){return{ngModule:Lt,providers:[{provide:gi,useValue:mt.warnOnNgModelWithFormControl??"always"},{provide:we,useValue:mt.callSetDisabledState??Ne}]}}static{this.\u0275fac=function(ue){return new(ue||Lt)}}static{this.\u0275mod=e.oAB({type:Lt})}static{this.\u0275inj=e.cJS({imports:[Io]})}}return Lt})()},6593:(Qt,$,o)=>{"use strict";o.d($,{Cg:()=>F,Dx:()=>Gt,H7:()=>Ae,h_:()=>z,s3:()=>v,se:()=>et});var e=o(5879),t=o(6814);class a extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class i extends a{static makeCurrent(){(0,t.HT)(new i)}onAndCancel(Qe,xe,je){return Qe.addEventListener(xe,je),()=>{Qe.removeEventListener(xe,je)}}dispatchEvent(Qe,xe){Qe.dispatchEvent(xe)}remove(Qe){Qe.parentNode&&Qe.parentNode.removeChild(Qe)}createElement(Qe,xe){return(xe=xe||this.getDefaultDocument()).createElement(Qe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Qe){return Qe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Qe){return Qe instanceof DocumentFragment}getGlobalEventTarget(Qe,xe){return"window"===xe?window:"document"===xe?Qe:"body"===xe?Qe.body:null}getBaseHref(Qe){const xe=function T(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==xe?null:function m(_n){_=_||document.createElement("a"),_.setAttribute("href",_n);const Qe=_.pathname;return"/"===Qe.charAt(0)?Qe:`/${Qe}`}(xe)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(Qe){return(0,t.Mx)(document.cookie,Qe)}}let _,g=null,f=(()=>{class _n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(je){return new(je||_n)}}static{this.\u0275prov=e.Yz7({token:_n,factory:_n.\u0275fac})}}return _n})();const v=new e.OlP("EventManagerPlugins");let C=(()=>{class _n{constructor(xe,je){this._zone=je,this._eventNameToPlugin=new Map,xe.forEach(ke=>{ke.manager=this}),this._plugins=xe.slice().reverse()}addEventListener(xe,je,ke){return this._findPluginFor(je).addEventListener(xe,je,ke)}getZone(){return this._zone}_findPluginFor(xe){let je=this._eventNameToPlugin.get(xe);if(je)return je;if(je=this._plugins.find(we=>we.supports(xe)),!je)throw new e.vHH(5101,!1);return this._eventNameToPlugin.set(xe,je),je}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(v),e.LFG(e.R0b))}}static{this.\u0275prov=e.Yz7({token:_n,factory:_n.\u0275fac})}}return _n})();class D{constructor(Qe){this._doc=Qe}}const y="ng-app-id";let E=(()=>{class _n{constructor(xe,je,ke,we={}){this.doc=xe,this.appId=je,this.nonce=ke,this.platformId=we,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(we),this.resetHostNodes()}addStyles(xe){for(const je of xe)1===this.changeUsageCount(je,1)&&this.onStyleAdded(je)}removeStyles(xe){for(const je of xe)this.changeUsageCount(je,-1)<=0&&this.onStyleRemoved(je)}ngOnDestroy(){const xe=this.styleNodesInDOM;xe&&(xe.forEach(je=>je.remove()),xe.clear());for(const je of this.getAllStyles())this.onStyleRemoved(je);this.resetHostNodes()}addHost(xe){this.hostNodes.add(xe);for(const je of this.getAllStyles())this.addStyleToHost(xe,je)}removeHost(xe){this.hostNodes.delete(xe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(xe){for(const je of this.hostNodes)this.addStyleToHost(je,xe)}onStyleRemoved(xe){const je=this.styleRef;je.get(xe)?.elements?.forEach(ke=>ke.remove()),je.delete(xe)}collectServerRenderedStyles(){const xe=this.doc.head?.querySelectorAll(`style[${y}="${this.appId}"]`);if(xe?.length){const je=new Map;return xe.forEach(ke=>{null!=ke.textContent&&je.set(ke.textContent,ke)}),je}return null}changeUsageCount(xe,je){const ke=this.styleRef;if(ke.has(xe)){const we=ke.get(xe);return we.usage+=je,we.usage}return ke.set(xe,{usage:je,elements:[]}),je}getStyleElement(xe,je){const ke=this.styleNodesInDOM,we=ke?.get(je);if(we?.parentNode===xe)return ke.delete(je),we.removeAttribute(y),we;{const Ne=this.doc.createElement("style");return this.nonce&&Ne.setAttribute("nonce",this.nonce),Ne.textContent=je,this.platformIsServer&&Ne.setAttribute(y,this.appId),Ne}}addStyleToHost(xe,je){const ke=this.getStyleElement(xe,je);xe.appendChild(ke);const we=this.styleRef,Ne=we.get(je)?.elements;Ne?Ne.push(ke):we.set(je,{elements:[ke],usage:1})}resetHostNodes(){const xe=this.hostNodes;xe.clear(),xe.add(this.doc.head)}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(t.K0),e.LFG(e.AFp),e.LFG(e.Ojb,8),e.LFG(e.Lbi))}}static{this.\u0275prov=e.Yz7({token:_n,factory:_n.\u0275fac})}}return _n})();const O={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M=/%COMP%/g,U="%COMP%",R=`_nghost-${U}`,A=`_ngcontent-${U}`,w=new e.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function V(_n,Qe){return Qe.map(xe=>xe.replace(M,_n))}let et=(()=>{class _n{constructor(xe,je,ke,we,Ne,Ke,qe,kn=null){this.eventManager=xe,this.sharedStylesHost=je,this.appId=ke,this.removeStylesOnCompDestroy=we,this.doc=Ne,this.platformId=Ke,this.ngZone=qe,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Ke),this.defaultRenderer=new tt(xe,Ne,qe,this.platformIsServer)}createRenderer(xe,je){if(!xe||!je)return this.defaultRenderer;this.platformIsServer&&je.encapsulation===e.ifc.ShadowDom&&(je={...je,encapsulation:e.ifc.Emulated});const ke=this.getOrCreateRenderer(xe,je);return ke instanceof St?ke.applyToHost(xe):ke instanceof dt&&ke.applyStyles(),ke}getOrCreateRenderer(xe,je){const ke=this.rendererByCompId;let we=ke.get(je.id);if(!we){const Ne=this.doc,Ke=this.ngZone,qe=this.eventManager,kn=this.sharedStylesHost,ui=this.removeStylesOnCompDestroy,eo=this.platformIsServer;switch(je.encapsulation){case e.ifc.Emulated:we=new St(qe,kn,je,this.appId,ui,Ne,Ke,eo);break;case e.ifc.ShadowDom:return new st(qe,kn,xe,je,Ne,Ke,this.nonce,eo);default:we=new dt(qe,kn,je,ui,Ne,Ke,eo)}ke.set(je.id,we)}return we}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(C),e.LFG(E),e.LFG(e.AFp),e.LFG(w),e.LFG(t.K0),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(e.Ojb))}}static{this.\u0275prov=e.Yz7({token:_n,factory:_n.\u0275fac})}}return _n})();class tt{constructor(Qe,xe,je,ke){this.eventManager=Qe,this.doc=xe,this.ngZone=je,this.platformIsServer=ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Qe,xe){return xe?this.doc.createElementNS(O[xe]||xe,Qe):this.doc.createElement(Qe)}createComment(Qe){return this.doc.createComment(Qe)}createText(Qe){return this.doc.createTextNode(Qe)}appendChild(Qe,xe){(It(Qe)?Qe.content:Qe).appendChild(xe)}insertBefore(Qe,xe,je){Qe&&(It(Qe)?Qe.content:Qe).insertBefore(xe,je)}removeChild(Qe,xe){Qe&&Qe.removeChild(xe)}selectRootElement(Qe,xe){let je="string"==typeof Qe?this.doc.querySelector(Qe):Qe;if(!je)throw new e.vHH(-5104,!1);return xe||(je.textContent=""),je}parentNode(Qe){return Qe.parentNode}nextSibling(Qe){return Qe.nextSibling}setAttribute(Qe,xe,je,ke){if(ke){xe=ke+":"+xe;const we=O[ke];we?Qe.setAttributeNS(we,xe,je):Qe.setAttribute(xe,je)}else Qe.setAttribute(xe,je)}removeAttribute(Qe,xe,je){if(je){const ke=O[je];ke?Qe.removeAttributeNS(ke,xe):Qe.removeAttribute(`${je}:${xe}`)}else Qe.removeAttribute(xe)}addClass(Qe,xe){Qe.classList.add(xe)}removeClass(Qe,xe){Qe.classList.remove(xe)}setStyle(Qe,xe,je,ke){ke&(e.JOm.DashCase|e.JOm.Important)?Qe.style.setProperty(xe,je,ke&e.JOm.Important?"important":""):Qe.style[xe]=je}removeStyle(Qe,xe,je){je&e.JOm.DashCase?Qe.style.removeProperty(xe):Qe.style[xe]=""}setProperty(Qe,xe,je){Qe[xe]=je}setValue(Qe,xe){Qe.nodeValue=xe}listen(Qe,xe,je){if("string"==typeof Qe&&!(Qe=(0,t.q)().getGlobalEventTarget(this.doc,Qe)))throw new Error(`Unsupported event target ${Qe} for event ${xe}`);return this.eventManager.addEventListener(Qe,xe,this.decoratePreventDefault(je))}decoratePreventDefault(Qe){return xe=>{if("__ngUnwrap__"===xe)return Qe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Qe(xe)):Qe(xe))&&xe.preventDefault()}}}function It(_n){return"TEMPLATE"===_n.tagName&&void 0!==_n.content}class st extends tt{constructor(Qe,xe,je,ke,we,Ne,Ke,qe){super(Qe,we,Ne,qe),this.sharedStylesHost=xe,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kn=V(ke.id,ke.styles);for(const ui of kn){const eo=document.createElement("style");Ke&&eo.setAttribute("nonce",Ke),eo.textContent=ui,this.shadowRoot.appendChild(eo)}}nodeOrShadowRoot(Qe){return Qe===this.hostEl?this.shadowRoot:Qe}appendChild(Qe,xe){return super.appendChild(this.nodeOrShadowRoot(Qe),xe)}insertBefore(Qe,xe,je){return super.insertBefore(this.nodeOrShadowRoot(Qe),xe,je)}removeChild(Qe,xe){return super.removeChild(this.nodeOrShadowRoot(Qe),xe)}parentNode(Qe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Qe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dt extends tt{constructor(Qe,xe,je,ke,we,Ne,Ke,qe){super(Qe,we,Ne,Ke),this.sharedStylesHost=xe,this.removeStylesOnCompDestroy=ke,this.styles=qe?V(qe,je.styles):je.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class St extends dt{constructor(Qe,xe,je,ke,we,Ne,Ke,qe){const kn=ke+"-"+je.id;super(Qe,xe,je,we,Ne,Ke,qe,kn),this.contentAttr=function p(_n){return A.replace(M,_n)}(kn),this.hostAttr=function L(_n){return R.replace(M,_n)}(kn)}applyToHost(Qe){this.applyStyles(),this.setAttribute(Qe,this.hostAttr,"")}createElement(Qe,xe){const je=super.createElement(Qe,xe);return super.setAttribute(je,this.contentAttr,""),je}}let bt=(()=>{class _n extends D{constructor(xe){super(xe)}supports(xe){return!0}addEventListener(xe,je,ke){return xe.addEventListener(je,ke,!1),()=>this.removeEventListener(xe,je,ke)}removeEventListener(xe,je,ke){return xe.removeEventListener(je,ke)}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(t.K0))}}static{this.\u0275prov=e.Yz7({token:_n,factory:_n.\u0275fac})}}return _n})();const u=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z={alt:_n=>_n.altKey,control:_n=>_n.ctrlKey,meta:_n=>_n.metaKey,shift:_n=>_n.shiftKey};let I=(()=>{class _n extends D{constructor(xe){super(xe)}supports(xe){return null!=_n.parseEventName(xe)}addEventListener(xe,je,ke){const we=_n.parseEventName(je),Ne=_n.eventCallback(we.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(xe,we.domEventName,Ne))}static parseEventName(xe){const je=xe.toLowerCase().split("."),ke=je.shift();if(0===je.length||"keydown"!==ke&&"keyup"!==ke)return null;const we=_n._normalizeKey(je.pop());let Ne="",Ke=je.indexOf("code");if(Ke>-1&&(je.splice(Ke,1),Ne="code."),u.forEach(kn=>{const ui=je.indexOf(kn);ui>-1&&(je.splice(ui,1),Ne+=kn+".")}),Ne+=we,0!=je.length||0===we.length)return null;const qe={};return qe.domEventName=ke,qe.fullKey=Ne,qe}static matchEventFullKeyCode(xe,je){let ke=ut[xe.key]||xe.key,we="";return je.indexOf("code.")>-1&&(ke=xe.code,we="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),u.forEach(Ne=>{Ne!==ke&&(0,Z[Ne])(xe)&&(we+=Ne+".")}),we+=ke,we===je)}static eventCallback(xe,je,ke){return we=>{_n.matchEventFullKeyCode(we,xe)&&ke.runGuarded(()=>je(we))}}static _normalizeKey(xe){return"esc"===xe?"escape":xe}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(t.K0))}}static{this.\u0275prov=e.Yz7({token:_n,factory:_n.\u0275fac})}}return _n})();function F(_n,Qe){return(0,e.iPO)({rootComponent:_n,...nt(Qe)})}function nt(_n){return{appProviders:[...yt,..._n?.providers??[]],platformProviders:Rt}}const Rt=[{provide:e.Lbi,useValue:t.bD},{provide:e.g9A,useValue:function Dt(){i.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function Nt(){return(0,e.RDi)(document),document},deps:[]}],yt=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Wt(){return new e.qLn},deps:[]},{provide:v,useClass:bt,multi:!0,deps:[t.K0,e.R0b,e.Lbi]},{provide:v,useClass:I,multi:!0,deps:[t.K0]},et,E,C,{provide:e.FYo,useExisting:et},{provide:t.JF,useClass:f,deps:[]},[]];let z=(()=>{class _n{constructor(xe){this._doc=xe,this._dom=(0,t.q)()}addTag(xe,je=!1){return xe?this._getOrCreateElement(xe,je):null}addTags(xe,je=!1){return xe?xe.reduce((ke,we)=>(we&&ke.push(this._getOrCreateElement(we,je)),ke),[]):[]}getTag(xe){return xe&&this._doc.querySelector(`meta[${xe}]`)||null}getTags(xe){if(!xe)return[];const je=this._doc.querySelectorAll(`meta[${xe}]`);return je?[].slice.call(je):[]}updateTag(xe,je){if(!xe)return null;je=je||this._parseSelector(xe);const ke=this.getTag(je);return ke?this._setMetaElementAttributes(xe,ke):this._getOrCreateElement(xe,!0)}removeTag(xe){this.removeTagElement(this.getTag(xe))}removeTagElement(xe){xe&&this._dom.remove(xe)}_getOrCreateElement(xe,je=!1){if(!je){const Ne=this._parseSelector(xe),Ke=this.getTags(Ne).filter(qe=>this._containsAttributes(xe,qe))[0];if(void 0!==Ke)return Ke}const ke=this._dom.createElement("meta");return this._setMetaElementAttributes(xe,ke),this._doc.getElementsByTagName("head")[0].appendChild(ke),ke}_setMetaElementAttributes(xe,je){return Object.keys(xe).forEach(ke=>je.setAttribute(this._getMetaKeyMap(ke),xe[ke])),je}_parseSelector(xe){const je=xe.name?"name":"property";return`${je}="${xe[je]}"`}_containsAttributes(xe,je){return Object.keys(xe).every(ke=>je.getAttribute(this._getMetaKeyMap(ke))===xe[ke])}_getMetaKeyMap(xe){return at[xe]||xe}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(t.K0))}}static{this.\u0275prov=e.Yz7({token:_n,factory:function(je){let ke=null;return ke=je?new je:function xt(){return new z((0,e.LFG)(t.K0))}(),ke},providedIn:"root"})}}return _n})();const at={httpEquiv:"http-equiv"};let Gt=(()=>{class _n{constructor(xe){this._doc=xe}getTitle(){return this._doc.title}setTitle(xe){this._doc.title=xe||""}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(t.K0))}}static{this.\u0275prov=e.Yz7({token:_n,factory:function(je){let ke=null;return ke=je?new je:function Pt(){return new Gt((0,e.LFG)(t.K0))}(),ke},providedIn:"root"})}}return _n})();typeof window<"u"&&window;let Ae=(()=>{class _n{static{this.\u0275fac=function(je){return new(je||_n)}}static{this.\u0275prov=e.Yz7({token:_n,factory:function(je){let ke=null;return ke=je?new(je||_n):e.LFG(rn),ke},providedIn:"root"})}}return _n})(),rn=(()=>{class _n extends Ae{constructor(xe){super(),this._doc=xe}sanitize(xe,je){if(null==je)return null;switch(xe){case e.q3G.NONE:return je;case e.q3G.HTML:return(0,e.qzn)(je,"HTML")?(0,e.z3N)(je):(0,e.EiD)(this._doc,String(je)).toString();case e.q3G.STYLE:return(0,e.qzn)(je,"Style")?(0,e.z3N)(je):je;case e.q3G.SCRIPT:if((0,e.qzn)(je,"Script"))return(0,e.z3N)(je);throw new e.vHH(5200,!1);case e.q3G.URL:return(0,e.qzn)(je,"URL")?(0,e.z3N)(je):(0,e.mCW)(String(je));case e.q3G.RESOURCE_URL:if((0,e.qzn)(je,"ResourceURL"))return(0,e.z3N)(je);throw new e.vHH(5201,!1);default:throw new e.vHH(5202,!1)}}bypassSecurityTrustHtml(xe){return(0,e.JVY)(xe)}bypassSecurityTrustStyle(xe){return(0,e.L6k)(xe)}bypassSecurityTrustScript(xe){return(0,e.eBb)(xe)}bypassSecurityTrustUrl(xe){return(0,e.LAX)(xe)}bypassSecurityTrustResourceUrl(xe){return(0,e.pB0)(xe)}static{this.\u0275fac=function(je){return new(je||_n)(e.LFG(t.K0))}}static{this.\u0275prov=e.Yz7({token:_n,factory:function(je){let ke=null;return ke=je?new je:function Hn(_n){return new rn(_n.get(t.K0))}(e.LFG(e.zs3)),ke},providedIn:"root"})}}return _n})()},4190:(Qt,$,o)=>{"use strict";o.d($,{gz:()=>zi,gk:()=>Ye,m2:()=>Xt,Q3:()=>Ve,OD:()=>fi,Av:()=>Wo,F0:()=>Jo,rH:()=>Tr,Od:()=>Zo,yS:()=>Tr,Bz:()=>q,lC:()=>Ti,R9:()=>An,bU:()=>di});var e=o(5879),t=o(7258),a=o(2664),i=o(2096),g=o(5619),T=o(2572),_=o(6973),m=o(34),h=o(4911),f=o(8407),v=o(8504),C=o(6232),D=o(3168),y=o(8645),E=o(7394),O=o(6814),M=o(7398),U=o(4664),R=o(8180),A=o(7921),S=o(2181),w=o(1631),p=o(1374),L=o(6328),V=o(9397),et=o(6306),tt=o(6424),ht=o(3572),it=o(9360),It=o(8251);function st(K){return K<=0?()=>C.E:(0,it.e)((gt,H)=>{let pt=[];gt.subscribe((0,It.x)(H,Kt=>{pt.push(Kt),K<pt.length&&pt.shift()},()=>{for(const Kt of pt)H.next(Kt);H.complete()},void 0,()=>{pt=null}))})}var dt=o(3026),St=o(2737),u=o(975),ut=o(4716),Z=o(6196),I=o(9773),F=o(7537),ot=o(6593);const nt="primary",At=Symbol("RouteTitle");class Dt{constructor(gt){this.params=gt||{}}has(gt){return Object.prototype.hasOwnProperty.call(this.params,gt)}get(gt){if(this.has(gt)){const H=this.params[gt];return Array.isArray(H)?H[0]:H}return null}getAll(gt){if(this.has(gt)){const H=this.params[gt];return Array.isArray(H)?H:[H]}return[]}get keys(){return Object.keys(this.params)}}function Wt(K){return new Dt(K)}function Nt(K,gt,H){const pt=H.path.split("/");if(pt.length>K.length||"full"===H.pathMatch&&(gt.hasChildren()||pt.length<K.length))return null;const Kt={};for(let Oe=0;Oe<pt.length;Oe++){const dn=pt[Oe],qn=K[Oe];if(dn.startsWith(":"))Kt[dn.substring(1)]=qn;else if(dn!==qn.path)return null}return{consumed:K.slice(0,pt.length),posParams:Kt}}function Bt(K,gt){const H=K?Object.keys(K):void 0,pt=gt?Object.keys(gt):void 0;if(!H||!pt||H.length!=pt.length)return!1;let Kt;for(let Oe=0;Oe<H.length;Oe++)if(Kt=H[Oe],!B(K[Kt],gt[Kt]))return!1;return!0}function B(K,gt){if(Array.isArray(K)&&Array.isArray(gt)){if(K.length!==gt.length)return!1;const H=[...K].sort(),pt=[...gt].sort();return H.every((Kt,Oe)=>pt[Oe]===Kt)}return K===gt}function k(K){return K.length>0?K[K.length-1]:null}function yt(K){return(0,t.b)(K)?K:(0,e.QGY)(K)?(0,a.D)(Promise.resolve(K)):(0,i.of)(K)}const Y={exact:function Pt(K,gt,H){if(!Ge(K.segments,gt.segments)||!Q(K.segments,gt.segments,H)||K.numberOfChildren!==gt.numberOfChildren)return!1;for(const pt in gt.children)if(!K.children[pt]||!Pt(K.children[pt],gt.children[pt],H))return!1;return!0},subset:De},xt={exact:function at(K,gt){return Bt(K,gt)},subset:function Gt(K,gt){return Object.keys(gt).length<=Object.keys(K).length&&Object.keys(gt).every(H=>B(K[H],gt[H]))},ignored:()=>!0};function z(K,gt,H){return Y[H.paths](K.root,gt.root,H.matrixParams)&&xt[H.queryParams](K.queryParams,gt.queryParams)&&!("exact"===H.fragment&&K.fragment!==gt.fragment)}function De(K,gt,H){return Ut(K,gt,gt.segments,H)}function Ut(K,gt,H,pt){if(K.segments.length>H.length){const Kt=K.segments.slice(0,H.length);return!(!Ge(Kt,H)||gt.hasChildren()||!Q(Kt,H,pt))}if(K.segments.length===H.length){if(!Ge(K.segments,H)||!Q(K.segments,H,pt))return!1;for(const Kt in gt.children)if(!K.children[Kt]||!De(K.children[Kt],gt.children[Kt],pt))return!1;return!0}{const Kt=H.slice(0,K.segments.length),Oe=H.slice(K.segments.length);return!!(Ge(K.segments,Kt)&&Q(K.segments,Kt,pt)&&K.children[nt])&&Ut(K.children[nt],gt,Oe,pt)}}function Q(K,gt,H){return gt.every((pt,Kt)=>xt[H](K[Kt].parameters,pt.parameters))}class Ot{constructor(gt=new Ft([],{}),H={},pt=null){this.root=gt,this.queryParams=H,this.fragment=pt}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return Ee.serialize(this)}}class Ft{constructor(gt,H){this.segments=gt,this.children=H,this.parent=null,Object.values(H).forEach(pt=>pt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return de(this)}}class le{constructor(gt,H){this.path=gt,this.parameters=H}get parameterMap(){return this._parameterMap||(this._parameterMap=Wt(this.parameters)),this._parameterMap}toString(){return wn(this)}}function Ge(K,gt){return K.length===gt.length&&K.every((H,pt)=>H.path===gt[pt].path)}let Pe=(()=>{class K{static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:function(){return new Ue},providedIn:"root"})}}return K})();class Ue{parse(gt){const H=new ke(gt);return new Ot(H.parseRootSegment(),H.parseQueryParams(),H.parseFragment())}serialize(gt){const H=`/${ae(gt.root,!0)}`,pt=function Ht(K){const gt=Object.keys(K).map(H=>{const pt=K[H];return Array.isArray(pt)?pt.map(Kt=>`${Bn(H)}=${Bn(Kt)}`).join("&"):`${Bn(H)}=${Bn(pt)}`}).filter(H=>!!H);return gt.length?`?${gt.join("&")}`:""}(gt.queryParams);return`${H}${pt}${"string"==typeof gt.fragment?`#${function Ae(K){return encodeURI(K)}(gt.fragment)}`:""}`}}const Ee=new Ue;function de(K){return K.segments.map(gt=>wn(gt)).join("/")}function ae(K,gt){if(!K.hasChildren())return de(K);if(gt){const H=K.children[nt]?ae(K.children[nt],!1):"",pt=[];return Object.entries(K.children).forEach(([Kt,Oe])=>{Kt!==nt&&pt.push(`${Kt}:${ae(Oe,!1)}`)}),pt.length>0?`${H}(${pt.join("//")})`:H}{const H=function Se(K,gt){let H=[];return Object.entries(K.children).forEach(([pt,Kt])=>{pt===nt&&(H=H.concat(gt(Kt,pt)))}),Object.entries(K.children).forEach(([pt,Kt])=>{pt!==nt&&(H=H.concat(gt(Kt,pt)))}),H}(K,(pt,Kt)=>Kt===nt?[ae(K.children[nt],!1)]:[`${Kt}:${ae(pt,!1)}`]);return 1===Object.keys(K.children).length&&null!=K.children[nt]?`${de(K)}/${H[0]}`:`${de(K)}/(${H.join("//")})`}}function $e(K){return encodeURIComponent(K).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(K){return $e(K).replace(/%3B/gi,";")}function Hn(K){return $e(K).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rn(K){return decodeURIComponent(K)}function re(K){return rn(K.replace(/\+/g,"%20"))}function wn(K){return`${Hn(K.path)}${function oe(K){return Object.keys(K).map(gt=>`;${Hn(gt)}=${Hn(K[gt])}`).join("")}(K.parameters)}`}const xn=/^[^\/()?;#]+/;function ce(K){const gt=K.match(xn);return gt?gt[0]:""}const me=/^[^\/()?;=#]+/,_n=/^[^=?&#]+/,xe=/^[^&#]+/;class ke{constructor(gt){this.url=gt,this.remaining=gt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const gt={};if(this.consumeOptional("?"))do{this.parseQueryParam(gt)}while(this.consumeOptional("&"));return gt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const gt=[];for(this.peekStartsWith("(")||gt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),gt.push(this.parseSegment());let H={};this.peekStartsWith("/(")&&(this.capture("/"),H=this.parseParens(!0));let pt={};return this.peekStartsWith("(")&&(pt=this.parseParens(!1)),(gt.length>0||Object.keys(H).length>0)&&(pt[nt]=new Ft(gt,H)),pt}parseSegment(){const gt=ce(this.remaining);if(""===gt&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(gt),new le(rn(gt),this.parseMatrixParams())}parseMatrixParams(){const gt={};for(;this.consumeOptional(";");)this.parseParam(gt);return gt}parseParam(gt){const H=function En(K){const gt=K.match(me);return gt?gt[0]:""}(this.remaining);if(!H)return;this.capture(H);let pt="";if(this.consumeOptional("=")){const Kt=ce(this.remaining);Kt&&(pt=Kt,this.capture(pt))}gt[rn(H)]=rn(pt)}parseQueryParam(gt){const H=function Qe(K){const gt=K.match(_n);return gt?gt[0]:""}(this.remaining);if(!H)return;this.capture(H);let pt="";if(this.consumeOptional("=")){const dn=function je(K){const gt=K.match(xe);return gt?gt[0]:""}(this.remaining);dn&&(pt=dn,this.capture(pt))}const Kt=re(H),Oe=re(pt);if(gt.hasOwnProperty(Kt)){let dn=gt[Kt];Array.isArray(dn)||(dn=[dn],gt[Kt]=dn),dn.push(Oe)}else gt[Kt]=Oe}parseParens(gt){const H={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const pt=ce(this.remaining),Kt=this.remaining[pt.length];if("/"!==Kt&&")"!==Kt&&";"!==Kt)throw new e.vHH(4010,!1);let Oe;pt.indexOf(":")>-1?(Oe=pt.slice(0,pt.indexOf(":")),this.capture(Oe),this.capture(":")):gt&&(Oe=nt);const dn=this.parseChildren();H[Oe]=1===Object.keys(dn).length?dn[nt]:new Ft([],dn),this.consumeOptional("//")}return H}peekStartsWith(gt){return this.remaining.startsWith(gt)}consumeOptional(gt){return!!this.peekStartsWith(gt)&&(this.remaining=this.remaining.substring(gt.length),!0)}capture(gt){if(!this.consumeOptional(gt))throw new e.vHH(4011,!1)}}function we(K){return K.segments.length>0?new Ft([],{[nt]:K}):K}function Ne(K){const gt={};for(const pt of Object.keys(K.children)){const Oe=Ne(K.children[pt]);if(pt===nt&&0===Oe.segments.length&&Oe.hasChildren())for(const[dn,qn]of Object.entries(Oe.children))gt[dn]=qn;else(Oe.segments.length>0||Oe.hasChildren())&&(gt[pt]=Oe)}return function Ke(K){if(1===K.numberOfChildren&&K.children[nt]){const gt=K.children[nt];return new Ft(K.segments.concat(gt.segments),gt.children)}return K}(new Ft(K.segments,gt))}function qe(K){return K instanceof Ot}function ui(K){let gt;const Kt=we(function H(Oe){const dn={};for(const Xn of Oe.children){const ki=H(Xn);dn[Xn.outlet]=ki}const qn=new Ft(Oe.url,dn);return Oe===K&&(gt=qn),qn}(K.root));return gt??Kt}function eo(K,gt,H,pt){let Kt=K;for(;Kt.parent;)Kt=Kt.parent;if(0===gt.length)return ln(Kt,Kt,Kt,H,pt);const Oe=function hi(K){if("string"==typeof K[0]&&1===K.length&&"/"===K[0])return new Jn(!0,0,K);let gt=0,H=!1;const pt=K.reduce((Kt,Oe,dn)=>{if("object"==typeof Oe&&null!=Oe){if(Oe.outlets){const qn={};return Object.entries(Oe.outlets).forEach(([Xn,ki])=>{qn[Xn]="string"==typeof ki?ki.split("/"):ki}),[...Kt,{outlets:qn}]}if(Oe.segmentPath)return[...Kt,Oe.segmentPath]}return"string"!=typeof Oe?[...Kt,Oe]:0===dn?(Oe.split("/").forEach((qn,Xn)=>{0==Xn&&"."===qn||(0==Xn&&""===qn?H=!0:".."===qn?gt++:""!=qn&&Kt.push(qn))}),Kt):[...Kt,Oe]},[]);return new Jn(H,gt,pt)}(gt);if(Oe.toRoot())return ln(Kt,Kt,new Ft([],{}),H,pt);const dn=function wi(K,gt,H){if(K.isAbsolute)return new ei(gt,!0,0);if(!H)return new ei(gt,!1,NaN);if(null===H.parent)return new ei(H,!0,0);const pt=Pn(K.commands[0])?0:1;return function oi(K,gt,H){let pt=K,Kt=gt,Oe=H;for(;Oe>Kt;){if(Oe-=Kt,pt=pt.parent,!pt)throw new e.vHH(4005,!1);Kt=pt.segments.length}return new ei(pt,!1,Kt-Oe)}(H,H.segments.length-1+pt,K.numberOfDoubleDots)}(Oe,Kt,K),qn=dn.processChildren?Zi(dn.segmentGroup,dn.index,Oe.commands):mi(dn.segmentGroup,dn.index,Oe.commands);return ln(Kt,dn.segmentGroup,qn,H,pt)}function Pn(K){return"object"==typeof K&&null!=K&&!K.outlets&&!K.segmentPath}function tn(K){return"object"==typeof K&&null!=K&&K.outlets}function ln(K,gt,H,pt,Kt){let dn,Oe={};pt&&Object.entries(pt).forEach(([Xn,ki])=>{Oe[Xn]=Array.isArray(ki)?ki.map(Ro=>`${Ro}`):`${ki}`}),dn=K===gt?H:Zn(K,gt,H);const qn=we(Ne(dn));return new Ot(qn,Oe,Kt)}function Zn(K,gt,H){const pt={};return Object.entries(K.children).forEach(([Kt,Oe])=>{pt[Kt]=Oe===gt?H:Zn(Oe,gt,H)}),new Ft(K.segments,pt)}class Jn{constructor(gt,H,pt){if(this.isAbsolute=gt,this.numberOfDoubleDots=H,this.commands=pt,gt&&pt.length>0&&Pn(pt[0]))throw new e.vHH(4003,!1);const Kt=pt.find(tn);if(Kt&&Kt!==k(pt))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ei{constructor(gt,H,pt){this.segmentGroup=gt,this.processChildren=H,this.index=pt}}function mi(K,gt,H){if(K||(K=new Ft([],{})),0===K.segments.length&&K.hasChildren())return Zi(K,gt,H);const pt=function Qi(K,gt,H){let pt=0,Kt=gt;const Oe={match:!1,pathIndex:0,commandIndex:0};for(;Kt<K.segments.length;){if(pt>=H.length)return Oe;const dn=K.segments[Kt],qn=H[pt];if(tn(qn))break;const Xn=`${qn}`,ki=pt<H.length-1?H[pt+1]:null;if(Kt>0&&void 0===Xn)break;if(Xn&&ki&&"object"==typeof ki&&void 0===ki.outlets){if(!Ki(Xn,ki,dn))return Oe;pt+=2}else{if(!Ki(Xn,{},dn))return Oe;pt++}Kt++}return{match:!0,pathIndex:Kt,commandIndex:pt}}(K,gt,H),Kt=H.slice(pt.commandIndex);if(pt.match&&pt.pathIndex<K.segments.length){const Oe=new Ft(K.segments.slice(0,pt.pathIndex),{});return Oe.children[nt]=new Ft(K.segments.slice(pt.pathIndex),K.children),Zi(Oe,0,Kt)}return pt.match&&0===Kt.length?new Ft(K.segments,{}):pt.match&&!K.hasChildren()?Yi(K,gt,H):pt.match?Zi(K,0,Kt):Yi(K,gt,H)}function Zi(K,gt,H){if(0===H.length)return new Ft(K.segments,{});{const pt=function Li(K){return tn(K[0])?K[0].outlets:{[nt]:K}}(H),Kt={};if(Object.keys(pt).some(Oe=>Oe!==nt)&&K.children[nt]&&1===K.numberOfChildren&&0===K.children[nt].segments.length){const Oe=Zi(K.children[nt],gt,H);return new Ft(K.segments,Oe.children)}return Object.entries(pt).forEach(([Oe,dn])=>{"string"==typeof dn&&(dn=[dn]),null!==dn&&(Kt[Oe]=mi(K.children[Oe],gt,dn))}),Object.entries(K.children).forEach(([Oe,dn])=>{void 0===pt[Oe]&&(Kt[Oe]=dn)}),new Ft(K.segments,Kt)}}function Yi(K,gt,H){const pt=K.segments.slice(0,gt);let Kt=0;for(;Kt<H.length;){const Oe=H[Kt];if(tn(Oe)){const Xn=uo(Oe.outlets);return new Ft(pt,Xn)}if(0===Kt&&Pn(H[0])){pt.push(new le(K.segments[gt].path,Ui(H[0]))),Kt++;continue}const dn=tn(Oe)?Oe.outlets[nt]:`${Oe}`,qn=Kt<H.length-1?H[Kt+1]:null;dn&&qn&&Pn(qn)?(pt.push(new le(dn,Ui(qn))),Kt+=2):(pt.push(new le(dn,{})),Kt++)}return new Ft(pt,{})}function uo(K){const gt={};return Object.entries(K).forEach(([H,pt])=>{"string"==typeof pt&&(pt=[pt]),null!==pt&&(gt[H]=Yi(new Ft([],{}),0,pt))}),gt}function Ui(K){const gt={};return Object.entries(K).forEach(([H,pt])=>gt[H]=`${pt}`),gt}function Ki(K,gt,H){return K==H.path&&Bt(gt,H.parameters)}const Gi="imperative";class sn{constructor(gt,H){this.id=gt,this.url=H}}class fi extends sn{constructor(gt,H,pt="imperative",Kt=null){super(gt,H),this.type=0,this.navigationTrigger=pt,this.restoredState=Kt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xt extends sn{constructor(gt,H,pt){super(gt,H),this.urlAfterRedirects=pt,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ye extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.reason=pt,this.code=Kt,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class se extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.reason=pt,this.code=Kt,this.type=16}}class Ve extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.error=pt,this.target=Kt,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class An extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.urlAfterRedirects=pt,this.state=Kt,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.urlAfterRedirects=pt,this.state=Kt,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends sn{constructor(gt,H,pt,Kt,Oe){super(gt,H),this.urlAfterRedirects=pt,this.state=Kt,this.shouldActivate=Oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ji extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.urlAfterRedirects=pt,this.state=Kt,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends sn{constructor(gt,H,pt,Kt){super(gt,H),this.urlAfterRedirects=pt,this.state=Kt,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie{constructor(gt){this.route=gt,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ze{constructor(gt){this.route=gt,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pn{constructor(gt){this.snapshot=gt,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(gt){this.snapshot=gt,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(gt){this.snapshot=gt,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mn{constructor(gt){this.snapshot=gt,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(gt,H,pt){this.routerEvent=gt,this.position=H,this.anchor=pt,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bn{}class ie{constructor(gt){this.url=gt}}class Le{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new un,this.attachRef=null}}let un=(()=>{class K{constructor(){this.contexts=new Map}onChildOutletCreated(H,pt){const Kt=this.getOrCreateContext(H);Kt.outlet=pt,this.contexts.set(H,Kt)}onChildOutletDestroyed(H){const pt=this.getContext(H);pt&&(pt.outlet=null,pt.attachRef=null)}onOutletDeactivated(){const H=this.contexts;return this.contexts=new Map,H}onOutletReAttached(H){this.contexts=H}getOrCreateContext(H){let pt=this.getContext(H);return pt||(pt=new Le,this.contexts.set(H,pt)),pt}getContext(H){return this.contexts.get(H)||null}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();class Rn{constructor(gt){this._root=gt}get root(){return this._root.value}parent(gt){const H=this.pathFromRoot(gt);return H.length>1?H[H.length-2]:null}children(gt){const H=Fn(gt,this._root);return H?H.children.map(pt=>pt.value):[]}firstChild(gt){const H=Fn(gt,this._root);return H&&H.children.length>0?H.children[0].value:null}siblings(gt){const H=si(gt,this._root);return H.length<2?[]:H[H.length-2].children.map(Kt=>Kt.value).filter(Kt=>Kt!==gt)}pathFromRoot(gt){return si(gt,this._root).map(H=>H.value)}}function Fn(K,gt){if(K===gt.value)return gt;for(const H of gt.children){const pt=Fn(K,H);if(pt)return pt}return null}function si(K,gt){if(K===gt.value)return[gt];for(const H of gt.children){const pt=si(K,H);if(pt.length)return pt.unshift(gt),pt}return[]}class Di{constructor(gt,H){this.value=gt,this.children=H}toString(){return`TreeNode(${this.value})`}}function Ii(K){const gt={};return K&&K.children.forEach(H=>gt[H.value.outlet]=H),gt}class Vi extends Rn{constructor(gt,H){super(gt),this.snapshot=H,tr(this,gt)}toString(){return this.snapshot.toString()}}function gi(K,gt){const H=function Ni(K,gt){const dn=new qo([],{},{},"",{},nt,gt,null,{});return new $o("",new Di(dn,[]))}(0,gt),pt=new g.X([new le("",{})]),Kt=new g.X({}),Oe=new g.X({}),dn=new g.X({}),qn=new g.X(""),Xn=new zi(pt,Kt,dn,qn,Oe,nt,gt,H.root);return Xn.snapshot=H.root,new Vi(new Di(Xn,[]),H)}class zi{constructor(gt,H,pt,Kt,Oe,dn,qn,Xn){this.urlSubject=gt,this.paramsSubject=H,this.queryParamsSubject=pt,this.fragmentSubject=Kt,this.dataSubject=Oe,this.outlet=dn,this.component=qn,this._futureSnapshot=Xn,this.title=this.dataSubject?.pipe((0,M.U)(ki=>ki[At]))??(0,i.of)(void 0),this.url=gt,this.params=H,this.queryParams=pt,this.fragment=Kt,this.data=Oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,M.U)(gt=>Wt(gt)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,M.U)(gt=>Wt(gt)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mo(K,gt="emptyOnly"){const H=K.pathFromRoot;let pt=0;if("always"!==gt)for(pt=H.length-1;pt>=1;){const Kt=H[pt],Oe=H[pt-1];if(Kt.routeConfig&&""===Kt.routeConfig.path)pt--;else{if(Oe.component)break;pt--}}return function io(K){return K.reduce((gt,H)=>({params:{...gt.params,...H.params},data:{...gt.data,...H.data},resolve:{...H.data,...gt.resolve,...H.routeConfig?.data,...H._resolvedData}}),{params:{},data:{},resolve:{}})}(H.slice(pt))}class qo{get title(){return this.data?.[At]}constructor(gt,H,pt,Kt,Oe,dn,qn,Xn,ki){this.url=gt,this.params=H,this.queryParams=pt,this.fragment=Kt,this.data=Oe,this.outlet=dn,this.component=qn,this.routeConfig=Xn,this._resolve=ki}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(pt=>pt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $o extends Rn{constructor(gt,H){super(H),this.url=gt,tr(this,H)}toString(){return mr(this._root)}}function tr(K,gt){gt.value._routerState=K,gt.children.forEach(H=>tr(K,H))}function mr(K){const gt=K.children.length>0?` { ${K.children.map(mr).join(", ")} } `:"";return`${K.value}${gt}`}function er(K){if(K.snapshot){const gt=K.snapshot,H=K._futureSnapshot;K.snapshot=H,Bt(gt.queryParams,H.queryParams)||K.queryParamsSubject.next(H.queryParams),gt.fragment!==H.fragment&&K.fragmentSubject.next(H.fragment),Bt(gt.params,H.params)||K.paramsSubject.next(H.params),function Rt(K,gt){if(K.length!==gt.length)return!1;for(let H=0;H<K.length;++H)if(!Bt(K[H],gt[H]))return!1;return!0}(gt.url,H.url)||K.urlSubject.next(H.url),Bt(gt.data,H.data)||K.dataSubject.next(H.data)}else K.snapshot=K._futureSnapshot,K.dataSubject.next(K._futureSnapshot.data)}function po(K,gt){const H=Bt(K.params,gt.params)&&function ne(K,gt){return Ge(K,gt)&&K.every((H,pt)=>Bt(H.parameters,gt[pt].parameters))}(K.url,gt.url);return H&&!(!K.parent!=!gt.parent)&&(!K.parent||po(K.parent,gt.parent))}let Ti=(()=>{class K{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(un),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(so,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(H){if(H.name){const{firstChange:pt,previousValue:Kt}=H.name;if(pt)return;this.isTrackedInParentContexts(Kt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Kt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(H){return this.parentContexts.getContext(H)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const H=this.parentContexts.getContext(this.name);H?.route&&(H.attachRef?this.attach(H.attachRef,H.route):this.activateWith(H.route,H.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const H=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(H.instance),H}attach(H,pt){this.activated=H,this._activatedRoute=pt,this.location.insert(H.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(H.instance)}deactivate(){if(this.activated){const H=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,pt){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=H;const Kt=this.location,dn=H.snapshot.component,qn=this.parentContexts.getOrCreateContext(this.name).children,Xn=new Wi(H,qn,Kt.injector);this.activated=Kt.createComponent(dn,{index:Kt.length,injector:Xn,environmentInjector:pt??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275dir=e.lG2({type:K,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}}return K})();class Wi{constructor(gt,H,pt){this.route=gt,this.childContexts=H,this.parent=pt}get(gt,H){return gt===zi?this.route:gt===un?this.childContexts:this.parent.get(gt,H)}}const so=new e.OlP("");let Ko=(()=>{class K{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(H){this.unsubscribeFromRouteData(H),this.subscribeToRouteData(H)}unsubscribeFromRouteData(H){this.outletDataSubscriptions.get(H)?.unsubscribe(),this.outletDataSubscriptions.delete(H)}subscribeToRouteData(H){const{activatedRoute:pt}=H,Kt=(0,T.a)([pt.queryParams,pt.params,pt.data]).pipe((0,U.w)(([Oe,dn,qn],Xn)=>(qn={...Oe,...dn,...qn},0===Xn?(0,i.of)(qn):Promise.resolve(qn)))).subscribe(Oe=>{if(!H.isActivated||!H.activatedComponentRef||H.activatedRoute!==pt||null===pt.component)return void this.unsubscribeFromRouteData(H);const dn=(0,e.qFp)(pt.component);if(dn)for(const{templateName:qn}of dn.inputs)H.activatedComponentRef.setInput(qn,Oe[qn]);else this.unsubscribeFromRouteData(H)});this.outletDataSubscriptions.set(H,Kt)}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac})}}return K})();function Uo(K,gt,H){if(H&&K.shouldReuseRoute(gt.value,H.value.snapshot)){const pt=H.value;pt._futureSnapshot=gt.value;const Kt=function bo(K,gt,H){return gt.children.map(pt=>{for(const Kt of H.children)if(K.shouldReuseRoute(pt.value,Kt.value.snapshot))return Uo(K,pt,Kt);return Uo(K,pt)})}(K,gt,H);return new Di(pt,Kt)}{if(K.shouldAttach(gt.value)){const Oe=K.retrieve(gt.value);if(null!==Oe){const dn=Oe.route;return dn.value._futureSnapshot=gt.value,dn.children=gt.children.map(qn=>Uo(K,qn)),dn}}const pt=function qi(K){return new zi(new g.X(K.url),new g.X(K.params),new g.X(K.queryParams),new g.X(K.fragment),new g.X(K.data),K.outlet,K.component,K)}(gt.value),Kt=gt.children.map(Oe=>Uo(K,Oe));return new Di(pt,Kt)}}const xo="ngNavigationCancelingError";function Lo(K,gt){const{redirectTo:H,navigationBehaviorOptions:pt}=qe(gt)?{redirectTo:gt,navigationBehaviorOptions:void 0}:gt,Kt=Fi(!1,0,gt);return Kt.url=H,Kt.navigationBehaviorOptions=pt,Kt}function Fi(K,gt,H){const pt=new Error("NavigationCancelingError: "+(K||""));return pt[xo]=!0,pt.cancellationCode=gt,H&&(pt.url=H),pt}function gn(K){return K&&K[xo]}let Yn=(()=>{class K{static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275cmp=e.Xpm({type:K,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(pt,Kt){1&pt&&e._UZ(0,"router-outlet")},dependencies:[Ti],encapsulation:2})}}return K})();function Qn(K){const gt=K.children&&K.children.map(Qn),H=gt?{...K,children:gt}:{...K};return!H.component&&!H.loadComponent&&(gt||H.loadChildren)&&H.outlet&&H.outlet!==nt&&(H.component=Yn),H}function J(K){return K.outlet||nt}function Et(K){if(!K)return null;if(K.routeConfig?._injector)return K.routeConfig._injector;for(let gt=K.parent;gt;gt=gt.parent){const H=gt.routeConfig;if(H?._loadedInjector)return H._loadedInjector;if(H?._injector)return H._injector}return null}class Si{constructor(gt,H,pt,Kt,Oe){this.routeReuseStrategy=gt,this.futureState=H,this.currState=pt,this.forwardEvent=Kt,this.inputBindingEnabled=Oe}activate(gt){const H=this.futureState._root,pt=this.currState?this.currState._root:null;this.deactivateChildRoutes(H,pt,gt),er(this.futureState.root),this.activateChildRoutes(H,pt,gt)}deactivateChildRoutes(gt,H,pt){const Kt=Ii(H);gt.children.forEach(Oe=>{const dn=Oe.value.outlet;this.deactivateRoutes(Oe,Kt[dn],pt),delete Kt[dn]}),Object.values(Kt).forEach(Oe=>{this.deactivateRouteAndItsChildren(Oe,pt)})}deactivateRoutes(gt,H,pt){const Kt=gt.value,Oe=H?H.value:null;if(Kt===Oe)if(Kt.component){const dn=pt.getContext(Kt.outlet);dn&&this.deactivateChildRoutes(gt,H,dn.children)}else this.deactivateChildRoutes(gt,H,pt);else Oe&&this.deactivateRouteAndItsChildren(H,pt)}deactivateRouteAndItsChildren(gt,H){gt.value.component&&this.routeReuseStrategy.shouldDetach(gt.value.snapshot)?this.detachAndStoreRouteSubtree(gt,H):this.deactivateRouteAndOutlet(gt,H)}detachAndStoreRouteSubtree(gt,H){const pt=H.getContext(gt.value.outlet),Kt=pt&&gt.value.component?pt.children:H,Oe=Ii(gt);for(const dn of Object.keys(Oe))this.deactivateRouteAndItsChildren(Oe[dn],Kt);if(pt&&pt.outlet){const dn=pt.outlet.detach(),qn=pt.children.onOutletDeactivated();this.routeReuseStrategy.store(gt.value.snapshot,{componentRef:dn,route:gt,contexts:qn})}}deactivateRouteAndOutlet(gt,H){const pt=H.getContext(gt.value.outlet),Kt=pt&&gt.value.component?pt.children:H,Oe=Ii(gt);for(const dn of Object.keys(Oe))this.deactivateRouteAndItsChildren(Oe[dn],Kt);pt&&(pt.outlet&&(pt.outlet.deactivate(),pt.children.onOutletDeactivated()),pt.attachRef=null,pt.route=null)}activateChildRoutes(gt,H,pt){const Kt=Ii(H);gt.children.forEach(Oe=>{this.activateRoutes(Oe,Kt[Oe.value.outlet],pt),this.forwardEvent(new Mn(Oe.value.snapshot))}),gt.children.length&&this.forwardEvent(new fn(gt.value.snapshot))}activateRoutes(gt,H,pt){const Kt=gt.value,Oe=H?H.value:null;if(er(Kt),Kt===Oe)if(Kt.component){const dn=pt.getOrCreateContext(Kt.outlet);this.activateChildRoutes(gt,H,dn.children)}else this.activateChildRoutes(gt,H,pt);else if(Kt.component){const dn=pt.getOrCreateContext(Kt.outlet);if(this.routeReuseStrategy.shouldAttach(Kt.snapshot)){const qn=this.routeReuseStrategy.retrieve(Kt.snapshot);this.routeReuseStrategy.store(Kt.snapshot,null),dn.children.onOutletReAttached(qn.contexts),dn.attachRef=qn.componentRef,dn.route=qn.route.value,dn.outlet&&dn.outlet.attach(qn.componentRef,qn.route.value),er(qn.route.value),this.activateChildRoutes(gt,null,dn.children)}else{const qn=Et(Kt.snapshot);dn.attachRef=null,dn.route=Kt,dn.injector=qn,dn.outlet&&dn.outlet.activateWith(Kt,dn.injector),this.activateChildRoutes(gt,null,dn.children)}}else this.activateChildRoutes(gt,null,pt)}}class Oo{constructor(gt){this.path=gt,this.route=this.path[this.path.length-1]}}class rr{constructor(gt,H){this.component=gt,this.route=H}}function jo(K,gt,H){const pt=K._root;return _e(pt,gt?gt._root:null,H,[pt.value])}function Io(K,gt){const H=Symbol(),pt=gt.get(K,H);return pt===H?"function"!=typeof K||(0,e.Z0I)(K)?gt.get(K):K:pt}function _e(K,gt,H,pt,Kt={canDeactivateChecks:[],canActivateChecks:[]}){const Oe=Ii(gt);return K.children.forEach(dn=>{(function W(K,gt,H,pt,Kt={canDeactivateChecks:[],canActivateChecks:[]}){const Oe=K.value,dn=gt?gt.value:null,qn=H?H.getContext(K.value.outlet):null;if(dn&&Oe.routeConfig===dn.routeConfig){const Xn=function rt(K,gt,H){if("function"==typeof H)return H(K,gt);switch(H){case"pathParamsChange":return!Ge(K.url,gt.url);case"pathParamsOrQueryParamsChange":return!Ge(K.url,gt.url)||!Bt(K.queryParams,gt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!po(K,gt)||!Bt(K.queryParams,gt.queryParams);default:return!po(K,gt)}}(dn,Oe,Oe.routeConfig.runGuardsAndResolvers);Xn?Kt.canActivateChecks.push(new Oo(pt)):(Oe.data=dn.data,Oe._resolvedData=dn._resolvedData),_e(K,gt,Oe.component?qn?qn.children:null:H,pt,Kt),Xn&&qn&&qn.outlet&&qn.outlet.isActivated&&Kt.canDeactivateChecks.push(new rr(qn.outlet.component,dn))}else dn&&zt(gt,qn,Kt),Kt.canActivateChecks.push(new Oo(pt)),_e(K,null,Oe.component?qn?qn.children:null:H,pt,Kt)})(dn,Oe[dn.value.outlet],H,pt.concat([dn.value]),Kt),delete Oe[dn.value.outlet]}),Object.entries(Oe).forEach(([dn,qn])=>zt(qn,H.getContext(dn),Kt)),Kt}function zt(K,gt,H){const pt=Ii(K),Kt=K.value;Object.entries(pt).forEach(([Oe,dn])=>{zt(dn,Kt.component?gt?gt.children.getContext(Oe):null:gt,H)}),H.canDeactivateChecks.push(new rr(Kt.component&&gt&&gt.outlet&&gt.outlet.isActivated?gt.outlet.component:null,Kt))}function pe(K){return"function"==typeof K}function ue(K){return K instanceof _.K||"EmptyError"===K?.name}const He=Symbol("INITIAL_VALUE");function ci(){return(0,U.w)(K=>(0,T.a)(K.map(gt=>gt.pipe((0,R.q)(1),(0,A.O)(He)))).pipe((0,M.U)(gt=>{for(const H of gt)if(!0!==H){if(H===He)return He;if(!1===H||H instanceof Ot)return H}return!0}),(0,S.h)(gt=>gt!==He),(0,R.q)(1)))}function Or(K){return(0,f.z)((0,V.b)(gt=>{if(qe(gt))throw Lo(0,gt)}),(0,M.U)(gt=>!0===gt))}class cn{constructor(gt){this.segmentGroup=gt||null}}class ve{constructor(gt){this.urlTree=gt}}function en(K){return(0,v._)(new cn(K))}function zn(K){return(0,v._)(new ve(K))}class _i{constructor(gt,H){this.urlSerializer=gt,this.urlTree=H}noMatchError(gt){return new e.vHH(4002,!1)}lineralizeSegments(gt,H){let pt=[],Kt=H.root;for(;;){if(pt=pt.concat(Kt.segments),0===Kt.numberOfChildren)return(0,i.of)(pt);if(Kt.numberOfChildren>1||!Kt.children[nt])return(0,v._)(new e.vHH(4e3,!1));Kt=Kt.children[nt]}}applyRedirectCommands(gt,H,pt){return this.applyRedirectCreateUrlTree(H,this.urlSerializer.parse(H),gt,pt)}applyRedirectCreateUrlTree(gt,H,pt,Kt){const Oe=this.createSegmentGroup(gt,H.root,pt,Kt);return new Ot(Oe,this.createQueryParams(H.queryParams,this.urlTree.queryParams),H.fragment)}createQueryParams(gt,H){const pt={};return Object.entries(gt).forEach(([Kt,Oe])=>{if("string"==typeof Oe&&Oe.startsWith(":")){const qn=Oe.substring(1);pt[Kt]=H[qn]}else pt[Kt]=Oe}),pt}createSegmentGroup(gt,H,pt,Kt){const Oe=this.createSegments(gt,H.segments,pt,Kt);let dn={};return Object.entries(H.children).forEach(([qn,Xn])=>{dn[qn]=this.createSegmentGroup(gt,Xn,pt,Kt)}),new Ft(Oe,dn)}createSegments(gt,H,pt,Kt){return H.map(Oe=>Oe.path.startsWith(":")?this.findPosParam(gt,Oe,Kt):this.findOrReturn(Oe,pt))}findPosParam(gt,H,pt){const Kt=pt[H.path.substring(1)];if(!Kt)throw new e.vHH(4001,!1);return Kt}findOrReturn(gt,H){let pt=0;for(const Kt of H){if(Kt.path===gt.path)return H.splice(pt),Kt;pt++}return gt}}const vi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function no(K,gt,H,pt,Kt){const Oe=ho(K,gt,H);return Oe.matched?(pt=function te(K,gt){return K.providers&&!K._injector&&(K._injector=(0,e.MMx)(K.providers,gt,`Route: ${K.path}`)),K._injector??gt}(gt,pt),function Fe(K,gt,H,pt){const Kt=gt.canMatch;if(!Kt||0===Kt.length)return(0,i.of)(!0);const Oe=Kt.map(dn=>{const qn=Io(dn,K);return yt(function Lt(K){return K&&pe(K.canMatch)}(qn)?qn.canMatch(gt,H):K.runInContext(()=>qn(gt,H)))});return(0,i.of)(Oe).pipe(ci(),Or())}(pt,gt,H).pipe((0,M.U)(dn=>!0===dn?Oe:{...vi}))):(0,i.of)(Oe)}function ho(K,gt,H){if(""===gt.path)return"full"===gt.pathMatch&&(K.hasChildren()||H.length>0)?{...vi}:{matched:!0,consumedSegments:[],remainingSegments:H,parameters:{},positionalParamSegments:{}};const Kt=(gt.matcher||Nt)(H,K,gt);if(!Kt)return{...vi};const Oe={};Object.entries(Kt.posParams??{}).forEach(([qn,Xn])=>{Oe[qn]=Xn.path});const dn=Kt.consumed.length>0?{...Oe,...Kt.consumed[Kt.consumed.length-1].parameters}:Oe;return{matched:!0,consumedSegments:Kt.consumed,remainingSegments:H.slice(Kt.consumed.length),parameters:dn,positionalParamSegments:Kt.posParams??{}}}function ir(K,gt,H,pt){return H.length>0&&function Fo(K,gt,H){return H.some(pt=>br(K,gt,pt)&&J(pt)!==nt)}(K,H,pt)?{segmentGroup:new Ft(gt,sr(pt,new Ft(H,K.children))),slicedSegments:[]}:0===H.length&&function co(K,gt,H){return H.some(pt=>br(K,gt,pt))}(K,H,pt)?{segmentGroup:new Ft(K.segments,to(K,0,H,pt,K.children)),slicedSegments:H}:{segmentGroup:new Ft(K.segments,K.children),slicedSegments:H}}function to(K,gt,H,pt,Kt){const Oe={};for(const dn of pt)if(br(K,H,dn)&&!Kt[J(dn)]){const qn=new Ft([],{});Oe[J(dn)]=qn}return{...Kt,...Oe}}function sr(K,gt){const H={};H[nt]=gt;for(const pt of K)if(""===pt.path&&J(pt)!==nt){const Kt=new Ft([],{});H[J(pt)]=Kt}return H}function br(K,gt,H){return(!(K.hasChildren()||gt.length>0)||"full"!==H.pathMatch)&&""===H.path}class Ir{constructor(gt,H,pt,Kt,Oe,dn,qn){this.injector=gt,this.configLoader=H,this.rootComponentType=pt,this.config=Kt,this.urlTree=Oe,this.paramsInheritanceStrategy=dn,this.urlSerializer=qn,this.allowRedirects=!0,this.applyRedirects=new _i(this.urlSerializer,this.urlTree)}noMatchError(gt){return new e.vHH(4002,!1)}recognize(){const gt=ir(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,gt,nt).pipe((0,et.K)(H=>{if(H instanceof ve)return this.allowRedirects=!1,this.urlTree=H.urlTree,this.match(H.urlTree);throw H instanceof cn?this.noMatchError(H):H}),(0,M.U)(H=>{const pt=new qo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),Kt=new Di(pt,H),Oe=new $o("",Kt),dn=function kn(K,gt,H=null,pt=null){return eo(ui(K),gt,H,pt)}(pt,[],this.urlTree.queryParams,this.urlTree.fragment);return dn.queryParams=this.urlTree.queryParams,Oe.url=this.urlSerializer.serialize(dn),this.inheritParamsAndData(Oe._root),{state:Oe,tree:dn}}))}match(gt){return this.processSegmentGroup(this.injector,this.config,gt.root,nt).pipe((0,et.K)(pt=>{throw pt instanceof cn?this.noMatchError(pt):pt}))}inheritParamsAndData(gt){const H=gt.value,pt=Mo(H,this.paramsInheritanceStrategy);H.params=Object.freeze(pt.params),H.data=Object.freeze(pt.data),gt.children.forEach(Kt=>this.inheritParamsAndData(Kt))}processSegmentGroup(gt,H,pt,Kt){return 0===pt.segments.length&&pt.hasChildren()?this.processChildren(gt,H,pt):this.processSegment(gt,H,pt,pt.segments,Kt,!0)}processChildren(gt,H,pt){const Kt=[];for(const Oe of Object.keys(pt.children))"primary"===Oe?Kt.unshift(Oe):Kt.push(Oe);return(0,a.D)(Kt).pipe((0,L.b)(Oe=>{const dn=pt.children[Oe],qn=function Zt(K,gt){const H=K.filter(pt=>J(pt)===gt);return H.push(...K.filter(pt=>J(pt)!==gt)),H}(H,Oe);return this.processSegmentGroup(gt,qn,dn,Oe)}),(0,tt.R)((Oe,dn)=>(Oe.push(...dn),Oe)),(0,ht.d)(null),function bt(K,gt){const H=arguments.length>=2;return pt=>pt.pipe(K?(0,S.h)((Kt,Oe)=>K(Kt,Oe,pt)):St.y,st(1),H?(0,ht.d)(gt):(0,dt.T)(()=>new _.K))}(),(0,w.z)(Oe=>{if(null===Oe)return en(pt);const dn=Zr(Oe);return function go(K){K.sort((gt,H)=>gt.value.outlet===nt?-1:H.value.outlet===nt?1:gt.value.outlet.localeCompare(H.value.outlet))}(dn),(0,i.of)(dn)}))}processSegment(gt,H,pt,Kt,Oe,dn){return(0,a.D)(H).pipe((0,L.b)(qn=>this.processSegmentAgainstRoute(qn._injector??gt,H,qn,pt,Kt,Oe,dn).pipe((0,et.K)(Xn=>{if(Xn instanceof cn)return(0,i.of)(null);throw Xn}))),(0,p.P)(qn=>!!qn),(0,et.K)(qn=>{if(ue(qn))return function Cr(K,gt,H){return 0===gt.length&&!K.children[H]}(pt,Kt,Oe)?(0,i.of)([]):en(pt);throw qn}))}processSegmentAgainstRoute(gt,H,pt,Kt,Oe,dn,qn){return function or(K,gt,H,pt){return!!(J(K)===pt||pt!==nt&&br(gt,H,K))&&("**"===K.path||ho(gt,K,H).matched)}(pt,Kt,Oe,dn)?void 0===pt.redirectTo?this.matchSegmentAgainstRoute(gt,Kt,pt,Oe,dn,qn):qn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(gt,Kt,H,pt,Oe,dn):en(Kt):en(Kt)}expandSegmentAgainstRouteUsingRedirect(gt,H,pt,Kt,Oe,dn){return"**"===Kt.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(gt,pt,Kt,dn):this.expandRegularSegmentAgainstRouteUsingRedirect(gt,H,pt,Kt,Oe,dn)}expandWildCardWithParamsAgainstRouteUsingRedirect(gt,H,pt,Kt){const Oe=this.applyRedirects.applyRedirectCommands([],pt.redirectTo,{});return pt.redirectTo.startsWith("/")?zn(Oe):this.applyRedirects.lineralizeSegments(pt,Oe).pipe((0,w.z)(dn=>{const qn=new Ft(dn,{});return this.processSegment(gt,H,qn,dn,Kt,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(gt,H,pt,Kt,Oe,dn){const{matched:qn,consumedSegments:Xn,remainingSegments:ki,positionalParamSegments:Ro}=ho(H,Kt,Oe);if(!qn)return en(H);const vr=this.applyRedirects.applyRedirectCommands(Xn,Kt.redirectTo,Ro);return Kt.redirectTo.startsWith("/")?zn(vr):this.applyRedirects.lineralizeSegments(Kt,vr).pipe((0,w.z)(Yo=>this.processSegment(gt,pt,H,Yo.concat(ki),dn,!1)))}matchSegmentAgainstRoute(gt,H,pt,Kt,Oe,dn){let qn;if("**"===pt.path){const Xn=Kt.length>0?k(Kt).parameters:{},ki=new qo(Kt,Xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jr(pt),J(pt),pt.component??pt._loadedComponent??null,pt,Hr(pt));qn=(0,i.of)({snapshot:ki,consumedSegments:[],remainingSegments:[]}),H.children={}}else qn=no(H,pt,Kt,gt).pipe((0,M.U)(({matched:Xn,consumedSegments:ki,remainingSegments:Ro,parameters:vr})=>Xn?{snapshot:new qo(ki,vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jr(pt),J(pt),pt.component??pt._loadedComponent??null,pt,Hr(pt)),consumedSegments:ki,remainingSegments:Ro}:null));return qn.pipe((0,U.w)(Xn=>null===Xn?en(H):this.getChildConfig(gt=pt._injector??gt,pt,Kt).pipe((0,U.w)(({routes:ki})=>{const Ro=pt._loadedInjector??gt,{snapshot:vr,consumedSegments:Yo,remainingSegments:ls}=Xn,{segmentGroup:hs,slicedSegments:gs}=ir(H,Yo,ls,ki);if(0===gs.length&&hs.hasChildren())return this.processChildren(Ro,ki,hs).pipe((0,M.U)(Ms=>null===Ms?null:[new Di(vr,Ms)]));if(0===ki.length&&0===gs.length)return(0,i.of)([new Di(vr,[])]);const Js=J(pt)===Oe;return this.processSegment(Ro,ki,hs,gs,Js?nt:Oe,!0).pipe((0,M.U)(Ms=>[new Di(vr,Ms)]))}))))}getChildConfig(gt,H,pt){return H.children?(0,i.of)({routes:H.children,injector:gt}):H.loadChildren?void 0!==H._loadedRoutes?(0,i.of)({routes:H._loadedRoutes,injector:H._loadedInjector}):function fr(K,gt,H,pt){const Kt=gt.canLoad;if(void 0===Kt||0===Kt.length)return(0,i.of)(!0);const Oe=Kt.map(dn=>{const qn=Io(dn,K);return yt(function On(K){return K&&pe(K.canLoad)}(qn)?qn.canLoad(gt,H):K.runInContext(()=>qn(gt,H)))});return(0,i.of)(Oe).pipe(ci(),Or())}(gt,H,pt).pipe((0,w.z)(Kt=>Kt?this.configLoader.loadChildren(gt,H).pipe((0,V.b)(Oe=>{H._loadedRoutes=Oe.routes,H._loadedInjector=Oe.injector})):function ti(K){return(0,v._)(Fi(!1,3))}())):(0,i.of)({routes:[],injector:gt})}}function Sr(K){const gt=K.value.routeConfig;return gt&&""===gt.path}function Zr(K){const gt=[],H=new Set;for(const pt of K){if(!Sr(pt)){gt.push(pt);continue}const Kt=gt.find(Oe=>pt.value.routeConfig===Oe.value.routeConfig);void 0!==Kt?(Kt.children.push(...pt.children),H.add(Kt)):gt.push(pt)}for(const pt of H){const Kt=Zr(pt.children);gt.push(new Di(pt.value,Kt))}return gt.filter(pt=>!H.has(pt))}function Jr(K){return K.data||{}}function Hr(K){return K.resolve||{}}function $r(K){return"string"==typeof K.title||null===K.title}function Qr(K){return(0,U.w)(gt=>{const H=K(gt);return H?(0,a.D)(H).pipe((0,M.U)(()=>gt)):(0,i.of)(gt)})}const Ar=new e.OlP("ROUTES");let wr=(()=>{class K{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(H){if(this.componentLoaders.get(H))return this.componentLoaders.get(H);if(H._loadedComponent)return(0,i.of)(H._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(H);const pt=yt(H.loadComponent()).pipe((0,M.U)(Tt),(0,V.b)(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(H),H._loadedComponent=Oe}),(0,ut.x)(()=>{this.componentLoaders.delete(H)})),Kt=new D.c(pt,()=>new y.x).pipe((0,Z.x)());return this.componentLoaders.set(H,Kt),Kt}loadChildren(H,pt){if(this.childrenLoaders.get(pt))return this.childrenLoaders.get(pt);if(pt._loadedRoutes)return(0,i.of)({routes:pt._loadedRoutes,injector:pt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(pt);const Oe=function G(K,gt,H,pt){return yt(K.loadChildren()).pipe((0,M.U)(Tt),(0,w.z)(Kt=>Kt instanceof e.YKP||Array.isArray(Kt)?(0,i.of)(Kt):(0,a.D)(gt.compileModuleAsync(Kt))),(0,M.U)(Kt=>{pt&&pt(K);let Oe,dn,qn=!1;return Array.isArray(Kt)?(dn=Kt,!0):(Oe=Kt.create(H).injector,dn=Oe.get(Ar,[],{optional:!0,self:!0}).flat()),{routes:dn.map(Qn),injector:Oe}}))}(pt,this.compiler,H,this.onLoadEndListener).pipe((0,ut.x)(()=>{this.childrenLoaders.delete(pt)})),dn=new D.c(Oe,()=>new y.x).pipe((0,Z.x)());return this.childrenLoaders.set(pt,dn),dn}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();function Tt(K){return function fe(K){return K&&"object"==typeof K&&"default"in K}(K)?K.default:K}let Jt=(()=>{class K{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new y.x,this.transitionAbortSubject=new y.x,this.configLoader=(0,e.f3M)(wr),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(Pe),this.rootContexts=(0,e.f3M)(un),this.inputBindingEnabled=null!==(0,e.f3M)(so,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,i.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Kt=>this.events.next(new ze(Kt)),this.configLoader.onLoadStartListener=Kt=>this.events.next(new Ie(Kt))}complete(){this.transitions?.complete()}handleNavigationRequest(H){const pt=++this.navigationId;this.transitions?.next({...this.transitions.value,...H,id:pt})}setupNavigations(H,pt,Kt){return this.transitions=new g.X({id:0,currentUrlTree:pt,currentRawUrl:pt,currentBrowserUrl:pt,extractedUrl:H.urlHandlingStrategy.extract(pt),urlAfterRedirects:H.urlHandlingStrategy.extract(pt),rawUrl:pt,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gi,restoredState:null,currentSnapshot:Kt.snapshot,targetSnapshot:null,currentRouterState:Kt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,S.h)(Oe=>0!==Oe.id),(0,M.U)(Oe=>({...Oe,extractedUrl:H.urlHandlingStrategy.extract(Oe.rawUrl)})),(0,U.w)(Oe=>{this.currentTransition=Oe;let dn=!1,qn=!1;return(0,i.of)(Oe).pipe((0,V.b)(Xn=>{this.currentNavigation={id:Xn.id,initialUrl:Xn.rawUrl,extractedUrl:Xn.extractedUrl,trigger:Xn.source,extras:Xn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,U.w)(Xn=>{const ki=Xn.currentBrowserUrl.toString(),Ro=!H.navigated||Xn.extractedUrl.toString()!==ki||ki!==Xn.currentUrlTree.toString();if(!Ro&&"reload"!==(Xn.extras.onSameUrlNavigation??H.onSameUrlNavigation)){const Yo="";return this.events.next(new se(Xn.id,this.urlSerializer.serialize(Xn.rawUrl),Yo,0)),Xn.resolve(null),C.E}if(H.urlHandlingStrategy.shouldProcessUrl(Xn.rawUrl))return(0,i.of)(Xn).pipe((0,U.w)(Yo=>{const ls=this.transitions?.getValue();return this.events.next(new fi(Yo.id,this.urlSerializer.serialize(Yo.extractedUrl),Yo.source,Yo.restoredState)),ls!==this.transitions?.getValue()?C.E:Promise.resolve(Yo)}),function hr(K,gt,H,pt,Kt,Oe){return(0,w.z)(dn=>function ur(K,gt,H,pt,Kt,Oe,dn="emptyOnly"){return new Ir(K,gt,H,pt,Kt,dn,Oe).recognize()}(K,gt,H,pt,dn.extractedUrl,Kt,Oe).pipe((0,M.U)(({state:qn,tree:Xn})=>({...dn,targetSnapshot:qn,urlAfterRedirects:Xn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,H.config,this.urlSerializer,H.paramsInheritanceStrategy),(0,V.b)(Yo=>{Oe.targetSnapshot=Yo.targetSnapshot,Oe.urlAfterRedirects=Yo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yo.urlAfterRedirects};const ls=new An(Yo.id,this.urlSerializer.serialize(Yo.extractedUrl),this.urlSerializer.serialize(Yo.urlAfterRedirects),Yo.targetSnapshot);this.events.next(ls)}));if(Ro&&H.urlHandlingStrategy.shouldProcessUrl(Xn.currentRawUrl)){const{id:Yo,extractedUrl:ls,source:hs,restoredState:gs,extras:Js}=Xn,Ms=new fi(Yo,this.urlSerializer.serialize(ls),hs,gs);this.events.next(Ms);const ya=gi(0,this.rootComponentType).snapshot;return this.currentTransition=Oe={...Xn,targetSnapshot:ya,urlAfterRedirects:ls,extras:{...Js,skipLocationChange:!1,replaceUrl:!1}},(0,i.of)(Oe)}{const Yo="";return this.events.next(new se(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),Yo,1)),Xn.resolve(null),C.E}}),(0,V.b)(Xn=>{const ki=new Ei(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects),Xn.targetSnapshot);this.events.next(ki)}),(0,M.U)(Xn=>(this.currentTransition=Oe={...Xn,guards:jo(Xn.targetSnapshot,Xn.currentSnapshot,this.rootContexts)},Oe)),function Hi(K,gt){return(0,w.z)(H=>{const{targetSnapshot:pt,currentSnapshot:Kt,guards:{canActivateChecks:Oe,canDeactivateChecks:dn}}=H;return 0===dn.length&&0===Oe.length?(0,i.of)({...H,guardsResult:!0}):function So(K,gt,H,pt){return(0,a.D)(K).pipe((0,w.z)(Kt=>function lr(K,gt,H,pt,Kt){const Oe=gt&&gt.routeConfig?gt.routeConfig.canDeactivate:null;if(!Oe||0===Oe.length)return(0,i.of)(!0);const dn=Oe.map(qn=>{const Xn=Et(gt)??Kt,ki=Io(qn,Xn);return yt(function ni(K){return K&&pe(K.canDeactivate)}(ki)?ki.canDeactivate(K,gt,H,pt):Xn.runInContext(()=>ki(K,gt,H,pt))).pipe((0,p.P)())});return(0,i.of)(dn).pipe(ci())}(Kt.component,Kt.route,H,gt,pt)),(0,p.P)(Kt=>!0!==Kt,!0))}(dn,pt,Kt,K).pipe((0,w.z)(qn=>qn&&function Be(K){return"boolean"==typeof K}(qn)?function Co(K,gt,H,pt){return(0,a.D)(gt).pipe((0,L.b)(Kt=>(0,m.z)(function nr(K,gt){return null!==K&&gt&&gt(new pn(K)),(0,i.of)(!0)}(Kt.route.parent,pt),function Xo(K,gt){return null!==K&&gt&&gt(new an(K)),(0,i.of)(!0)}(Kt.route,pt),function dr(K,gt,H){const pt=gt[gt.length-1],Oe=gt.slice(0,gt.length-1).reverse().map(dn=>function Nr(K){const gt=K.routeConfig?K.routeConfig.canActivateChild:null;return gt&&0!==gt.length?{node:K,guards:gt}:null}(dn)).filter(dn=>null!==dn).map(dn=>(0,h.P)(()=>{const qn=dn.guards.map(Xn=>{const ki=Et(dn.node)??H,Ro=Io(Xn,ki);return yt(function Gn(K){return K&&pe(K.canActivateChild)}(Ro)?Ro.canActivateChild(pt,K):ki.runInContext(()=>Ro(pt,K))).pipe((0,p.P)())});return(0,i.of)(qn).pipe(ci())}));return(0,i.of)(Oe).pipe(ci())}(K,Kt.path,H),function Lr(K,gt,H){const pt=gt.routeConfig?gt.routeConfig.canActivate:null;if(!pt||0===pt.length)return(0,i.of)(!0);const Kt=pt.map(Oe=>(0,h.P)(()=>{const dn=Et(gt)??H,qn=Io(Oe,dn);return yt(function Sn(K){return K&&pe(K.canActivate)}(qn)?qn.canActivate(gt,K):dn.runInContext(()=>qn(gt,K))).pipe((0,p.P)())}));return(0,i.of)(Kt).pipe(ci())}(K,Kt.route,H))),(0,p.P)(Kt=>!0!==Kt,!0))}(pt,Oe,K,gt):(0,i.of)(qn)),(0,M.U)(qn=>({...H,guardsResult:qn})))})}(this.environmentInjector,Xn=>this.events.next(Xn)),(0,V.b)(Xn=>{if(Oe.guardsResult=Xn.guardsResult,qe(Xn.guardsResult))throw Lo(0,Xn.guardsResult);const ki=new ji(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects),Xn.targetSnapshot,!!Xn.guardsResult);this.events.next(ki)}),(0,S.h)(Xn=>!!Xn.guardsResult||(this.cancelNavigationTransition(Xn,"",3),!1)),Qr(Xn=>{if(Xn.guards.canActivateChecks.length)return(0,i.of)(Xn).pipe((0,V.b)(ki=>{const Ro=new Ji(ki.id,this.urlSerializer.serialize(ki.extractedUrl),this.urlSerializer.serialize(ki.urlAfterRedirects),ki.targetSnapshot);this.events.next(Ro)}),(0,U.w)(ki=>{let Ro=!1;return(0,i.of)(ki).pipe(function zr(K,gt){return(0,w.z)(H=>{const{targetSnapshot:pt,guards:{canActivateChecks:Kt}}=H;if(!Kt.length)return(0,i.of)(H);let Oe=0;return(0,a.D)(Kt).pipe((0,L.b)(dn=>function Vr(K,gt,H,pt){const Kt=K.routeConfig,Oe=K._resolve;return void 0!==Kt?.title&&!$r(Kt)&&(Oe[At]=Kt.title),function os(K,gt,H,pt){const Kt=function Fr(K){return[...Object.keys(K),...Object.getOwnPropertySymbols(K)]}(K);if(0===Kt.length)return(0,i.of)({});const Oe={};return(0,a.D)(Kt).pipe((0,w.z)(dn=>function Wr(K,gt,H,pt){const Kt=Et(gt)??pt,Oe=Io(K,Kt);return yt(Oe.resolve?Oe.resolve(gt,H):Kt.runInContext(()=>Oe(gt,H)))}(K[dn],gt,H,pt).pipe((0,p.P)(),(0,V.b)(qn=>{Oe[dn]=qn}))),st(1),(0,u.h)(Oe),(0,et.K)(dn=>ue(dn)?C.E:(0,v._)(dn)))}(Oe,K,gt,pt).pipe((0,M.U)(dn=>(K._resolvedData=dn,K.data=Mo(K,H).resolve,Kt&&$r(Kt)&&(K.data[At]=Kt.title),null)))}(dn.route,pt,K,gt)),(0,V.b)(()=>Oe++),st(1),(0,w.z)(dn=>Oe===Kt.length?(0,i.of)(H):C.E))})}(H.paramsInheritanceStrategy,this.environmentInjector),(0,V.b)({next:()=>Ro=!0,complete:()=>{Ro||this.cancelNavigationTransition(ki,"",2)}}))}),(0,V.b)(ki=>{const Ro=new Wo(ki.id,this.urlSerializer.serialize(ki.extractedUrl),this.urlSerializer.serialize(ki.urlAfterRedirects),ki.targetSnapshot);this.events.next(Ro)}))}),Qr(Xn=>{const ki=Ro=>{const vr=[];Ro.routeConfig?.loadComponent&&!Ro.routeConfig._loadedComponent&&vr.push(this.configLoader.loadComponent(Ro.routeConfig).pipe((0,V.b)(Yo=>{Ro.component=Yo}),(0,M.U)(()=>{})));for(const Yo of Ro.children)vr.push(...ki(Yo));return vr};return(0,T.a)(ki(Xn.targetSnapshot.root)).pipe((0,ht.d)(),(0,R.q)(1))}),Qr(()=>this.afterPreactivation()),(0,M.U)(Xn=>{const ki=function cr(K,gt,H){const pt=Uo(K,gt._root,H?H._root:void 0);return new Vi(pt,gt)}(H.routeReuseStrategy,Xn.targetSnapshot,Xn.currentRouterState);return this.currentTransition=Oe={...Xn,targetRouterState:ki},Oe}),(0,V.b)(()=>{this.events.next(new bn)}),((K,gt,H,pt)=>(0,M.U)(Kt=>(new Si(gt,Kt.targetRouterState,Kt.currentRouterState,H,pt).activate(K),Kt)))(this.rootContexts,H.routeReuseStrategy,Xn=>this.events.next(Xn),this.inputBindingEnabled),(0,R.q)(1),(0,V.b)({next:Xn=>{dn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xt(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects))),H.titleStrategy?.updateTitle(Xn.targetRouterState.snapshot),Xn.resolve(!0)},complete:()=>{dn=!0}}),(0,I.R)(this.transitionAbortSubject.pipe((0,V.b)(Xn=>{throw Xn}))),(0,ut.x)(()=>{dn||qn||this.cancelNavigationTransition(Oe,"",1),this.currentNavigation?.id===Oe.id&&(this.currentNavigation=null)}),(0,et.K)(Xn=>{if(qn=!0,gn(Xn))this.events.next(new Ye(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),Xn.message,Xn.cancellationCode)),function Go(K){return gn(K)&&qe(K.url)}(Xn)?this.events.next(new ie(Xn.url)):Oe.resolve(!1);else{this.events.next(new Ve(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),Xn,Oe.targetSnapshot??void 0));try{Oe.resolve(H.errorHandler(Xn))}catch(ki){Oe.reject(ki)}}return C.E}))}))}cancelNavigationTransition(H,pt,Kt){const Oe=new Ye(H.id,this.urlSerializer.serialize(H.extractedUrl),pt,Kt);this.events.next(Oe),H.resolve(!1)}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();function Ze(K){return K!==Gi}let Vn=(()=>{class K{buildTitle(H){let pt,Kt=H.root;for(;void 0!==Kt;)pt=this.getResolvedTitleForRoute(Kt)??pt,Kt=Kt.children.find(Oe=>Oe.outlet===nt);return pt}getResolvedTitleForRoute(H){return H.data[At]}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:function(){return(0,e.f3M)(Kn)},providedIn:"root"})}}return K})(),Kn=(()=>{class K extends Vn{constructor(H){super(),this.title=H}updateTitle(H){const pt=this.buildTitle(H);void 0!==pt&&this.title.setTitle(pt)}static{this.\u0275fac=function(pt){return new(pt||K)(e.LFG(ot.Dx))}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})(),Ai=(()=>{class K{static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:function(){return(0,e.f3M)(Ao)},providedIn:"root"})}}return K})();class ko{shouldDetach(gt){return!1}store(gt,H){}shouldAttach(gt){return!1}retrieve(gt){return null}shouldReuseRoute(gt,H){return gt.routeConfig===H.routeConfig}}let Ao=(()=>{class K extends ko{static{this.\u0275fac=function(){let H;return function(Kt){return(H||(H=e.n5z(K)))(Kt||K)}}()}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();const Eo=new e.OlP("",{providedIn:"root",factory:()=>({})});let Xi=(()=>{class K{static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:function(){return(0,e.f3M)(Bo)},providedIn:"root"})}}return K})(),Bo=(()=>{class K{shouldProcessUrl(H){return!0}extract(H){return H}merge(H,pt){return H}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();var _o=function(K){return K[K.COMPLETE=0]="COMPLETE",K[K.FAILED=1]="FAILED",K[K.REDIRECTING=2]="REDIRECTING",K}(_o||{});function wo(K,gt){K.events.pipe((0,S.h)(H=>H instanceof Xt||H instanceof Ye||H instanceof Ve||H instanceof se),(0,M.U)(H=>H instanceof Xt||H instanceof se?_o.COMPLETE:H instanceof Ye&&(0===H.code||1===H.code)?_o.REDIRECTING:_o.FAILED),(0,S.h)(H=>H!==_o.REDIRECTING),(0,R.q)(1)).subscribe(()=>{gt()})}function Dr(K){throw K}function Er(K,gt,H){return gt.parse("/")}const kr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jo=(()=>{class K{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,e.f3M)(e.c2e),this.isNgZoneEnabled=!1,this._events=new y.x,this.options=(0,e.f3M)(Eo,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.HDt),this.errorHandler=this.options.errorHandler||Dr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Er,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,e.f3M)(Xi),this.routeReuseStrategy=(0,e.f3M)(Ai),this.titleStrategy=(0,e.f3M)(Vn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,e.f3M)(Ar,{optional:!0})?.flat()??[],this.navigationTransitions=(0,e.f3M)(Jt),this.urlSerializer=(0,e.f3M)(Pe),this.location=(0,e.f3M)(O.Ye),this.componentInputBindingEnabled=!!(0,e.f3M)(so,{optional:!0}),this.eventsSubscription=new E.w0,this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ot,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(H=>{this.lastSuccessfulId=H.id,this.currentPageId=this.browserPageId},H=>{this.console.warn(`Unhandled Navigation Error: ${H}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const H=this.navigationTransitions.events.subscribe(pt=>{try{const{currentTransition:Kt}=this.navigationTransitions;if(null===Kt)return void(xr(pt)&&this._events.next(pt));if(pt instanceof fi)Ze(Kt.source)&&(this.browserUrlTree=Kt.extractedUrl);else if(pt instanceof se)this.rawUrlTree=Kt.rawUrl;else if(pt instanceof An){if("eager"===this.urlUpdateStrategy){if(!Kt.extras.skipLocationChange){const Oe=this.urlHandlingStrategy.merge(Kt.urlAfterRedirects,Kt.rawUrl);this.setBrowserUrl(Oe,Kt)}this.browserUrlTree=Kt.urlAfterRedirects}}else if(pt instanceof bn)this.currentUrlTree=Kt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Kt.urlAfterRedirects,Kt.rawUrl),this.routerState=Kt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Kt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Kt),this.browserUrlTree=Kt.urlAfterRedirects);else if(pt instanceof Ye)0!==pt.code&&1!==pt.code&&(this.navigated=!0),(3===pt.code||2===pt.code)&&this.restoreHistory(Kt);else if(pt instanceof ie){const Oe=this.urlHandlingStrategy.merge(pt.url,Kt.currentRawUrl),dn={skipLocationChange:Kt.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ze(Kt.source)};this.scheduleNavigation(Oe,Gi,null,dn,{resolve:Kt.resolve,reject:Kt.reject,promise:Kt.promise})}pt instanceof Ve&&this.restoreHistory(Kt,!0),pt instanceof Xt&&(this.navigated=!0),xr(pt)&&this._events.next(pt)}catch(Kt){this.navigationTransitions.transitionAbortSubject.next(Kt)}});this.eventsSubscription.add(H)}resetRootComponentType(H){this.routerState.root.component=H,this.navigationTransitions.rootComponentType=H}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const H=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gi,H)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(H=>{const pt="popstate"===H.type?"popstate":"hashchange";"popstate"===pt&&setTimeout(()=>{this.navigateToSyncWithBrowser(H.url,pt,H.state)},0)}))}navigateToSyncWithBrowser(H,pt,Kt){const Oe={replaceUrl:!0},dn=Kt?.navigationId?Kt:null;if(Kt){const Xn={...Kt};delete Xn.navigationId,delete Xn.\u0275routerPageId,0!==Object.keys(Xn).length&&(Oe.state=Xn)}const qn=this.parseUrl(H);this.scheduleNavigation(qn,pt,dn,Oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(H){this.config=H.map(Qn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(H,pt={}){const{relativeTo:Kt,queryParams:Oe,fragment:dn,queryParamsHandling:qn,preserveFragment:Xn}=pt,ki=Xn?this.currentUrlTree.fragment:dn;let vr,Ro=null;switch(qn){case"merge":Ro={...this.currentUrlTree.queryParams,...Oe};break;case"preserve":Ro=this.currentUrlTree.queryParams;break;default:Ro=Oe||null}null!==Ro&&(Ro=this.removeEmptyProps(Ro));try{vr=ui(Kt?Kt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof H[0]||!H[0].startsWith("/"))&&(H=[]),vr=this.currentUrlTree.root}return eo(vr,H,Ro,ki??null)}navigateByUrl(H,pt={skipLocationChange:!1}){const Kt=qe(H)?H:this.parseUrl(H),Oe=this.urlHandlingStrategy.merge(Kt,this.rawUrlTree);return this.scheduleNavigation(Oe,Gi,null,pt)}navigate(H,pt={skipLocationChange:!1}){return function ar(K){for(let gt=0;gt<K.length;gt++)if(null==K[gt])throw new e.vHH(4008,!1)}(H),this.navigateByUrl(this.createUrlTree(H,pt),pt)}serializeUrl(H){return this.urlSerializer.serialize(H)}parseUrl(H){let pt;try{pt=this.urlSerializer.parse(H)}catch(Kt){pt=this.malformedUriErrorHandler(Kt,this.urlSerializer,H)}return pt}isActive(H,pt){let Kt;if(Kt=!0===pt?{...kr}:!1===pt?{...gr}:pt,qe(H))return z(this.currentUrlTree,H,Kt);const Oe=this.parseUrl(H);return z(this.currentUrlTree,Oe,Kt)}removeEmptyProps(H){return Object.keys(H).reduce((pt,Kt)=>{const Oe=H[Kt];return null!=Oe&&(pt[Kt]=Oe),pt},{})}scheduleNavigation(H,pt,Kt,Oe,dn){if(this.disposed)return Promise.resolve(!1);let qn,Xn,ki;dn?(qn=dn.resolve,Xn=dn.reject,ki=dn.promise):ki=new Promise((vr,Yo)=>{qn=vr,Xn=Yo});const Ro=this.pendingTasks.add();return wo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ro))}),this.navigationTransitions.handleNavigationRequest({source:pt,restoredState:Kt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:H,extras:Oe,resolve:qn,reject:Xn,promise:ki,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ki.catch(vr=>Promise.reject(vr))}setBrowserUrl(H,pt){const Kt=this.urlSerializer.serialize(H);if(this.location.isCurrentPathEqualTo(Kt)||pt.extras.replaceUrl){const dn={...pt.extras.state,...this.generateNgRouterState(pt.id,this.browserPageId)};this.location.replaceState(Kt,"",dn)}else{const Oe={...pt.extras.state,...this.generateNgRouterState(pt.id,this.browserPageId+1)};this.location.go(Kt,"",Oe)}}restoreHistory(H,pt=!1){if("computed"===this.canceledNavigationResolution){const Oe=this.currentPageId-this.browserPageId;0!==Oe?this.location.historyGo(Oe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Oe&&(this.resetState(H),this.browserUrlTree=H.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(pt&&this.resetState(H),this.resetUrlToCurrentUrlTree())}resetState(H){this.routerState=H.currentRouterState,this.currentUrlTree=H.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,H.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(H,pt){return"computed"===this.canceledNavigationResolution?{navigationId:H,\u0275routerPageId:pt}:{navigationId:H}}static{this.\u0275fac=function(pt){return new(pt||K)}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();function xr(K){return!(K instanceof bn||K instanceof ie)}let Tr=(()=>{class K{constructor(H,pt,Kt,Oe,dn,qn){this.router=H,this.route=pt,this.tabIndexAttribute=Kt,this.renderer=Oe,this.el=dn,this.locationStrategy=qn,this.href=null,this.commands=null,this.onChanges=new y.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Xn=dn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Xn||"area"===Xn,this.isAnchorElement?this.subscription=H.events.subscribe(ki=>{ki instanceof Xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(H){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",H)}ngOnChanges(H){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(H){null!=H?(this.commands=Array.isArray(H)?H:[H],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(H,pt,Kt,Oe,dn){return!!(null===this.urlTree||this.isAnchorElement&&(0!==H||pt||Kt||Oe||dn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const H=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",H)}applyAttributeValue(H,pt){const Kt=this.renderer,Oe=this.el.nativeElement;null!==pt?Kt.setAttribute(Oe,H,pt):Kt.removeAttribute(Oe,H)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(pt){return new(pt||K)(e.Y36(Jo),e.Y36(zi),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(O.S$))}}static{this.\u0275dir=e.lG2({type:K,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(pt,Kt){1&pt&&e.NdJ("click",function(dn){return Kt.onClick(dn.button,dn.ctrlKey,dn.shiftKey,dn.altKey,dn.metaKey)}),2&pt&&e.uIk("target",Kt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",e.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",e.VuI],replaceUrl:["replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}}return K})(),Zo=(()=>{class K{get isActive(){return this._isActive}constructor(H,pt,Kt,Oe,dn){this.router=H,this.element=pt,this.renderer=Kt,this.cdr=Oe,this.link=dn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=H.events.subscribe(qn=>{qn instanceof Xt&&this.update()})}ngAfterContentInit(){(0,i.of)(this.links.changes,(0,i.of)(null)).pipe((0,F.J)()).subscribe(H=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const H=[...this.links.toArray(),this.link].filter(pt=>!!pt).map(pt=>pt.onChanges);this.linkInputChangesSubscription=(0,a.D)(H).pipe((0,F.J)()).subscribe(pt=>{this._isActive!==this.isLinkActive(this.router)(pt)&&this.update()})}set routerLinkActive(H){const pt=Array.isArray(H)?H:H.split(" ");this.classes=pt.filter(Kt=>!!Kt)}ngOnChanges(H){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const H=this.hasActiveLinks();this._isActive!==H&&(this._isActive=H,this.cdr.markForCheck(),this.classes.forEach(pt=>{H?this.renderer.addClass(this.element.nativeElement,pt):this.renderer.removeClass(this.element.nativeElement,pt)}),H&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(H))})}isLinkActive(H){const pt=function rs(K){return!!K.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Kt=>!!Kt.urlTree&&H.isActive(Kt.urlTree,pt)}hasActiveLinks(){const H=this.isLinkActive(this.router);return this.link&&H(this.link)||this.links.some(H)}static{this.\u0275fac=function(pt){return new(pt||K)(e.Y36(Jo),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Tr,8))}}static{this.\u0275dir=e.lG2({type:K,selectors:[["","routerLinkActive",""]],contentQueries:function(pt,Kt,Oe){if(1&pt&&e.Suo(Oe,Tr,5),2&pt){let dn;e.iGM(dn=e.CRH())&&(Kt.links=dn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]})}}return K})();class wt{}let Yt=(()=>{class K{constructor(H,pt,Kt,Oe,dn){this.router=H,this.injector=Kt,this.preloadingStrategy=Oe,this.loader=dn}setUpPreloading(){this.subscription=this.router.events.pipe((0,S.h)(H=>H instanceof Xt),(0,L.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(H,pt){const Kt=[];for(const Oe of pt){Oe.providers&&!Oe._injector&&(Oe._injector=(0,e.MMx)(Oe.providers,H,`Route: ${Oe.path}`));const dn=Oe._injector??H,qn=Oe._loadedInjector??dn;(Oe.loadChildren&&!Oe._loadedRoutes&&void 0===Oe.canLoad||Oe.loadComponent&&!Oe._loadedComponent)&&Kt.push(this.preloadConfig(dn,Oe)),(Oe.children||Oe._loadedRoutes)&&Kt.push(this.processRoutes(qn,Oe.children??Oe._loadedRoutes))}return(0,a.D)(Kt).pipe((0,F.J)())}preloadConfig(H,pt){return this.preloadingStrategy.preload(pt,()=>{let Kt;Kt=pt.loadChildren&&void 0===pt.canLoad?this.loader.loadChildren(H,pt):(0,i.of)(null);const Oe=Kt.pipe((0,w.z)(dn=>null===dn?(0,i.of)(void 0):(pt._loadedRoutes=dn.routes,pt._loadedInjector=dn.injector,this.processRoutes(dn.injector??H,dn.routes))));if(pt.loadComponent&&!pt._loadedComponent){const dn=this.loader.loadComponent(pt);return(0,a.D)([Oe,dn]).pipe((0,F.J)())}return Oe})}static{this.\u0275fac=function(pt){return new(pt||K)(e.LFG(Jo),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(wt),e.LFG(wr))}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();const Te=new e.OlP("");let Cn=(()=>{class K{constructor(H,pt,Kt,Oe,dn={}){this.urlSerializer=H,this.transitions=pt,this.viewportScroller=Kt,this.zone=Oe,this.options=dn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},dn.scrollPositionRestoration=dn.scrollPositionRestoration||"disabled",dn.anchorScrolling=dn.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(H=>{H instanceof fi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=H.navigationTrigger,this.restoredId=H.restoredState?H.restoredState.navigationId:0):H instanceof Xt?(this.lastId=H.id,this.scheduleScrollEvent(H,this.urlSerializer.parse(H.urlAfterRedirects).fragment)):H instanceof se&&0===H.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(H,this.urlSerializer.parse(H.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(H=>{H instanceof Tn&&(H.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(H.position):H.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(H.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(H,pt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tn(H,"popstate"===this.lastSource?this.store[this.restoredId]:null,pt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(pt){e.$Z()}}static{this.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac})}}return K})();function di(K,...gt){return(0,e.MR2)([{provide:Ar,multi:!0,useValue:K},[],{provide:zi,useFactory:ro,deps:[Jo]},{provide:e.tb,multi:!0,useFactory:yi},gt.map(H=>H.\u0275providers)])}function ro(K){return K.routerState.root}function Mt(K,gt){return{\u0275kind:K,\u0275providers:gt}}function yi(){const K=(0,e.f3M)(e.zs3);return gt=>{const H=K.get(e.z2F);if(gt!==H.components[0])return;const pt=K.get(Jo),Kt=K.get(vt);1===K.get(b)&&pt.initialNavigation(),K.get(vn,null,e.XFs.Optional)?.setUpPreloading(),K.get(Te,null,e.XFs.Optional)?.init(),pt.resetRootComponentType(H.componentTypes[0]),Kt.closed||(Kt.next(),Kt.complete(),Kt.unsubscribe())}}const vt=new e.OlP("",{factory:()=>new y.x}),b=new e.OlP("",{providedIn:"root",factory:()=>1}),vn=new e.OlP("");function Nn(K){return Mt(0,[{provide:vn,useExisting:Yt},{provide:wt,useExisting:K}])}const Qo=new e.OlP("ROUTER_FORROOT_GUARD"),fo=[O.Ye,{provide:Pe,useClass:Ue},Jo,un,{provide:zi,useFactory:ro,deps:[Jo]},wr,[]];function _r(){return new e.PXZ("Router",Jo)}let q=(()=>{class K{constructor(H){}static forRoot(H,pt){return{ngModule:K,providers:[fo,[],{provide:Ar,multi:!0,useValue:H},{provide:Qo,useFactory:he,deps:[[Jo,new e.FiY,new e.tp0]]},{provide:Eo,useValue:pt||{}},pt?.useHash?{provide:O.S$,useClass:O.Do}:{provide:O.S$,useClass:O.b0},{provide:Te,useFactory:()=>{const K=(0,e.f3M)(O.EM),gt=(0,e.f3M)(e.R0b),H=(0,e.f3M)(Eo),pt=(0,e.f3M)(Jt),Kt=(0,e.f3M)(Pe);return H.scrollOffset&&K.setOffset(H.scrollOffset),new Cn(Kt,pt,K,gt,H)}},pt?.preloadingStrategy?Nn(pt.preloadingStrategy).\u0275providers:[],{provide:e.PXZ,multi:!0,useFactory:_r},pt?.initialNavigation?ri(pt):[],pt?.bindToComponentInputs?Mt(8,[Ko,{provide:so,useExisting:Ko}]).\u0275providers:[],[{provide:bi,useFactory:yi},{provide:e.tb,multi:!0,useExisting:bi}]]}}static forChild(H){return{ngModule:K,providers:[{provide:Ar,multi:!0,useValue:H}]}}static{this.\u0275fac=function(pt){return new(pt||K)(e.LFG(Qo,8))}}static{this.\u0275mod=e.oAB({type:K})}static{this.\u0275inj=e.cJS({})}}return K})();function he(K){return"guarded"}function ri(K){return["disabled"===K.initialNavigation?Mt(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const gt=(0,e.f3M)(Jo);return()=>{gt.setUpLocationChangeListener()}}},{provide:b,useValue:2}]).\u0275providers:[],"enabledBlocking"===K.initialNavigation?Mt(2,[{provide:b,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:gt=>{const H=gt.get(O.V_,Promise.resolve());return()=>H.then(()=>new Promise(pt=>{const Kt=gt.get(Jo),Oe=gt.get(vt);wo(Kt,()=>{pt(!0)}),gt.get(Jt).afterPreactivation=()=>(pt(!0),Oe.closed?(0,i.of)(void 0):Oe),Kt.initialNavigation()}))}}]).\u0275providers:[]]}const bi=new e.OlP("")},7319:(Qt,$,o)=>{"use strict";o.d($,{ny:()=>Di,jc:()=>mr});var e=o(6814),t=o(5879),a=o(7354),i=o(334),g=o(1534),T=o(1564),_=o(2527),m=o(5505),h=o(6669),f=o(9397),v=o(4664),C=o(2460),D=o(5619),y=o(3620),E=o(2181),O=o(6306),M=o(6232),U=o(2096),R=o(8645),A=o(2572),S=o(7234),w=o(8180),p=o(7398),L=o(6223),V=o(6593),et=o(1993),tt=o(4438),ht=o(3820);function it(gn,Yn){if(void 0!==gn.one&&1===Yn)return gn.one;var te=Yn%10,hn=Yn%100;return 1===te&&11!==hn?gn.singularNominative.replace("{{count}}",String(Yn)):te>=2&&te<=4&&(hn<10||hn>20)?gn.singularGenitive.replace("{{count}}",String(Yn)):gn.pluralGenitive.replace("{{count}}",String(Yn))}function It(gn){return function(Yn,te){return null!=te&&te.addSuffix?te.comparison&&te.comparison>0?gn.future?it(gn.future,Yn):"\u0447\u0435\u0440\u0435\u0437 "+it(gn.regular,Yn):gn.past?it(gn.past,Yn):it(gn.regular,Yn)+" \u043d\u0430\u0437\u0430\u0434":it(gn.regular,Yn)}}var st={lessThanXSeconds:It({regular:{one:"\u043c\u0435\u043d\u044c\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434\u044b",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434"},future:{one:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 \u0441\u0435\u043a\u0443\u043d\u0434\u0443",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0443",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434"}}),xSeconds:It({regular:{singularNominative:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0430",singularGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",pluralGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434"},past:{singularNominative:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043d\u0430\u0437\u0430\u0434",singularGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u043d\u0430\u0437\u0430\u0434",pluralGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434 \u043d\u0430\u0437\u0430\u0434"},future:{singularNominative:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0443",singularGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",pluralGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434"}}),halfAMinute:function(Yn,te){return null!=te&&te.addSuffix?te.comparison&&te.comparison>0?"\u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b":"\u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b \u043d\u0430\u0437\u0430\u0434":"\u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b"},lessThanXMinutes:It({regular:{one:"\u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u043c\u0438\u043d\u0443\u0442\u044b",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u043c\u0438\u043d\u0443\u0442",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u043c\u0438\u043d\u0443\u0442"},future:{one:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u0443",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u044b",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442"}}),xMinutes:It({regular:{singularNominative:"{{count}} \u043c\u0438\u043d\u0443\u0442\u0430",singularGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442\u044b",pluralGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442"},past:{singularNominative:"{{count}} \u043c\u0438\u043d\u0443\u0442\u0443 \u043d\u0430\u0437\u0430\u0434",singularGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442\u044b \u043d\u0430\u0437\u0430\u0434",pluralGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434"},future:{singularNominative:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u0443",singularGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u044b",pluralGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442"}}),aboutXHours:It({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0447\u0430\u0441\u0430",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0447\u0430\u0441\u043e\u0432",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0447\u0430\u0441\u043e\u0432"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441\u0430",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441\u043e\u0432"}}),xHours:It({regular:{singularNominative:"{{count}} \u0447\u0430\u0441",singularGenitive:"{{count}} \u0447\u0430\u0441\u0430",pluralGenitive:"{{count}} \u0447\u0430\u0441\u043e\u0432"}}),xDays:It({regular:{singularNominative:"{{count}} \u0434\u0435\u043d\u044c",singularGenitive:"{{count}} \u0434\u043d\u044f",pluralGenitive:"{{count}} \u0434\u043d\u0435\u0439"}}),aboutXWeeks:It({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043d\u0435\u0434\u0435\u043b\u0438",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043d\u0435\u0434\u0435\u043b\u044c",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043d\u0435\u0434\u0435\u043b\u044c"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043d\u0435\u0434\u0435\u043b\u044e",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043d\u0435\u0434\u0435\u043b\u0438",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043d\u0435\u0434\u0435\u043b\u044c"}}),xWeeks:It({regular:{singularNominative:"{{count}} \u043d\u0435\u0434\u0435\u043b\u044f",singularGenitive:"{{count}} \u043d\u0435\u0434\u0435\u043b\u0438",pluralGenitive:"{{count}} \u043d\u0435\u0434\u0435\u043b\u044c"}}),aboutXMonths:It({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043c\u0435\u0441\u044f\u0446\u0430",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0435\u0441\u044f\u0446",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0435\u0441\u044f\u0446\u0430",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432"}}),xMonths:It({regular:{singularNominative:"{{count}} \u043c\u0435\u0441\u044f\u0446",singularGenitive:"{{count}} \u043c\u0435\u0441\u044f\u0446\u0430",pluralGenitive:"{{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432"}}),aboutXYears:It({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0433\u043e\u0434\u0430",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043b\u0435\u0442",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043b\u0435\u0442"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043b\u0435\u0442"}}),xYears:It({regular:{singularNominative:"{{count}} \u0433\u043e\u0434",singularGenitive:"{{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"{{count}} \u043b\u0435\u0442"}}),overXYears:It({regular:{singularNominative:"\u0431\u043e\u043b\u044c\u0448\u0435 {{count}} \u0433\u043e\u0434\u0430",singularGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435 {{count}} \u043b\u0435\u0442",pluralGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435 {{count}} \u043b\u0435\u0442"},future:{singularNominative:"\u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434",singularGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043b\u0435\u0442"}}),almostXYears:It({regular:{singularNominative:"\u043f\u043e\u0447\u0442\u0438 {{count}} \u0433\u043e\u0434",singularGenitive:"\u043f\u043e\u0447\u0442\u0438 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u043f\u043e\u0447\u0442\u0438 {{count}} \u043b\u0435\u0442"},future:{singularNominative:"\u043f\u043e\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434",singularGenitive:"\u043f\u043e\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u043f\u043e\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u043b\u0435\u0442"}})};var bt=o(1820);const F={date:(0,bt.Z)({formats:{full:"EEEE, d MMMM y '\u0433.'",long:"d MMMM y '\u0433.'",medium:"d MMM y '\u0433.'",short:"dd.MM.y"},defaultWidth:"full"}),time:(0,bt.Z)({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:(0,bt.Z)({formats:{any:"{{date}}, {{time}}"},defaultWidth:"any"})};var ot=o(2816),nt=o(5163);function At(gn,Yn,te){(0,ot.Z)(2,arguments);var hn=(0,nt.Z)(gn,te),In=(0,nt.Z)(Yn,te);return hn.getTime()===In.getTime()}var Dt=["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043e\u0442\u0443"];function Nt(gn){var Yn=Dt[gn];return 2===gn?"'\u0432\u043e "+Yn+" \u0432' p":"'\u0432 "+Yn+" \u0432' p"}var Bt={lastWeek:function(Yn,te,hn){var In=Yn.getUTCDay();return At(Yn,te,hn)?Nt(In):function Wt(gn){var Yn=Dt[gn];switch(gn){case 0:return"'\u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u0435 "+Yn+" \u0432' p";case 1:case 2:case 4:return"'\u0432 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 "+Yn+" \u0432' p";case 3:case 5:case 6:return"'\u0432 \u043f\u0440\u043e\u0448\u043b\u0443\u044e "+Yn+" \u0432' p"}}(In)},yesterday:"'\u0432\u0447\u0435\u0440\u0430 \u0432' p",today:"'\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0432' p",tomorrow:"'\u0437\u0430\u0432\u0442\u0440\u0430 \u0432' p",nextWeek:function(Yn,te,hn){var In=Yn.getUTCDay();return At(Yn,te,hn)?Nt(In):function Rt(gn){var Yn=Dt[gn];switch(gn){case 0:return"'\u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 "+Yn+" \u0432' p";case 1:case 2:case 4:return"'\u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 "+Yn+" \u0432' p";case 3:case 5:case 6:return"'\u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e "+Yn+" \u0432' p"}}(In)},other:"P"};var yt=o(5408);const Ot={ordinalNumber:function(Yn,te){var hn=Number(Yn),In=te?.unit;return hn+("date"===In?"-\u0435":"week"===In||"minute"===In||"second"===In?"-\u044f":"-\u0439")},era:(0,yt.Z)({values:{narrow:["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],abbreviated:["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],wide:["\u0434\u043e \u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b","\u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b"]},defaultWidth:"wide"}),quarter:(0,yt.Z)({values:{narrow:["1","2","3","4"],abbreviated:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],wide:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"]},defaultWidth:"wide",argumentCallback:function(Yn){return Yn-1}}),month:(0,yt.Z)({values:{narrow:["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],abbreviated:["\u044f\u043d\u0432.","\u0444\u0435\u0432.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],wide:["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]},defaultWidth:"wide",formattingValues:{narrow:["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],abbreviated:["\u044f\u043d\u0432.","\u0444\u0435\u0432.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],wide:["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]},defaultFormattingWidth:"wide"}),day:(0,yt.Z)({values:{narrow:["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],short:["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],abbreviated:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0443\u0431"],wide:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"]},defaultWidth:"wide"}),dayPeriod:(0,yt.Z)({values:{narrow:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u043e",afternoon:"\u0434\u0435\u043d\u044c",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u044c"},abbreviated:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u043e",afternoon:"\u0434\u0435\u043d\u044c",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u044c"},wide:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d\u043e\u0447\u044c",noon:"\u043f\u043e\u043b\u0434\u0435\u043d\u044c",morning:"\u0443\u0442\u0440\u043e",afternoon:"\u0434\u0435\u043d\u044c",evening:"\u0432\u0435\u0447\u0435\u0440",night:"\u043d\u043e\u0447\u044c"}},defaultWidth:"any",formattingValues:{narrow:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043d\u044f",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u0438"},abbreviated:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043d\u044f",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u0438"},wide:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d\u043e\u0447\u044c",noon:"\u043f\u043e\u043b\u0434\u0435\u043d\u044c",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043d\u044f",evening:"\u0432\u0435\u0447\u0435\u0440\u0430",night:"\u043d\u043e\u0447\u0438"}},defaultFormattingWidth:"wide"})};var Ft=o(8722);const oe={code:"ru",formatDistance:function(Yn,te,hn){return st[Yn](te,hn)},formatLong:F,formatRelative:function(Yn,te,hn,In){var ai=Bt[Yn];return"function"==typeof ai?ai(te,hn,In):ai},localize:Ot,match:{ordinalNumber:(0,o(6314).Z)({matchPattern:/^(\d+)(-?(\u0435|\u044f|\u0439|\u043e\u0435|\u044c\u0435|\u0430\u044f|\u044c\u044f|\u044b\u0439|\u043e\u0439|\u0438\u0439|\u044b\u0439))?/i,parsePattern:/\d+/i,valueCallback:function(Yn){return parseInt(Yn,10)}}),era:(0,Ft.Z)({matchPatterns:{narrow:/^((\u0434\u043e )?\u043d\.?\s?\u044d\.?)/i,abbreviated:/^((\u0434\u043e )?\u043d\.?\s?\u044d\.?)/i,wide:/^(\u0434\u043e \u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b|\u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b|\u043d\u0430\u0448\u0430 \u044d\u0440\u0430)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^\u0434/i,/^\u043d/i]},defaultParseWidth:"any"}),quarter:(0,Ft.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234](-?[\u044b\u043e\u0438]?\u0439?)? \u043a\u0432.?/i,wide:/^[1234](-?[\u044b\u043e\u0438]?\u0439?)? \u043a\u0432\u0430\u0440\u0442\u0430\u043b/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(Yn){return Yn+1}}),month:(0,Ft.Z)({matchPatterns:{narrow:/^[\u044f\u0444\u043c\u0430\u0438\u0441\u043e\u043d\u0434]/i,abbreviated:/^(\u044f\u043d\u0432|\u0444\u0435\u0432|\u043c\u0430\u0440\u0442?|\u0430\u043f\u0440|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]?|\u0438\u044e\u043b[\u044c\u044f]?|\u0430\u0432\u0433|\u0441\u0435\u043d\u0442?|\u043e\u043a\u0442|\u043d\u043e\u044f\u0431?|\u0434\u0435\u043a)\.?/i,wide:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043b[\u044c\u044f]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u044f/i,/^\u0444/i,/^\u043c/i,/^\u0430/i,/^\u043c/i,/^\u0438/i,/^\u0438/i,/^\u0430/i,/^\u0441/i,/^\u043e/i,/^\u043d/i,/^\u044f/i],any:[/^\u044f/i,/^\u0444/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432/i,/^\u0441/i,/^\u043e/i,/^\u043d/i,/^\u0434/i]},defaultParseWidth:"any"}),day:(0,Ft.Z)({matchPatterns:{narrow:/^[\u0432\u043f\u0441\u0447]/i,short:/^(\u0432\u0441|\u0432\u043e|\u043f\u043d|\u043f\u043e|\u0432\u0442|\u0441\u0440|\u0447\u0442|\u0447\u0435|\u043f\u0442|\u043f\u044f|\u0441\u0431|\u0441\u0443)\.?/i,abbreviated:/^(\u0432\u0441\u043a|\u0432\u043e\u0441|\u043f\u043d\u0434|\u043f\u043e\u043d|\u0432\u0442\u0440|\u0432\u0442\u043e|\u0441\u0440\u0434|\u0441\u0440\u0435|\u0447\u0442\u0432|\u0447\u0435\u0442|\u043f\u0442\u043d|\u043f\u044f\u0442|\u0441\u0443\u0431).?/i,wide:/^(\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c[\u0435\u044f]|\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a\u0430?|\u0432\u0442\u043e\u0440\u043d\u0438\u043a\u0430?|\u0441\u0440\u0435\u0434[\u0430\u044b]|\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430?|\u043f\u044f\u0442\u043d\u0438\u0446[\u0430\u044b]|\u0441\u0443\u0431\u0431\u043e\u0442[\u0430\u044b])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u0432/i,/^\u043f/i,/^\u0432/i,/^\u0441/i,/^\u0447/i,/^\u043f/i,/^\u0441/i],any:[/^\u0432[\u043e\u0441]/i,/^\u043f[\u043e\u043d]/i,/^\u0432/i,/^\u0441\u0440/i,/^\u0447/i,/^\u043f[\u044f\u0442]/i,/^\u0441[\u0443\u0431]/i]},defaultParseWidth:"any"}),dayPeriod:(0,Ft.Z)({matchPatterns:{narrow:/^([\u0434\u043f]\u043f|\u043f\u043e\u043b\u043d\.?|\u043f\u043e\u043b\u0434\.?|\u0443\u0442\u0440[\u043e\u0430]|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0432\u0435\u0447\.?|\u043d\u043e\u0447[\u044c\u0438])/i,abbreviated:/^([\u0434\u043f]\u043f|\u043f\u043e\u043b\u043d\.?|\u043f\u043e\u043b\u0434\.?|\u0443\u0442\u0440[\u043e\u0430]|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0432\u0435\u0447\.?|\u043d\u043e\u0447[\u044c\u0438])/i,wide:/^([\u0434\u043f]\u043f|\u043f\u043e\u043b\u043d\u043e\u0447\u044c|\u043f\u043e\u043b\u0434\u0435\u043d\u044c|\u0443\u0442\u0440[\u043e\u0430]|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430?|\u043d\u043e\u0447[\u044c\u0438])/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^\u0434\u043f/i,pm:/^\u043f\u043f/i,midnight:/^\u043f\u043e\u043b\u043d/i,noon:/^\u043f\u043e\u043b\u0434/i,morning:/^\u0443/i,afternoon:/^\u0434[\u0435\u043d]/i,evening:/^\u0432/i,night:/^\u043d/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};var Ht=o(9673),xn=o(1912),ce=o(4221),me=o(5586),En=o(7582),_n=o(6266),Qe=o(8451),xe=o(247);function je(gn,Yn){if(1&gn){const te=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){t.CHM(te);const In=t.oxw();return t.KtG(In.cancel())}),t._UZ(3,"tui-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"span",5),t._uU(6),t.qZA(),t.TgZ(7,"span",6),t._uU(8),t.ALo(9,"async"),t.qZA()()(),t.TgZ(10,"div",7),t._UZ(11,"lib-dms-comments-list",8),t.qZA(),t.BQk()}if(2&gn){const te=Yn.ngIf,hn=t.oxw();t.xp6(6),t.Oqu(te.header),t.xp6(2),t.Oqu(t.lcZ(9,3,hn.commentsStore.commentsQuantity$)),t.xp6(3),t.Q6J("config",te)}}const ke=["tag"];function we(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){const ai=t.CHM(te).$implicit,Bi=t.oxw(4);return t.KtG(Bi.selectUser(ai))}),t._uU(1),t.qZA()}if(2&gn){const te=Yn.$implicit;t.xp6(1),t.hij(" ",te.fullName," ")}}function Ne(gn,Yn){if(1&gn&&(t.ynx(0),t.YNc(1,we,2,1,"div",10),t.BQk()),2&gn){const te=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",te.data)}}function Ke(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"tui-scrollbar")(1,"div",8),t.NdJ("scrolled",function(){t.CHM(te);const In=t.oxw(2);return t.KtG(In.usersListStore.fetchPage())}),t.YNc(2,Ne,2,1,"ng-container",9),t.qZA()()}if(2&gn){const te=t.oxw().ngIf;t.oxw();const hn=t.MAs(3);t.xp6(1),t.Q6J("immediateCheck",!0)("infiniteScrollThrottle",70)("infiniteScrollDistance",1)("scrollWindow",!1),t.xp6(1),t.Q6J("ngIf",null==te.data?null:te.data.length)("ngIfElse",hn)}}function qe(gn,Yn){if(1&gn&&(t.ynx(0),t.TgZ(1,"form",2)(2,"span",3)(3,"span",4),t._uU(4),t.qZA(),t._UZ(5,"span",5,6),t.qZA()(),t.YNc(7,Ke,3,6,"ng-template",null,7,t.W1O),t.BQk()),2&gn){const te=t.MAs(8),hn=t.oxw();t.xp6(1),t.Q6J("formGroup",hn.form),t.xp6(2),t.Q6J("tuiDropdown",te)("tuiDropdownManual",hn.openDropdown),t.xp6(1),t.hij(" ",hn.userTagPrefix," "),t.xp6(1),t.Q6J("formControl",hn.form.controls.search)}}function kn(gn,Yn){1&gn&&(t.TgZ(0,"div",12),t._uU(1,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),t.qZA())}const ui=["pseudoText"];function eo(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(te);const In=t.oxw();return t.KtG(In.cancel())}),t._UZ(1,"tui-icon",9),t.qZA()}}function Pn(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"div",10,11),t._UZ(2,"span",12),t.TgZ(3,"lib-dms-tag-user",13),t.NdJ("tagChanged",function(In){t.CHM(te);const ai=t.oxw();return t.KtG(ai.updateNewTagText(In))})("tagEnded",function(In){t.CHM(te);const ai=t.oxw();return t.KtG(ai.saveNewTag(In))}),t.qZA(),t._UZ(4,"span",12),t.qZA()}if(2&gn){const te=t.oxw();t.xp6(2),t.Q6J("innerHTML",te.safeHTML(te.textBeforeCursor),t.oJD),t.xp6(2),t.Q6J("innerHTML",te.safeHTML(te.textAfterCursor),t.oJD)}}const tn=function(gn){return{raised:gn}},ln=function(gn){return{hidden:gn}},Zn=["safeText"];function Jn(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(te);const In=t.oxw();return t.KtG(In.cancel())}),t._UZ(1,"tui-icon",10),t.TgZ(2,"span"),t._uU(3,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA()()}}const hi=function(gn){return{focused:gn}},ei=["commentText"],wi=function(gn){return{disabled:gn}};function oi(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(te);const In=t.oxw(3);return t.KtG(In.togglePin())}),t.ALo(1,"async"),t.ALo(2,"async"),t._UZ(3,"tui-icon",16),t.ALo(4,"async"),t.qZA()}if(2&gn){const te=t.oxw(3);t.Q6J("disabled",t.lcZ(1,3,te.pinButtonDisabled$))("ngClass",t.VKq(9,wi,t.lcZ(2,5,te.pinButtonDisabled$))),t.xp6(3),t.Q6J("icon",t.lcZ(4,7,te.pinned$)?"appIconPinnedComment":"appIconPinComment")}}function Li(gn,Yn){if(1&gn&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&gn){const te=t.oxw(4);t.xp6(1),t.hij(" (\u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e ",t.lcZ(2,1,te.comment.editDT),")")}}function mi(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"div",24)(1,"button",25),t.NdJ("click",function(){t.CHM(te);const In=t.oxw(4);return t.KtG(In.toggleTextShown())}),t._uU(2),t.ALo(3,"async"),t.qZA()()}if(2&gn){const te=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,1,te.textShown$)?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e"," ")}}const Zi=function(gn,Yn){return{"has-excess-text":gn,"show-excess-text":Yn}};function Qi(gn,Yn){if(1&gn&&(t.TgZ(0,"div",17),t.ALo(1,"async"),t.ALo(2,"async"),t.TgZ(3,"div",18,19),t._UZ(5,"span",20),t.YNc(6,Li,3,3,"span",21),t.qZA(),t.YNc(7,mi,4,3,"div",22),t.ALo(8,"async"),t.qZA()),2&gn){const te=t.oxw(3);t.Q6J("ngClass",t.WLB(10,Zi,t.lcZ(1,4,te.shouldHideExcessText$),t.lcZ(2,6,te.textShown$))),t.xp6(5),t.Q6J("innerHTML",te.safeHTML(te.getFormattedText(te.comment)),t.oJD),t.xp6(1),t.Q6J("ngIf",te.comment.editDT),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,8,te.shouldHideExcessText$))}}const Yi=function(gn){return{highlighted:gn}};function uo(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"lib-dms-add-comment",26),t.NdJ("submitted",function(In){t.CHM(te);const ai=t.oxw(3);return t.KtG(ai.finishEdit(In))})("cancelled",function(){t.CHM(te);const In=t.oxw(3);return t.KtG(In.cancelEdit())}),t.qZA()}if(2&gn){const te=t.oxw(3);t.Q6J("text",te.comment.commentText)("canCancel",!0)("ngClass",t.VKq(3,Yi,te.comment.pinned))}}function Ui(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(te);const In=t.oxw(4);return t.KtG(In.toggleShowRepliesForm())}),t._UZ(1,"tui-icon",31),t.TgZ(2,"span",32),t._uU(3,"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"),t.qZA()()}}function Ki(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(te);const In=t.oxw(4);return t.KtG(In.edit())}),t.ALo(1,"async"),t.ALo(2,"async"),t._UZ(3,"tui-icon",34),t.TgZ(4,"span"),t._uU(5,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),t.qZA()()}if(2&gn){const te=t.oxw(4);t.Q6J("disabled",t.lcZ(1,2,te.editMode$))("ngClass",t.VKq(6,wi,t.lcZ(2,4,te.editMode$)))}}function Gi(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(te);const In=t.oxw(4);return t.KtG(In.delete())}),t._UZ(1,"tui-icon",35),t.TgZ(2,"span"),t._uU(3,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()()}}function sn(gn,Yn){if(1&gn&&(t.TgZ(0,"div",27),t.YNc(1,Ui,4,0,"button",28),t.YNc(2,Ki,6,8,"button",29),t.ALo(3,"async"),t.YNc(4,Gi,4,0,"button",28),t.ALo(5,"async"),t.qZA()),2&gn){const te=t.oxw(2).ngIf,hn=t.oxw();t.xp6(1),t.Q6J("ngIf",te.canShowReplies),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,3,hn.canEdit$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,5,hn.canDelete$))}}function fi(gn,Yn){if(1&gn){const te=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"button",37),t.NdJ("click",function(){t.CHM(te);const In=t.oxw(4);return t.KtG(In.toggleShowReplies())}),t._uU(3),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"div",38),t._uU(6),t.qZA()(),t.BQk()}if(2&gn){const te=Yn.ngIf,hn=t.oxw(4);t.xp6(3),t.hij(" ",t.lcZ(4,2,hn.showReplies$)?"\u0421\u043a\u0440\u044b\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b"," "),t.xp6(3),t.hij(" ",te>999?"999+":te," ")}}function Xt(gn,Yn){if(1&gn&&(t.ynx(0),t.YNc(1,fi,7,4,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&gn){const te=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,te.repliesNumber$))}}function Ye(gn,Yn){if(1&gn){const te=t.EpF();t.TgZ(0,"div",41)(1,"lib-dms-add-comment",26),t.NdJ("submitted",function(In){t.CHM(te);const ai=t.oxw(4);return t.KtG(ai.addReply(In))})("cancelled",function(){t.CHM(te);const In=t.oxw(4);return t.KtG(In.toggleShowRepliesForm())}),t.qZA()()}if(2&gn){const te=t.oxw(4);t.xp6(1),t.Q6J("text",te.InvisibleSpace)("canCancel",!0)("ngClass",t.VKq(3,Yi,te.comment.pinned))}}function se(gn,Yn){1&gn&&(t.TgZ(0,"div",43),t._UZ(1,"tui-loader",44),t.qZA())}function Ve(gn,Yn){if(1&gn&&(t.ynx(0),t.YNc(1,se,2,0,"div",42),t.ALo(2,"async"),t.BQk()),2&gn){const te=t.oxw(4),hn=t.MAs(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,te.repliesLoading$))("ngIfElse",hn)}}function An(gn,Yn){if(1&gn&&(t.TgZ(0,"div",39),t.YNc(1,Ye,2,5,"div",40),t.ALo(2,"async"),t.YNc(3,Ve,3,4,"ng-container",0),t.ALo(4,"async"),t.qZA()),2&gn){const te=t.oxw(3);t.Q6J("ngClass",t.VKq(7,Yi,te.comment.pinned)),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,te.showRepliesForm$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,te.showReplies$))}}const Ei=function(gn){return{pinned:gn}};function ji(gn,Yn){if(1&gn&&(t.ynx(0),t.TgZ(1,"div",2),t.ALo(2,"async"),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA(),t.TgZ(7,"div",6),t._uU(8),t.qZA()(),t.TgZ(9,"div",7),t.YNc(10,oi,5,11,"button",8),t.qZA()(),t.TgZ(11,"div",9),t.YNc(12,Qi,9,13,"div",10),t.ALo(13,"async"),t.YNc(14,uo,1,5,"lib-dms-add-comment",11),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"div",12),t.YNc(17,sn,6,7,"div",13),t.YNc(18,Xt,3,3,"ng-container",0),t.qZA(),t.YNc(19,An,5,9,"div",14),t.ALo(20,"async"),t.qZA(),t.BQk()),2&gn){const te=t.oxw().ngIf,hn=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(17,Ei,te.highlightPinned&&t.lcZ(2,9,hn.pinned$))),t.xp6(5),t.Oqu(hn.comment.authorFullName),t.xp6(2),t.Oqu(hn.getFormattedDate(hn.comment.createDT)),t.xp6(2),t.Q6J("ngIf",te.canPin),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(13,11,hn.editMode$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,13,hn.editMode$)),t.xp6(3),t.Q6J("ngIf",te.showPrimaryActions),t.xp6(1),t.Q6J("ngIf",te.canShowReplies),t.xp6(1),t.Q6J("ngIf",te.canShowReplies&&t.lcZ(20,15,hn.showRepliesBlock$))}}function Ji(gn,Yn){if(1&gn&&(t.ynx(0),t.YNc(1,ji,21,19,"ng-container",0),t.BQk()),2&gn){const te=t.oxw();t.xp6(1),t.Q6J("ngIf",te.comment)}}function Wo(gn,Yn){if(1&gn&&(t.ynx(0),t._UZ(1,"lib-dms-comment",48),t.BQk()),2&gn){const te=Yn.$implicit,hn=t.oxw(3);t.xp6(1),t.Q6J("comment",te)("repliesListOrder",hn.repliesListOrder+1)}}const Ie=function(gn,Yn){return{"move-right":gn,"move-left":Yn}};function ze(gn,Yn){if(1&gn&&(t.TgZ(0,"div",46),t.YNc(1,Wo,2,2,"ng-container",47),t.qZA()),2&gn){const te=Yn.ngIf,hn=t.oxw(2);t.Q6J("ngClass",t.WLB(2,Ie,hn.shouldMoveLadderToRight,hn.shouldMoveLadderToLeft)),t.xp6(1),t.Q6J("ngForOf",te)}}function pn(gn,Yn){if(1&gn&&(t.YNc(0,ze,2,5,"div",45),t.ALo(1,"async")),2&gn){const te=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,te.repliesList$))}}function fn(gn,Yn){1&gn&&(t.TgZ(0,"div",6),t._UZ(1,"tui-loader",7),t.qZA())}function an(gn,Yn){if(1&gn){const te=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"lib-dms-add-comment",4),t.NdJ("submitted",function(In){t.CHM(te);const ai=t.oxw();return t.KtG(ai.addComment(In))}),t.qZA()(),t.YNc(4,fn,2,0,"div",5),t.ALo(5,"async"),t.qZA(),t.BQk()}if(2&gn){const te=t.oxw(),hn=t.MAs(3);t.xp6(4),t.Q6J("ngIf",t.lcZ(5,2,te.commentsStore.isLoading$))("ngIfElse",hn)}}function Mn(gn,Yn){1&gn&&t._UZ(0,"lib-dms-comment",13),2&gn&&t.Q6J("comment",Yn.$implicit)("repliesListOrder",1)}function Tn(gn,Yn){if(1&gn&&(t.TgZ(0,"div",11),t.YNc(1,Mn,1,2,"lib-dms-comment",12),t.qZA()),2&gn){const te=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",te)}}function bn(gn,Yn){if(1&gn&&(t.ynx(0),t.YNc(1,Tn,2,1,"div",10),t.BQk()),2&gn){const te=Yn.ngIf;t.xp6(1),t.Q6J("ngIf",te.length>0)}}function ie(gn,Yn){1&gn&&t._UZ(0,"lib-dms-comment",16),2&gn&&t.Q6J("comment",Yn.$implicit)("repliesListOrder",1)}function We(gn,Yn){if(1&gn&&(t.TgZ(0,"div",14),t.YNc(1,ie,1,2,"lib-dms-comment",15),t.qZA()),2&gn){const te=Yn.ngIf;t.xp6(1),t.Q6J("ngForOf",te)}}function Le(gn,Yn){if(1&gn&&(t.TgZ(0,"div",8),t.YNc(1,bn,2,1,"ng-container",0),t.ALo(2,"async"),t.YNc(3,We,2,1,"div",9),t.ALo(4,"async"),t.qZA()),2&gn){const te=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,te.commentsStore.pinnedCommentsList$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,te.commentsStore.commentsList$))}}class si{static getFormattedDate(Yn){return(0,tt.Z)((0,ht.Z)(Yn),"d MMMM y, HH:mm",{locale:oe})}static getCommentLink(Yn){if(!Yn.uid)return"";const te=window.location.href,hn=te.includes("?")?"&":"?";return`${te}${hn}commentId=${Yn.uid}`}static checkIfEdited(Yn){return!!Yn.editDT&&(0,ht.Z)(Yn.createDT).valueOf()!==(0,ht.Z)(Yn.editDT).valueOf()}static extractTagsFromText(Yn){const te=Yn.match(/\[\[(.+?)\]\]/g)||[],hn=[];return te.forEach((In,ai)=>{hn.push({fullName:In.replace("[[","").replace("]]",""),id:ai+1>=10?`${ai+1}`:`0${ai+1}`})}),hn}static formatTagsToBrackets(Yn){let te=Yn;return te=te.replaceAll(/(<span)(.+?)>@/g,"[["),te=te.replaceAll("</span>","]]"),te}static formatTagsForView(Yn,te){if(!te.length)return Yn;let hn=si.formatTagsToBrackets(Yn);return te.forEach(In=>{hn=hn.replace(/\[\[(.+?)\]\]/,`<span class="dms-user-tag" data-id="${In.id}" contenteditable="false">@${In.fullName}</span>`)}),hn}static findMaxInArr(Yn){return Yn.reduce((hn,In)=>Math.max(hn,In),Yn[0])}static getClientDate(){return(new Date).toISOString().slice(0,-5)+"Z"}}const Di=new t.OlP("Comments Api Service"),Vi={sourceCode:null,objectType:null,author:null,header:"",showPrimaryActions:!0,canEdit:!0,canDelete:!0,canGoToElement:!1,canCopyLink:!1,canPin:!1,canShowReplies:!1,highlightPinned:!1,maxRepliesLadderLevel:1,maxPinnedComments:3},gi={isLoading:!1,config:Vi,commentsList:[],pinnedCommentsList:[],copiedId:null,commentsQuantity:0,timezone:null};let Ni=(()=>{class gn extends Ht.m1{constructor(){super(gi),this.apiService=(0,t.f3M)(Di),this.isLoading$=this.select(te=>te.isLoading),this.config$=this.select(te=>te.config),this.commentsList$=this.select(te=>te.commentsList),this.pinnedCommentsList$=this.select(te=>te.pinnedCommentsList),this.copiedId$=this.select(te=>te.copiedId),this.commentsQuantity$=this.select(te=>te.commentsQuantity),this.timezone$=this.select(te=>te.timezone),this.updateConfig=this.updater((te,hn)=>{const In={...Vi,...hn};return{...te,config:{...te.config,...In}}}),this.setIsLoading=this.updater((te,hn)=>({...te,isLoading:hn})),this.setCommentsList=this.updater((te,hn)=>({...te,commentsList:hn})),this.setPinnedCommentsList=this.updater((te,hn)=>({...te,pinnedCommentsList:hn})),this.setCopiedId=this.updater((te,hn)=>({...te,copiedId:hn})),this.setCommentsQuantity=this.updater((te,hn)=>({...te,commentsQuantity:hn})),this.setTimezone=this.updater((te,hn)=>({...te,timezone:hn})),this.fetchCommentsList=this.effect(te=>te.pipe((0,f.b)(()=>this.setIsLoading(!0)),(0,v.w)(hn=>this.apiService.getComments({sourceCode:hn.sourceCode,objectType:hn.objectType,objectUId:hn.objectUId,objectId:hn.objectId||void 0}).pipe((0,f.b)(In=>{this.setCommentsList(In?.comments||[]),this.setCommentsQuantity(In?.infoPagination?.totalItems||0),this.setIsLoading(!1)}))))),this.fetchPinnedCommentsList=this.effect(te=>te.pipe((0,f.b)(()=>this.setIsLoading(!0)),(0,v.w)(hn=>this.apiService.getPinnedComments({sourceCode:hn.sourceCode,objectType:hn.objectType,objectUId:hn.objectUId,objectId:hn.objectId||void 0}).pipe((0,f.b)(In=>{this.setPinnedCommentsList(In?.comments||[]),this.setIsLoading(!1)}))))),this.addComment=this.effect(te=>te.pipe((0,C.M)(this.config$,this.timezone$),(0,v.w)(([hn,In,ai])=>this.apiService.addComment({sourceCode:In.sourceCode,objectType:In.objectType,objectUId:In.objectUId,objectId:In.objectId||void 0,author:In.author,commentText:hn,createDT:si.getClientDate(),createTZ:ai})),(0,f.b)(()=>{this.fetchCommentsList(this.config$),this.fetchPinnedCommentsList(this.config$)}))),this.addReply=this.effect(te=>te.pipe((0,C.M)(this.config$,this.timezone$),(0,v.w)(([hn,In,ai])=>this.apiService.addComment({sourceCode:In.sourceCode,objectType:In.objectType,objectUId:In.objectUId,objectId:In.objectId||void 0,author:In.author,commentText:hn.text,parentUId:hn.comment.uid,createDT:si.getClientDate(),createTZ:ai})),(0,f.b)(()=>{this.fetchCommentsList(this.config$),this.fetchPinnedCommentsList(this.config$)}))),this.editComment=this.effect(te=>te.pipe((0,C.M)(this.timezone$),(0,v.w)(([hn,In])=>this.apiService.editComment({uid:hn.comment.uid,commentText:hn.text,editDT:si.getClientDate(),editTZ:In})),(0,f.b)(()=>{this.fetchCommentsList(this.config$),this.fetchPinnedCommentsList(this.config$)}))),this.deleteComment=this.effect(te=>te.pipe((0,C.M)(this.timezone$),(0,v.w)(([hn,In])=>this.apiService.deleteComment({uid:hn.uid,isDeleted:!0,deleteDT:si.getClientDate(),deleteTZ:In})),(0,f.b)(()=>{this.fetchCommentsList(this.config$),this.fetchPinnedCommentsList(this.config$)}))),this.pinComment=this.effect(te=>te.pipe((0,C.M)(this.config$,this.timezone$),(0,v.w)(([hn,In,ai])=>this.apiService.togglePinComment({uid:hn.uid,isPinned:!hn.pinned,pinAuthor:In.author||"",pinDT:si.getClientDate(),pinTZ:ai})),(0,f.b)(()=>{this.fetchCommentsList(this.config$),this.fetchPinnedCommentsList(this.config$)})))}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275prov=t.Yz7({token:gn,factory:gn.\u0275fac,providedIn:"root"})}}return gn})(),zi=(()=>{class gn{constructor(){this.cursorPosition$=new D.X(0),this.range=null,this.selection=null}get cursorPosition(){return this.cursorPosition$.value}get currentRange(){return this.range}get currentSelection(){return this.selection}getCurrentRangeAndSelection(te){const hn=te.element?.nativeElement,In=window.getSelection()?.anchorNode,ai=new Range,Bi=window.getSelection()?.getRangeAt(0);ai.setStart(hn,0),ai.setEnd(In,Bi?.startOffset||0),window.getSelection()?.addRange(ai),this.range=ai,this.selection=window.getSelection()}getSelectionCursor(te){this.getCurrentRangeAndSelection(te);const hn=this.range?.cloneContents();let In=0;(hn?.childNodes).forEach(ao=>{ao.className?.includes("dms-user-tag")&&(In+=1)});const zo=(hn?.textContent||"").replaceAll("&nbsp;"," ").length+71*In;zo!==this.cursorPosition&&this.cursorPosition$.next(zo)}setCursorAfterTag(te,hn){const In=document.createRange();let ai;te.childNodes.forEach((No,zo)=>{No.dataset?.id===hn.id&&(ai=zo+1)}),ai||(ai=te.childNodes.length||0),In.selectNode(te),In.setStart(te,0),In.setEnd(te,ai);const Bi=window.getSelection();Bi?.removeAllRanges(),Bi?.addRange(In),Bi?.collapseToEnd()}setCursorAtEnd(te){const hn=document.createRange();hn.selectNode(te),hn.setStart(te,0),hn.setEnd(te,te.childNodes.length||0);const In=window.getSelection();In?.removeAllRanges(),In?.addRange(hn),In?.collapseToEnd()}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275prov=t.Yz7({token:gn,factory:gn.\u0275fac})}}return gn})();const io={page:0,pageSize:50,totalItems:null},qo={data:null,pagination:io,filter:"",isLoading:!1,error:null};let $o=(()=>{class gn extends Ht.m1{checkAvailableEntities(te,hn,In){return te+1>0&&(null===In||In>te*hn)}init(){this.fetchPage()}constructor(){super(qo),this.data$=this.select(te=>te.data),this.isLoading$=this.select(te=>te.isLoading),this.error$=this.select(te=>te.error),this.filter$=this.select(te=>te.filter),this.pagination$=this.select(te=>te.pagination),this.apiService=(0,t.f3M)(xn.USER_PROFILE_API_SERVICE_TOKEN),this.store=(0,t.f3M)(ce.yh),this.changeFilters=this.effect(te=>te.pipe((0,y.b)(500),(0,f.b)(hn=>{this.patchState(In=>({filter:hn||"",pagination:{...In.pagination,page:io.page,totalItems:io.totalItems}})),this.fetchPage()}))),this.fetchPage=this.effect(te=>te.pipe((0,C.M)(this.pagination$,this.filter$,this.store.select(xn.CurrentUserKeycloakProfileSelector)),(0,E.h)(([,{page:hn,pageSize:In,totalItems:ai}])=>this.checkAvailableEntities(hn,In,ai)),(0,f.b)(()=>this.patchState({isLoading:!0})),(0,v.w)(([,hn,In,ai])=>{const Bi={page:hn.page,pageSize:hn.pageSize,fullName:In,currentLogin:ai?.username};return this.apiService.getUsersList(Bi).pipe((0,Ht._b)(No=>{this.patchState(zo=>({isLoading:!1,error:null,data:0===Bi.page?No.items:[...zo.data||[],...No.items],pagination:{page:hn.page+1,pageSize:hn.pageSize,totalItems:No.totalItems}}))},()=>this.patchState({isLoading:!1})),(0,O.K)(No=>(this.patchState({isLoading:!1,error:No}),M.E)))})))}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275prov=t.Yz7({token:gn,factory:gn.\u0275fac})}}return gn})(),tr=(()=>{class gn{constructor(){this.commentsStore=(0,t.f3M)(Ni),this.context=(0,me.FQ)()}cancel(){this.context.$implicit.complete()}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275cmp=t.Xpm({type:gn,selectors:[["lib-dms-comments-popup"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"comments-popup__header"],["type","button","tuiIconButton","","appearance","action-grayscale","size","s",1,"close",3,"click"],["icon","@tui.x"],[1,"comments-popup__title-block"],[1,"comments-popup__title"],[1,"comments-popup__quantity"],[1,"comments-popup__content"],[3,"config"]],template:function(hn,In){1&hn&&t.YNc(0,je,12,5,"ng-container",0),2&hn&&t.Q6J("ngIf",In.context.data)},dependencies:function(){return[e.O5,e.Ov,g.R,Go]},styles:["[_nghost-%COMP%]{width:605px}.comments-popup__header[_ngcontent-%COMP%]{padding:16px;display:flex;height:68px;align-items:center;background-color:#fff;gap:16px}.comments-popup__title-block[_ngcontent-%COMP%]{gap:8px;display:flex;align-items:center}.comments-popup__title[_ngcontent-%COMP%]{font:400 22px/30px var(--tui-font-heading)}.comments-popup__quantity[_ngcontent-%COMP%]{padding:0 6px;height:18px;font-size:13px;line-height:16px;color:#4666f8;border:1px solid #4666f8;border-radius:36px}.close[_ngcontent-%COMP%]{width:36px;height:36px;background-color:#e2e2e2}.close[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:24px;height:24px}"],changeDetection:0})}}return gn})(),mr=(()=>{class gn{constructor(){this.updateCommentsQuantity=new t.vpe,this.destroyRef=(0,t.f3M)(t.ktI),this.injector=(0,t.f3M)(t.zs3),this.sheetService=(0,t.f3M)(a.q6),this.commentsStore=(0,t.f3M)(Ni)}openCommentsPopup(){this.sheetService.open(new me.Al(tr,this.injector),{data:this.config,closeable:!0}).pipe((0,et.sL)(this.destroyRef)).subscribe()}ngOnInit(){this.commentsStore.commentsQuantity$.pipe((0,et.sL)(this.destroyRef)).subscribe(te=>{this.updateCommentsQuantity.emit(te)})}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275dir=t.lG2({type:gn,selectors:[["","libDmsOpenCommentsPopup",""]],hostBindings:function(hn,In){1&hn&&t.NdJ("click",function(){return In.openCommentsPopup()})},inputs:{config:"config"},outputs:{updateCommentsQuantity:"updateCommentsQuantity"},standalone:!0})}}return gn})(),er=(()=>{class gn{constructor(){this.elementRef=(0,t.f3M)(t.SBq),this.renderer=(0,t.f3M)(t.Qsj),this.sanitizer=(0,t.f3M)(V.H7),this.sanitizeHTML=!1,this.onTouched=()=>{},this.onChange=()=>{}}onInput(){this.onChange(this.sanitizeHTML?this.processValue(this.elementRef.nativeElement.innerHTML):this.elementRef.nativeElement.innerHTML)}onBlur(){this.onTouched()}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}writeValue(te){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",this.sanitizeHTML?this.processValue(te):te)}processValue(te){return this.sanitizer.sanitize(t.q3G.HTML,te)??""}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275dir=t.lG2({type:gn,selectors:[["","libContenteditable","","formControlName",""],["","libContenteditable","","formControl",""],["","libContenteditable","","ngModel",""]],hostBindings:function(hn,In){1&hn&&t.NdJ("input",function(){return In.onInput()})("blur",function(){return In.onBlur()})},inputs:{sanitizeHTML:"sanitizeHTML"},standalone:!0,features:[t._Bn([{provide:L.JU,useExisting:(0,t.Gpc)(()=>gn),multi:!0}])]})}}return gn})();const po=new Date,Ti=new Date(po.getTime()+6e5),Wi=new Date(po.getTime()+36e6),so=new Date(po.getTime()+864e6),Ko=new Date(2024,8,1);po.toISOString(),Ko.toISOString(),Wi.toISOString(),po.toISOString(),Ti.toISOString(),Wi.toISOString(),so.toISOString(),Ko.toISOString(),Wi.toISOString(),so.toISOString();let qi=(()=>{class gn{manageKeydown(te){"Backspace"!==te?.key&&!this.openDropdown&&(this.openDropdown=!0),"Enter"===te?.key&&(te.preventDefault(),te.stopPropagation(),te.stopImmediatePropagation())}manageKeyup(te){"Backspace"===te?.key?!this.form.controls.fullName.value&&!this.form.controls.search.value&&(this.shouldDeleteTagOnNextBackspace?(this.tagEnded.emit(null),this.reset()):this.shouldDeleteTagOnNextBackspace=!0):this.shouldDeleteTagOnNextBackspace&&(this.shouldDeleteTagOnNextBackspace=!1)}get userTagPrefix(){return"@"}constructor(){this.destroyRef=(0,t.f3M)(t.ktI),this.formBuilder=(0,t.f3M)(L.qu),this.usersListStore=(0,t.f3M)($o),this.focus=!1,this.tagChanged=new t.vpe,this.tagEnded=new t.vpe,this.fullNameChanged=new t.vpe,this.form=this.formBuilder.group({search:new L.NI(null),fullName:new L.NI(null,{validators:[L.kI.required]})}),this.stringify=te=>te.fullName,this.fullNameMatcher=(te,hn)=>(0,_n.zy)(te.fullName,hn),this.openDropdown=!1,this.shouldDeleteTagOnNextBackspace=!1,(0,t.T8G)(()=>{setTimeout(()=>{this.$tag.nativeElement.focus()})})}ngOnInit(){this.usersListStore.init(),this.form.controls.search.valueChanges.pipe((0,et.sL)(this.destroyRef)).subscribe(te=>{te&&(this.tagChanged.emit(te),this.onSearchChange(te))})}submit(te){te&&(te.preventDefault(),te.stopPropagation(),te.stopImmediatePropagation()),this.tagEnded.emit(this.form.controls.fullName.value||null),this.reset()}reset(){this.form.controls.search.setValue(null,{emitEvent:!1}),this.form.controls.fullName.setValue(null,{emitEvent:!1}),this.openDropdown=!1,this.shouldDeleteTagOnNextBackspace=!1}onSearchChange(te){null!==te&&this.usersListStore.changeFilters((0,U.of)(te))}selectUser(te){this.form.controls.fullName.setValue(te,{emitEvent:!1}),this.submit()}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275cmp=t.Xpm({type:gn,selectors:[["lib-dms-tag-user"]],viewQuery:function(hn,In){if(1&hn&&t.Gf(ke,5),2&hn){let ai;t.iGM(ai=t.CRH())&&(In.$tag=ai.first)}},hostBindings:function(hn,In){1&hn&&t.NdJ("keydown",function(Bi){return In.manageKeydown(Bi)})("keyup",function(Bi){return In.manageKeyup(Bi)})},inputs:{focus:"focus"},outputs:{tagChanged:"tagChanged",tagEnded:"tagEnded",fullNameChanged:"fullNameChanged"},standalone:!0,features:[t._Bn([$o]),t.jDz],decls:4,vars:3,consts:[[4,"ngIf"],["empty",""],[1,"dms-user-tag__container",3,"formGroup"],[1,"dms-user-tag"],["tuiDropdownAppearance","select-user-tag-dropdown",3,"tuiDropdown","tuiDropdownManual"],["ngDefaultControl","","contenteditable","plaintext-only","libContenteditable","",1,"dms-user-tag__editable",3,"formControl"],["tag",""],["users",""],["tuiScrollable","","infiniteScroll","",1,"dms-user-tag__users-list","tui-zero-scrollbar",3,"immediateCheck","infiniteScrollThrottle","infiniteScrollDistance","scrollWindow","scrolled"],[4,"ngIf","ngIfElse"],["class","dms-user-tag__users-list--item",3,"click",4,"ngFor","ngForOf"],[1,"dms-user-tag__users-list--item",3,"click"],[1,"dms-user-tag__users-list--item"]],template:function(hn,In){1&hn&&(t.YNc(0,qe,9,5,"ng-container",0),t.ALo(1,"async"),t.YNc(2,kn,2,0,"ng-template",null,1,t.W1O)),2&hn&&t.Q6J("ngIf",t.lcZ(1,1,In.usersListStore.state$))},dependencies:function(){return[L.UX,L._Y,L.Fj,L.JJ,L.JL,L.oH,L.sg,er,e.Ov,e.O5,e.ax,T.D1,T.dx,xe.Rq,xe.Ry,i.Ek,i.td,i.nS]},styles:[".dms-user-tag__container[_ngcontent-%COMP%]{position:relative;z-index:1;padding-left:2px;display:inline-block}.dms-user-tag__editable[_ngcontent-%COMP%]{position:relative;z-index:1}.dms-user-tag__users-list[_ngcontent-%COMP%]{width:275px;max-height:132px}.dms-user-tag__users-list--item[_ngcontent-%COMP%]{padding:6px 0 6px 12px;font-size:13px;cursor:pointer}.dms-user-tag__users-list.tui-zero-scrollbar[_ngcontent-%COMP%]{overflow:auto;height:100%}.hidden[_ngcontent-%COMP%]{position:absolute;z-index:-1;display:inline-block;overflow:hidden;width:0;height:0;opacity:0}"],changeDetection:0})}}return(0,En.gn)([Qe.UM],gn.prototype,"userTagPrefix",null),gn})(),xo=(()=>{class gn{constructor(){this.destroyRef=(0,t.f3M)(t.ktI),this.elementRef=(0,t.f3M)(t.SBq),this.changeDetectorRef=(0,t.f3M)(t.sBO),this.sanitizer=(0,t.f3M)(V.H7),this.customCursorPositionService=(0,t.f3M)(zi),this.text="",this.submitted=new t.vpe,this.textChanged=new t.vpe,this.focusChanged=new t.vpe,this.form=new L.cw({text:new L.NI(void 0)}),this.tagInEdit=!1,this.setInitalFocus=!1,this.textBeforeCursor="",this.textAfterCursor="",this.tagsList=[],this.textareaHasValue$=new D.X(!1),this.textareaIsActive$=new D.X(!1),this.newTagText=""}manageShiftDigit2Keydown(te){this.startNewTag(te)}manageBackspaceKeydown(te){this.onBackspaceKeydown(te)}manageBackspaceKeyup(te){this.onBackspaceKeyup(te)}clickOut(te){if(!te||!te.target)return;this.tagInEdit&&!this.newTagText&&this.finishEditNewTag();const hn=te.target?.classList?.value;!this.elementRef.nativeElement.contains(te.target)&&!hn?.includes("dms-user-tag")&&(!this.tagInEdit||!this.newTagText)&&(this.focusChanged.emit(!1),this.textareaIsActive$.next(!1))}ngOnInit(){this.tagsList=si.extractTagsFromText(this.text||""),this.updateControlWithFormattedText(this.text||""),this.customCursorPositionService.setCursorAtEnd(this.$pseudoText.element.nativeElement),this.form.controls.text.valueChanges.pipe((0,et.sL)(this.destroyRef)).subscribe(te=>{"<br>"===te&&this.form.controls.text.setValue("",{emitEvent:!1});const hn=this.form.controls.text.value;this.textareaHasValue$.next(!!hn),this.textChanged.emit(hn||"")}),this.shouldReset$?.pipe((0,et.sL)(this.destroyRef)).subscribe(()=>{this.cancel()}),this.submitClicked$?.pipe((0,et.sL)(this.destroyRef)).subscribe(()=>{this.beforeSumbit()})}ngOnDestroy(){this.finishEditNewTag(),this.focusChanged.emit(!1),this.textareaIsActive$.next(!1)}onTextareaClick(te){te.preventDefault(),te.stopPropagation(),te.stopImmediatePropagation(),this.customCursorPositionService.getSelectionCursor(this.$pseudoText),this.focusChanged.emit(!0),this.textareaIsActive$.next(!0)}onBackspaceKeydown(te){this.tagInEdit&&!this.newTagText&&(te.preventDefault(),te.stopPropagation(),te.stopImmediatePropagation(),this.finishEditNewTag())}onBackspaceKeyup(te){if(!(te.target?.classList?.value||"").includes("pseudo-textarea__text")||this.tagInEdit)return;let ai=[];if(this.$pseudoText.element.nativeElement.childNodes.forEach(No=>{const zo=No;zo.className?.includes("dms-user-tag")&&(ai=[...ai,zo])}),ai.length===this.tagsList.length)return;const Bi=this.tagsList.filter(No=>!ai.find(zo=>zo.dataset?.id===No.id))?.[0];Bi&&(this.tagsList=this.tagsList.filter(No=>No.id!==Bi.id))}startNewTag(te){te.preventDefault(),te.stopPropagation(),te.stopImmediatePropagation(),this.tagInEdit&&this.finishEditNewTag(),this.customCursorPositionService.getSelectionCursor(this.$pseudoText);const hn=this.customCursorPositionService.cursorPosition;let In=this.form.controls.text.value||"";In=In.replaceAll("&nbsp;"," "),this.textBeforeCursor=In.slice(0,hn),this.textAfterCursor=In.slice(hn,In.length),this.tagInEdit=!0,this.setInitalFocus=!0,this.focusChanged.emit(!0),this.textareaIsActive$.next(!0)}updateNewTagText(te){this.newTagText=te}saveNewTag(te){if(!this.tagInEdit)return;if(!te)return void this.finishEditNewTag();const hn=(this.textBeforeCursor.match(/(<span)/g)||[]).length,In=hn>=0?hn:0,ai=this.tagsList.length>0?si.findMaxInArr(this.tagsList.map(No=>Number(No.id)))+1:1,Bi={fullName:te.fullName,login:te.login,id:ai>=10?`${ai}`:`0${ai}`};this.tagsList=[...this.tagsList.slice(0,In),Bi,...this.tagsList.slice(In)],this.textBeforeCursor&&(this.textBeforeCursor=`${this.textBeforeCursor} `),this.textAfterCursor=this.textAfterCursor?`&nbsp; ${this.textAfterCursor}`:"&nbsp; ",this.updateControlWithFormattedText(`${this.textBeforeCursor}[[${te.fullName}]]${this.textAfterCursor}`),this.customCursorPositionService.setCursorAfterTag(this.$pseudoText.element.nativeElement,Bi),this.focusChanged.emit(!0),this.textareaIsActive$.next(!0),this.finishEditNewTag()}finishEditNewTag(){this.setInitalFocus=!1,this.tagInEdit=!1,this.newTagText="",this.textBeforeCursor="",this.textAfterCursor=""}updateControlWithFormattedText(te){const hn=si.formatTagsForView(te,this.tagsList);this.form.controls.text.setValue(hn,{emitEvent:!1}),this.textareaHasValue$.next(!!hn),this.changeDetectorRef.detectChanges()}safeHTML(te){return this.sanitizer.bypassSecurityTrustHtml(te)}beforeSumbit(){this.tagInEdit&&!this.newTagText&&this.finishEditNewTag(),this.focusChanged.emit(!1),this.textareaIsActive$.next(!1),this.submitted.emit(this.$pseudoText.element.nativeElement.innerHTML)}cancel(){this.finishEditNewTag(),this.form.controls.text.setValue(""),this.textareaHasValue$.next(!1)}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275cmp=t.Xpm({type:gn,selectors:[["lib-dms-custom-textarea"]],viewQuery:function(hn,In){if(1&hn&&t.Gf(ui,5,t.s_b),2&hn){let ai;t.iGM(ai=t.CRH())&&(In.$pseudoText=ai.first)}},hostBindings:function(hn,In){1&hn&&t.NdJ("keydown.shift.code.digit2",function(Bi){return In.manageShiftDigit2Keydown(Bi)})("keydown.backspace",function(Bi){return In.manageBackspaceKeydown(Bi)})("keyup.backspace",function(Bi){return In.manageBackspaceKeyup(Bi)})("click",function(Bi){return In.clickOut(Bi)},!1,t.evT)},inputs:{text:"text",shouldReset$:"shouldReset$",submitClicked$:"submitClicked$"},outputs:{submitted:"submitted",textChanged:"textChanged",focusChanged:"focusChanged"},standalone:!0,features:[t._Bn([zi]),t.jDz],decls:12,vars:16,consts:[[1,"pseudo-textarea",3,"formGroup"],["class","close","type","button","tuiIconButton","","appearance","action-grayscale","size","m",3,"click",4,"ngIf"],[1,"pseudo-textarea__text-block"],["container",""],[1,"placeholder",3,"ngClass"],["ngDefaultControl","","id","pseudo-text","contenteditable","plaintext-only","libContenteditable","",1,"pseudo-textarea__text",3,"ngClass","formControl","click"],["pseudoText",""],["class","pseudo-textarea__tag-block",4,"ngIf"],["type","button","tuiIconButton","","appearance","action-grayscale","size","m",1,"close",3,"click"],["icon","@tui.x"],[1,"pseudo-textarea__tag-block"],["tagsBlock",""],[1,"pseudo-textarea__surround",3,"innerHTML"],[3,"tagChanged","tagEnded"]],template:function(hn,In){1&hn&&(t.TgZ(0,"form",0),t.YNc(1,eo,2,0,"button",1),t.ALo(2,"async"),t.TgZ(3,"div",2,3)(5,"span",4),t.ALo(6,"async"),t.ALo(7,"async"),t._uU(8," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 "),t.qZA(),t.TgZ(9,"div",5,6),t.NdJ("click",function(Bi){return In.onTextareaClick(Bi)}),t.qZA(),t.YNc(11,Pn,5,2,"div",7),t.qZA()()),2&hn&&(t.Q6J("formGroup",In.form),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,6,In.textareaHasValue$)),t.xp6(4),t.Q6J("ngClass",t.VKq(12,tn,t.lcZ(6,8,In.textareaHasValue$)||t.lcZ(7,10,In.textareaIsActive$))),t.xp6(4),t.Q6J("ngClass",t.VKq(14,ln,In.tagInEdit))("formControl",In.form.controls.text),t.xp6(2),t.Q6J("ngIf",In.tagInEdit))},dependencies:function(){return[L.UX,L._Y,L.Fj,L.JJ,L.JL,L.oH,L.sg,er,qi,e.mk,e.O5,_.xG,g.R,e.Ov]},styles:[".pseudo-textarea[_ngcontent-%COMP%]{position:relative;display:block}.pseudo-textarea__text-block[_ngcontent-%COMP%]{position:relative;z-index:1;padding:18px 30px 0 0;overflow-y:auto;min-height:37px;line-height:18px;letter-spacing:0;overflow-wrap:anywhere}.pseudo-textarea__text[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:18px;max-height:144px;color:#393939}.hidden[_ngcontent-%COMP%]{position:absolute;z-index:-1;display:inline-block;overflow:hidden;width:0;height:0;opacity:0}.close[_ngcontent-%COMP%]{position:absolute;z-index:5;top:4px;right:-2px;width:24px;height:24px}.placeholder[_ngcontent-%COMP%]{position:absolute;z-index:5;top:9px;display:inline-block;font-size:13px;color:#7f7f7f;transition:all .1s ease-in-out}.placeholder.raised[_ngcontent-%COMP%]{top:-2px}"],changeDetection:0})}}return gn})(),Lo=(()=>{class gn{constructor(){this.sanitizer=(0,t.f3M)(V.H7),this.changeDetectorRef=(0,t.f3M)(t.sBO),this.text="",this.canCancel=!1,this.submitted=new t.vpe,this.cancelled=new t.vpe,this.form=new L.cw({comment:new L.NI("",{nonNullable:!0,validators:[L.kI.required]})}),this.focused$=new D.X(!1),this.unsafeText$=new D.X(null),this.shouldClearTextarea$=new R.x,this.submitClicked$=new R.x,(0,t.T8G)(()=>{setTimeout(()=>{this.text&&(this.toggleTextareaFocus(!0),this.changeDetectorRef.detectChanges())})})}ngOnInit(){this.text&&this.form.controls.comment.setValue(this.text,{emitEvent:!1})}onTextareaChanged(te){this.form.controls.comment.setValue(te,{emitEvent:!1})}submitClick(){this.submitClicked$.next()}submitEvent(te){this.unsafeText$.next(te),setTimeout(()=>{const hn=this.$safeText?.element?.nativeElement?.innerHTML;this.submitted.emit(hn),this.unsafeText$.next(null),this.$safeText.element.nativeElement.innerHTML="",this.reset()},0)}cancel(){this.cancelled.emit(!0),this.reset()}reset(){this.form.controls.comment.setValue("",{emitEvent:!1}),this.shouldClearTextarea$.next()}toggleTextareaFocus(te){this.focused$.next(te)}safeHTML(te){return te?this.sanitizer.bypassSecurityTrustHtml(te):null}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275cmp=t.Xpm({type:gn,selectors:[["lib-dms-add-comment"]],viewQuery:function(hn,In){if(1&hn&&t.Gf(Zn,5,t.s_b),2&hn){let ai;t.iGM(ai=t.CRH())&&(In.$safeText=ai.first)}},inputs:{text:"text",canCancel:"canCancel"},outputs:{submitted:"submitted",cancelled:"cancelled"},standalone:!0,features:[t.jDz],decls:11,vars:12,consts:[[1,"add-comment-form__container",3,"formGroup","ngClass"],[1,"add-comment-form__textarea-block",3,"click"],[3,"text","shouldReset$","submitClicked$","submitted","textChanged","focusChanged"],[1,"hidden",3,"innerHTML"],["safeText",""],[1,"add-comment-form__divider"],[1,"add-comment-form__buttons"],["tuiButton","","type","button","class","add-comment-form__button cancel","appearance","link-gray",3,"click",4,"ngIf"],["tuiLink","","type","button",1,"add-comment-form__button",3,"disabled","click"],["tuiButton","","type","button","appearance","link-gray",1,"add-comment-form__button","cancel",3,"click"],["icon","@tui.x"]],template:function(hn,In){1&hn&&(t.TgZ(0,"form",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.NdJ("click",function(){return In.toggleTextareaFocus(!0)}),t.TgZ(3,"lib-dms-custom-textarea",2),t.NdJ("submitted",function(Bi){return In.submitEvent(Bi)})("textChanged",function(Bi){return In.onTextareaChanged(Bi)})("focusChanged",function(Bi){return In.toggleTextareaFocus(Bi)}),t.qZA(),t._UZ(4,"span",3,4),t.qZA(),t._UZ(6,"div",5),t.TgZ(7,"div",6),t.YNc(8,Jn,4,0,"button",7),t.TgZ(9,"button",8),t.NdJ("click",function(){return In.submitClick()}),t._uU(10," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),t.qZA()()()),2&hn&&(t.Q6J("formGroup",In.form)("ngClass",t.VKq(10,hi,t.lcZ(1,8,In.focused$))),t.xp6(3),t.Q6J("text",In.text)("shouldReset$",In.shouldClearTextarea$)("submitClicked$",In.submitClicked$),t.xp6(1),t.Q6J("innerHTML",In.safeHTML(In.unsafeText$.value),t.oJD),t.xp6(4),t.Q6J("ngIf",In.canCancel),t.xp6(1),t.Q6J("disabled",In.form.controls.comment.invalid))},dependencies:[L.UX,L._Y,L.JL,L.sg,m.lI,g.R,_.xG,e.O5,e.mk,xo,e.Ov],styles:[".add-comment-form__container[_ngcontent-%COMP%]{padding:6px 12px;display:flex;flex-direction:column;background-color:#0000000d;border-radius:12px}.add-comment-form__container.focused[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px #5876ff}.add-comment-form__textarea-block[_ngcontent-%COMP%]{position:relative;z-index:1;padding-bottom:8px}.add-comment-form__textarea[_ngcontent-%COMP%]{position:relative;z-index:5;min-height:37px}.add-comment-form__divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#d9d9d9}.add-comment-form__buttons[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:flex-end;align-items:center;gap:12px}.add-comment-form__button[_ngcontent-%COMP%]{height:18px}.add-comment-form__button.cancel[_ngcontent-%COMP%]{font-size:13px}.add-comment-form__button.cancel[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:16px;height:16px}.hidden[_ngcontent-%COMP%]{position:absolute;z-index:-1;display:inline-block;overflow:hidden;width:0;height:0;opacity:0}"],changeDetection:0})}}return gn})(),Fi=(()=>{class gn{constructor(){this.commentsStore=(0,t.f3M)(Ni),this.apiService=(0,t.f3M)(Di),this.destroyRef=(0,t.f3M)(t.ktI),this.sanitizer=(0,t.f3M)(V.H7),this.profileStore=(0,t.f3M)(ce.yh),this.canEdit$=new D.X(!1),this.canDelete$=new D.X(!1),this.shouldHideExcessText$=new D.X(!1),this.textShown$=new D.X(!1),this.editMode$=new D.X(!1),this.isEdited$=new D.X(!1),this.canReply$=new D.X(!1),this.repliesLoading$=new D.X(!1),this.canShowReplies$=new D.X(!1),this.repliesNumber$=new D.X(0),this.showRepliesBlock$=new D.X(!1),this.showRepliesForm$=new D.X(!1),this.showReplies$=new D.X(!1),this.repliesList$=new D.X(null),this.pinned$=new D.X(!1),this.pinButtonDisabled$=new D.X(!1),this.commentTextMaxHeight=76,this.InvisibleSpace="\u200e",this.currentLadderOrder=1,this.shouldMoveLadderToLeft=!1,this.shouldMoveLadderToRight=!1,this.tagsList=[],(0,t.T8G)(()=>{setTimeout(()=>{this.updateHideExcessText()},0)})}getFormattedText(te){return si.formatTagsForView(te.commentText,this.tagsList)}ngOnInit(){this.tagsList=si.extractTagsFromText(this.comment.commentText||""),(0,A.a)([this.commentsStore.pinnedCommentsList$,this.commentsStore.config$]).pipe((0,S.n)(([te,hn])=>!te||!hn),(0,et.sL)(this.destroyRef)).subscribe(([te,hn])=>{this.setIsPinnedAndIsPinButtonDisabled(te,hn)}),this.updateRepliesOnInit(),this.commentsStore.config$.pipe((0,S.n)(te=>!te),(0,w.q)(1),(0,et.sL)(this.destroyRef),(0,C.M)(this.profileStore.select(xn.CurrentUserKeycloakProfileSelector).pipe((0,S.n)(te=>!te||!te.username),(0,w.q)(1)))).subscribe(([te,hn])=>{const In=xn.UserProfileUtilsClass.compareLogins(this.comment.author,hn?.username);this.canEdit$.next(!!te.canEdit&&In),this.canDelete$.next(!!te.canDelete&&In),this.updateLadderParams(te.maxRepliesLadderLevel)})}getFormattedDate(te){return si.getFormattedDate(te)}getCommentLink(te){return si.getCommentLink(te)}updateHideExcessText(){this.shouldHideExcessText$.next(this.commentText?.element?.nativeElement?.clientHeight>(this.commentTextMaxHeight||0))}toggleTextShown(){this.textShown$.next(!this.textShown$.value)}edit(){this.editMode$.value||this.editMode$.next(!0)}cancelEdit(){this.editMode$.next(!1)}finishEdit(te){this.cancelEdit(),this.commentsStore.editComment((0,U.of)({comment:this.comment,text:te}))}delete(){this.cancelEdit(),this.commentsStore.deleteComment((0,U.of)(this.comment))}togglePin(){this.commentsStore.pinComment((0,U.of)(this.comment))}goToElement(){}addReply(te){te&&this.commentsStore.addReply((0,U.of)({text:te,comment:this.comment}))}toggleShowReplies(){const te=!this.showReplies$.value;this.repliesList$.next(null),this.showReplies$.next(te),te?(this.showRepliesBlock$.value||this.showRepliesBlock$.next(!0),this.showRepliesBlock$.pipe((0,w.q)(1)).subscribe(()=>{this.loadRepliesList()})):!te&&!this.showRepliesForm$.value&&this.showRepliesBlock$.value&&this.showRepliesBlock$.next(!1)}toggleShowRepliesForm(){const te=!this.showRepliesForm$.value;this.showRepliesForm$.next(te),te&&!this.showRepliesBlock$.value?this.showRepliesBlock$.next(!0):!te&&!this.showReplies$.value&&this.showRepliesBlock$.value&&this.showRepliesBlock$.next(!1)}loadRepliesList(){this.repliesLoading$.next(!0),this.getReplies().pipe((0,w.q)(1),(0,et.sL)(this.destroyRef)).subscribe(te=>{this.repliesList$.next(te),this.repliesLoading$.next(!1)})}updateLadderParams(te){if(1===te)return this.currentLadderOrder=1,this.shouldMoveLadderToRight=!0,void(this.shouldMoveLadderToLeft=!1);if(!this.currentLadderOrder||Number.isNaN(this.currentLadderOrder))return;const hn=2*(te-1),In=this.repliesListOrder%hn,ai=Array.from({length:te-2},(Bi,No)=>No+2);this.currentLadderOrder=In>te||0===In?0===In?ai[0]:ai[hn-In]:In,1===this.repliesListOrder||In>1&&In<=te?(this.shouldMoveLadderToRight=!0,this.shouldMoveLadderToLeft=!1):(this.shouldMoveLadderToRight=!1,this.shouldMoveLadderToLeft=!0)}getReplies(){return this.commentsStore.config$.pipe((0,v.w)(te=>this.apiService.getComments({sourceCode:te.sourceCode,objectType:te.objectType,objectUId:te.objectUId||void 0,objectId:te.objectId||void 0,parentUId:this.comment.uid}).pipe((0,p.U)(hn=>hn.comments||[]))))}updateRepliesOnInit(){this.showReplies$.next(!1),this.repliesNumber$.next(this.comment.countReplies||0)}setIsPinnedAndIsPinButtonDisabled(te,hn){const In=te.map(Bi=>Bi.uid).includes(this.comment.uid),ai=!In&&te.length===hn.maxPinnedComments;this.pinned$.next(In),this.pinButtonDisabled$.next(ai)}safeHTML(te){return this.sanitizer.bypassSecurityTrustHtml(te)}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275cmp=t.Xpm({type:gn,selectors:[["lib-dms-comment"]],viewQuery:function(hn,In){if(1&hn&&t.Gf(ei,5,t.s_b),2&hn){let ai;t.iGM(ai=t.CRH())&&(In.commentText=ai.first)}},inputs:{comment:"comment",repliesListOrder:"repliesListOrder"},standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[4,"ngIf"],["replies",""],[1,"comment__container",3,"ngClass"],[1,"comment__header"],[1,"comment__authored"],[1,"comment__authored--name"],[1,"comment__authored--date"],[1,"comment__secondary-actions"],["tuiButton","","type","button","class","comment__secondary-actions--button",3,"disabled","ngClass","click",4,"ngIf"],[1,"comment__content"],["class","comment__text-block",3,"ngClass",4,"ngIf"],[3,"text","canCancel","ngClass","submitted","cancelled",4,"ngIf"],[1,"comment__footer"],["class","comment__primary-actions",4,"ngIf"],["class","comment__replies-block",3,"ngClass",4,"ngIf"],["tuiButton","","type","button",1,"comment__secondary-actions--button",3,"disabled","ngClass","click"],[3,"icon"],[1,"comment__text-block",3,"ngClass"],[1,"comment-text"],["commentText",""],[1,"comment-text__text",3,"innerHTML"],["class","comment-edited",4,"ngIf"],["class","show-more-text",4,"ngIf"],[1,"comment-edited"],[1,"show-more-text"],["tuiButton","","type","button",1,"show-more-text-button",3,"click"],[3,"text","canCancel","ngClass","submitted","cancelled"],[1,"comment__primary-actions"],["tuiButton","","type","button","class","comment__primary-actions--button",3,"click",4,"ngIf"],["tuiButton","","type","button","class","comment__primary-actions--button",3,"disabled","ngClass","click",4,"ngIf"],["tuiButton","","type","button",1,"comment__primary-actions--button",3,"click"],["icon","appIconAddReplyToComment"],[1,"comment__primary-actions--button-text"],["tuiButton","","type","button",1,"comment__primary-actions--button",3,"disabled","ngClass","click"],["icon","appIconEditCommentIcon"],["icon","appIconRemoveCommentIcon"],[1,"comment__answers"],["tuiLink","",3,"click"],[1,"comment__replies-number"],[1,"comment__replies-block",3,"ngClass"],["class","comment__add-form",4,"ngIf"],[1,"comment__add-form"],["class","comment-replies__loader",4,"ngIf","ngIfElse"],[1,"comment-replies__loader"],["size","m"],["class","comment-replies",3,"ngClass",4,"ngIf"],[1,"comment-replies",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"comment-replies__item",3,"comment","repliesListOrder"]],template:function(hn,In){1&hn&&(t.YNc(0,Ji,2,1,"ng-container",0),t.ALo(1,"async"),t.YNc(2,pn,2,3,"ng-template",null,1,t.W1O)),2&hn&&t.Q6J("ngIf",t.lcZ(1,1,In.commentsStore.config$))},dependencies:[gn,Lo,e.mk,e.Ov,e.O5,e.ax,g.R,m.lI,e.uU,_.xG,h.A6],styles:['[_nghost-%COMP%]{display:block}.highlighted[_nghost-%COMP%]   .comment__container.pinned[_ngcontent-%COMP%]{background-color:#f5f5f5}.highlighted[_nghost-%COMP%]   .comment__container.pinned[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]:before{background:linear-gradient(180deg,#fff0,#f5f5f5)}.highlighted[_nghost-%COMP%]   .comment__replies-block.highlighted[_ngcontent-%COMP%]{background-color:#f5f5f5}.comment__container[_ngcontent-%COMP%]{padding:16px 12px;display:flex;flex-direction:column;font:400 14px/18px var(--tui-font-heading);color:#393939;gap:8px}.comment__header[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.comment__authored[_ngcontent-%COMP%]{display:flex;width:auto;justify-content:flex-start;align-items:baseline;gap:8px}.comment__authored--name[_ngcontent-%COMP%]{color:#4666f8}.comment__authored--date[_ngcontent-%COMP%]{font:400 13px/18px var(--tui-font-heading);color:#7f7f7f}.comment__secondary-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:12px}.comment__secondary-actions--button[_ngcontent-%COMP%]{padding:0;display:flex;width:16px;height:16px;align-items:center;color:#393939;background:none;border:0;border-radius:0;cursor:pointer}.comment__secondary-actions--button[_ngcontent-%COMP%]:disabled, .comment__secondary-actions--button.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.comment__secondary-actions--button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{height:16px}.comment__text-block[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{position:relative}.comment__text-block[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]:before{position:absolute;bottom:0;left:0;display:block;visibility:hidden;width:100%;height:20px;opacity:0;content:"";background:linear-gradient(180deg,#fff0,#fff)}.comment__text-block[_ngcontent-%COMP%]   .show-more-text-button[_ngcontent-%COMP%]{padding:0;height:24px;font:400 13px/18px var(--tui-font-heading);color:#4666f8;background:none;border:0;border-radius:0;cursor:pointer}.comment__text-block.has-excess-text[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{overflow:hidden;max-height:76px}.comment__text-block.has-excess-text[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]:before{visibility:visible;opacity:1}.comment__text-block.show-excess-text[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{overflow:visible;max-height:none}.comment__text-block.show-excess-text[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]:before{visibility:hidden;opacity:0}.comment__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.comment__primary-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:12px}.comment__primary-actions--button[_ngcontent-%COMP%]{padding:0;display:flex;height:18px;align-items:center;font:400 13px/18px var(--tui-font-heading);color:#7f7f7f;background:none;border:0;border-radius:0;cursor:pointer;gap:4px}.comment__primary-actions--button[_ngcontent-%COMP%]:disabled, .comment__primary-actions--button.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.comment__primary-actions--button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:24px;height:16px}.comment__answers[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:6px}.comment__replies-block[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:8px}.comment__add-form[_ngcontent-%COMP%]{width:100%}.comment__replies-number[_ngcontent-%COMP%]{padding:0 6px;display:flex;min-width:18px;height:18px;align-items:center;font-size:13px;color:#4666f8;border-radius:36px;box-shadow:inset 0 0 0 1px #4666f8}.comment-text__text[_ngcontent-%COMP%]{overflow-wrap:break-word;white-space:pre-line}.comment-replies[_ngcontent-%COMP%]{position:relative}.comment-replies[_ngcontent-%COMP%]:before{position:absolute;top:0;left:-12px;display:block;width:calc(100% + 12px);height:1px;content:"";background-color:#d9d9d9}.comment-replies__loader[_ngcontent-%COMP%]{padding:8px 0 0;display:flex;width:100%;justify-content:center;align-items:center}.comment-replies__item[_ngcontent-%COMP%]{position:relative;padding:8px 0}.comment-replies__item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.comment-replies__item[_ngcontent-%COMP%]:not(:first-child):before{position:absolute;top:0;left:0;display:block;width:100%;height:1px;content:"";background-color:#d9d9d9}.comment-replies__item[_ngcontent-%COMP%]   .comment__container[_ngcontent-%COMP%]{padding:0}.comment-replies.move-right[_ngcontent-%COMP%]{margin-left:12px}.comment-replies.move-left[_ngcontent-%COMP%]{margin-left:-12px;width:calc(100% + 12px)}'],changeDetection:0})}}return gn})(),Go=(()=>{class gn{constructor(){this.commentsStore=(0,t.f3M)(Ni)}ngOnInit(){this.commentsStore.updateConfig(this.config),this.commentsStore.fetchCommentsList(this.commentsStore.config$),this.commentsStore.fetchPinnedCommentsList(this.commentsStore.config$),this.commentsStore.setTimezone((0,a.RR)())}addComment(te){te&&this.commentsStore.addComment((0,U.of)(te))}static{this.\u0275fac=function(hn){return new(hn||gn)}}static{this.\u0275cmp=t.Xpm({type:gn,selectors:[["lib-dms-comments-list"]],inputs:{config:"config"},standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[4,"ngIf"],["content",""],[1,"comments-list__container"],[1,"comments-list__add-form"],[3,"submitted"],["class","comments-list__loader",4,"ngIf","ngIfElse"],[1,"comments-list__loader"],["size","m"],[1,"comments-list__list"],["class","comments-list__list--not-pinned",4,"ngIf"],["class","comments-list__list--pinned",4,"ngIf"],[1,"comments-list__list--pinned"],["class","comments-list__list-item highlighted",3,"comment","repliesListOrder",4,"ngFor","ngForOf"],[1,"comments-list__list-item","highlighted",3,"comment","repliesListOrder"],[1,"comments-list__list--not-pinned"],["class","comments-list__list-item",3,"comment","repliesListOrder",4,"ngFor","ngForOf"],[1,"comments-list__list-item",3,"comment","repliesListOrder"]],template:function(hn,In){1&hn&&(t.YNc(0,an,6,4,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Le,5,6,"ng-template",null,1,t.W1O)),2&hn&&t.Q6J("ngIf",t.lcZ(1,1,In.commentsStore.config$))},dependencies:[e.Ov,e.O5,Lo,e.ax,Fi,h.A6],styles:["[_nghost-%COMP%]{width:100%}.comments-list__container[_ngcontent-%COMP%]{position:relative;z-index:1}.comments-list__add-form[_ngcontent-%COMP%]{position:relative;z-index:5;padding:0 8px 8px;background-color:#fff;box-shadow:0 10px 15px #0000001a}.comments-list__loader[_ngcontent-%COMP%]{padding:16px 0;display:flex;width:100%;justify-content:center;align-items:center}.comments-list__list[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;overflow:hidden;flex-direction:column;background-color:#fff}.comments-list__list--pinned[_ngcontent-%COMP%]{border-bottom:1px solid #d9d9d9}.comments-list__list-item[_ngcontent-%COMP%]{display:block}.comments-list__list-item[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #d9d9d9}"],changeDetection:0})}}return gn})()},1728:(Qt,$,o)=>{"use strict";o.d($,{A4:()=>le,Xp:()=>Hn,YN:()=>oe,Yf:()=>Q,eS:()=>wn,mw:()=>$e,mx:()=>Ft});var e=o(6814),t=o(5879),a=o(1993),i=o(6223),g=o(6593),T=o(6266),_=o(8767),m=o(8451),h=o(4728),f=o(2527),v=o(1534),C=o(1564),D=o(5820),y=o(9785),E=o(7244),O=o(8293),M=o(6557),U=o(250),R=o(5586),A=o(7398),S=o(9397),w=o(4664),p=o(6306),L=o(4716),V=o(5619),et=o(7921),tt=o(8180),ht=o(8504),it=o(2181),It=o(2096),st=o(7234),dt=o(3997),St=o(2572),bt=o(7354),u=o(9673),ut=o(1962),Z=o(1018),I=o(7494),F=o(9473),ot=o(7582);const nt=["textarea"],At=["safeText"];function Dt(Ht,xn){if(1&Ht&&t._UZ(0,"tui-data-list-wrapper",29),2&Ht){const ce=t.oxw().ngIf;t.oxw(2);const me=t.MAs(6);t.Q6J("items",ce)("itemContent",me)}}function Wt(Ht,xn){if(1&Ht){const ce=t.EpF();t.TgZ(0,"div",24)(1,"tui-select",25),t._uU(2," \u0422\u0435\u043b\u0435\u0444\u043e\u043d "),t.YNc(3,Dt,1,2,"tui-data-list-wrapper",26),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(ce);const En=t.oxw(2);return t.KtG(En.editPolicyPhones())}),t._UZ(5,"tui-icon",28),t.qZA()()}if(2&Ht){t.oxw(2);const ce=t.MAs(4);t.xp6(1),t.Q6J("valueContent",ce)}}function Nt(Ht,xn){if(1&Ht&&(t.TgZ(0,"button",31),t._uU(1),t.qZA()),2&Ht){const ce=xn.$implicit;t.Q6J("value",ce),t.xp6(1),t.hij(" ",ce.name," ")}}function Rt(Ht,xn){if(1&Ht&&(t.TgZ(0,"tui-data-list"),t.YNc(1,Nt,2,2,"button",30),t.qZA()),2&Ht){const ce=t.oxw().tuiLet;t.xp6(1),t.Q6J("ngForOf",ce)}}function Bt(Ht,xn){if(1&Ht){const ce=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(ce);const En=t.oxw(2);return t.KtG(En.resetText())}),t._UZ(1,"tui-icon",33),t.qZA()}}function B(Ht,xn){1&Ht&&(t.ynx(0),t.TgZ(1,"p",34),t._uU(2,"\u0422\u0435\u043a\u0441\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e SMS \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d"),t.qZA(),t.BQk())}function k(Ht,xn){if(1&Ht&&(t.ynx(0),t.TgZ(1,"p",34),t._uU(2),t.qZA(),t.BQk()),2&Ht){const ce=xn.ngIf;t.xp6(2),t.Oqu(ce)}}const yt=function(Ht){return{raised:Ht}};function Y(Ht,xn){if(1&Ht){const ce=t.EpF();t.TgZ(0,"div",4)(1,"form",5),t.YNc(2,Wt,6,1,"div",6),t.ALo(3,"async"),t.TgZ(4,"div",7)(5,"tui-combo-box",8),t.NdJ("searchChange",function(En){t.CHM(ce);const _n=t.oxw();return t.KtG(_n.notifictionFormService.onSearchChange(En))}),t._uU(6," \u0428\u0430\u0431\u043b\u043e\u043d "),t._UZ(7,"input",9),t.YNc(8,Rt,2,1,"tui-data-list",10),t.qZA()(),t.TgZ(9,"div",11),t.ALo(10,"async"),t.TgZ(11,"div",12),t.YNc(12,Bt,2,0,"button",13),t.TgZ(13,"span",14),t.ALo(14,"async"),t._uU(15," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f "),t.qZA(),t.TgZ(16,"div",15,16),t.NdJ("click",function(En){t.CHM(ce);const _n=t.oxw();return t.KtG(_n.onTextareaClick(En))}),t.qZA(),t._UZ(18,"span",17,18)(20,"dms-sms-quantity",19),t.qZA(),t.YNc(21,B,3,0,"ng-container",20),t.YNc(22,k,3,1,"ng-container",20),t.ALo(23,"async"),t.qZA()(),t.TgZ(24,"div",21),t.ALo(25,"async"),t.TgZ(26,"button",22),t.NdJ("click",function(){t.CHM(ce);const En=t.oxw();return t.KtG(En.cancel())}),t._uU(27,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA(),t.TgZ(28,"button",23),t.NdJ("click",function(){t.CHM(ce);const En=t.oxw();return t.KtG(En.submit())}),t.ALo(29,"async"),t._uU(30," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),t.qZA()()()}if(2&Ht){const ce=xn.tuiLet,me=t.oxw();t.xp6(1),t.Q6J("formGroup",me.form),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,18,me.notificationsStore.phones$)),t.xp6(3),t.Q6J("strict",!0)("stringify",me.stringify)("strictMatcher",me.sampleNameMatcher)("tuiTextfieldCleaner",!0)("tuiSkeleton",!ce),t.xp6(4),t.Q6J("tuiSkeleton",!ce||!!t.lcZ(10,20,me.textLoading$)),t.xp6(3),t.Q6J("ngIf",me.textareaHasValue),t.xp6(1),t.Q6J("ngClass",t.VKq(30,yt,me.textareaHasValue||t.lcZ(14,22,me.textareaIsActive$))),t.xp6(3),t.Q6J("formControl",me.form.controls.text),t.xp6(2),t.Q6J("innerHTML",me.safeHTML(me.unsafeText$.value),t.oJD),t.xp6(2),t.Q6J("text",me.textManager.getTextWithoutSpan(me.form.controls.text.value)),t.xp6(1),t.Q6J("ngIf",me.notifictionFormService.isTextInvalid()),t.xp6(1),t.Q6J("ngIf",t.lcZ(23,24,me.missingTags$)),t.xp6(2),t.Q6J("tuiSkeleton",!ce||!!t.lcZ(25,26,me.textLoading$)),t.xp6(4),t.Q6J("disabled",!me.form.valid)("loading",t.lcZ(29,28,me.messageLoading$))}}function xt(Ht,xn){1&Ht&&t._uU(0),2&Ht&&t.hij(" ",xn.$implicit.phone,"\n")}function z(Ht,xn){1&Ht&&(t.TgZ(0,"span",39),t._uU(1,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0439"),t.qZA())}function at(Ht,xn){1&Ht&&(t.TgZ(0,"span",39),t._uU(1,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439"),t.qZA())}function Pt(Ht,xn){if(1&Ht&&(t.TgZ(0,"div",35)(1,"div",36),t._uU(2),t.qZA(),t.TgZ(3,"div",37),t.YNc(4,z,2,0,"span",38),t.YNc(5,at,2,0,"span",38),t.qZA()()),2&Ht){const ce=xn.$implicit;t.xp6(2),t.hij(" ",ce.phone," "),t.xp6(2),t.Q6J("ngIf",ce.is_confirmed),t.xp6(1),t.Q6J("ngIf",ce.is_main)}}function Gt(Ht,xn){if(1&Ht&&(t.TgZ(0,"div",6),t._UZ(1,"tui-icon",7),t._uU(2," \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 "),t.qZA()),2&Ht){const ce=t.oxw();t.Q6J("notifyConfig",ce.getNotifyConfig)("phones$",ce.phones$)}}function De(Ht,xn){if(1&Ht&&t._UZ(0,"dms-notify-item",4),2&Ht){const ce=xn.$implicit,me=t.oxw();t.Q6J("notifyItem",ce)("notifyConfig",me.notifyConfig)("phones$",me.phones$)}}let Ut=(()=>{class Ht{constructor(){this.elementRef=(0,t.f3M)(t.SBq),this.renderer=(0,t.f3M)(t.Qsj),this.sanitizer=(0,t.f3M)(g.H7),this.sanitizeHTML=!1,this.onTouched=()=>{},this.onChange=()=>{}}onInput(){this.onChange(this.sanitizeHTML?this.processValue(this.elementRef.nativeElement.innerHTML):this.elementRef.nativeElement.innerHTML)}onBlur(){this.onTouched()}registerOnChange(ce){this.onChange=ce}registerOnTouched(ce){this.onTouched=ce}writeValue(ce){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",this.sanitizeHTML?this.processValue(ce):ce)}processValue(ce){return this.sanitizer.sanitize(t.q3G.HTML,ce)??""}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["","dmsLibContenteditable","","formControlName",""],["","dmsLibContenteditable","","formControl",""],["","dmsLibContenteditable","","ngModel",""]],hostBindings:function(me,En){1&me&&t.NdJ("input",function(){return En.onInput()})("blur",function(){return En.onBlur()})},inputs:{sanitizeHTML:"sanitizeHTML"},standalone:!0,features:[t._Bn([{provide:i.JU,useExisting:(0,t.Gpc)(()=>Ht),multi:!0}])]})}}return Ht})();const Q={SMS:"001",MAIL:"002",PUSH:"003"},Ot={name:"\u0424\u0418\u041e",policyNumber:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u043b\u0438\u0441\u0430",facticallyDate:"\u0424\u0430\u043a\u0442\u043e\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u0438",LPUName:"\u041b\u041f\u0423 \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433\u0438",doctorLastName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0432\u0440\u0430\u0447\u0430",doctorFirstName:"\u0418\u043c\u044f \u0432\u0440\u0430\u0447\u0430",doctorSecondName:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0430\u0447\u0430",pndDatetimeFact:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0444\u0430\u043a\u0442\u043e\u0432\u043e\u0433\u043e \u0432\u044b\u0435\u0437\u0434\u0430",pndAddress:"\u0410\u0434\u0440\u0435\u0441 \u0432\u044b\u0437\u043e\u0432\u0430",labAddress:"\u0410\u0434\u0440\u0435\u0441 \u043e\u0444\u0438\u0441\u0430",labOrderRegNum:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430",LPUAddress:"\u0410\u0434\u0440\u0435\u0441 \u041b\u041f\u0423 \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433\u0438",servicesNameMP:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"};class Ft{}class le{}const ne="Common";let Pe=(()=>{class Ht{replaceBracketsWithSpans(ce){return ce?ce.replace(/\/~(.*?):(.*?)~\//g,(En,_n,Qe)=>{const xe=_n.split("."),je=xe.length>1?xe[0]:null,ke=xe.length>1?xe[1]:xe[0];return`<span class="highlight"${ke?` data-name="${ke}"`:""}${je?` data-group="${je}"`:""}> ${Qe} </span>`}):null}getTextWithoutSpan(ce){return ce?this.decodeHtmlEntities(ce).replace(/<span[^>]*>(.*?)<\/span>/g,"$1"):""}decodeHtmlEntities(ce){return ce.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}detectChangesForText(ce,me){return(ce?this.getTextWithoutSpanWithText(ce):null)!==(me?this.getTextWithoutSpanWithText(me):null)}getTextWithoutSpanWithText(ce){return ce.replace(/<span class="highlight"[^>]*>.*?<\/span>/g,"")}parseTagsArrayToObjectWithoutValues(ce){if(!ce||!ce.length)return{};const me={};return ce.forEach(En=>{me[En]=null}),me}getTagsWithValueFromArrays(ce,me,En,_n){const Qe={},xe={};if(!En)return Qe;if(En.patternCode===ne)return{...Qe,text:this.getTextWithoutSpan(me)};En.tagNames.includes("name")&&(Qe.name=_n);const je=this.transformTextWithSpansToArray(ce),ke=this.transformTextWithSpansToArray(me);if(0===je.length)return Qe;if(je.length!==ke.length)throw new Error("\u041a\u043e\u043b-\u0432\u043e \u0441\u043f\u0430\u043d\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0434\u0432\u0443\u043c\u044f \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u043c\u044b\u043c\u0438 \u0442\u0435\u043a\u0441\u0442\u0430\u043c\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u043e!");const we=je.map(Ke=>({...Ke,text:this.decodeHtmlEntities(Ke.text)})),Ne=ke.map(Ke=>({...Ke,text:this.decodeHtmlEntities(Ke.text)}));for(let Ke=0;Ke<we.length;Ke++){const qe=we[Ke],kn=Ne[Ke];qe.dataGroup?(Qe[qe.dataGroup]||(Qe[qe.dataGroup]=[{}]),xe[qe.dataGroup]||(xe[qe.dataGroup]={dataName:[],index:0}),xe[qe.dataGroup].dataName.includes(qe.dataName)?(xe[qe.dataGroup]={dataName:[],index:xe[qe.dataGroup].index+1},Qe[qe.dataGroup].push({[qe.dataName]:qe.text===kn.text?null:kn.text})):(xe[qe.dataGroup].dataName.push(qe.dataName),Qe[qe.dataGroup][xe[qe.dataGroup].index][qe.dataName]=qe.text===kn.text?null:kn.text)):Qe[qe.dataName]=qe.text===kn.text&&"name"!==qe.dataName?null:kn.text}return Qe}transformTextWithSpansToArray(ce){if(!ce)return[];const me=/<span\s+class="highlight"\s+([^>]*)>(.*?)<\/span>/gms,En=[];let _n;for(;_n=me.exec(ce);){const Qe=_n[1],xe=_n[2]?.trim()??"",je=/data-name=["']([^"']+)["']/.exec(Qe),ke=/data-group=["']([^"']+)["']/.exec(Qe),we=je?je[1]:"";we&&En.push({dataName:we,dataGroup:ke?ke[1]:null,text:xe})}return En}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275prov=t.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}}return Ht})();const Ue={data:null,phones:null,isLoading:!1};let Ee=(()=>{class Ht extends u.m1{getSampleText(ce,me){const En=this.textManager.parseTagsArrayToObjectWithoutValues(ce.tagNames);return this.notifyApiService.getSampleText({typeDocCode:me.typeDocCode,patternCode:ce.patternCode,groupNumber:me.groupNumber,tags:En,policyNumber:me.recipients[0].policyNumber,requestId:me.objectId}).pipe((0,A.U)(_n=>_n.message))}getMessage(ce,me,En){if(!me.sample)throw new Error("Error getSampleText: sample is null");const _n=me.sample||null,Qe=ce.recipients;return me.phone&&Qe.length>0&&(Qe[0].contactValue=me.phone.phone||""),this.notifyApiService.getMessage({typeDocCode:ce.typeDocCode,patternCode:_n?.patternCode,requestId:ce.objectId,sender:ce.sender,externalId:ce.externalId,groupNumber:ce.groupNumber,tags:En,recipients:Qe})}constructor(ce){super(Ue),this.sourceCode=ce,this.notifyApiService=(0,t.f3M)(Ft),this.notificationFormActions=(0,t.f3M)(le),this.context=(0,R.FQ)(),this.textManager=(0,t.f3M)(Pe),this.samples$=this.select(me=>me.data?.patterns||[]),this.phones$=this.select(me=>me.phones),this.setSamples=this.updater((me,En)=>({...me,data:En})),this.setPhones=this.updater((me,En)=>({...me,phones:En})),this.setLoading=this.updater((me,En)=>({...me,isLoading:En})),this.getSamples=this.effect(me=>me.pipe((0,S.b)(()=>this.setLoading(!0)),(0,w.w)(En=>this.notifyApiService.getSamples(En.typeDocCode,this.sourceCode).pipe((0,A.U)(_n=>({patterns:_n.patterns.filter(Qe=>En.channelCodes.includes(Qe.channelCode||""))})))),(0,S.b)(En=>this.setSamples(En)),(0,p.K)(()=>this.notificationFormActions.onError().pipe((0,L.x)(()=>this.context.$implicit.complete()))),(0,L.x)(()=>this.setLoading(!1))))}static{this.\u0275fac=function(me){return new(me||Ht)(t.LFG(bt.Uc))}}static{this.\u0275prov=t.Yz7({token:Ht,factory:Ht.\u0275fac})}}return Ht})(),de=(()=>{class Ht{constructor(){this.form=new i.cw({sample:new i.NI(null,[i.kI.required]),text:new i.NI(null,[i.kI.required]),phone:new i.NI(null)}),this.search$=new V.X(null),this.searchResult=ce=>this.search$.pipe((0,w.w)(me=>this.updateSearchResults(ce,me).pipe((0,et.O)(null))))}onSearchChange(ce){this.search$.next(ce)}updateSearchResults(ce,me){return ce.pipe((0,A.U)(En=>me?En.filter(_n=>_n.name.toLowerCase().includes(me.toLowerCase())):En))}reset(){this.form.reset()}isTextInvalid(){return this.form.controls.text.invalid}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275prov=t.Yz7({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}}return Ht})();const ae={data:null,isLoading:!1,error:null};let $e=(()=>{class Ht extends u.m1{constructor(){super(ae),this.data$=this.select(ce=>ce.data),this.isLoading$=this.select(ce=>ce.isLoading),this.error$=this.select(ce=>ce.error),this.notifyApiService=(0,t.f3M)(Ft),this.textManagerService=(0,t.f3M)(Pe),this.getItems=this.effect(ce=>ce.pipe((0,S.b)(()=>this.patchState({isLoading:!0})),(0,w.w)(me=>this.notifyApiService.getMessages({goldenId:me.recipients[0].goldenId,requestId:me.objectId}).pipe((0,u._b)(En=>{const _n=En.map(Qe=>({...Qe,text:this.textManagerService.decodeHtmlEntities(Qe.text)}));this.patchState({isLoading:!1,error:null,data:_n})},En=>{this.patchState({isLoading:!1,error:En})},()=>this.patchState({isLoading:!1}))))))}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275prov=t.Yz7({token:Ht,factory:Ht.\u0275fac})}}return Ht})(),Bn=(()=>{class Ht{constructor(){this.text="",this.latinSymbolsPerSms=160,this.cyrillicSymbolsPerSms=70,this.maxSymbolsForMultipleSms=67,this.maxSymbolsForFirstSms=70}get getTextLength(){return this.text?.length||0}get getQuantitySms(){const ce=(this.text?.match(/[\u0410-\u042f\u0430-\u044f\u0401\u0451]/g)||[]).length,_n=ce+this.cyrillicSymbolsPerSms/this.latinSymbolsPerSms*(this.getTextLength-ce);return _n<1?0:_n<=this.maxSymbolsForFirstSms?1:Math.ceil(_n/this.maxSymbolsForMultipleSms)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["dms-sms-quantity"]],inputs:{text:"text"},standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[[1,"sms-quantity__container"]],template:function(me,En){1&me&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&me&&(t.xp6(1),t.AsE("\u041a\u043e\u043b-\u0432\u043e SMS: ",En.getQuantitySms,", \u0421\u0438\u043c\u0432\u043e\u043b\u043e\u0432: ",En.getTextLength,""))},styles:["[_nghost-%COMP%]{font:var(--tui-font-text-xs);color:#7f7f7f}"],changeDetection:0})}}return Ht})(),Ae=(()=>{class Ht{constructor(){this.notificationsStore=(0,t.f3M)(Ee),this.notifictionFormService=(0,t.f3M)(de),this.context=(0,R.FQ)(),this.textManager=(0,t.f3M)(Pe),this.form=this.notifictionFormService.form,this.search$=this.notifictionFormService.search$,this.searchResult$=this.notifictionFormService.searchResult(this.notificationsStore.samples$),this.stringify=ce=>ce.name,this.sampleNameMatcher=(ce,me)=>(0,T.zy)(ce.name,me),this.textareaHasValue=!1,this.textareaIsActive$=new V.X(!1),this.unsafeText$=new V.X(null),this.missingTags$=new V.X(null),this.destroyRef=(0,t.f3M)(t.ktI),this.sanitizer=(0,t.f3M)(g.H7),this.notificationFormActions=(0,t.f3M)(le),this.originalTextWithSpans=null,this.textLoading$=new V.X(!1),this.messageLoading$=new V.X(!1)}clickOut(ce){!ce||!ce.target||ce?.target&&!this.$textarea.nativeElement.contains(ce.target)&&this.textareaIsActive$.next(!1)}ngOnInit(){this.notificationsStore.getSamples(this.context.data.notifyConfig),this.context.data.notifyConfig?.resendingMessage?this.setResendingSampleValue(this.context.data.notifyConfig.resendingMessage.patternCode).pipe((0,a.sL)(this.destroyRef)).subscribe():this.setDefaultAndCommonSamplesValue().pipe((0,a.sL)(this.destroyRef)).subscribe(),this.setTextForCurrentSample().pipe((0,a.sL)(this.destroyRef)).subscribe(),this.switchToCommonSampleOnTextFieldChanges().pipe((0,a.sL)(this.destroyRef)).subscribe(),this.form.controls.text.valueChanges.pipe((0,a.sL)(this.destroyRef)).subscribe(ce=>{"<br>"===ce?(this.form.controls.text.patchValue("",{emitEvent:!1}),this.textareaHasValue=!1):this.textareaHasValue=!!ce}),this.setPhoneInitialValue()}submit(){this.form.valid&&(this.unsafeText$.next(this.form.controls.text.value),setTimeout(()=>{const me=this.textManager.getTagsWithValueFromArrays(this.originalTextWithSpans,this.$safeText.nativeElement.innerHTML,this.form.controls.sample.value,this.context.data.notifyConfig.clientName);this.messageLoading$.next(!0),this.notificationsStore.getMessage(this.context.data.notifyConfig,this.form.value,me).pipe((0,tt.q)(1),(0,p.K)(En=>(this.messageLoading$.next(!1),this.onError(),(0,ht._)(()=>En))),(0,S.b)(()=>this.messageLoading$.next(!1)),(0,it.h)(Boolean)).subscribe(()=>{this.onSuccess()})}))}cancel(){this.context.$implicit.complete()}resetText(){this.form.controls.text.setValue("")}onTextareaClick(ce){ce.preventDefault(),ce.stopPropagation(),ce.stopImmediatePropagation(),this.textareaIsActive$.next(!0)}setDefaultAndCommonSamplesValue(){return this.notificationsStore.samples$.pipe((0,A.U)(ce=>{const me=ce.find(En=>!0===En.isDefault);return this.form.controls.sample.patchValue(me||ce[0]),this.setCommonSampleValue(ce),me||ce[0]}))}setCommonSampleValue(ce){this.commonSample=ce.find(me=>me.patternCode===ne)}setResendingSampleValue(ce){return this.notificationsStore.samples$.pipe((0,A.U)(me=>{const En=me.find(_n=>_n.patternCode===ce);return this.form.controls.sample.patchValue(En||me[0]),this.setCommonSampleValue(me),En||me[0]}))}missingTags(ce){return ce.length?"\u041e\u0431\u0440\u0430\u0442\u0438 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043d\u0435\u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f : "+ce.map(me=>Ot[me]||me).join(", ")+".":null}setTextForCurrentSample(){return this.form.controls.sample.valueChanges.pipe((0,a.sL)(this.destroyRef),(0,w.w)(ce=>{if(!ce)return(0,It.of)(null);if(ce.patternCode===ne){if(this.context.data.notifyConfig?.resendingMessage){const me=this.context.data.notifyConfig.resendingMessage.text;this.form.controls.text.patchValue(me,{emitEvent:!1}),this.textareaHasValue=!!me}else this.form.controls.text.patchValue("",{emitEvent:!1}),this.textareaHasValue=!1;return(0,It.of)(null)}return this.textLoading$.next(!0),this.getTextForCurrentSample(ce).pipe((0,A.U)(me=>{const En=this.textManager.replaceBracketsWithSpans(me.body);return this.textLoading$.next(!1),this.form.controls.text.patchValue(En,{emitEvent:!1}),this.textareaHasValue=!!me,this.originalTextWithSpans=En,this.missingTags$.next(this.missingTags(me.missingTags)),me}))}))}getTextForCurrentSample(ce){return this.notificationsStore.getSampleText(ce,this.context.data.notifyConfig).pipe((0,p.K)(me=>(this.form.controls.text.patchValue(null,{emitEvent:!1}),this.onError().add(()=>this.cancel()),(0,ht._)(()=>me))),(0,A.U)(me=>me))}safeHTML(ce){return ce?this.sanitizer.bypassSecurityTrustHtml(ce):null}switchToCommonSampleOnTextFieldChanges(){return this.form.controls.text.valueChanges.pipe((0,a.sL)(this.destroyRef),(0,A.U)(ce=>{this.form.controls.sample.value?.patternCode!==ne&&this.textManager.detectChangesForText(ce,this.originalTextWithSpans)&&(this.form.controls.sample.patchValue(this.commonSample,{emitEvent:!1}),this.missingTags$.next(null))}))}onSuccess(){this.notificationFormActions.onSuccess().pipe((0,a.sL)(this.destroyRef)).subscribe({complete:()=>this.cancel()})}onError(){return this.notificationFormActions.onError().pipe((0,a.sL)(this.destroyRef)).subscribe()}setPhoneInitialValue(){this.context.data.phones$.pipe((0,st.n)(ce=>!ce),(0,dt.x)(),(0,a.sL)(this.destroyRef)).subscribe(ce=>{if(this.notificationsStore.setPhones(ce),this.context.data.notifyConfig?.resendingMessage?.recipientContact){const me=ce?.find(En=>En.phone===this.context.data.notifyConfig?.resendingMessage?.recipientContact);me&&this.form.controls.phone.setValue(me)}else if(!this.form.controls.phone.value||!ce?.find(me=>me.phone===this.form.controls.phone.value?.phone)){const me=ce?.find(En=>En.is_main)||ce?.[0];me&&this.form.controls.phone.setValue(me)}})}editPolicyPhones(){const ce=new Event("shouldEditPolicyPhones");document.dispatchEvent(ce)}ngOnDestroy(){this.textareaIsActive$.next(!1)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["dms-notify-form"]],viewQuery:function(me,En){if(1&me&&(t.Gf(nt,5),t.Gf(At,5)),2&me){let _n;t.iGM(_n=t.CRH())&&(En.$textarea=_n.first),t.iGM(_n=t.CRH())&&(En.$safeText=_n.first)}},hostBindings:function(me,En){1&me&&t.NdJ("click",function(Qe){return En.clickOut(Qe)},!1,t.evT)},standalone:!0,features:[t._Bn([Ee,h.RO]),t.jDz],decls:7,vars:3,consts:[[1,"notify-form__container"],["class","notify-form__content",4,"tuiLet"],["selectedPhoneTemplate",""],["phoneTemplate",""],[1,"notify-form__content"],[1,"notify-form__form",3,"formGroup"],["class","notify-form__form-field phone",4,"ngIf"],[1,"notify-form__form-field"],["formControlName","sample",3,"strict","stringify","strictMatcher","tuiTextfieldCleaner","tuiSkeleton","searchChange"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d","tuiTextfieldLegacy",""],[4,"tuiDataList"],[1,"skeleton",3,"tuiSkeleton"],[1,"notify-form__sms-text-container"],["class","notify-form__sms-close","type","button","tuiIconButton","","appearance","action-grayscale","size","m",3,"click",4,"ngIf"],[1,"notify-form__sms-placeholder",3,"ngClass"],["contenteditable","plaintext-only","dmsLibContenteditable","","ngDefaultControl","",1,"notify-form__sms-text",3,"formControl","click"],["textarea",""],[1,"hidden",3,"innerHTML"],["safeText",""],[3,"text"],[4,"ngIf"],[1,"notify-form__footer","skeleton",3,"tuiSkeleton"],["tuiButton","","type","button","size","m","appearance","secondary",3,"click"],["tuiButton","","type","button","size","m","appearance","primary",3,"disabled","loading","click"],[1,"notify-form__form-field","phone"],["formControlName","phone","tuiTextfieldSize","m",3,"valueContent"],[3,"items","itemContent",4,"tuiDataList"],["tuiButton","","type","button","appearance","action-grayscale",1,"edit-phones-for-notification",3,"click"],["icon","appIconPencil2"],[3,"items","itemContent"],["tuiOption","","type","button",3,"value",4,"ngFor","ngForOf"],["tuiOption","","type","button",3,"value"],["type","button","tuiIconButton","","appearance","action-grayscale","size","m",1,"notify-form__sms-close",3,"click"],["icon","@tui.x"],[1,"notify-form__sms-invalid"],[1,"phone"],[1,"phone__phone"],[1,"phone__statuses"],["class","phone__status",4,"ngIf"],[1,"phone__status"]],template:function(me,En){1&me&&(t.TgZ(0,"div",0),t.YNc(1,Y,31,32,"div",1),t.ALo(2,"async"),t.qZA(),t.YNc(3,xt,1,1,"ng-template",null,2,t.W1O),t.YNc(5,Pt,6,3,"ng-template",null,3,t.W1O)),2&me&&(t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,1,En.searchResult$)))},dependencies:[i.UX,i._Y,i.Fj,i.JJ,i.JL,i.oH,i.sg,i.u,E.Jy,E.uJ,E.OI,ut.MB,Z.qi,Z.gX,Z.bH,I.eC,U.Mu,O.cn,O.be,O.sz,f.xG,e.Ov,e.O5,e.ax,e.mk,v.R,M.jp,M._p,M.EH,M.m2,D.R,Bn,y.A,_.i,Ut],styles:["[_nghost-%COMP%]{display:flex;width:800px;height:100vh}.notify-form__container[_ngcontent-%COMP%]{margin-top:8px;display:flex;width:100%;flex-direction:column;gap:8px}.notify-form__content[_ngcontent-%COMP%]{margin:0 8px;padding:8px;display:flex;gap:8px;flex-direction:column;background-color:var(--tui-background-base);border-radius:16px}.notify-form__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.notify-form__form-field.phone[_ngcontent-%COMP%]{display:flex;width:400px}.notify-form__form-field.phone[_ngcontent-%COMP%]   tui-select[_ngcontent-%COMP%]{width:100%}.notify-form__sms-text-container[_ngcontent-%COMP%]{position:relative}.notify-form__sms-text-container[_ngcontent-%COMP%]   dms-sms-quantity[_ngcontent-%COMP%]{position:absolute;right:12px;bottom:5.5px}.notify-form__sms-text-container[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{position:absolute;z-index:-1;visibility:hidden;overflow:hidden;width:0;height:0;opacity:0}.notify-form__sms-text[_ngcontent-%COMP%]{z-index:10;padding:23.5px 44px 23.5px 12px;display:block;min-height:104px;background-color:#f5f5f5;border-radius:12px}.notify-form__sms-placeholder[_ngcontent-%COMP%]{position:absolute;z-index:5;top:23.5px;left:12px;display:inline-block;font-size:13px;pointer-events:none;color:#7f7f7f;transition:all .1s ease-in-out}.notify-form__sms-placeholder.raised[_ngcontent-%COMP%]{top:5.5px;left:12px}.notify-form__sms-close[_ngcontent-%COMP%]{position:absolute;z-index:5;top:23.5px;right:12px;width:24px;height:24px}.notify-form__sms-invalid[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-text-xs);color:#ff4040}.notify-form__footer[_ngcontent-%COMP%]{padding:12px 0 4px;display:flex;justify-content:flex-end;align-items:center;gap:12px}.skeleton[_ngcontent-%COMP%]{border-radius:12px}.phone[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.phone__statuses[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.phone__status[_ngcontent-%COMP%]{padding-right:4px;padding-left:6px;height:18px;font-size:13px;color:#fff;background:linear-gradient(93.81deg,#4f4f4f 3.72%,#212121 94.17%);border-radius:36px}.edit-phones-for-notification[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:16px;height:16px}"],changeDetection:0})}}return Ht})(),Hn=(()=>{class Ht{constructor(){this.dialogOpened=new t.vpe,this.openEditPolicyPhones=new t.vpe,this.destroyRef=(0,t.f3M)(t.ktI),this.injector=(0,t.f3M)(t.zs3),this.sheetService=(0,t.f3M)(bt.q6),this.notifictionFormService=(0,t.f3M)(de)}openNotificationForm(){this.notifyConfig.shouldSavePartialDetailsOfTask&&this.notifyConfig.shouldSaveServAgreeRequest?(0,St.a)([this.notifyConfig.shouldSavePartialDetailsOfTask,this.notifyConfig.shouldSaveServAgreeRequest]).subscribe(([ce,me])=>{ce&&me&&this.openNotifyFormComponent()}):this.openNotifyFormComponent()}emitEditPolicyPhones(){this.openEditPolicyPhones.emit()}openNotifyFormComponent(){this.sheetService.open(new R.Al(Ae,this.injector),{header:this.notifyConfig.header,data:{notifyConfig:this.notifyConfig,phones$:this.phones$},closeable:!0}).pipe((0,a.sL)(this.destroyRef)).subscribe({complete:()=>{this.notifictionFormService.reset(),this.dialogOpened.emit(!1)},error:()=>{this.dialogOpened.emit(!1)}})}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["","dmsOpenNotifyForm",""]],hostBindings:function(me,En){1&me&&t.NdJ("click",function(){return En.openNotificationForm()})("shouldEditPolicyPhones",function(){return En.emitEditPolicyPhones()},!1,t.evT)},inputs:{notifyConfig:"notifyConfig",phones$:"phones$"},outputs:{dialogOpened:"dialogOpened",openEditPolicyPhones:"openEditPolicyPhones"},standalone:!0})}}return Ht})();let re=(()=>{class Ht{get getNotifyConfig(){return{...this.notifyConfig,resendingMessage:this.notifyItem}}getStatusColorClass(ce){return{success:"Delivered"===ce||"Viewed"===ce,error:"Error"===ce,"in-progress":"Delivering"===ce||"Sending"===ce||"Accepted"===ce}}isErrorState(){return"Error"===this.notifyItem.state.code}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["dms-notify-item"]],inputs:{notifyItem:"notifyItem",notifyConfig:"notifyConfig",phones$:"phones$"},standalone:!0,features:[t._Bn([]),t.jDz],decls:14,vars:7,consts:[[1,"notify-sms__container"],[1,"notify-sms__header"],[1,"notify-sms__header-info"],[1,"notify-sms__state",3,"ngClass"],[1,"notify-sms__text"],["dmsOpenNotifyForm","","class","notify-sms__resending",3,"notifyConfig","phones$",4,"ngIf"],["dmsOpenNotifyForm","",1,"notify-sms__resending",3,"notifyConfig","phones$"],["icon","appIconReverseRight"]],template:function(me,En){1&me&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div",2)(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA(),t.TgZ(9,"div",3),t._uU(10),t.qZA()()(),t.TgZ(11,"div",4),t._uU(12),t.qZA(),t.YNc(13,Gt,3,2,"div",5),t.qZA()),2&me&&(t.xp6(3),t.hij("\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c: ",En.notifyItem.initiator,""),t.xp6(3),t.Oqu(En.notifyItem.recipientContact),t.xp6(2),t.Oqu(En.notifyItem.sentAt),t.xp6(1),t.Q6J("ngClass",En.getStatusColorClass(En.notifyItem.state.code)),t.xp6(1),t.Oqu(En.notifyItem.state.name),t.xp6(2),t.hij(" ",En.notifyItem.text," "),t.xp6(1),t.Q6J("ngIf",En.isErrorState()))},dependencies:[e.mk,e.O5,v.R,Hn],styles:[".notify-sms__container[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:column}.notify-sms__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font:var(--tui-font-text-xs);color:var(--tui-text-04)}.notify-sms__header-info[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}.notify-sms__state[_ngcontent-%COMP%]{padding:0 4px;display:inline-block;font:var(--tui-font-text-xs);line-height:1.2;white-space:nowrap;letter-spacing:0;color:var(--badge-text-color);border:1px solid var(--badge-color);border-radius:var(--tui-radius-l)}.notify-sms__state.success[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-accent-1);--badge-color: var(--tui-background-accent-1)}.notify-sms__state.error[_ngcontent-%COMP%]{--badge-text-color: var(--tui-text-negative);--badge-color: var(--tui-text-negative)}.notify-sms__state.in-progress[_ngcontent-%COMP%]{--badge-text-color: var(--tui-background-accent-opposite-hover);--badge-color: #c6c6c6}.notify-sms__text[_ngcontent-%COMP%]{overflow-wrap:break-word}.notify-sms__resending[_ngcontent-%COMP%]{width:max-content;font:var(--tui-font-text-xs);color:#4666f8;cursor:pointer}.notify-sms__resending[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:16px;height:16px}"],changeDetection:0})}}return(0,ot.gn)([m.UM],Ht.prototype,"getStatusColorClass",null),Ht})(),wn=(()=>{class Ht{constructor(){this.notifyListStore=(0,t.f3M)($e)}ngOnInit(){this.notifyListStore.getItems(this.notifyConfig)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["dms-notify-list"]],inputs:{notifyConfig:"notifyConfig",phones$:"phones$"},standalone:!0,features:[t.jDz],decls:7,vars:3,consts:[[1,"notify-list__container"],[1,"notify-list__header"],[1,"notify-list__list"],[3,"notifyItem","notifyConfig","phones$",4,"ngFor","ngForOf"],[3,"notifyItem","notifyConfig","phones$"]],template:function(me,En){1&me&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 SMS"),t.qZA(),t.TgZ(3,"tui-scrollbar")(4,"div",2),t.YNc(5,De,1,3,"dms-notify-item",3),t.ALo(6,"async"),t.qZA()()()),2&me&&(t.xp6(5),t.Q6J("ngForOf",t.lcZ(6,1,En.notifyListStore.data$)))},dependencies:[re,e.ax,e.Ov,F.Cl,C.D1],styles:['.notify-list__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.notify-list__container[_ngcontent-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{width:100%;max-height:300px;border-radius:var(--tui-radius-xs)}.notify-list__header[_ngcontent-%COMP%]{padding-left:4px;font:var(--tui-font-heading-4)}.notify-list__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs)}.notify-list__list[_ngcontent-%COMP%]   dms-notify-item[_ngcontent-%COMP%]{position:relative;padding:16px 12px}.notify-list__list[_ngcontent-%COMP%]   dms-notify-item[_ngcontent-%COMP%]:not(:first-child):before{position:absolute;top:0;left:0;display:block;width:100%;content:"";border-top:1px solid var(--dms-border-color)}'],changeDetection:0})}}return Ht})(),oe=(()=>{class Ht{constructor(){this.notifyListStore=(0,t.f3M)($e)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["dms-notify-list-update"]],inputs:{notifyConfig:"notifyConfig"},standalone:!0,features:[t._Bn([]),t.jDz],decls:3,vars:0,consts:[["tuiButton","","size","m","appearance","secondary",1,"update-btn",3,"click"],["icon","@tui.refresh-cw"]],template:function(me,En){1&me&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return En.notifyListStore.getItems(En.notifyConfig)}),t._UZ(1,"tui-icon",1),t._uU(2," \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\n"),t.qZA())},dependencies:[f.xG,v.R],changeDetection:0})}}return Ht})()},1912:(Qt,$,o)=>{"use strict";o.r($),o.d($,{ConfirmVacationDialogComponent:()=>Uo,ConfirmVacationResultTypes:()=>sn,CurrentUserAdmissionsSelector:()=>We,CurrentUserCardSelector:()=>ie,CurrentUserDefaultStatusSelector:()=>Fn,CurrentUserDeputiesSelector:()=>si,CurrentUserKeycloakProfileSelector:()=>bn,CurrentUserPermissionCodesSelector:()=>un,CurrentUserPermissionsSelector:()=>Le,CurrentUserStatusesSelector:()=>Rn,EditProfileComponent:()=>cr,ModuleStatusLoadingSelector:()=>Ii,RemoveDeputyConfirmComponent:()=>ei,SELECTED_USER_CARD_LOGIN_TOKEN:()=>Ui,USERS_LIST_MOCK:()=>zo,USER_DEPUTIES_API_SERVICE_TOKEN:()=>Li,USER_DEPUTIES_LIST_MOCK:()=>ai,USER_PROFILE_API_SERVICE_TOKEN:()=>wi,USER_PROFILE_STORE_FEATURE_KEY:()=>Mn,USER_STATUSES_LIST:()=>In,USER_STATUS_API_SERVICE_TOKEN:()=>Yi,UserContactChannelCode:()=>gi,UserContactTypeCode:()=>Ni,UserContactTypeName:()=>bo,UserMiniProfileService:()=>oi,UserProfileDataLineComponent:()=>Jn,UserProfileInitialState:()=>fn,UserProfileMiniProfileComponent:()=>Mo,UserProfilePageComponent:()=>Lo,UserProfilePageStore:()=>Qi,UserProfilePhotoComponent:()=>hi,UserProfileStoreActions:()=>pn,UserProfileStoreEffects:()=>hn,UserProfileStoreReducer:()=>an,UserProfileUtilsClass:()=>Gi,UserStatusLoadingSelector:()=>Di,UserStatusService:()=>uo,UserStatusTypes:()=>xo,WorkStatus:()=>qi,routes:()=>ao,userProfileStoreFeaturesSelector:()=>Tn});var e=o(7582),t=o(6814),a=o(5879),i=o(8451),g=o(4098),T=o(6266),_=o(2354),m=o(334),h=o(1018),f=o(4507),v=o(1534),C=o(2527),D=o(6669),y=o(1564),E=o(4728),O=o(3597),M=o(5586),U=o(4221),R=o(5619),A=o(9397),S=o(4664),w=o(2096),p=o(7398),L=o(2572),V=o(2181),et=o(7234),tt=o(8180),ht=o(3620),it=o(2460),It=o(6306),st=o(6232),dt=o(1993),St=o(9673),bt=o(4190),u=o(7354),ut=o(6223),Z=o(1711),I=o(8763),F=o(6557),ot=o(8293),nt=o(6805),At=o(247),Dt=o(1962),Wt=o(8158),Nt=o(8131);function Rt(Me,Qn){1&Me&&(a.ynx(0),a.Hsn(1),a.BQk())}function Bt(Me,Qn){1&Me&&(a.ynx(0),a._uU(1),a.BQk()),2&Me&&(a.xp6(1),a.hij(" ","\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"," "))}const B=function(Me){return{"no-data":Me}},k=["*"];function yt(Me,Qn){1&Me&&a._UZ(0,"tui-icon",3)}const Y=function(Me,Qn){return{view:Me,edit:Qn}},xt=function(Me){return{empty:Me}};function z(Me,Qn){if(1&Me){const J=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(J);const Et=a.oxw(2);return a.KtG(Et.goToEditProfile())}),a._UZ(1,"tui-icon",12),a.qZA()}2&Me&&(a.xp6(1),a.Udp("color","#393939"))}function at(Me,Qn){if(1&Me&&(a.TgZ(0,"div",1)(1,"div",2)(2,"div",3),a._UZ(3,"dms-user-profile-photo",4),a.TgZ(4,"div",5)(5,"h2",6),a._uU(6),a.TgZ(7,"span",7),a._uU(8),a.qZA()(),a.TgZ(9,"p",8),a._uU(10),a.TgZ(11,"span",9),a._uU(12),a.qZA()()()(),a.YNc(13,z,2,2,"button",10),a.ALo(14,"async"),a.qZA()()),2&Me){const J=Qn.ngIf,Zt=a.oxw();a.xp6(3),a.Q6J("userPhotoSrc",""),a.xp6(3),a.hij(" ",J.fullName," "),a.xp6(2),a.hij(" ",J.login," "),a.xp6(2),a.hij(" ",null==J.employee?null:J.employee.position," "),a.xp6(2),a.hij(" ",null==J.employee?null:J.employee.employeeId," "),a.xp6(1),a.Q6J("ngIf",a.lcZ(14,6,Zt.showEditButton$))}}function Pt(Me,Qn){1&Me&&(a.ynx(0),a._UZ(1,"tui-loader",4),a.BQk()),2&Me&&(a.xp6(1),a.Q6J("size","m")("inheritColor",!0))}function Gt(Me,Qn){if(1&Me&&(a.ynx(0),a.TgZ(1,"div",23)(2,"a",24),a._uU(3),a.qZA(),a._UZ(4,"button",25),a.qZA(),a.BQk()),2&Me){const J=Qn.ngIf,Zt=a.oxw().ngIf,Et=a.oxw(2);a.xp6(2),a.Q6J("href","tel:"+Et.getUnformattedUserPhone(Zt),a.LSH),a.xp6(1),a.hij(" ",J," "),a.xp6(1),a.Udp("color","#FFFFFF"),a.Q6J("dmsCopyToClipboard",Et.getUnformattedUserPhone(Zt))}}function De(Me,Qn){1&Me&&(a.TgZ(0,"div",26),a._uU(1," \u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 "),a.qZA())}function Ut(Me,Qn){if(1&Me&&(a.ynx(0),a.TgZ(1,"div",23)(2,"span"),a._uU(3),a.qZA(),a._UZ(4,"button",27),a.qZA(),a.BQk()),2&Me){const J=Qn.ngIf;a.xp6(3),a.Oqu(J),a.xp6(1),a.Udp("color","#FFFFFF"),a.Q6J("dmsCopyToClipboard",J)}}function Q(Me,Qn){1&Me&&(a.TgZ(0,"div",26),a._uU(1," \u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 "),a.qZA())}function Ot(Me,Qn){if(1&Me&&(a.ynx(0),a.TgZ(1,"div",17),a._uU(2),a.qZA(),a.BQk()),2&Me){const J=Qn.ngIf;a.xp6(1),a.Q6J("ngClass",a.VKq(2,xt,!J)),a.xp6(1),a.Oqu(J||"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")}}const Ft=function(Me){return{open:Me}};function le(Me,Qn){if(1&Me){const J=a.EpF();a.ynx(0),a.TgZ(1,"div",6),a.NdJ("click",function(){a.CHM(J);const Et=a.oxw(2);return a.KtG(Et.toggleExpanded())}),a.TgZ(2,"div",7)(3,"div",8),a._UZ(4,"div",9),a.TgZ(5,"div",10),a._uU(6),a.qZA()(),a.TgZ(7,"div",11)(8,"div",12),a._uU(9),a.qZA()()(),a._UZ(10,"tui-icon",13),a.ALo(11,"async"),a.qZA(),a.TgZ(12,"tui-expand",14),a.ALo(13,"async"),a.TgZ(14,"div",15)(15,"div",16)(16,"div",17),a._uU(17),a.qZA(),a.TgZ(18,"div",17),a._uU(19),a.qZA(),a.TgZ(20,"div",17),a._uU(21),a.qZA(),a.YNc(22,Gt,5,5,"ng-container",1),a.YNc(23,De,2,0,"ng-template",null,18,a.W1O),a.YNc(25,Ut,5,4,"ng-container",1),a.YNc(26,Q,2,0,"ng-template",null,19,a.W1O),a.YNc(28,Ot,3,4,"ng-container",5),a.qZA(),a.TgZ(29,"div",20)(30,"button",21),a.NdJ("click",function(){a.CHM(J);const Et=a.oxw(2);return a.KtG(Et.goToFullProfile())}),a._UZ(31,"tui-icon",22),a.TgZ(32,"span"),a._uU(33),a.qZA()()()()(),a.BQk()}if(2&Me){const J=Qn.ngIf,Zt=a.MAs(24),Et=a.MAs(27),on=a.oxw(2);a.xp6(4),a.Q6J("ngStyle",on.getUserPhotoBackgroundStyles("")),a.xp6(2),a.Oqu(on.getUserInitials(J)),a.xp6(3),a.AsE("",null==J?null:J.lastName," ",null==J?null:J.firstName,""),a.xp6(1),a.Q6J("ngClass",a.VKq(22,Ft,a.lcZ(11,18,on.isExpanded$))),a.xp6(2),a.Q6J("expanded",a.lcZ(13,20,on.isExpanded$)),a.xp6(4),a.Q6J("ngClass",a.VKq(24,xt,!J.fullName)),a.xp6(1),a.Oqu(J.fullName?J.fullName:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),a.xp6(1),a.Q6J("ngClass",a.VKq(26,xt,!J.position)),a.xp6(1),a.Oqu(J.position?J.position:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),a.xp6(1),a.Q6J("ngClass",a.VKq(28,xt,!J.info)),a.xp6(1),a.Oqu(J.info?J.info:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),a.xp6(1),a.Q6J("ngIf",on.userProfileInfoService.getWorkPhone(J))("ngIfElse",Zt),a.xp6(3),a.Q6J("ngIf",on.userProfileInfoService.getWorkEmail(J))("ngIfElse",Et),a.xp6(3),a.Q6J("ngIf",on.userProfileInfoService.getMessengers(J)),a.xp6(5),a.Oqu("\u041f\u0440\u043e\u0444\u0438\u043b\u044c")}}function ne(Me,Qn){if(1&Me&&(a.YNc(0,le,34,30,"ng-container",5),a.ALo(1,"async")),2&Me){const J=a.oxw();a.Q6J("ngIf",a.lcZ(1,1,J.userProfilePageStore.nextMiniUserCard$))}}function Ge(Me,Qn){if(1&Me&&(a.ynx(0),a._uU(1),a.BQk()),2&Me){const J=a.oxw();a.xp6(1),a.hij(" ",J.userDeputy.about," ")}}function Se(Me,Qn){if(1&Me&&(a.ynx(0),a._uU(1),a.BQk()),2&Me){const J=a.oxw();a.xp6(1),a.hij(" ",J.getWorkTime(J.userDeputy)," ")}}function Pe(Me,Qn){1&Me&&a._UZ(0,"dms-user-profile-mini-profile",12)}function Ue(Me,Qn){1&Me&&(a.TgZ(0,"span",13),a._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),a.qZA())}const Ee=function(Me,Qn){return{small:Me,expanded:Qn}},de=function(Me){return{small:Me}};function ae(Me,Qn){1&Me&&a._uU(0,"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")}function $e(Me,Qn){if(1&Me&&(a.ynx(0),a.TgZ(1,"dms-user-profile-data-line",5),a._uU(2),a.qZA(),a.BQk()),2&Me){const J=Qn.ngIf,Zt=a.oxw(2);a.xp6(1),a.Q6J("key","\u0420\u043e\u043b\u044c")("keyWidth",160)("hasValue",Zt.userProfileInfoService.paramHasValue(Zt.getUserRoles(J))),a.xp6(1),a.hij(" ",Zt.getUserRoles(J)," ")}}function Bn(Me,Qn){if(1&Me&&(a.ynx(0),a._UZ(1,"dms-user-profile-deputy",9),a.BQk()),2&Me){const J=Qn.$implicit;a.xp6(1),a.Q6J("userDeputy",J)}}function Ae(Me,Qn){if(1&Me&&(a.ynx(0),a.TgZ(1,"dms-user-profile-data-line",5)(2,"div",7),a.YNc(3,Bn,2,1,"ng-container",8),a.qZA()(),a.BQk()),2&Me){const J=Qn.ngIf,Zt=a.oxw(2);a.xp6(1),a.Q6J("key","\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u0438")("keyWidth",160)("hasValue",J.length>0),a.xp6(2),a.Q6J("ngForOf",J)("ngForTrackBy",Zt.trackByDeputyFn)}}function Hn(Me,Qn){if(1&Me&&(a.TgZ(0,"div",1)(1,"app-island-expand",2),a.YNc(2,ae,1,0,"ng-template",null,3,a.W1O),a.TgZ(4,"div",4)(5,"dms-user-profile-data-line",5),a._uU(6),a.qZA(),a.TgZ(7,"dms-user-profile-data-line",5),a._uU(8),a.qZA(),a.YNc(9,$e,3,4,"ng-container",6),a.ALo(10,"async"),a.TgZ(11,"dms-user-profile-data-line",5),a._uU(12),a.qZA(),a.YNc(13,Ae,4,5,"ng-container",6),a.ALo(14,"async"),a.qZA()()()),2&Me){const J=Qn.ngIf,Zt=a.MAs(3),Et=a.oxw();a.xp6(1),a.Q6J("heading",Zt)("isExpand",!0),a.xp6(4),a.Q6J("key","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(null==J.employee?null:J.employee.info)),a.xp6(1),a.hij(" ",null==J.employee?null:J.employee.info," "),a.xp6(1),a.Q6J("key","\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(null==J.employee?null:J.employee.company)),a.xp6(1),a.hij(" ",null==J.employee?null:J.employee.company," "),a.xp6(1),a.Q6J("ngIf",a.lcZ(10,16,Et.userAdmissions$)),a.xp6(2),a.Q6J("key","\u0424\u0438\u043b\u0438\u0430\u043b")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(null==J.employee?null:J.employee.dimFilialDescription)),a.xp6(1),a.hij(" ",null==J.employee?null:J.employee.dimFilialDescription," "),a.xp6(1),a.Q6J("ngIf",a.lcZ(14,18,Et.userDeputies$))}}function rn(Me,Qn){1&Me&&a._uU(0,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")}function re(Me,Qn){if(1&Me&&(a.TgZ(0,"div",1)(1,"app-island-expand",2),a.YNc(2,rn,1,0,"ng-template",null,3,a.W1O),a.TgZ(4,"div",4)(5,"dms-user-profile-data-line",5),a._uU(6),a.qZA(),a.TgZ(7,"dms-user-profile-data-line",5),a._uU(8),a.qZA(),a.TgZ(9,"dms-user-profile-data-line",5),a._uU(10),a.qZA(),a.TgZ(11,"dms-user-profile-data-line",5),a._uU(12),a.qZA(),a.TgZ(13,"dms-user-profile-data-line",5),a._uU(14),a.qZA()()()()),2&Me){const J=Qn.ngIf,Zt=a.MAs(3),Et=a.oxw();a.xp6(1),a.Q6J("heading",Zt)("isExpand",!0),a.xp6(4),a.Q6J("key","\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u043f\u043e\u0447\u0442\u0430")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(Et.userProfileInfoService.getWorkEmail(J))),a.xp6(1),a.hij(" ",Et.userProfileInfoService.getWorkEmail(J)," "),a.xp6(1),a.Q6J("key","\u041b\u0438\u0447\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(Et.userProfileInfoService.getPersonalEmail(J))),a.xp6(1),a.hij(" ",Et.userProfileInfoService.getPersonalEmail(J)," "),a.xp6(1),a.Q6J("key","\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(Et.userProfileInfoService.getWorkPhone(J))),a.xp6(1),a.hij(" ",Et.userProfileInfoService.getWorkPhone(J)," "),a.xp6(1),a.Q6J("key","\u041b\u0438\u0447\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(Et.userProfileInfoService.getPersonalPhone(J))),a.xp6(1),a.hij(" ",Et.userProfileInfoService.getPersonalPhone(J)," "),a.xp6(1),a.Q6J("key","\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u044b")("keyWidth",160)("hasValue",Et.userProfileInfoService.paramHasValue(Et.userProfileInfoService.getMessengers(J))),a.xp6(1),a.hij(" ",Et.userProfileInfoService.getMessengers(J)," ")}}function xn(Me,Qn){if(1&Me&&(a.TgZ(0,"button",7),a._uU(1),a.qZA()),2&Me){const J=Qn.$implicit;a.Q6J("value",J),a.xp6(1),a.hij(" ",J.fullName," ")}}function ce(Me,Qn){if(1&Me){const J=a.EpF();a.TgZ(0,"tui-data-list",5),a.NdJ("scrolled",function(){a.CHM(J);const Et=a.oxw(2);return a.KtG(Et.usersListStore.fetchPage())}),a.YNc(1,xn,2,2,"button",6),a.qZA()}if(2&Me){const J=a.oxw().ngIf;a.Q6J("immediateCheck",!0)("infiniteScrollThrottle",70)("infiniteScrollDistance",1)("scrollWindow",!1),a.xp6(1),a.Q6J("ngForOf",J.data)}}function me(Me,Qn){if(1&Me){const J=a.EpF();a.ynx(0),a.TgZ(1,"form",1)(2,"tui-combo-box",2),a.NdJ("searchChange",function(Et){a.CHM(J);const on=a.oxw();return a.KtG(on.onSearchChange(Et))})("focusedChange",function(Et){a.CHM(J);const on=a.oxw();return a.KtG(on.onFocusChange(Et))}),a.TgZ(3,"label"),a._uU(4,"\u0424\u0418\u041e \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044f"),a.qZA(),a._UZ(5,"input",3),a.TgZ(6,"tui-scrollbar"),a.YNc(7,ce,2,5,"tui-data-list",4),a.qZA()()(),a.BQk()}if(2&Me){const J=a.oxw();a.xp6(1),a.Q6J("formGroup",J.form),a.xp6(1),a.Q6J("strict",!0)("stringify",J.stringify)("strictMatcher",J.fullNameMatcher)("tuiTextfieldCleaner",!0)}}function En(Me,Qn){1&Me&&(a.TgZ(0,"div",15)(1,"div",16),a._UZ(2,"tui-icon",17),a.TgZ(3,"span"),a._uU(4,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432\u0441\u0442\u0443\u043f\u044f\u0442 \u0432 \u0441\u0438\u043b\u0443 \u0447\u0435\u0440\u0435\u0437 5 \u043c\u0438\u043d\u0443\u0442"),a.qZA()()())}function _n(Me,Qn){if(1&Me&&(a.TgZ(0,"div",20),a._uU(1),a.qZA()),2&Me){const J=Qn.$implicit;a.xp6(1),a.hij(" ",J.errorMessage," ")}}function Qe(Me,Qn){if(1&Me&&(a.TgZ(0,"div",18),a.YNc(1,_n,2,1,"div",19),a.qZA()),2&Me){const J=a.oxw();a.xp6(1),a.Q6J("ngForOf",J.errors())}}const xe=function(Me){return{error:Me}};function je(Me,Qn){1&Me&&(a.ynx(0),a.TgZ(1,"div",2),a._UZ(2,"tui-loader",3),a.qZA(),a.BQk()),2&Me&&(a.xp6(2),a.Q6J("size","l"))}function ke(Me,Qn){if(1&Me){const J=a.EpF();a.ynx(0),a.TgZ(1,"dms-edit-deputy",26),a.NdJ("deputyAdded",function(Et){a.CHM(J);const on=a.oxw(5);return a.KtG(on.onDeputyAdded(Et))})("deputyUpdated",function(Et){a.CHM(J);const on=a.oxw(5);return a.KtG(on.onDeputyUpdated(Et))})("deputyRemoved",function(Et){const ii=a.CHM(J).index,Si=a.oxw(5);return a.KtG(Si.onDeputyRemoved(Et,ii))}),a.qZA(),a.BQk()}if(2&Me){const J=Qn.$implicit,Zt=Qn.index;a.xp6(1),a.Q6J("deputy",J)("index",Zt+1)}}function we(Me,Qn){if(1&Me&&(a.TgZ(0,"div",24),a.YNc(1,ke,2,2,"ng-container",25),a.qZA()),2&Me){const J=a.oxw().ngIf;a.xp6(1),a.Q6J("ngForOf",J)}}function Ne(Me,Qn){if(1&Me){const J=a.EpF();a.TgZ(0,"app-island-expand",19),a.YNc(1,we,2,1,"div",20),a.TgZ(2,"div",21)(3,"button",22),a.NdJ("click",function(){a.CHM(J);const Et=a.oxw(3);return a.KtG(Et.addDeputyToSelelectedList())}),a._UZ(4,"tui-icon",23),a.TgZ(5,"span"),a._uU(6,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044f"),a.qZA()()()()}if(2&Me){const J=Qn.ngIf;a.Q6J("heading","\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u0438")("isExpand",!0),a.xp6(1),a.Q6J("ngIf",null==J?null:J.length),a.xp6(2),a.Udp("color","#393939"),a.xp6(1),a.Udp("color","#393939")}}function Ke(Me,Qn){if(1&Me&&(a.TgZ(0,"form",8)(1,"app-island-expand",9)(2,"div",10)(3,"div",11)(4,"tui-textfield",12)(5,"label",13),a._uU(6,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),a.qZA(),a._UZ(7,"input",14),a.qZA()(),a.TgZ(8,"div",11)(9,"tui-textfield",12)(10,"label",13),a._uU(11,"\u0418\u043c\u044f"),a.qZA(),a._UZ(12,"input",15),a.qZA()(),a.TgZ(13,"div",11)(14,"tui-textfield",12)(15,"label",13),a._uU(16,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),a.qZA(),a._UZ(17,"input",16),a.qZA()(),a.TgZ(18,"div",11)(19,"tui-textfield",12)(20,"label",13),a._uU(21,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),a.qZA(),a._UZ(22,"input",17),a.qZA()()()(),a.YNc(23,Ne,7,7,"app-island-expand",18),a.ALo(24,"async"),a.qZA()),2&Me){const J=a.oxw(2);a.Q6J("formGroup",J.form),a.xp6(1),a.Q6J("heading","\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a")("isExpand",!0),a.xp6(6),a.Q6J("readOnly",!0),a.xp6(5),a.Q6J("readOnly",!0),a.xp6(5),a.Q6J("readOnly",!0),a.xp6(5),a.Q6J("readOnly",!0),a.xp6(1),a.Q6J("ngIf",a.lcZ(24,8,J.selectedDeputiesList$))}}function qe(Me,Qn){if(1&Me){const J=a.EpF();a.TgZ(0,"div",4)(1,"button",5),a.NdJ("click",function(){a.CHM(J);const Et=a.oxw();return a.KtG(Et.close())}),a.qZA(),a.TgZ(2,"span",6),a._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),a.qZA()(),a.YNc(4,Ke,25,10,"form",7),a.ALo(5,"async")}if(2&Me){const J=a.oxw();a.xp6(4),a.Q6J("ngIf",a.lcZ(5,1,J.canEdit$))}}function kn(Me,Qn){if(1&Me&&(a.ynx(0),a._UZ(1,"dms-user-profile-deputy",10),a.BQk()),2&Me){const J=Qn.$implicit;a.xp6(1),a.Q6J("userDeputy",J)("size","small")}}function ui(Me,Qn){if(1&Me&&(a.TgZ(0,"div",8),a.YNc(1,kn,2,2,"ng-container",9),a.qZA()),2&Me){const J=Qn.ngIf,Zt=a.oxw();a.xp6(1),a.Q6J("ngForOf",J)("ngForTrackBy",Zt.trackByDeputyFn)}}function eo(Me,Qn){1&Me&&(a.TgZ(0,"span",11),a._uU(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),a.qZA())}function Pn(Me,Qn){1&Me&&(a.ynx(0),a._UZ(1,"dms-user-profile-header")(2,"dms-user-profile-common-info")(3,"dms-user-profile-contact-info"),a.BQk())}function tn(Me,Qn){1&Me&&(a.ynx(0),a.TgZ(1,"div",2),a._UZ(2,"tui-loader",3),a.qZA(),a.BQk()),2&Me&&(a.xp6(2),a.Q6J("size","l"))}function ln(Me,Qn){1&Me&&a._UZ(0,"app-data-fetch-error")}function Zn(Me,Qn){if(1&Me&&(a.ynx(0),a.TgZ(1,"div",1),a.YNc(2,Pn,4,0,"ng-container",0),a.ALo(3,"async"),a.YNc(4,tn,3,1,"ng-container",0),a.qZA(),a.YNc(5,ln,1,0,"app-data-fetch-error",0),a.BQk()),2&Me){const J=Qn.ngIf,Zt=a.oxw();a.xp6(2),a.Q6J("ngIf",!J.isLoading&&a.lcZ(3,3,Zt.userCard$)),a.xp6(2),a.Q6J("ngIf",J.isLoading),a.xp6(1),a.Q6J("ngIf",J.error)}}let Jn=(()=>{class Me{constructor(){this.hasValue=!0,this.keyWidth=200}getKeyWidthStyles(J){return{width:`${J}px`,minWidth:`${J}px`,maxWidth:`${J}px`}}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-data-line"]],inputs:{key:"key",hasValue:"hasValue",keyWidth:"keyWidth"},standalone:!0,features:[a.jDz],ngContentSelectors:k,decls:6,vars:7,consts:[[1,"user-profile-data-line",3,"ngClass"],[1,"user-profile-data-line__key",3,"ngStyle"],[1,"user-profile-data-line__value"],[4,"ngIf"]],template:function(Zt,Et){1&Zt&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1),a._uU(2),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,Rt,2,0,"ng-container",3),a.YNc(5,Bt,2,1,"ng-container",3),a.qZA()()),2&Zt&&(a.Q6J("ngClass",a.VKq(5,B,!Et.hasValue)),a.xp6(1),a.Q6J("ngStyle",Et.getKeyWidthStyles(Et.keyWidth)),a.xp6(1),a.Oqu(Et.key),a.xp6(2),a.Q6J("ngIf",Et.hasValue),a.xp6(1),a.Q6J("ngIf",!Et.hasValue))},dependencies:[t.mk,t.O5,t.PC],styles:["[_nghost-%COMP%]{display:block;width:100%}.user-profile-data-line[_ngcontent-%COMP%]{padding:10px 12px;display:flex;width:100%;min-height:40px;justify-content:flex-start;align-items:flex-start;gap:12px;background-color:#f5f5f5;border-radius:8px}.user-profile-data-line__key[_ngcontent-%COMP%]{font-size:14px;line-height:19px;font-weight:400;color:#646464}.user-profile-data-line__value[_ngcontent-%COMP%]{flex-grow:1;font-size:14px;line-height:19px;font-weight:400}.user-profile-data-line.no-data[_ngcontent-%COMP%]{background-color:#fafafa}.user-profile-data-line.no-data[_ngcontent-%COMP%]   .user-profile-data-line__value[_ngcontent-%COMP%]{color:#bcbcbc}"],changeDetection:0})}}return(0,e.gn)([i.UM],Me.prototype,"getKeyWidthStyles",null),Me})(),hi=(()=>{class Me{constructor(){this.userPhotoSrc=void 0,this.mode="view"}getUserPhotoBackgroundStyles(J){return J?{"background-image":`url(${J})`}:{}}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-photo"]],inputs:{userPhotoSrc:"userPhotoSrc",mode:"mode"},standalone:!0,features:[a.jDz],decls:3,vars:9,consts:[[1,"user-profile-photo__container",3,"ngClass"],[1,"user-profile-photo",3,"ngClass","ngStyle"],["icon","appIconCameraBig",4,"ngIf"],["icon","appIconCameraBig"]],template:function(Zt,Et){1&Zt&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,yt,1,0,"tui-icon",2),a.qZA()()),2&Zt&&(a.Q6J("ngClass",a.WLB(4,Y,"view"===Et.mode,"edit"===Et.mode)),a.xp6(1),a.Q6J("ngClass",a.VKq(7,xt,!Et.userPhotoSrc))("ngStyle",Et.getUserPhotoBackgroundStyles(Et.userPhotoSrc)),a.xp6(1),a.Q6J("ngIf","view"===Et.mode&&!Et.userPhotoSrc))},dependencies:[t.O5,t.mk,t.PC,v.R],styles:[".user-profile-photo[_ngcontent-%COMP%]{display:flex;overflow:hidden;width:80px;height:80px;justify-content:center;align-items:center;background-color:#4b5270;background-repeat:no-repeat;background-position:center;background-size:cover;border-radius:50%}.user-profile-photo__container.view[_ngcontent-%COMP%]{display:inline-block}.user-profile-photo__container.edit[_ngcontent-%COMP%]{display:block;width:100%}.user-profile-photo.empty[_ngcontent-%COMP%]{border:2px solid #7d95ff}"],changeDetection:0})}}return(0,e.gn)([i.UM],Me.prototype,"getUserPhotoBackgroundStyles",null),Me})(),ei=(()=>{class Me{constructor(){this.context=(0,M.FQ)()}confirm(){this.context.completeWith("confirm")}cancel(){this.context.completeWith("cancel")}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-remove-deputy-confirm"]],standalone:!0,features:[a.jDz],decls:10,vars:1,consts:[[1,"remove-deputy-confirm__container"],[1,"remove-deputy-confirm__content"],[1,"remove-deputy",3,"icon"],[1,"remove-deputy-confirm__footer"],["type","button","tuiButton","","size","m","appearance","outline",3,"click"],["type","button","tuiButton","","size","m",3,"click"]],template:function(Zt,Et){1&Zt&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"tui-icon",2),a.TgZ(3,"h3"),a._uU(4,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044f?"),a.qZA()(),a.TgZ(5,"footer",3)(6,"button",4),a.NdJ("click",function(){return Et.cancel()}),a._uU(7,"\u041e\u0442\u043c\u0435\u043d\u0430"),a.qZA(),a.TgZ(8,"button",5),a.NdJ("click",function(){return Et.confirm()}),a._uU(9,"\u0423\u0431\u0440\u0430\u0442\u044c"),a.qZA()()()),2&Zt&&(a.xp6(2),a.Q6J("icon","errorCircleIcon"))},dependencies:[C.xG,v.R],styles:[".remove-deputy-confirm__container[_ngcontent-%COMP%]{display:flex;width:600px;flex-direction:column;color:var(--tui-text-primary);gap:12px}.remove-deputy-confirm__content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.remove-deputy-confirm__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.remove-deputy-confirm__content[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:36px;height:36px}.remove-deputy-confirm__footer[_ngcontent-%COMP%]{padding:16px 4px 0;display:flex;justify-content:end;gap:12px}"],changeDetection:0})}}return Me})();const wi=new a.OlP("User Profile Api Service");let oi=(()=>{class Me{constructor(){this.open$=new R.X(!1)}showMiniProfile(){this.open$.next(!0)}hideMiniProfile(){this.open$.next(!1)}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275prov=a.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Li=new a.OlP("User Deputies Api Service"),mi={isLoading:!1,data:null,error:null},Zi={userCard:null,userAdmissions:null,nextMiniUserCardLogin:null,nextMiniUserCard:null,miniCardLoading:!1,userDeputies:[]};let Qi=(()=>{class Me extends St.m1{constructor(J){super(mi),this.destroyRef=J,this.isLoading$=this.select(Zt=>Zt.isLoading),this.error$=this.select(Zt=>Zt.error),this.userState$=this.select(Zt=>Zt),this.userCard$=this.select(Zt=>Zt.data?.userCard||null),this.userAdmissions$=this.select(Zt=>Zt.data?.userAdmissions||null),this.nextMiniUserCard$=this.select(Zt=>Zt.data?.nextMiniUserCard||null),this.miniCardLoading$=this.select(Zt=>Zt.data?.miniCardLoading||!1),this.userDeputies$=this.select(Zt=>Zt.data?.userDeputies||[]),this.setIsLoading=this.updater((Zt,Et)=>({...Zt,isLoading:Et})),this.setError=this.updater((Zt,Et)=>({...Zt,isLoading:!1,error:Et})),this.setFullLogin=this.updater((Zt,Et)=>{const on=Zt.data||Zi;return{...Zt,data:{...on,fullLogin:Et}}}),this.setUserCard=this.updater((Zt,Et)=>{const on=Zt.data||Zi;return{...Zt,data:{...on,userCard:Et}}}),this.setUserAdmissions=this.updater((Zt,Et)=>{const on=Zt.data||Zi;return{...Zt,data:{...on,userAdmissions:Et}}}),this.setNextMiniUserCard=this.updater((Zt,Et)=>{const on=Zt.data||Zi;return{...Zt,data:{...on,nextMiniUserCard:Et}}}),this.setMiniCardLoading=this.updater((Zt,Et)=>{const on=Zt.data||Zi;return{...Zt,data:{...on,miniCardLoading:Et}}}),this.setUserDeputies=this.updater((Zt,Et)=>{const on=Zt.data||Zi;return{...Zt,data:{...on,userDeputies:Et}}}),this.apiService=(0,a.f3M)(wi),this.deputiesApiService=(0,a.f3M)(Li),this.getNextUserCard=this.effect(Zt=>Zt.pipe((0,dt.sL)(this.destroyRef),(0,A.b)(()=>this.setIsLoading(!0)),(0,S.w)(Et=>Et?this.apiService.getUserCard(Et):(this.setIsLoading(!1),(0,w.of)(null))),(0,A.b)(Et=>{this.setIsLoading(!1),Et&&this.setUserCard(Et)}))),this.getMiniUserCard=this.effect(Zt=>Zt.pipe((0,dt.sL)(this.destroyRef),(0,A.b)(()=>this.setMiniCardLoading(!0)),(0,S.w)(Et=>Et?this.apiService.getMiniUserCard(Et):(this.setMiniCardLoading(!1),(0,w.of)(null))),(0,A.b)(Et=>{this.setMiniCardLoading(!1),Et&&this.setNextMiniUserCard(Et)}))),this.getUserDeputies=this.effect(Zt=>Zt.pipe((0,dt.sL)(this.destroyRef),(0,A.b)(()=>this.setIsLoading(!0)),(0,S.w)(Et=>this.deputiesApiService.getDeputies(Et)),(0,A.b)(Et=>{this.setIsLoading(!1),this.setUserDeputies(Et.deputies||[])})))}static{this.\u0275fac=function(Zt){return new(Zt||Me)(a.LFG(a.ktI))}}static{this.\u0275prov=a.Yz7({token:Me,factory:Me.\u0275fac})}}return Me})();const Yi=new a.OlP("User Status Api Service");let uo=(()=>{class Me{constructor(){this.statusesList$=new R.X(null),this.apiService=(0,a.f3M)(Yi)}setStatusesList(J){this.statusesList$.next(J)}getStatusesList(J){return this.apiService.getUserStates(J).pipe((0,p.U)(Zt=>Zt?Zt.states:null))}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275prov=a.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Ui=new a.OlP("Provide subject with selected user card login",{providedIn:"root",factory:()=>new R.X(null)}),Ki=new a.OlP("Provide subject with next mini user card login",{providedIn:"root",factory:()=>new R.X(null)});class Gi{static parseKeycloakLoginToRouteParamLogin(Qn){return Qn.replace("\\","-")}static parseRouteParamLoginToKeycloackLogin(Qn){return Qn.replace("-","\\")}static getTuiDayRangeFromStrings(Qn,J){const Zt=Qn.split("-"),Et=J.split("-");return new g.VR(new g.TU(Number(Zt[0]),Number(Zt[1])-1,Number(Zt[2])),new g.TU(Number(Et[0]),Number(Et[1])-1,Number(Et[2])))}static getDayRangeStringFromUserDeputy(Qn){return Qn.dateFrom&&Qn.dateTo?[Qn.dateFrom,Qn.dateTo].join("\xa0\u2013\xa0"):null}static getYYYYMMDDStringFromTuiDay(Qn){const J=Qn.month+1,Zt=1===Qn.month.toString().length?`0${J}`:J.toString(),Et=1===Qn.day.toString().length?`0${Qn.day}`:Qn.day.toString();return`${Qn.year}-${Zt}-${Et}`}static getTuiDayFromDateNow(){const Qn=new Date;return new g.TU(Qn.getFullYear(),Qn.getMonth(),Qn.getDate())}static compareLogins(Qn,J){return Qn.includes("vsk\\")&&!J.includes("vsk\\")?Qn=Qn.split("\\")[1]:!Qn.includes("vsk\\")&&J.includes("vsk\\")&&(J=J.split("\\")[1]),Qn===J}}const sn={GoToEditProfile:"goToEditProfile",SetStatusToVacation:"setStatusToVacation"},fi=(0,U.PH)("[User Profile Store] setCurrentUserKeycloakProfile action",(0,U.Ky)()),Xt=(0,U.PH)("[User Profile Store] getCurrentUserCard action",(0,U.Ky)()),Ye=(0,U.PH)("[User Profile Store] getCurrentUserCardSuccess action",(0,U.Ky)()),se=(0,U.PH)("[User Profile Store] getCurrentUserAdmissions action",(0,U.Ky)()),Ve=(0,U.PH)("[User Profile Store] getCurrentUserAdmissionsSuccess action",(0,U.Ky)()),An=(0,U.PH)("[User Profile Store] getCurrentUserStatuses action",(0,U.Ky)()),Ei=(0,U.PH)("[User Profile Store] getCurrentUserStatusesSuccess action",(0,U.Ky)()),ji=(0,U.PH)("[User Profile Store] setCurrentUserStatuses action",(0,U.Ky)()),Ji=(0,U.PH)("[User Profile Store] updateCurrentUserStatus action",(0,U.Ky)()),Wo=(0,U.PH)("[User Profile Store] updateCurrentUserStatusSuccess action",(0,U.Ky)()),Ie=(0,U.PH)("[User Profile Store] getCurrentUserDeputies action",(0,U.Ky)()),ze=(0,U.PH)("[User Profile Store] getCurrentUserDeputiesSuccess action",(0,U.Ky)());var pn=Object.freeze({__proto__:null,getCurrentUserAdmissions:se,getCurrentUserAdmissionsSuccess:Ve,getCurrentUserCard:Xt,getCurrentUserCardSuccess:Ye,getCurrentUserDeputies:Ie,getCurrentUserDeputiesSuccess:ze,getCurrentUserStatuses:An,getCurrentUserStatusesSuccess:Ei,setCurrentUserStatuses:ji,setUserKeycloakProfile:fi,updateCurrentUserStatus:Ji,updateCurrentUserStatusSuccess:Wo});const fn={currentUserKeycloakProfile:null,currentUserCard:null,currentUserAdmissions:null,currentUserStatuses:[],currentUserDeputies:[],userStatusLoading:!1,moduleStatusLoading:!1},an=(0,U.Lq)(fn,(0,U.on)(fi,(Me,{currentUserKeycloakProfile:Qn})=>({...Me,currentUserKeycloakProfile:Qn})),(0,U.on)(Xt,Me=>Me),(0,U.on)(Ye,(Me,{userCard:Qn})=>({...Me,currentUserCard:Qn})),(0,U.on)(se,Me=>Me),(0,U.on)(Ve,(Me,{userAdmissions:Qn})=>({...Me,currentUserAdmissions:Qn})),(0,U.on)(An,Me=>Me),(0,U.on)(Ei,(Me,{currentUserStatuses:Qn})=>({...Me,currentUserStatuses:Qn})),(0,U.on)(ji,(Me,{currentUserStatuses:Qn})=>({...Me,currentUserStatuses:Qn})),(0,U.on)(Ji,(Me,Qn)=>({...Me,userStatusLoading:Qn.statusType===xo.default||Me.userStatusLoading,moduleStatusLoading:Qn.statusType===xo.module||Me.moduleStatusLoading})),(0,U.on)(Wo,(Me,{currentUserStatuses:Qn})=>({...Me,currentUserStatuses:Qn,userStatusLoading:!1,moduleStatusLoading:!1})),(0,U.on)(Ie,Me=>Me),(0,U.on)(ze,(Me,{currentUserDeputies:Qn})=>({...Me,currentUserDeputies:Qn}))),Mn="user-profile",Tn=(0,U.ZF)(Mn),bn=(0,U.P1)(Tn,Me=>Me?.currentUserKeycloakProfile),ie=(0,U.P1)(Tn,Me=>Me?.currentUserCard),We=(0,U.P1)(Tn,Me=>Me?.currentUserAdmissions),Le=(0,U.P1)(Tn,Me=>Me.currentUserAdmissions?.profile?.[0]?.permissions??[]),un=(0,U.P1)(Tn,Me=>{const Qn=Me.currentUserAdmissions?.profile?.[0]?.permissions;return Qn?Qn.map(J=>J?.code??""):null}),Rn=(0,U.P1)(Tn,Me=>Me?.currentUserStatuses),Fn=(0,U.P1)(Tn,Me=>Me?.currentUserStatuses.find(Qn=>Qn.default)||null),si=(0,U.P1)(Tn,Me=>Me?.currentUserDeputies),Di=(0,U.P1)(Tn,Me=>Me?.userStatusLoading),Ii=(0,U.P1)(Tn,Me=>Me?.moduleStatusLoading);let Vi=(()=>{class Me{constructor(){this.store=(0,a.f3M)(U.yh),this.userProfilePageStore=(0,a.f3M)(Qi),this.destroyRef=(0,a.f3M)(a.ktI),this.router=(0,a.f3M)(bt.F0),this.activatedRoute=(0,a.f3M)(bt.gz),this.userCard$=this.userProfilePageStore.userCard$,this.showEditButton$=(0,L.a)([this.store.select(bn),this.userProfilePageStore.userCard$]).pipe((0,dt.sL)(this.destroyRef),(0,p.U)(([J,Zt])=>Gi.compareLogins(J?.username||"",Zt?.login||"")))}goToEditProfile(){this.router.navigate(["edit"],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-header"]],standalone:!0,features:[a.jDz],decls:2,vars:3,consts:[["class","profile-user-header__container",4,"ngIf"],[1,"profile-user-header__container"],[1,"profile-user-header__home"],[1,"profile-user-header__info"],[3,"userPhotoSrc"],[1,"profile-user-header__user-info"],[1,"profile-user-header__full-name"],[1,"profile-user-header__login"],[1,"profile-user-header__job-title"],[1,"profile-user-header__employee-id"],["class","edit-button","tuiIconButton","","size","s","appearance","outline",3,"click",4,"ngIf"],["tuiIconButton","","size","s","appearance","outline",1,"edit-button",3,"click"],["icon","appIconPencil"]],template:function(Zt,Et){1&Zt&&(a.YNc(0,at,15,8,"div",0),a.ALo(1,"async")),2&Zt&&a.Q6J("ngIf",a.lcZ(1,1,Et.userCard$))},dependencies:function(){return[hi,t.O5,t.Ov,C.xG,v.R]},styles:[".profile-user-header__container[_ngcontent-%COMP%]{margin-top:8px;padding:8px;background-color:var(--tui-background-base);border-radius:16px}.profile-user-header__home[_ngcontent-%COMP%]{padding:8px;display:flex;gap:10px;justify-content:space-between;align-items:start}.profile-user-header__home[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{margin-top:2px;padding:4px 12px;width:48px;height:32px}.profile-user-header__home[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:disabled{opacity:.5}.profile-user-header__home[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{margin:0;width:20px;height:20px;font-size:20px;color:var(--tui-background-accent-opposite-hover)}.profile-user-header__info[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;flex-grow:1;gap:16px}.profile-user-header__full-name[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-heading-2);white-space:nowrap}.profile-user-header__login[_ngcontent-%COMP%]{font:var(--tui-font-text-s);white-space:nowrap;color:#868686}.profile-user-header__job-title[_ngcontent-%COMP%]{margin:0;padding-top:4px;white-space:nowrap}.profile-user-header__employee-id[_ngcontent-%COMP%]{font:var(--tui-font-text-s);white-space:nowrap;color:#868686}.profile-user-header__user-info[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}}return Me})();var gi=function(Me){return Me.Mobile="001",Me.Email="002",Me.Messenger="003",Me.MobileELKA="004",Me.EmailELKA="005",Me.MessengerELKA="006",Me}(gi||{}),Ni=function(Me){return Me.Personal="001",Me.Work="002",Me}(Ni||{});let zi=(()=>{class Me{paramHasValue(J){return!!J}getWorkEmail(J){return this.getContactByTypeandElkaType(J.contacts,gi.Email,gi.EmailELKA,Ni.Work)}getPersonalEmail(J){return this.getContactByTypeandElkaType(J.contacts,gi.Email,gi.EmailELKA,Ni.Personal)}getWorkPhone(J){return this.getContactByTypeandElkaType(J.contacts,gi.Mobile,gi.MobileELKA,Ni.Work)}getPersonalPhone(J){return this.getContactByTypeandElkaType(J.contacts,gi.Mobile,gi.MobileELKA,Ni.Personal)}getMessengers(J){return this.getContactByChannel(J.contacts,gi.Messenger)}getContactByTypeandElkaType(J=[],Zt,Et,on){const ii=this.getContactByChannelAndType(J,Zt,on),Si=this.getContactByChannelAndType(J,Et,on);return[ii?.value,Si?.value].filter(Oo=>!!Oo).join(", ")||""}getContactByChannel(J=[],Zt){return J.filter(Et=>Et.contactChannel.code===Zt).map(Et=>Et.value).join(", ")||""}getContactByChannelAndType(J=[],Zt,Et){return J.find(on=>on.contactChannel.code===Zt&&on.contactType.code===Et)}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275prov=a.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return(0,e.gn)([i.UM],Me.prototype,"paramHasValue",null),(0,e.gn)([i.UM],Me.prototype,"getWorkEmail",null),(0,e.gn)([i.UM],Me.prototype,"getPersonalEmail",null),(0,e.gn)([i.UM],Me.prototype,"getWorkPhone",null),(0,e.gn)([i.UM],Me.prototype,"getPersonalPhone",null),(0,e.gn)([i.UM],Me.prototype,"getMessengers",null),Me})(),Mo=(()=>{class Me{getUserInitials(J){return`${J.lastName?.[0]||""}${J.firstName?.[0]||""}`}getUserPhotoBackgroundStyles(J){return J?{"background-image":`url(${J})`}:{}}getUnformattedUserPhone(J){return this.userProfileInfoService.getWorkPhone(J).replace(/\s/g,"")}constructor(J,Zt,Et,on){this.nextMiniUserCardLogin$=J,this.router=Zt,this.userProfileInfoService=Et,this.userMiniProfileService=on,this.userProfilePageStore=(0,a.f3M)(Qi),this.isExpanded$=new R.X(!0)}ngOnInit(){this.userProfilePageStore.getMiniUserCard(this.nextMiniUserCardLogin$.asObservable())}hide(){this.userMiniProfileService.hideMiniProfile()}toggleExpanded(){this.isExpanded$.next(!this.isExpanded$.value)}goToFullProfile(){const J=this.nextMiniUserCardLogin$.value.replace("\\","-"),Zt=this.router.createUrlTree([`/profile/${J}`]),Et=this.router.serializeUrl(Zt);window.open(Et,"_blanc")}static{this.\u0275fac=function(Zt){return new(Zt||Me)(a.Y36(Ki),a.Y36(bt.F0),a.Y36(zi),a.Y36(oi))}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-mini-profile"]],standalone:!0,features:[a.jDz],decls:6,vars:4,consts:[[1,"user-profile-mini__container"],[4,"ngIf","ngIfElse"],["content",""],[1,"user-profile-mini__overlay",3,"click"],[3,"size","inheritColor"],[4,"ngIf"],[1,"user-profile-mini__header",3,"click"],[1,"user-profile-mini__header-content"],[1,"user-profile-mini__header-photo-container"],[1,"user-profile-mini__header-photo",3,"ngStyle"],[1,"user-profile-mini__header-initials"],[1,"user-profile-mini__header-info"],[1,"user-profile-mini__header-full-name"],["icon","@tui.chevron-down",1,"expand-icon",3,"ngClass"],[1,"expand-block",3,"expanded"],[1,"user-profile-mini__content"],[1,"user-profile-mini__data-block"],[1,"user-profile-mini__data-line",3,"ngClass"],["emptyPhone",""],["emptyEmail",""],[1,"user-profile-mini__buttons"],["appearance","opposite","size","m","tuiButton","",1,"user-profile-mini__button",3,"click"],["icon","@tui.user"],[1,"user-profile-mini__data-line","flex-line"],[3,"href"],["tuiIconButton","","iconStart","@tui.copy","appearance","mini-profile-copy","size","xs","notificationText","\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",1,"copy-button",3,"dmsCopyToClipboard"],[1,"user-profile-mini__data-line","empty"],["tuiIconButton","","iconStart","@tui.copy","appearance","mini-profile-copy","size","xs","notificationText","E-mail \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430",1,"copy-button",3,"dmsCopyToClipboard"]],template:function(Zt,Et){if(1&Zt&&(a.TgZ(0,"div",0),a.YNc(1,Pt,2,2,"ng-container",1),a.ALo(2,"async"),a.YNc(3,ne,2,3,"ng-template",null,2,a.W1O),a.qZA(),a.TgZ(5,"div",3),a.NdJ("click",function(){return Et.hide()}),a.qZA()),2&Zt){const on=a.MAs(4);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,Et.userProfilePageStore.miniCardLoading$))("ngIfElse",on)}},dependencies:[t.Ov,t.mk,t.O5,t.PC,C.xG,u.fT,D.A6,_.SV,v.R],styles:["[_nghost-%COMP%]{z-index:1;display:block;width:320px}.user-profile-mini__container[_ngcontent-%COMP%]{position:relative;z-index:10;padding:8px;display:flex;overflow:hidden;flex-direction:column;font-size:14px;line-height:20px;color:#fff;background-color:#424242}.user-profile-mini__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;cursor:pointer}.user-profile-mini__header[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:24px;height:24px;color:#fff}.user-profile-mini__header-content[_ngcontent-%COMP%]{display:flex;max-width:calc(100% - 36px);justify-content:flex-start;align-items:center;gap:8px}.user-profile-mini__header-photo-container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;overflow:hidden;box-sizing:border-box;width:40px;height:40px;justify-content:center;align-items:center;background-color:#525252;border-radius:50%;box-shadow:0 0 0 2px #777 inset}.user-profile-mini__header-photo[_ngcontent-%COMP%]{position:absolute;z-index:5;width:40px;height:40px;background-repeat:no-repeat;background-position:center;background-size:cover;border-radius:50%}.user-profile-mini__header-initials[_ngcontent-%COMP%]{position:absolute;z-index:-1}.user-profile-mini__header-info[_ngcontent-%COMP%]{display:flex;max-width:calc(100% - 48px);flex-direction:column;gap:2px}.user-profile-mini__header-full-name[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.user-profile-mini__content[_ngcontent-%COMP%]{margin-top:0;display:flex;flex-direction:column;gap:8px}.user-profile-mini__data-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#353535;border-radius:8px}.user-profile-mini__data-line[_ngcontent-%COMP%]{padding:8px 12px}.user-profile-mini__data-line[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #474747}.user-profile-mini__data-line.flex-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.user-profile-mini__data-line.empty[_ngcontent-%COMP%]{opacity:.5}.user-profile-mini__data-line[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7d95ff}.user-profile-mini__data-line[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:18px;height:14px;font-size:10px}.user-profile-mini__buttons[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center;gap:8px}.user-profile-mini__button[_ngcontent-%COMP%]{width:100%}.user-profile-mini__button[tuiButtonNew][data-size=m][_ngcontent-%COMP%]{height:44px;font-size:13px;line-height:18px;background-color:#5f5f5f;border-radius:8px}.user-profile-mini__overlay[_ngcontent-%COMP%]{position:fixed;z-index:5;top:0;left:0;width:100%;height:100%}.expand-block._expanded[_ngcontent-%COMP%]   .user-profile-mini__content[_ngcontent-%COMP%]{margin-top:8px}.expand-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.expand-icon.open[_ngcontent-%COMP%]{transform:rotate(0)}"],changeDetection:0})}}return(0,e.gn)([i.UM],Me.prototype,"getUserInitials",null),(0,e.gn)([i.UM],Me.prototype,"getUserPhotoBackgroundStyles",null),(0,e.gn)([i.UM],Me.prototype,"getUnformattedUserPhone",null),Me})(),io=(()=>{class Me{constructor(){this.userProfileInfoService=(0,a.f3M)(zi),this.nextMiniUserCardLogin$=(0,a.f3M)(Ki),this.cd=(0,a.f3M)(a.sBO),this.destroyRef=(0,a.f3M)(a.ktI),this.userMiniProfileService=(0,a.f3M)(oi),this.size="default",this.expanded=!1,this.openDropdown=!1}getWorkTime(J){return Gi.getDayRangeStringFromUserDeputy(J)}ngOnInit(){this.userMiniProfileService.open$.pipe((0,dt.sL)(this.destroyRef),(0,A.b)(J=>{this.openDropdown=J}),(0,V.h)(J=>!J),(0,A.b)(()=>{this.cd.detectChanges()})).subscribe()}showMiniProfile(J){J.preventDefault(),J.stopPropagation(),J.stopImmediatePropagation(),this.userDeputy?.login&&(this.nextMiniUserCardLogin$.next(this.userDeputy.login),this.userMiniProfileService.showMiniProfile())}toggleExpanded(){this.expanded=!this.expanded}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-deputy"]],inputs:{userDeputy:"userDeputy",size:"size"},standalone:!0,features:[a.jDz],decls:21,vars:21,consts:[[1,"user-profile-deputy__container"],[1,"user-profile-deputy__header",3,"ngClass"],["tuiDropdownAppearance","flat",1,"user-profile-deputy__full-name",3,"tuiDropdownAppearance","tuiDropdown","tuiDropdownManual","tuiDropdownMinHeight","tuiDropdownMaxHeight","click"],["tuiIconButton","",1,"toggle-user-deputy",3,"iconStart","size","appearance","click"],[3,"expanded"],[1,"user-profile-deputy__data-block",3,"ngClass"],[1,"user-profile-deputy__data-line"],[1,"user-profile-deputy__data-key"],[1,"user-profile-deputy__data-value"],[4,"ngIf","ngIfElse"],["dropdownContent",""],["noData",""],[1,"user-mini-profile"],[1,"no-data"]],template:function(Zt,Et){if(1&Zt&&(a.TgZ(0,"div",0)(1,"div",1)(2,"a",2),a.NdJ("click",function(ii){return Et.showMiniProfile(ii)}),a._uU(3),a.qZA(),a.TgZ(4,"button",3),a.NdJ("click",function(){return Et.toggleExpanded()}),a.qZA()(),a.TgZ(5,"tui-expand",4)(6,"div",5)(7,"div",6)(8,"div",7),a._uU(9,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),a.qZA(),a.TgZ(10,"div",8),a.YNc(11,Ge,2,1,"ng-container",9),a.qZA()(),a.TgZ(12,"div",6)(13,"div",7),a._uU(14,"\u041f\u0435\u0440\u0438\u043e\u0434 \u0437\u0430\u043c\u0435\u0449\u0435\u043d\u0438\u044f"),a.qZA(),a.TgZ(15,"div",8),a.YNc(16,Se,2,1,"ng-container",9),a.qZA()()()()(),a.YNc(17,Pe,1,0,"ng-template",null,10,a.W1O),a.YNc(19,Ue,2,0,"ng-template",null,11,a.W1O)),2&Zt){const on=a.MAs(18),ii=a.MAs(20);a.xp6(1),a.Q6J("ngClass",a.WLB(16,Ee,"small"===Et.size,Et.expanded)),a.xp6(1),a.Q6J("tuiDropdownAppearance","mini-profile-dropdown")("tuiDropdown",on)("tuiDropdownManual",Et.openDropdown)("tuiDropdownMinHeight",700)("tuiDropdownMaxHeight",700),a.xp6(1),a.hij(" ",Et.userDeputy.fullName," "),a.xp6(1),a.Q6J("iconStart",Et.expanded?"@tui.chevron-up":"@tui.chevron-down")("size","m")("appearance","toggle-user-deputy"),a.xp6(1),a.Q6J("expanded",Et.expanded),a.xp6(1),a.Q6J("ngClass",a.VKq(19,de,"small"===Et.size)),a.xp6(5),a.Q6J("ngIf",Et.userProfileInfoService.paramHasValue(Et.userDeputy.about))("ngIfElse",ii),a.xp6(5),a.Q6J("ngIf",Et.userProfileInfoService.paramHasValue(Et.getWorkTime(Et.userDeputy)))("ngIfElse",ii)}},dependencies:[Mo,m.Ek,m.td,m.nS,t.O5,t.mk,_.SV,C.xG],styles:['[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   tui-dropdown[_ngcontent-%COMP%]{border:none}.small.user-profile-deputy__header[_ngcontent-%COMP%]{padding:6px 12px;background-color:#f5f5f5}.small.user-profile-deputy__data-block[_ngcontent-%COMP%]{background-color:#f5f5f5}.user-profile-deputy__container[_ngcontent-%COMP%]{overflow:hidden;border-radius:12px}.user-profile-deputy__header[_ngcontent-%COMP%]{position:relative;z-index:5;padding:8px 12px;display:flex;min-height:40px;justify-content:space-between;align-items:center;font-size:14px;line-height:19px;font-weight:400;background-color:#fff}.user-profile-deputy__header.expanded[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:1px;content:"";box-shadow:0 10px 20px #0000001a}.user-profile-deputy__full-name[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.user-profile-deputy__data-block[_ngcontent-%COMP%]{position:relative;display:flex;overflow:hidden;flex-direction:column;background-color:#fff}.user-profile-deputy__data-block[_ngcontent-%COMP%]:before{position:absolute;top:-20px;left:0;width:100%;height:20px;content:"";box-shadow:0 10px 20px #0000001a}.user-profile-deputy__data-line[_ngcontent-%COMP%]{padding:8px 12px;display:flex;min-height:35px;justify-content:flex-start;align-items:center;gap:8px}.user-profile-deputy__data-line[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #d9d9d9}.user-profile-deputy__data-key[_ngcontent-%COMP%]{width:120px;min-width:120px;max-width:120px;font-size:14px;line-height:19px;font-weight:400;color:#646464}.user-profile-deputy__data-value[_ngcontent-%COMP%]{flex-grow:1;font-size:14px;line-height:19px;font-weight:400}.no-data[_ngcontent-%COMP%]{opacity:.5}'],changeDetection:0})}}return(0,e.gn)([i.UM],Me.prototype,"getWorkTime",null),Me})(),qo=(()=>{class Me{constructor(){this.userProfileInfoService=(0,a.f3M)(zi),this.userProfilePageStore=(0,a.f3M)(Qi),this.store=(0,a.f3M)(U.yh),this.userCard$=this.userProfilePageStore.userCard$,this.userAdmissions$=this.userProfilePageStore.userAdmissions$,this.trackByDeputyFn=(J,Zt)=>Zt.deputyUid}getUserRoles(J){return J?.profile?.map(Zt=>Zt.role?.map(Et=>Et.name).join(", ")).join(", ")||""}ngOnInit(){(0,L.a)([this.store.select(bn),this.userCard$]).pipe((0,et.n)(([J,Zt])=>!J||!J.username||!Zt),(0,tt.q)(1)).subscribe(([J,Zt])=>{this.userDeputies$=Gi.compareLogins(J?.username,Zt?.login)?this.store.select(si):this.userProfilePageStore.userDeputies$})}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-common-info"]],standalone:!0,features:[a.jDz],decls:2,vars:3,consts:[["class","profile-user-info__container",4,"ngIf"],[1,"profile-user-info__container"],[3,"heading","isExpand"],["header",""],[1,"profile-user-info__data-block"],[3,"key","keyWidth","hasValue"],[4,"ngIf"],[1,"user-profile-deputy-block"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"userDeputy"]],template:function(Zt,Et){1&Zt&&(a.YNc(0,Hn,15,20,"div",0),a.ALo(1,"async")),2&Zt&&a.Q6J("ngIf",a.lcZ(1,1,Et.userCard$))},dependencies:function(){return[t.Ov,Jn,io,u.tF,t.O5,t.ax]},styles:["[_nghost-%COMP%]{display:block}.profile-user-info__container[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px}.profile-user-info__data-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.user-profile-deputy-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}"],changeDetection:0})}}return(0,e.gn)([i.UM],Me.prototype,"getUserRoles",null),Me})(),$o=(()=>{class Me{constructor(J){this.userProfileInfoService=J,this.userProfilePageStore=(0,a.f3M)(Qi),this.userCard$=this.userProfilePageStore.userCard$}static{this.\u0275fac=function(Zt){return new(Zt||Me)(a.Y36(zi))}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-contact-info"]],standalone:!0,features:[a.jDz],decls:2,vars:3,consts:[["class","profile-user-info__container",4,"ngIf"],[1,"profile-user-info__container"],[3,"heading","isExpand"],["header",""],[1,"profile-user-info__data-block"],[3,"key","keyWidth","hasValue"]],template:function(Zt,Et){1&Zt&&(a.YNc(0,re,15,22,"div",0),a.ALo(1,"async")),2&Zt&&a.Q6J("ngIf",a.lcZ(1,1,Et.userCard$))},dependencies:[t.Ov,Jn,u.tF,t.O5],styles:["[_nghost-%COMP%]{display:block}.profile-user-info__container[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px}.profile-user-info__data-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}"],changeDetection:0})}}return Me})();const er={page:0,pageSize:50,totalItems:null},po={data:null,pagination:er,filter:"",isLoading:!1,error:null};let Ti=(()=>{class Me extends St.m1{checkAvailableEntities(J,Zt,Et){return J+1>0&&(null===Et||Et>J*Zt)}init(){this.fetchPage()}constructor(){super(po),this.data$=this.select(J=>J.data),this.isLoading$=this.select(J=>J.isLoading),this.error$=this.select(J=>J.error),this.filter$=this.select(J=>J.filter),this.pagination$=this.select(J=>J.pagination),this.apiService=(0,a.f3M)(wi),this.store=(0,a.f3M)(U.yh),this.changeFilters=this.effect(J=>J.pipe((0,ht.b)(500),(0,A.b)(Zt=>{this.patchState(Et=>({filter:Zt||"",pagination:{...Et.pagination,page:er.page,totalItems:er.totalItems}})),this.fetchPage()}))),this.fetchPage=this.effect(J=>J.pipe((0,it.M)(this.pagination$,this.filter$,this.store.select(bn)),(0,V.h)(([,{page:Zt,pageSize:Et,totalItems:on}])=>this.checkAvailableEntities(Zt,Et,on)),(0,A.b)(()=>this.patchState({isLoading:!0})),(0,S.w)(([,Zt,Et,on])=>{const ii={page:Zt.page,pageSize:Zt.pageSize,fullName:Et,currentLogin:on?.username};return this.apiService.getUsersList(ii).pipe((0,St._b)(Si=>{this.patchState(Oo=>({isLoading:!1,error:null,data:0===ii.page?Si.items:[...Oo.data||[],...Si.items],pagination:{page:Zt.page+1,pageSize:Zt.pageSize,totalItems:Si.totalItems}}))},()=>this.patchState({isLoading:!1})),(0,It.K)(Si=>(this.patchState({isLoading:!1,error:Si}),st.E)))})))}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275prov=a.Yz7({token:Me,factory:Me.\u0275fac})}}return Me})(),Wi=(()=>{class Me{constructor(){this.usersListStore=(0,a.f3M)(Ti),this.formBuilder=(0,a.f3M)(ut.qu),this.cd=(0,a.f3M)(a.sBO),this.fullNameChanged=new a.vpe,this.form=this.formBuilder.group({fullName:new ut.NI(null,{validators:[ut.kI.required]})}),this.stringify=J=>J.fullName,this.fullNameMatcher=(J,Zt)=>(0,T.zy)(J.fullName,Zt)}ngOnInit(){this.deputy?.fullName&&this.form.controls.fullName.setValue(this.deputy,{emitEvent:!1}),this.usersListStore.init()}onSearchChange(J){null!==J&&this.usersListStore.changeFilters((0,w.of)(J))}onFocusChange(J){if(!J){const Zt=this.form.controls.fullName.value;this.fullNameChanged.emit({login:Zt?.login,fullName:Zt?.fullName})}}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-edit-deputy-fullname"]],inputs:{deputy:"deputy"},outputs:{fullNameChanged:"fullNameChanged"},standalone:!0,features:[a._Bn([Ti]),a.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup"],["formControlName","fullName",1,"edit-profile",3,"strict","stringify","strictMatcher","tuiTextfieldCleaner","searchChange","focusedChange"],["placeholder","\u0424\u0418\u041e \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044f","tuiTextfieldLegacy",""],["class","viewport tui-zero-scrollbar","tuiScrollable","","infiniteScroll","",3,"immediateCheck","infiniteScrollThrottle","infiniteScrollDistance","scrollWindow","scrolled",4,"tuiDataList"],["tuiScrollable","","infiniteScroll","",1,"viewport","tui-zero-scrollbar",3,"immediateCheck","infiniteScrollThrottle","infiniteScrollDistance","scrollWindow","scrolled"],["tuiOption","","type","button",3,"value",4,"ngFor","ngForOf"],["tuiOption","","type","button",3,"value"]],template:function(Zt,Et){1&Zt&&(a.YNc(0,me,8,5,"ng-container",0),a.ALo(1,"async")),2&Zt&&a.Q6J("ngIf",a.lcZ(1,1,Et.usersListStore.state$))},dependencies:[ut.UX,ut._Y,ut.JJ,ut.JL,ut.sg,ut.u,F.jp,F._p,F.EH,F.m2,Dt.MB,t.Ov,t.O5,t.ax,ot.cn,ot.be,h.gX,h.qi,h.bH,y.D1,y.dx,At.Rq,At.Ry],styles:[".viewport[_ngcontent-%COMP%]{overflow:auto;height:100%}"],changeDetection:0})}}return Me})(),so=(()=>{class Me{constructor(){this.dateFrom=null,this.dateTo=null,this.dateRangeChanged=new a.vpe,this.min=Gi.getTuiDayFromDateNow()}ngOnInit(){this.dateFrom&&this.dateTo&&(this.dateRange=Gi.getTuiDayRangeFromStrings(this.dateFrom,this.dateTo))}updateDateRange(J){this.dateRangeChanged.emit(J)}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-edit-deputy-worktime"]],inputs:{dateFrom:"dateFrom",dateTo:"dateTo"},outputs:{dateRangeChanged:"dateRangeChanged"},standalone:!0,features:[a.jDz],decls:2,vars:3,consts:[[1,"edit-profile",3,"tuiTextfieldCleaner","min","ngModel","ngModelChange"]],template:function(Zt,Et){1&Zt&&(a.TgZ(0,"tui-input-date-range",0),a.NdJ("ngModelChange",function(ii){return Et.updateDateRange(ii)}),a._uU(1," \u0414\u0430\u0442\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u043e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0435\u0439, \u0441 - \u043f\u043e "),a.qZA()),2&Zt&&a.Q6J("tuiTextfieldCleaner",!0)("min",Et.min)("ngModel",Et.dateRange)},dependencies:[ut.u5,ut.JJ,ut.On,nt.sR,nt.H5,nt.dc,ot.cn,ot.be],changeDetection:0})}}return Me})(),Ko=(()=>{class Me{constructor(){this.store=(0,a.f3M)(U.yh),this.formBuilder=(0,a.f3M)(ut.qu),this.destroyRef=(0,a.f3M)(a.ktI),this.apiService=(0,a.f3M)(Li),this.sourceCode=(0,a.f3M)(u.Uc),this.deputy={},this.index=1,this.deputyAdded=new a.vpe,this.deputyUpdated=new a.vpe,this.deputyRemoved=new a.vpe,this.form=this.formBuilder.group({fullName:new ut.NI(null,{validators:[ut.kI.required]}),login:new ut.NI(null,{validators:[ut.kI.required]}),about:new ut.NI(null,{updateOn:"blur"}),dateFrom:new ut.NI(null),dateTo:new ut.NI(null)}),this.errors=(0,a.tdS)(null)}ngOnInit(){this.setInitialValues(),this.updateAbout()}remove(){this.deputyRemoved.emit(this.deputy)}updateDateRange(J){J?.from&&J?.to?(this.form.controls.dateFrom.setValue(Gi.getYYYYMMDDStringFromTuiDay(J.from)),this.form.controls.dateTo.setValue(Gi.getYYYYMMDDStringFromTuiDay(J.to)),this.onDeputyUpdated({login:this.form.controls.login.value,dateFrom:this.form.controls.dateFrom.value,dateTo:this.form.controls.dateTo.value})):!J?.from&&!J?.to&&(this.form.controls.dateFrom.setValue(null),this.form.controls.dateTo.setValue(null),this.onDeputyUpdated({login:this.form.controls.login.value,dateFrom:null,dateTo:null}))}setInitialValues(){this.form.setValue({fullName:this.deputy?.fullName||null,login:this.deputy?.login||null,about:this.deputy?.about||null,dateFrom:this.deputy?.dateFrom||null,dateTo:this.deputy?.dateTo||null},{emitEvent:!1})}updateFullNameAndLogin(J){J&&J.login&&J.fullName?(this.form.controls.fullName?.setValue(J.fullName,{emitEvent:!1}),this.form.controls.login?.setValue(J.login),this.onDeputyUpdated({fullName:J.fullName,login:J.login,dateFrom:this.form.controls.dateFrom.value||void 0,dateTo:this.form.controls.dateTo.value||void 0,about:this.form.controls.about.value||void 0})):(this.form.controls.fullName?.setValue(null,{emitEvent:!1}),this.form.controls.login?.setValue(null),this.onDeputyUpdated({fullName:null,login:null,dateFrom:this.form.controls.dateFrom.value||void 0,dateTo:this.form.controls.dateTo.value||void 0,about:this.form.controls.about.value||void 0}))}updateAbout(){this.form.controls.about?.statusChanges.pipe((0,dt.sL)(this.destroyRef)).subscribe(()=>{this.deputy.about!==this.form.controls.about.value&&this.onDeputyUpdated({login:this.form.controls.login.value,about:this.form.controls.about.value||null})})}onDeputyUpdated(J){if(this.form.valid)if(this.deputy.deputyUid)this.updateDeputy(J);else{const Zt=this.form.value,Et={...this.deputy,dateFrom:Zt.dateFrom||null,dateTo:Zt.dateTo||null,about:Zt.about||"",fullName:Zt.fullName||void 0,login:Zt.login||void 0,hasChanges:!0};this.addDeputy(Et)}}addDeputy(J){this.store.select(bn).pipe((0,S.w)(Zt=>Zt&&Zt.username?this.apiService.addDeputies({login:Zt.username,moduleCode:this.sourceCode,userId:null,deputies:[{login:J.login,fullName:J.fullName,dateFrom:J.dateFrom,dateTo:J.dateTo,about:J.about}]}).pipe((0,It.K)(Et=>(Et.validationErrors&&Et.validationErrors.length&&this.errors.set(Et.validationErrors),st.E)),(0,tt.q)(1)):(0,w.of)({deputies:[]})),(0,tt.q)(1)).subscribe(Zt=>{this.errors()&&this.errors.set(null),Zt.deputies&&Zt.deputies.length&&this.deputyAdded.emit(J)})}updateDeputy(J){this.apiService.updateDeputy(this.deputy.deputyUid,J).pipe((0,It.K)(Zt=>(Zt.validationErrors&&Zt.validationErrors.length&&this.errors.set(Zt.validationErrors),st.E)),(0,tt.q)(1)).subscribe(Zt=>{this.errors()&&this.errors.set(null),this.deputyUpdated.emit({...this.deputy,...Zt,hasChanges:!0})})}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-edit-deputy"]],inputs:{deputy:"deputy",index:"index"},outputs:{deputyAdded:"deputyAdded",deputyUpdated:"deputyUpdated",deputyRemoved:"deputyRemoved"},standalone:!0,features:[a.jDz],decls:21,vars:16,consts:[[1,"edit-deputy__container",3,"formGroup","ngClass"],[1,"edit-deputy__title-block"],[1,"edit-deputy__title"],[1,"edit-deputy__actions"],["tuiButton","","type","button","size","s","appearance","outline",3,"click"],["icon","@tui.circle-minus"],[1,"edit-deputy__form-block"],[1,"edit-deputy__input"],[3,"deputy","fullNameChanged"],[1,"edit-profile"],["tuiLabel",""],["tuiTextfield","","formControlName","about","maxlength","250"],[3,"dateFrom","dateTo","dateRangeChanged"],["class","edit-deputy__footer-block",4,"ngIf"],["class","edit-deputy__errors-block",4,"ngIf"],[1,"edit-deputy__footer-block"],[1,"edit-deputy__changes-warning"],["icon","@tui.clock"],[1,"edit-deputy__errors-block"],["class","edit-deputy__single-error",4,"ngFor","ngForOf"],[1,"edit-deputy__single-error"]],template:function(Zt,Et){if(1&Zt&&(a.TgZ(0,"form",0)(1,"div",1)(2,"div",2),a._uU(3),a.qZA(),a.TgZ(4,"div",3)(5,"button",4),a.NdJ("click",function(){return Et.remove()}),a._UZ(6,"tui-icon",5),a.TgZ(7,"span"),a._uU(8,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),a.qZA()()()(),a.TgZ(9,"div",6)(10,"div",7)(11,"dms-edit-deputy-fullname",8),a.NdJ("fullNameChanged",function(ii){return Et.updateFullNameAndLogin(ii)}),a.qZA()(),a.TgZ(12,"div",7)(13,"tui-textfield",9)(14,"label",10),a._uU(15,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),a.qZA(),a._UZ(16,"input",11),a.qZA()(),a.TgZ(17,"div",7)(18,"dms-edit-deputy-worktime",12),a.NdJ("dateRangeChanged",function(ii){return Et.updateDateRange(ii)}),a.qZA()()(),a.YNc(19,En,5,0,"div",13),a.qZA(),a.YNc(20,Qe,2,1,"div",14)),2&Zt){let on,ii;a.Q6J("formGroup",Et.form)("ngClass",a.VKq(14,xe,Et.errors()&&(null==(on=Et.errors())?null:on.length))),a.xp6(3),a.hij("\u0417\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u044c ",Et.index,""),a.xp6(2),a.Udp("color","#393939")("background-color","#ffffff"),a.xp6(1),a.Udp("color","#393939"),a.xp6(5),a.Q6J("deputy",Et.deputy),a.xp6(7),a.Q6J("dateFrom",Et.deputy.dateFrom||null)("dateTo",Et.deputy.dateTo||null),a.xp6(1),a.Q6J("ngIf",Et.deputy.hasChanges),a.xp6(1),a.Q6J("ngIf",Et.errors()&&(null==(ii=Et.errors())?null:ii.length))}},dependencies:[C.xG,v.R,Wt.T,f.MB,f.bf,ut.UX,ut._Y,ut.Fj,ut.JJ,ut.JL,ut.nD,ut.sg,ut.u,so,Wi,t.O5,t.mk,t.ax],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:4px}.edit-deputy__container[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:16px}.edit-deputy__container.error[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px var(--tui-text-negative)}.edit-deputy__title-block[_ngcontent-%COMP%]{padding:12px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #d9d9d9}.edit-deputy__title[_ngcontent-%COMP%]{font-size:14px;line-height:19px;font-weight:400}.edit-deputy__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:20px;gap:6px}.edit-deputy__actions[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:20px;height:20px}.edit-deputy__form-block[_ngcontent-%COMP%]{padding:8px;display:flex;flex-wrap:wrap;gap:8px}.edit-deputy__input[_ngcontent-%COMP%]{min-width:calc(50% - 4px);max-width:calc(50% - 4px);flex-shrink:0;flex-grow:0}.edit-deputy__footer-block[_ngcontent-%COMP%]{padding:0 12px 8px}.edit-deputy__changes-warning[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;font-size:13px;color:var(--tui-text-04);gap:4px}.edit-deputy__changes-warning[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:12px;height:12px}.edit-deputy__errors-block[_ngcontent-%COMP%]{padding:0 4px;font-size:13px;color:var(--tui-text-negative)}"],changeDetection:0})}}return Me})(),cr=(()=>{class Me{constructor(){this.store=(0,a.f3M)(U.yh),this.userProfilePageStore=(0,a.f3M)(Qi),this.destroyRef=(0,a.f3M)(a.ktI),this.formBuilder=(0,a.f3M)(ut.qu),this.apiService=(0,a.f3M)(Li),this.sourceCode=(0,a.f3M)(u.Uc),this.dialog=(0,E.q6)(ei,{closeable:!1,size:"auto"}),this.cd=(0,a.f3M)(a.sBO),this.alerts=(0,a.f3M)(O.J9),this.context=(0,M.FQ)(),this.isLoading$=new R.X(!1),this.selectedDeputiesList$=new R.X([]),this.canEdit$=(0,L.a)([this.store.select(bn).pipe((0,et.n)(J=>!J||!J.username),(0,tt.q)(1)),this.userProfilePageStore.userCard$.pipe((0,et.n)(J=>!J||!J.login),(0,tt.q)(1))]).pipe((0,dt.sL)(this.destroyRef),(0,p.U)(([J,Zt])=>Gi.compareLogins(J?.username||"",Zt?.login||""))),this.form=this.formBuilder.group({employee:this.formBuilder.group({firstName:[""],lastName:[""],middleName:[""],position:[""]}),deputiesList:[[]]})}ngOnInit(){this.canEdit$.subscribe(J=>{J?(this.setInitialFormValue(),this.setSelectedDeputiesList()):this.context.completeWith(!0)})}addDeputyToSelelectedList(){this.selectedDeputiesList$.next(this.selectedDeputiesList$.value.concat({login:null,fullName:null,about:null,dateFrom:null,dateTo:null,hasChanges:!1}))}onDeputyAdded(J){this.showAlert(),this.updateDeputiesList()}onDeputyUpdated(J){this.showAlert(),this.updateDeputiesList()}onDeputyRemoved(J,Zt){this.dialog().pipe((0,tt.q)(1),(0,V.h)(Et=>"confirm"===Et)).subscribe(()=>{this.removeDeputy(J,Zt)})}setInitialFormValue(){this.isLoading$.next(!0),this.userProfilePageStore.userCard$.pipe((0,dt.sL)(this.destroyRef)).subscribe(J=>{null===J||this.form.controls.employee.controls.firstName.value?this.form.controls.employee.controls.firstName.value&&this.isLoading$.next(!1):(this.form.controls.employee.patchValue({firstName:J?.employee?.firstName,lastName:J?.employee?.lastName,middleName:J?.employee?.middleName,position:J?.employee?.position},{emitEvent:!1}),this.isLoading$.next(!1))})}setSelectedDeputiesList(){this.store.select(si).pipe((0,dt.sL)(this.destroyRef)).subscribe(J=>{const Zt=this.selectedDeputiesList$.value,Et=[];J.forEach(on=>{const ii=Zt.find(Oo=>Oo.deputyUid===on.deputyUid),Si={deputyUid:on.deputyUid,login:on.login,fullName:on.fullName,dateFrom:on.dateFrom,dateTo:on.dateTo,about:on.about,hasChanges:!1};ii&&(Si.hasChanges=ii.login!==Si.login||ii.about!==Si.about||ii.dateFrom!==Si.dateFrom||ii.dateTo!==Si.dateTo),Et.push(Si)}),this.selectedDeputiesList$.next(Et)})}removeDeputy(J,Zt){if(J.deputyUid)this.apiService.removeDeputy(J.deputyUid).pipe((0,tt.q)(1)).subscribe(()=>{this.showAlert(),this.updateDeputiesList()});else{const on=this.selectedDeputiesList$.value.filter((ii,Si)=>Si!==Zt);this.selectedDeputiesList$.next(on),this.cd.detectChanges()}}updateDeputiesList(){this.store.select(bn).pipe((0,tt.q)(1)).subscribe(J=>{J&&J.username&&this.store.dispatch(Ie({login:J.username,moduleCode:this.sourceCode}))})}showAlert(){this.alerts.open("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",{appearance:"on-save",closeable:!1,icon:"@tui.check"}).subscribe()}close(){this.updateDeputiesList(),this.context.completeWith(!0)}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-common-info"]],standalone:!0,features:[a._Bn([{provide:O.Nx,useFactory:()=>"auto 30px 30px auto"}]),a.jDz],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["content",""],[1,"loader-block"],[3,"size"],[1,"edit-profile__header"],["tuiIconButton","","tuiButtonClose","","appearance","action-grayscale","type","button","size","m",1,"edit-profile__header-button",3,"click"],[1,"edit-profile__header-text"],["class","edit-profile__container",3,"formGroup",4,"ngIf"],[1,"edit-profile__container",3,"formGroup"],["formGroupName","employee",3,"heading","isExpand"],[1,"edit-profile__employee"],[1,"edit-profile__employee-input"],[1,"edit-profile","readonly"],["tuiLabel",""],["tuiTextfield","","formControlName","lastName",3,"readOnly"],["tuiTextfield","","formControlName","firstName",3,"readOnly"],["tuiTextfield","","formControlName","middleName",3,"readOnly"],["tuiTextfield","","formControlName","position",3,"readOnly"],[3,"heading","isExpand",4,"ngIf"],[3,"heading","isExpand"],["class","edit-profile__deputies-list",4,"ngIf"],[1,"edit-profile__add-deputy"],["tuiButton","","type","button","size","s","appearance","outline",3,"click"],["icon","@tui.circle-plus"],[1,"edit-profile__deputies-list"],[4,"ngFor","ngForOf"],[3,"deputy","index","deputyAdded","deputyUpdated","deputyRemoved"]],template:function(Zt,Et){if(1&Zt&&(a.YNc(0,je,3,1,"ng-container",0),a.ALo(1,"async"),a.YNc(2,qe,6,3,"ng-template",null,1,a.W1O)),2&Zt){const on=a.MAs(3);a.Q6J("ngIf",a.lcZ(1,2,Et.isLoading$))("ngIfElse",on)}},dependencies:[u.tF,C.xG,ut.UX,ut._Y,ut.Fj,ut.JJ,ut.JL,ut.sg,ut.u,ut.x0,Wt.T,f.MB,f.bf,Ko,t.O5,t.Ov,t.ax,v.R,D.A6,Z.u],styles:['[_nghost-%COMP%]{display:block;width:840px}.loader-block[_ngcontent-%COMP%]{padding:16px;display:flex;width:100%;justify-content:center;align-items:center}.loader-block[_ngcontent-%COMP%]   tui-loader[_ngcontent-%COMP%]{width:42px}.edit-profile__header[_ngcontent-%COMP%]{position:sticky;z-index:10;top:0;padding:var(--tui-padding-s);display:flex;justify-content:flex-start;align-items:center;background-color:var(--tui-background-base);border-bottom-right-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m);gap:var(--tui-padding-s)}.edit-profile__header-button[_ngcontent-%COMP%]{background:#0000000a}.edit-profile__header-text[_ngcontent-%COMP%]{font:var(--tui-font-heading-3)}.edit-profile__container[_ngcontent-%COMP%]{padding:8px;display:flex;flex-direction:column;gap:8px}.edit-profile__employee[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.edit-profile__employee-input[_ngcontent-%COMP%]{min-width:calc(50% - 4px);max-width:calc(50% - 4px);flex-shrink:0;flex-grow:1}.edit-profile__deputies-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.edit-profile__add-deputy[_ngcontent-%COMP%]{padding:16px 0 8px;display:flex;width:100%;justify-content:center}.edit-profile__add-deputy[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:20px;gap:6px;color:#393939;background-color:#fff}.edit-profile__add-deputy[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{width:20px;height:20px}.edit-profile__footer[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;background-clip:padding-box;border-bottom:solid 6px transparent;border-radius:24px}.edit-profile__footer[_ngcontent-%COMP%]:before{position:absolute;z-index:-1;inset:6px 0 0;margin-bottom:-6px;content:"";background-image:linear-gradient(90deg,#9275bd,#e0b1bb 31.57%,#9ed7f0 63.17%,#619ac4);border-radius:inherit}.edit-profile__footer-container[_ngcontent-%COMP%]{padding:12px;display:flex;justify-content:end;gap:8px;background-color:#fff;border-radius:24px}.edit-profile__footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;border-radius:36px}'],changeDetection:0})}}return Me})(),Uo=(()=>{class Me{constructor(){this.context=(0,M.FQ)(),this.store=(0,a.f3M)(U.yh),this.userDeputies$=this.store.select(si),this.trackByDeputyFn=(J,Zt)=>Zt.deputyUid}goToEditProfile(){this.context.completeWith(sn.GoToEditProfile)}setStatusToVacation(){this.context.completeWith(sn.SetStatusToVacation)}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-confirm-vacation-dialog"]],standalone:!0,features:[a.jDz],decls:13,vars:3,consts:[[1,"confirm-vacation__container"],[1,"confirm-vacation__title"],[1,"confirm-vacation__content"],["class","confirm-vacation__deputies",4,"ngIf"],[1,"confirm-vacation__buttons"],["size","m","tuiButton","","type","button",3,"click"],["size","m","tuiButton","","appearance","outline","type","button",1,"outline-primary",3,"click"],["noData",""],[1,"confirm-vacation__deputies"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"userDeputy","size"],[1,"no-data"]],template:function(Zt,Et){1&Zt&&(a.TgZ(0,"div",0)(1,"div",1),a._uU(2,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u0438\u0445 \u0437\u0430\u043c\u0435\u0441\u0442\u0438\u0442\u0435\u043b\u0435\u0439"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,ui,2,2,"div",3),a.ALo(5,"async"),a.TgZ(6,"div",4)(7,"button",5),a.NdJ("click",function(){return Et.goToEditProfile()}),a._uU(8,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),a.qZA(),a.TgZ(9,"button",6),a.NdJ("click",function(){return Et.setStatusToVacation()}),a._uU(10," \u042f \u0443\u0436\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043b "),a.qZA()()()(),a.YNc(11,eo,2,0,"ng-template",null,7,a.W1O)),2&Zt&&(a.xp6(4),a.Q6J("ngIf",a.lcZ(5,1,Et.userDeputies$)))},dependencies:[t.O5,t.ax,t.Ov,C.xG,io],styles:[".confirm-vacation__container[_ngcontent-%COMP%]{display:flex;width:600px;flex-direction:column}.confirm-vacation__title[_ngcontent-%COMP%]{padding:8px 4px 16px;width:100%;font:var(--tui-font-heading-3)}.confirm-vacation__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.confirm-vacation__deputies[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.confirm-vacation__buttons[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end;align-items:center;gap:12px}"],changeDetection:0})}}return Me})();var bo=function(Me){return Me.Personal="\u043b\u0438\u0447\u043d\u044b\u0439",Me.Work="\u0440\u0430\u0431\u043e\u0447\u0438\u0439",Me}(bo||{}),qi=function(Me){return Me.WORK_OFFICE="\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u043e\u0444\u0438\u0441\u0435",Me.WORK_REMOTELY="\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e",Me.VACATION="\u0432 \u043e\u0442\u043f\u0443\u0441\u043a\u0435",Me}(qi||{});const xo={default:"default",module:"module"};let Lo=(()=>{class Me{constructor(){this.store=(0,a.f3M)(U.yh),this.userProfilePageStore=(0,a.f3M)(Qi),this.destroyRef=(0,a.f3M)(a.ktI),this.sourceCode=(0,a.f3M)(u.Uc),this.selectedFullLogin$=(0,a.f3M)(Ui),this.state$=this.userProfilePageStore.userState$,this.userCard$=this.userProfilePageStore.userCard$,this.userAdmissions$=this.userProfilePageStore.userAdmissions$}ngOnInit(){(0,L.a)([this.selectedFullLogin$,this.store.select(ie)]).pipe((0,dt.sL)(this.destroyRef),(0,V.h)(([J,Zt])=>null!==J&&null!==Zt),(0,it.M)(this.store.select(bn),this.store.select(We),this.store.select(si))).subscribe(([[J,Zt],Et,on,ii])=>{J===Et?.username?(this.userProfilePageStore.setUserCard(Zt),this.userProfilePageStore.setUserAdmissions(on),this.userProfilePageStore.setUserDeputies(ii)):null!==J&&(this.userProfilePageStore.getNextUserCard((0,w.of)(J)),this.userProfilePageStore.setUserAdmissions(null),this.userProfilePageStore.getUserDeputies({login:J,moduleCode:this.sourceCode,userId:null}))})}static{this.\u0275fac=function(Zt){return new(Zt||Me)}}static{this.\u0275cmp=a.Xpm({type:Me,selectors:[["dms-user-profile-page"]],standalone:!0,features:[a._Bn([Qi]),a.jDz],decls:3,vars:3,consts:[[4,"ngIf"],[1,"user-profile-page-container"],[1,"loader-block"],[3,"size"]],template:function(Zt,Et){1&Zt&&(a.YNc(0,Zn,6,5,"ng-container",0),a.ALo(1,"async"),a._UZ(2,"router-outlet")),2&Zt&&a.Q6J("ngIf",a.lcZ(1,1,Et.state$))},dependencies:[t.Ov,Vi,qo,$o,u.Ph,t.O5,D.A6,bt.lC],styles:["[_nghost-%COMP%]{display:flex;justify-content:center}.user-profile-page-container[_ngcontent-%COMP%]{display:flex;width:800px;flex-direction:column;gap:8px}.loader-block[_ngcontent-%COMP%]{padding:24px}"],changeDetection:0})}}return Me})();const Fi=(0,Nt.GW)((Me=(0,a.f3M)(Nt.eX),Qn=(0,a.f3M)(wi))=>Me.pipe((0,Nt.l4)(Xt),(0,S.w)(J=>Qn.getUserCard(J.fullLogin).pipe((0,p.U)(Zt=>Ye({userCard:Zt||null}))))),{functional:!0}),Go=(0,Nt.GW)((Me=(0,a.f3M)(Nt.eX),Qn=(0,a.f3M)(wi))=>Me.pipe((0,Nt.l4)(se),(0,S.w)(J=>Qn.getUserAdmissions(J.moduleCode).pipe((0,p.U)(Zt=>Ve({userAdmissions:Zt||null}))))),{functional:!0}),gn=(0,Nt.GW)((Me=(0,a.f3M)(Nt.eX),Qn=(0,a.f3M)(Yi))=>Me.pipe((0,Nt.l4)(An),(0,S.w)(J=>Qn.getEmployeeState(J.fullLogin,J.userId).pipe((0,p.U)(Zt=>Ei({currentUserStatuses:Zt?.states||[]}))))),{functional:!0}),Yn=(0,Nt.GW)((Me=(0,a.f3M)(Nt.eX),Qn=(0,a.f3M)(Yi))=>Me.pipe((0,Nt.l4)(Ji),(0,S.w)(J=>Qn.patchEmployeeState(J.queryParams,J.body).pipe((0,p.U)(Zt=>Wo({currentUserStatuses:Zt?.states||[]}))))),{functional:!0}),te=(0,Nt.GW)((Me=(0,a.f3M)(Nt.eX),Qn=(0,a.f3M)(Li))=>Me.pipe((0,Nt.l4)(Ie),(0,S.w)(J=>Qn.getDeputies({login:J.login,moduleCode:J.moduleCode,userId:J.userId}).pipe((0,p.U)(Zt=>ze({currentUserDeputies:Zt?.deputies||[]}))))),{functional:!0});var hn=Object.freeze({__proto__:null,getCurrentUserAdmissions$:Go,getCurrentUserCard$:Fi,getCurrentUserDeputies$:te,getCurrentUserStatuses$:gn,updateCurrentUserStatus$:Yn});const In=[{currentStateUid:"1",stateName:"\u0412 \u0441\u0435\u0442\u0438",stateCode:"onl",stateType:"Online",default:!0,moduleCode:null},{currentStateUid:"4",stateName:"\u041e\u0431\u0435\u0434",stateCode:"din",stateType:"Lunch",default:!1,moduleCode:null},{currentStateUid:"3",stateName:"\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438",stateCode:"offl",stateType:"Offline",default:!1,moduleCode:null},{currentStateUid:"2",stateName:"\u041e\u0442\u043f\u0443\u0441\u043a",stateCode:"vacat",stateType:"Vacation",default:!1,moduleCode:null}],ai=[{deputyUid:"111",login:"vsk\\panova",userId:null,fullName:"\u041f\u0430\u043d\u043e\u0432\u0430 \u041d\u0430\u0442\u0430\u043b\u044c\u044f \u0411\u0430\u0442\u044c\u043a\u043e\u0432\u043d\u0430",about:"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442",dateFrom:"2024-01-11",dateTo:"2024-01-12"},{deputyUid:"222",login:"vsk\\tabakova",userId:null,fullName:"\u0422\u0430\u0431\u0430\u043a\u043e\u0432\u0430 \u0415\u0432\u0433\u0435\u043d\u0438\u044f \u0411\u0430\u0442\u044c\u043a\u043e\u0432\u043d\u0430",about:null,dateFrom:null,dateTo:null}],zo={totalItems:3,items:[{login:"vsk\\ivanov",userId:null,fullName:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",states:[]},{login:"vsk\\petrov",userId:null,fullName:"\u041f\u0435\u0442\u0440\u043e\u0432 \u041f\u0435\u0442\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",states:[]},{login:"vsk\\sidorova",userId:null,fullName:"\u0421\u0438\u0434\u043e\u0440\u043e\u0432\u0430 \u0421\u0442\u0435\u043f\u0430\u043d\u0438\u0434\u0430 \u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u043e\u0432\u043d\u0430",states:[]}]},ao=[{path:"",component:Lo,children:[{...(0,I.Z)(cr,{path:"edit",header:!1,closeable:!1,dismissible:!1}),providers:[{provide:E.RO,useExisting:u.q6}]}]}]},9194:(Qt,$,o)=>{"use strict";o.d($,{$2:()=>f,d9:()=>m});var e=o(5879),t=o(2032),a=o(2438),i=o(7081),g=o(7921),T=o(7398),_=o(3997);const m=new e.OlP("Unleash config");let f=(()=>{class M{constructor(R){this.config=R,this.unleash=new t.UnleashClient(this.config),this.initialized$=(0,a.R)(this.unleash,t.EVENTS.INIT).pipe((0,i.d)({bufferSize:1,refCount:!0})),this.error$=(0,a.R)(this.unleash,t.EVENTS.ERROR).pipe((0,i.d)({bufferSize:1,refCount:!0})),this.ready$=(0,a.R)(this.unleash,t.EVENTS.READY).pipe((0,i.d)({bufferSize:1,refCount:!0})),this.update$=(0,a.R)(this.unleash,t.EVENTS.UPDATE).pipe((0,i.d)({bufferSize:1,refCount:!0})),this.impression$=(0,a.R)(this.unleash,t.EVENTS.IMPRESSION).pipe((0,i.d)({bufferSize:1,refCount:!0}))}isEnabled(R){return this.unleash.isEnabled(R)}isDisabled(R){return!this.isEnabled(R)}isEnabled$(R){return this.update$.pipe((0,g.O)(null),(0,T.U)(()=>this.isEnabled(R)),(0,_.x)())}isDisabled$(R){return this.isEnabled$(R).pipe((0,T.U)(A=>!A))}static{this.\u0275fac=function(A){return new(A||M)(e.LFG(m))}}static{this.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},5325:(Qt,$,o)=>{"use strict";o.d($,{r:()=>g});var e=o(5861),t=o(5879),a=o(6223),i=o(4413);let g=(()=>{class _{constructor(){this.elementRef=(0,t.f3M)(t.SBq).nativeElement,this.ngZone=(0,t.f3M)(t.R0b),this.maskedElement=null,this.options=null,this.elementPredicate=i.gI;const h=(0,t.f3M)(a.Fj,{self:!0,optional:!0});if(h){const f=h.writeValue.bind(h);h.writeValue=v=>{f(this.options?(0,i.CV)(String(v??""),this.options):v)}}}ngOnChanges(){var h=this;return(0,e.Z)(function*(){const{elementPredicate:f,options:v,maskedElement:C,elementRef:D,ngZone:y}=h;if(C?.destroy(),!v)return;const E=yield f(D);h.elementPredicate!==f||h.options!==v||y.runOutsideAngular(()=>{h.maskedElement=new i.C8(E,v)})})()}ngOnDestroy(){this.maskedElement?.destroy()}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275dir=t.lG2({type:_,selectors:[["","maskito",""]],inputs:{options:["maskito","options"],elementPredicate:["maskitoElement","elementPredicate"]},standalone:!0,features:[t.TTD]})}}return _})()},8525:(Qt,$,o)=>{"use strict";o.d($,{K1:()=>Fo,NP:()=>go,fx:()=>Sr,Zf:()=>Jt,kE:()=>fe,UK:()=>Ai,Gq:()=>nn,ko:()=>wr,oh:()=>Kn,VF:()=>Vn,Io:()=>ro,cp:()=>Hr,JG:()=>Xr,jO:()=>hr,Vz:()=>Ze,oN:()=>co,wA:()=>ko,T4:()=>sr,Yr:()=>Yt,Qq:()=>Cn,kk:()=>to});var e=o(6814),t=o(5879),a=o(9397),i=o(4664),g=o(6232),T=o(6306),_=o(8504),m=o(5619),h=o(2096),f=o(2181),v=o(4911),C=o(8645),D=o(7394),y=o(2572),E=o(6328),O=o(7398),M=o(7921),U=o(9673),R=o(5586),A=o(7354),S=o(1018),w=o(4728),p=o(2527),L=o(4507),V=o(232),et=o(6201),tt=o(6669),ht=o(5505),it=o(1534),It=o(1564),st=o(8180),dt=o(4716),St=o(9862),bt=o(6223),u=o(6593),ut=o(7582),I=(o(5742),o(8451)),F=o(47),nt=(o(2701),o(5086)),At=o(9080),Dt=o(5297),Wt=o(2495),Nt=o(6456),Bt=(o(8442),o(6266)),yt=(o(2354),o(9485),o(940)),Y=o(4017),xt=o(7242),z=o(1393),at=o(5929),Pt=o(8653);const Pe=function(Mt){return{$implicit:Mt}},de=["*"],wn=["tuiInputFiles",""];function oe(Mt,yn){if(1&Mt&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&Mt){const Ct=yn.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ct," ")}}const Ht="tuiSize",xn="tuiFormat";function ce(Mt){return({value:yn})=>{const Ct=yn&&(0,Wt.Eq)(yn),qt=yn&&Ct?.filter(Je=>Je.size>Mt);return qt?.length?{[Ht]:{$implicit:qt,size:Mt}}:null}}function me(Mt){return({value:yn})=>{const Ct=yn&&(0,Wt.Eq)(yn),qt=function _n(Mt){return Mt.toLowerCase().split(",").map(yn=>yn.trim().toLowerCase())}(Mt),Je=yn&&Ct?.filter(yi=>!function En({name:Mt,type:yn},Ct){const qt=`.${(Mt.split(".").pop()||"").toLowerCase()}`;return Ct.some(Je=>Je===qt||Je===yn||"*"===Je.split("/")[1]&&yn?.split("/")[0]===Je.split("/")[0])}(yi,qt));return Je?.length&&Mt?{[xn]:{$implicit:Je}}:null}}const Ne={appearance:"outline",formatSize:function we(Mt,yn){return void 0===yn?null:yn<1024?`${yn} ${Mt[0]}`:yn<1048576?`${(yn/1024).toFixed(0)} ${Mt[1]}`:`${(0,Nt.FG)(yn/1048576,2).toLocaleString("ru-RU")} ${Mt[2]}`},icons:{normal:({$implicit:Mt})=>"l"===Mt?"@tui.file":"@tui.circle-check",error:"@tui.circle-alert",deleted:"@tui.trash"}},[Ke,qe]=(0,Dt.j)(Ne);let eo=(()=>{class Mt{constructor(){this.breakpoint$=(0,t.f3M)(yt.zE),this.text$=(0,t.f3M)(nt.BV),this.context=(0,R.FQ)(),this.component=(0,t.f3M)(ei)}get link$(){return this.computeLink$(this.context.$implicit,!!this.component.input?.input.multiple)}get label$(){return this.computeLabel$(this.context.$implicit,!!this.component.input?.input.multiple)}computeLink$(Ct,qt){return Ct?(0,h.of)(""):this.text$.pipe((0,O.U)(Je=>qt?Je.defaultLinkMultiple:Je.defaultLinkSingle))}computeLabel$(Ct,qt){return Ct?(0,y.a)([this.breakpoint$,this.text$]).pipe((0,O.U)(([Je,yi])=>"mobile"===Je?"":qt?yi.dropMultiple:yi.drop)):(0,y.a)([this.breakpoint$,this.text$]).pipe((0,O.U)(([Je,yi])=>"mobile"===Je?"":qt?yi.defaultLabelMultiple:yi.defaultLabelSingle))}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:5,vars:6,consts:[["tuiLink",""]],template:function(qt,Je){1&qt&&(t.TgZ(0,"a",0),t._uU(1),t.ALo(2,"async"),t.qZA(),t._uU(3),t.ALo(4,"async")),2&qt&&(t.xp6(1),t.Oqu(t.lcZ(2,2,Je.link$)),t.xp6(2),t.hij(" ",t.lcZ(4,4,Je.label$)," "))},dependencies:[e.Ov,ht.lI],encapsulation:2})}}return(0,ut.gn)([I.UM],Mt.prototype,"computeLink$",null),(0,ut.gn)([I.UM],Mt.prototype,"computeLabel$",null),Mt})();const tn=(0,I.JN)({accept:"",multiple:!1,size:"m",maxFileSize:31457280});let Zn=(()=>{class Mt{constructor(){this.options=(0,t.f3M)(tn),this.validator=(0,t.f3M)(Pt.y),this.accept=this.options.accept,this.maxFileSize=this.options.maxFileSize}ngOnChanges(){this.validate()}ngOnInit(){this.validate()}validate(){this.validator.tuiValidator=bt.kI.compose([me(this.accept),ce(this.maxFileSize)])||bt.kI.nullValidator,this.validator.ngOnChanges()}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275dir=t.lG2({type:Mt,hostVars:1,hostBindings:function(qt,Je){2&qt&&t.Ikx("accept",Je.accept)},inputs:{accept:"accept",maxFileSize:"maxFileSize"},exportAs:["tuiInputFilesValidator"],standalone:!0,features:[t.TTD,t.zW0([Pt.y])]})}}return Mt})(),Jn=(()=>{class Mt extends Y.NN{constructor(){super(...arguments),this.host=(0,t.f3M)((0,t.Gpc)(()=>ei)),this.reject=(0,At.H)(0,(0,z.de)()).pipe((0,i.w)(()=>(0,z.EK)(this.control.control)),(0,O.U)(()=>function je(Mt){const yn=Mt?.getError(xn)?.$implicit||[],Ct=Mt?.getError(Ht)?.$implicit||[];return Array.from(new Set([...yn,...Ct]))}(this.control.control)),(0,f.h)(({length:Ct})=>!!Ct)),this.appearance="file",this.input=(0,at.AG)()}process(Ct){const qt=this.input.multiple?[...hi(this.value()),...Array.from(Ct)]:Ct[0];qt&&this.onChange(qt)}onClick(Ct){this.input.readOnly&&Ct.preventDefault()}static{this.\u0275fac=function(){let Ct;return function(Je){return(Ct||(Ct=t.n5z(Mt)))(Je||Mt)}}()}static{this.\u0275dir=t.lG2({type:Mt,selectors:[["input","tuiInputFiles",""]],hostAttrs:["type","file"],hostVars:1,hostBindings:function(qt,Je){1&qt&&t.NdJ("blur",function(){return Je.onTouched()})("click",function(vt){return Je.onClick(vt)}),2&qt&&t.Ikx("disabled",Je.disabled())},outputs:{reject:"reject"},standalone:!0,features:[t._Bn([(0,Y.wB)(Mt),(0,F.mS)(Mt)]),t.qOj,t.zW0([xt.k,F.$y,{directive:Zn,inputs:["accept","accept","maxFileSize","maxFileSize"]}])]})}}return Mt})();function hi(Mt){return Mt?(0,Wt.Eq)(Mt):Bt.LZ}let ei=(()=>{class Mt{constructor(){this.content=new R.Al(eo)}get fileDragged(){return!!this.files&&!this.input?.disabled()}onFilesSelected(Ct){Ct?.files&&(this.input?.process(Ct.files),Ct.value="")}onDropped({dataTransfer:Ct}){this.files=null,Ct?.files&&!this.input?.disabled()&&this.input?.process(Ct.files)}onDrag(Ct){this.files=Ct?.files}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["label","tuiInputFiles",""]],contentQueries:function(qt,Je,yi){if(1&qt&&(t.Suo(yi,t.Rgc,5),t.Suo(yi,Jn,5)),2&qt){let vt;t.iGM(vt=t.CRH())&&(Je.template=vt.first),t.iGM(vt=t.CRH())&&(Je.input=vt.first)}},hostVars:2,hostBindings:function(qt,Je){1&qt&&t.NdJ("dragover.prevent.silent",function(){return 0})("drop.prevent",function(vt){return Je.onDropped(vt)})("dragenter",function(vt){return Je.onDrag(vt.dataTransfer)})("dragleave",function(){return Je.onDrag(null)})("change",function(vt){return Je.onFilesSelected(vt.target)}),2&qt&&t.ekj("_dragged",Je.fileDragged)},standalone:!0,features:[t.jDz],attrs:wn,ngContentSelectors:de,decls:2,vars:4,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(qt,Je){1&qt&&(t.F$t(),t.Hsn(0),t.YNc(1,oe,2,1,"span",0)),2&qt&&(t.xp6(1),t.Q6J("polymorpheusOutlet",Je.template||Je.content)("polymorpheusOutletContext",t.VKq(2,Pe,Je.fileDragged)))},dependencies:[R.s$],styles:["label[tuiInputFiles]{position:relative;display:flex;min-block-size:var(--tui-height-l);justify-content:center;align-items:center;text-align:center;border-radius:var(--tui-radius-m);font:var(--tui-font-text-m);overflow-wrap:break-word;padding:0 .5rem}label[tuiInputFiles]>:not(input){position:relative;pointer-events:none}label[tuiInputFiles] input{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;color:transparent;cursor:pointer}label[tuiInputFiles] input:disabled~*{opacity:var(--tui-disabled-opacity)}label[tuiInputFiles] input::-webkit-file-upload-button{display:none}label[tuiInputFiles] input::file-selector-button{display:none}*:disabled label[tuiInputFiles]{pointer-events:none}[tuiAppearance][data-appearance=file]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border-radius:inherit;box-sizing:border-box;border:1px dashed var(--tui-text-action);outline:none}tui-root._mobile [tuiAppearance][data-appearance=file]{border-style:solid}[tuiInputFiles]._dragged [tuiAppearance][data-appearance=file]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover) and (pointer: fine){[tuiAppearance][data-appearance=file][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][data-state=active]{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active]:hover{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file]:focus-visible:not([data-focus=false]){border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][data-focus=true]{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][data-appearance=file][tuiWrapper]._focused{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file]:invalid{border-color:var(--tui-status-negative)!important}\n"],encapsulation:2,changeDetection:0})}}return Mt})();var Li=o(3647),mi=o(5526),Zi=o(5820),Qi=o(2198),Yi=o(1711),uo=o(9191),Ui=o(5467),Ki=o(217),Gi=o(8767),sn=o(7912),fi=o(1260),Xt=o(6557),Ye=o(4224),se=o(250),Ve=o(8293),An=o(1993),Ei=o(5325),ji=o(1870),Ji=o(764);function Wo(Mt,yn){if(1&Mt&&(t.TgZ(0,"button",6),t._uU(1),t.qZA()),2&Mt){const Ct=yn.$implicit;t.Q6J("value",Ct),t.xp6(1),t.hij(" ",Ct.name," ")}}function Ie(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Wo,2,2,"button",5),t.BQk()),2&Mt){const Ct=yn.tuiLet;t.xp6(1),t.Q6J("ngForOf",Ct)}}function ze(Mt,yn){if(1&Mt&&(t.TgZ(0,"tui-data-list",3),t.YNc(1,Ie,2,1,"ng-container",4),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("tuiLet",Ct.filter(Ct.options,Ct.searchQuery))}}function pn(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"tui-combo-box",1),t.NdJ("searchChange",function(Je){t.CHM(Ct);const yi=t.oxw();return t.KtG(yi.searchQuery=Je)}),t.Hsn(1),t.YNc(2,ze,2,1,"tui-data-list",2),t.qZA()}if(2&Mt){const Ct=t.oxw();t.Q6J("formControl",Ct.value)("search",Ct.searchQuery)("strict",Ct.strict)("stringify",Ct.stringify)("pseudoInvalid",Ct.pseudoInvalid)}}const fn=["*"],an=function(){return[]};function Mn(Mt,yn){if(1&Mt&&(t.TgZ(0,"p",1)(1,"dms-file-form-combobox",9),t._uU(2," \u041f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f "),t.qZA(),t._UZ(3,"tui-error",10),t.ALo(4,"async"),t.ALo(5,"tuiFieldError"),t.qZA()),2&Mt){const Ct=yn.ngIf,qt=t.oxw();t.xp6(1),t.Q6J("options",Ct)("pseudoInvalid",qt.form.controls.documentType.touched&&qt.form.controls.documentSubtype.invalid),t.xp6(2),t.Q6J("error",t.lcZ(4,3,t.lcZ(5,5,t.DdM(7,an))))}}function Tn(Mt,yn){if(1&Mt&&(t.ynx(0),t._uU(1),t.BQk()),2&Mt){const Ct=yn.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ct," ")}}const bn=function(Mt){return{$implicit:Mt}};function ie(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Tn,2,1,"ng-container",11),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",Ct.metaFormContent)("polymorpheusOutletContext",t.VKq(2,bn,Ct.form.controls.meta))}}function We(Mt,yn){if(1&Mt&&(t.TgZ(0,"p",12)(1,"tui-textarea",13),t._uU(2,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),t.qZA(),t._UZ(3,"tui-error",14),t.ALo(4,"async"),t.ALo(5,"tuiFieldError"),t.qZA()),2&Mt){const Ct=yn.ngIf,qt=t.oxw();t.xp6(1),t.Q6J("formControl",Ct)("maxLength",qt.MAX_COUNT_SYMBOLS)("expandable",!0),t.xp6(2),t.Q6J("formControl",Ct)("error",t.lcZ(4,5,t.lcZ(5,7,t.DdM(9,an))))}}function Le(Mt,yn){if(1&Mt){const Ct=t.EpF();t.ynx(0,4),t.TgZ(1,"div",5)(2,"span",6),t._uU(3),t.qZA(),t._UZ(4,"dms-file-form",7),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"footer")(7,"button",8),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw();return t.KtG(Je.ctx.$implicit.complete())}),t._uU(8,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){const yi=t.CHM(Ct).ngIf,vt=t.oxw();return t.KtG(vt.submitFileMeta(yi))}),t.ALo(10,"async"),t._uU(11,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()(),t.BQk()}if(2&Mt){const Ct=yn.ngIf,qt=t.oxw();t.Q6J("formGroup",Ct),t.xp6(3),t.Oqu(qt.fullDisplayName),t.xp6(1),t.Q6J("editMode",!0)("categories",t.lcZ(5,7,qt.categoryStore.categories$))("file",qt.file),t.xp6(5),t.Q6J("loading",!!t.lcZ(10,9,qt.editIsRequested$))("disabled",Ct.pristine)}}function un(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(3);return t.KtG(Je.service.downloadFile(Je.file))}),t._uU(1," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw().tuiLet,Je=t.oxw();t.Q6J("size",Je.config.actionSize)("loading",qt)("disabled",!qt&&Ct)}}function Rn(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(3);return t.KtG(Je.service.downloadFile(Je.file))}),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw().tuiLet,Je=t.oxw();t.Q6J("tuiHintShowDelay",Je.fileActionsHintConfig.delay)("tuiHintHideDelay",Je.fileActionsHintConfig.hideDelay)("size",Je.config.actionSize)("loading",qt)("disabled",!qt&&Ct)}}function Fn(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,un,2,3,"button",1),t.YNc(2,Rn,1,5,"button",2),t.BQk()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("ngIf","button"===Ct.config.downloadActionViewMode),t.xp6(1),t.Q6J("ngIf","icon"===Ct.config.downloadActionViewMode)}}function si(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Fn,3,2,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("tuiLet",!!t.lcZ(2,1,Ct.service.isDisabled$))}}function Di(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.editFile(Je.file))}),t._uU(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c "),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw();t.Q6J("size",qt.config.actionSize)("disabled",Ct)}}function Ii(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.editFile(Je.file))}),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw();t.Q6J("tuiHintShowDelay",qt.fileActionsHintConfig.delay)("tuiHintHideDelay",qt.fileActionsHintConfig.hideDelay)("size",qt.config.actionSize)("disabled",Ct)}}function Vi(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Di,2,2,"button",1),t.YNc(2,Ii,1,4,"button",2),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("ngIf","button"===Ct.config.editActionViewMode),t.xp6(1),t.Q6J("ngIf","icon"===Ct.config.editActionViewMode)}}const gi="tui-icon[_ngcontent-%COMP%]{color:var(--dms-file-action-icon-color, #393939)}";function Ni(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.removeFile(Je.file,Je.config.removeActionStrategy))}),t._uU(1),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw();t.Q6J("size",qt.config.actionSize)("disabled",Ct),t.xp6(1),t.hij(" ",qt.removeActionText," ")}}function zi(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.removeFile(Je.file,Je.config.removeActionStrategy))}),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw();t.Q6J("tuiHint",qt.removeActionText)("tuiHintShowDelay",qt.fileActionsHintConfig.delay)("size",qt.config.actionSize)("disabled",Ct)}}function Mo(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Ni,2,3,"button",1),t.YNc(2,zi,1,4,"button",2),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("ngIf","button"===Ct.config.removeActionViewMode),t.xp6(1),t.Q6J("ngIf","icon"===Ct.config.removeActionViewMode)}}function io(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.restoreFile(Je.file))}),t._uU(1," \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c "),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw();t.Q6J("size",qt.config.actionSize)("disabled",Ct)}}function qo(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.restoreFile(Je.file))}),t.qZA()}if(2&Mt){const Ct=t.oxw().tuiLet,qt=t.oxw();t.Q6J("tuiHintShowDelay",qt.fileActionsHintConfig.delay)("tuiHintHideDelay",qt.fileActionsHintConfig.hideDelay)("size",qt.config.actionSize)("disabled",Ct)}}function $o(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,io,2,2,"button",1),t.YNc(2,qo,1,4,"button",2),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("ngIf","button"===Ct.config.restoreActionViewMode),t.xp6(1),t.Q6J("ngIf","icon"===Ct.config.restoreActionViewMode)}}function tr(Mt,yn){if(1&Mt&&(t.ynx(0),t._UZ(1,"dms-file-edit-action",0),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("file",Ct.file)}}function mr(Mt,yn){if(1&Mt&&(t.ynx(0),t._UZ(1,"dms-file-remove-action",0),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("file",Ct.file)}}function er(Mt,yn){if(1&Mt&&(t.ynx(0),t._UZ(1,"dms-file-restore-action",0),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("file",Ct.file)}}function po(Mt,yn){if(1&Mt&&(t.ynx(0),t._uU(1),t.BQk()),2&Mt){const Ct=yn.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ct," ")}}const Ti=function(Mt,yn){return{row:Mt,columnName:yn}};function Wi(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,po,2,1,"ng-container",2),t.BQk()),2&Mt){const Ct=yn.ngIf,qt=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",Ct)("polymorpheusOutletContext",t.VKq(5,bn,t.WLB(2,Ti,qt.file,qt.column.code)))}}function so(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"div",9)(1,"tui-loader",10),t.ALo(2,"async"),t.TgZ(3,"button",11),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw(2);return t.KtG(Je.service.downloadFile(Je.file))}),t.ALo(4,"async"),t.ALo(5,"async"),t._UZ(6,"tui-icon",12),t._uU(7),t.qZA()()()}if(2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("showLoader",!!t.lcZ(2,3,Ct.service.isDownloading$)),t.xp6(2),t.Q6J("disabled",!1===t.lcZ(4,5,Ct.service.isDownloading$)&&!!t.lcZ(5,7,Ct.service.isDisabled$)),t.xp6(4),t.hij(" ",Ct.heading," ")}}function Ko(Mt,yn){if(1&Mt&&(t.TgZ(0,"dms-button-show-hidden"),t._uU(1),t.qZA()),2&Mt){const Ct=t.oxw(3);t.xp6(1),t.Oqu(Ct.file[Ct.defaultsColCodes.COMMENT])}}function cr(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",13),t.YNc(1,Ko,2,1,"dms-button-show-hidden",0),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("ngIf",Ct.file[Ct.defaultsColCodes.COMMENT])}}function Uo(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"date"),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,Ct.file[Ct.defaultsColCodes.CREATED_AT],"dd.MM.y HH:mm")," ")}}function bo(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.hij(" ",Ct.categoryToName[Ct.file[Ct.defaultsColCodes.CATEGORY]]||Ct.file[Ct.defaultsColCodes.CATEGORY]," ")}}function qi(Mt,yn){if(1&Mt&&(t.ynx(0),t._uU(1),t.BQk()),2&Mt){const Ct=yn.ngIf,qt=t.oxw(3);t.xp6(1),t.hij(" ",qt.subCategoryToName[Ct]||Ct," ")}}function xo(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",9),t.YNc(1,qi,2,1,"ng-container",0),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("ngIf",Ct.file[Ct.defaultsColCodes.SUB_CATEGORY])}}function Lo(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",9),t._uU(1),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.hij(" ",Ct.file[Ct.defaultsColCodes.SOURCE].name," ")}}function Fi(Mt,yn){if(1&Mt&&t._UZ(0,"dms-file-actions",15),2&Mt){const Ct=t.oxw(2);t.Q6J("file",Ct.file)}}function Go(Mt,yn){if(1&Mt&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Oqu(Ct.file[Ct.column.code])}}function gn(Mt,yn){if(1&Mt&&(t.ynx(0,3),t.YNc(1,so,8,9,"div",4),t.YNc(2,cr,2,1,"div",5),t.YNc(3,Uo,3,4,"div",6),t.YNc(4,bo,2,1,"div",4),t.YNc(5,xo,2,1,"div",4),t.YNc(6,Lo,2,1,"div",4),t.YNc(7,Fi,1,1,"dms-file-actions",7),t.YNc(8,Go,2,1,"div",8),t.BQk()),2&Mt){const Ct=t.oxw();t.Q6J("ngSwitch",Ct.column.code),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.NAME),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.COMMENT),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.CREATED_AT),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.CATEGORY),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.SUB_CATEGORY),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.SOURCE),t.xp6(1),t.Q6J("ngSwitchCase",Ct.defaultsColCodes.ACTIONS)}}function Yn(Mt,yn){1&Mt&&t.GkF(0)}function te(Mt,yn){if(1&Mt&&(t.TgZ(0,"th",9),t.YNc(1,Yn,1,0,"ng-container",10),t.qZA()),2&Mt){const Ct=t.oxw(2).ngIf,qt=t.MAs(4),Je=t.oxw().$implicit;t.Tol(Je),t.Udp("min-width",Ct.width+"px"),t.Q6J("resizable",Ct.resizable)("width",Ct.width),t.xp6(1),t.Q6J("ngTemplateOutlet",qt)}}function hn(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,te,2,7,"th",8),t.BQk()),2&Mt){const Ct=t.oxw(2).$implicit;t.xp6(1),t.Q6J("tuiHead",Ct)}}function In(Mt,yn){1&Mt&&t.GkF(0)}function ai(Mt,yn){if(1&Mt&&(t.TgZ(0,"th",12),t.YNc(1,In,1,0,"ng-container",10),t.qZA()),2&Mt){const Ct=t.oxw(2).ngIf,qt=t.MAs(4),Je=t.oxw().$implicit;t.Tol(Je),t.Q6J("resizable",Ct.resizable)("sorter",Ct.sorter),t.xp6(1),t.Q6J("ngTemplateOutlet",qt)}}function Bi(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,ai,2,5,"th",11),t.BQk()),2&Mt){const Ct=t.oxw(2).$implicit;t.xp6(1),t.Q6J("tuiHead",Ct)}}function No(Mt,yn){1&Mt&&t._UZ(0,"dms-table-filter",15),2&Mt&&t.Q6J("config",yn.ngIf)}function zo(Mt,yn){if(1&Mt&&(t.TgZ(0,"span",13),t.NdJ("click",function(qt){return qt.stopPropagation()}),t._uU(1),t.YNc(2,No,1,1,"dms-table-filter",14),t.qZA()),2&Mt){const Ct=t.oxw().ngIf;t.xp6(1),t.hij(" ",Ct.name," "),t.xp6(1),t.Q6J("ngIf",Ct.filter)}}function ao(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,hn,2,1,"ng-container",6),t.YNc(2,Bi,2,1,"ng-container",6),t.YNc(3,zo,3,2,"ng-template",null,7,t.W1O),t.BQk()),2&Mt){const Ct=yn.ngIf;t.xp6(1),t.Q6J("ngIf",void 0===Ct.sorter),t.xp6(1),t.Q6J("ngIf",void 0!==Ct.sorter)}}function Me(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,ao,5,2,"ng-container",6),t.BQk()),2&Mt){const Ct=yn.$implicit,qt=t.oxw(2);t.xp6(1),t.Q6J("ngIf",qt.cols[Ct])}}function Qn(Mt,yn){1&Mt&&(t.ynx(0),t._uU(1,"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),t.BQk())}function J(Mt,yn){1&Mt&&(t.ynx(0),t._uU(1,"\u0424\u0430\u0439\u043b\u043e\u0432 \u0435\u0449\u0451 \u043d\u0435\u0442"),t.BQk())}function Zt(Mt,yn){1&Mt&&(t.ynx(0),t._uU(1,"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),t.BQk())}function Et(Mt,yn){if(1&Mt&&(t.TgZ(0,"tr")(1,"td",19),t.YNc(2,Qn,2,0,"ng-container",6),t.YNc(3,J,2,0,"ng-container",6),t.YNc(4,Zt,2,0,"ng-container",6),t.qZA()()),2&Mt){const Ct=t.oxw(4);t.xp6(1),t.Q6J("colSpan",Ct.displayedColumnCodes.length),t.xp6(1),t.Q6J("ngIf",!Ct.isLoading&&!Ct.error&&Ct.files.length),t.xp6(1),t.Q6J("ngIf",!Ct.isLoading&&!Ct.error&&0===Ct.files.length),t.xp6(1),t.Q6J("ngIf",Ct.error)}}function on(Mt,yn){if(1&Mt&&(t.TgZ(0,"td"),t._UZ(1,"dms-file",22),t.qZA()),2&Mt){const Ct=t.oxw().$implicit,qt=t.oxw().$implicit,Je=t.oxw(4);t.xp6(1),t.Q6J("column",Je.cols[Ct])("file",qt)("subCategoryToName",Je.subCategoryToName)("categoryToName",Je.categoryToName)}}function ii(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,on,2,4,"td",21),t.BQk()),2&Mt){const Ct=yn.$implicit;t.xp6(1),t.Q6J("tuiCell",Ct)}}function Si(Mt,yn){if(1&Mt&&(t.TgZ(0,"tr",20),t.YNc(1,ii,2,1,"ng-container",4),t.qZA()),2&Mt){const Ct=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",Ct.displayedColumnCodes)}}function Oo(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Et,5,4,"tr",6),t.YNc(2,Si,2,1,"tr",18),t.BQk()),2&Mt){const Ct=yn.tuiLet;t.xp6(1),t.Q6J("ngIf",0===(null==Ct?null:Ct.length)),t.xp6(1),t.Q6J("ngForOf",Ct)}}function rr(Mt,yn){if(1&Mt&&(t.TgZ(0,"tbody",16),t.YNc(1,Oo,3,2,"ng-container",17),t.ALo(2,"tuiTableSort"),t.qZA()),2&Mt){const Ct=yn.tuiLet;t.Q6J("data",Ct),t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,2,Ct))}}function jo(Mt,yn){if(1&Mt&&(t.TgZ(0,"table",2)(1,"thead")(2,"tr",3),t.YNc(3,Me,2,1,"ng-container",4),t.qZA()(),t.YNc(4,rr,3,4,"tbody",5),t.ALo(5,"async"),t.ALo(6,"tuiTableFilters"),t.qZA()),2&Mt){const Ct=t.oxw();t.Q6J("columns",Ct.displayedColumnCodes),t.xp6(3),t.Q6J("ngForOf",Ct.displayedColumnCodes),t.xp6(1),t.Q6J("tuiLet",t.lcZ(5,3,t.lcZ(6,5,Ct.files)))}}function Nr(Mt,yn){if(1&Mt&&(t.ynx(0),t._uU(1),t.BQk()),2&Mt){const Ct=yn.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ct," ")}}const Io=function(Mt){return{row:Mt}};function _e(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Nr,2,1,"ng-container",5),t.BQk()),2&Mt){const Ct=yn.ngIf,qt=t.oxw().$implicit;t.xp6(1),t.Q6J("polymorpheusOutlet",Ct)("polymorpheusOutletContext",t.VKq(4,bn,t.VKq(2,Io,qt)))}}function W(Mt,yn){if(1&Mt&&(t.ynx(0),t._UZ(1,"dms-file",7),t.BQk()),2&Mt){const Ct=yn.$implicit,qt=t.oxw(2).$implicit,Je=t.oxw();t.xp6(1),t.Q6J("column",Je.cols[Ct])("file",qt)("subCategoryToName",Je.subCategoryToName)("categoryToName",Je.categoryToName)}}function rt(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,W,2,4,"ng-container",6),t.BQk()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",Ct.displayedColumnCodes)}}function zt(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",3),t.YNc(1,_e,2,6,"ng-container",4),t.YNc(2,rt,2,1,"ng-container",4),t.qZA()),2&Mt){const Ct=t.oxw();t.ekj("row-default",null===Ct.templateRow),t.xp6(1),t.Q6J("ngIf",Ct.templateRow),t.xp6(1),t.Q6J("ngIf",null===Ct.templateRow)}}function pe(Mt,yn){if(1&Mt&&(t._UZ(0,"dms-file-table-short",2),t.ALo(1,"async"),t.ALo(2,"async")),2&Mt){const Ct=yn.ngIf,qt=t.oxw(2).ngIf,Je=t.oxw().ngIf,yi=t.oxw();t.Q6J("isLoading",t.lcZ(1,7,yi.isLoading$))("error",t.lcZ(2,9,yi.error$))("columns",qt)("displayedColumnCodes",yi.displayedColumns)("files",Ct)("categoryToName",Je.categoryCodeToName)("subCategoryToName",Je.subCategoryCodeToName)}}function Be(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,pe,3,11,"dms-file-table-short",1),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,Ct.files$))}}function On(Mt,yn){if(1&Mt&&(t._UZ(0,"dms-file-table",2),t.ALo(1,"async"),t.ALo(2,"async")),2&Mt){const Ct=yn.ngIf,qt=t.oxw(2).ngIf,Je=t.oxw().ngIf,yi=t.oxw();t.Q6J("isLoading",t.lcZ(1,7,yi.isLoading$))("error",t.lcZ(2,9,yi.error$))("columns",qt)("displayedColumnCodes",yi.displayedColumns)("files",Ct)("categoryToName",Je.categoryCodeToName)("subCategoryToName",Je.subCategoryCodeToName)}}function Sn(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,On,3,11,"dms-file-table",1),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,Ct.files$))}}function Gn(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Be,3,3,"ng-container",0),t.YNc(2,Sn,3,3,"ng-container",0),t.BQk()),2&Mt){const Ct=t.oxw(2);t.xp6(1),t.Q6J("ngIf","short"===Ct.mode),t.xp6(1),t.Q6J("ngIf","long"===Ct.mode)}}function ni(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,Gn,3,2,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,Ct.columns$))}}const Lt=["fileUploadDialog"],$t=["contentButton"];function mt(Mt,yn){1&Mt&&t.GkF(0)}function ue(Mt,yn){1&Mt&&(t._UZ(0,"tui-error",22),t.ALo(1,"async"),t.ALo(2,"tuiFieldError")),2&Mt&&t.Q6J("error",t.lcZ(1,1,t.lcZ(2,3,t.DdM(5,an))))}function He(Mt,yn){if(1&Mt&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&Mt){const Ct=t.oxw().$implicit;t.xp6(1),t.Oqu(Ct.controls.content.value.name)}}function ci(Mt,yn){if(1&Mt&&(t._UZ(0,"dms-file-form",24),t.ALo(1,"async")),2&Mt){const Ct=t.oxw(3);t.Q6J("categories",Ct.categories)("notifier$",t.lcZ(1,2,Ct.notifier))}}function Hi(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"div",15)(1,"p",16),t.YNc(2,ue,3,6,"tui-error",17),t.YNc(3,He,2,1,"span",18),t.TgZ(4,"button",19),t.NdJ("click",function(){const Je=t.CHM(Ct),yi=Je.$implicit,vt=Je.index,b=t.oxw(2);return t.KtG(b.removeFileForm(yi,vt))}),t.qZA()(),t._UZ(5,"tui-error",20),t.ALo(6,"async"),t.ALo(7,"tuiFieldError"),t.YNc(8,ci,2,4,"dms-file-form",21),t.qZA()}if(2&Mt){const Ct=yn.$implicit;t.Q6J("formGroup",Ct),t.xp6(2),t.Q6J("ngIf",Ct.controls.content.errors),t.xp6(1),t.Q6J("ngIf",!Ct.controls.content.errors),t.xp6(2),t.Q6J("formGroup",Ct)("error",t.lcZ(6,6,t.lcZ(7,8,t.DdM(10,an)))),t.xp6(3),t.Q6J("ngIf",!Ct.controls.content.errors)}}function So(Mt,yn){1&Mt&&t.GkF(0)}function Co(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"section",4)(1,"header",5)(2,"h3",6),t._uU(3),t.qZA(),t.TgZ(4,"p",7),t._uU(5),t.qZA()(),t.TgZ(6,"form",8),t.NdJ("ngSubmit",function(){const yi=t.CHM(Ct).$implicit,vt=t.oxw();return t.KtG(vt.uploadFiles(yi))}),t.TgZ(7,"div",9)(8,"tui-scrollbar")(9,"div",10),t.YNc(10,Hi,9,11,"div",11),t.qZA()()(),t.YNc(11,So,1,0,"ng-container",0),t.TgZ(12,"footer",12)(13,"button",13),t.NdJ("click",function(){const yi=t.CHM(Ct).$implicit,vt=t.oxw();return vt.files.clear(),vt.upload=null,t.KtG(yi.complete())}),t._uU(14," \u041e\u0442\u043c\u0435\u043d\u0430 "),t.qZA(),t.TgZ(15,"button",14),t._uU(16,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()()()()}if(2&Mt){const Ct=t.oxw(),qt=t.MAs(4);t.xp6(3),t.Oqu(Ct.configUpload.headingDialog),t.xp6(2),t.hij(" ",Ct.configUpload.descriptionDialog," "),t.xp6(5),t.Q6J("ngForOf",Ct.files.controls),t.xp6(1),t.Q6J("ngTemplateOutlet",qt)}}function Xo(Mt,yn){if(1&Mt&&(t.ynx(0),t._uU(1),t.BQk()),2&Mt){const Ct=yn.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ct," ")}}function nr(Mt,yn){if(1&Mt&&t.YNc(0,Xo,2,1,"ng-container",27),2&Mt){const Ct=yn.$implicit,qt=t.oxw(2);t.Q6J("polymorpheusOutlet",qt.contentButtonTemplate)("polymorpheusOutletContext",t.VKq(2,bn,Ct))}}const Lr=function(){return{standalone:!0}};function dr(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"label",25)(1,"input",26),t.NdJ("ngModelChange",function(Je){t.CHM(Ct);const yi=t.oxw();return t.KtG(yi.upload=Je)})("ngModelChange",function(Je){t.CHM(Ct);const yi=t.oxw();return t.KtG(yi.addFile(Je))}),t.qZA(),t.YNc(2,nr,1,4,"ng-template"),t.qZA()}if(2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("disabled",Ct.disabled)("accept",Ct.acceptAttribute)("ngModel",Ct.upload)("ngModelOptions",t.DdM(5,Lr))("multiple",!0)}}function lr(Mt,yn){if(1&Mt&&(t.TgZ(0,"span",28),t._UZ(1,"tui-icon",29),t._uU(2),t.qZA()),2&Mt){const Ct=t.oxw();t.xp6(2),t.hij(" ",Ct.configUpload.textButton," ")}}function fr(Mt,yn){if(1&Mt&&(t.TgZ(0,"label",5)(1,"span",6)(2,"em"),t._uU(3),t.qZA(),t.TgZ(4,"strong"),t._uU(5),t.qZA()(),t._UZ(6,"progress",7),t.qZA()),2&Mt){const Ct=t.oxw().$implicit;t.xp6(3),t.Oqu(Ct.displayName),t.xp6(2),t.hij("",Ct.progress.percent,"%"),t.xp6(1),t.Q6J("value",Ct.progress.percent)("max",100)}}function Or(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",8)(1,"p",9)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span",10),t._uU(5,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"),t.qZA()()()),2&Mt){const Ct=t.oxw().$implicit;t.xp6(3),t.Oqu(Ct.displayName)}}function Fe(Mt,yn){if(1&Mt&&(t.TgZ(0,"div",8)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4,"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d"),t.qZA()()),2&Mt){const Ct=t.oxw().$implicit;t.xp6(2),t.Oqu(Ct.displayName)}}function cn(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,fr,7,4,"label",3),t.YNc(2,Or,6,1,"div",4),t.YNc(3,Fe,5,1,"div",4),t.BQk()),2&Mt){const Ct=yn.$implicit;t.xp6(1),t.Q6J("ngIf",Ct.progress.percent),t.xp6(1),t.Q6J("ngIf",Ct.progress.error),t.xp6(1),t.Q6J("ngIf",!Ct.progress.error&&Ct.progress.isCompleted)}}function ve(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(Ct);const Je=t.oxw();return t.KtG(Je.context.$implicit.complete())}),t._uU(1," \u041f\u043e\u043d\u044f\u0442\u043d\u043e "),t.qZA()}}function en(Mt,yn){if(1&Mt&&(t.TgZ(0,"span",10),t._uU(1),t.qZA()),2&Mt){const Ct=yn.ngIf;t.xp6(1),t.hij(" ",Ct.length," ")}}function zn(Mt,yn){if(1&Mt){const Ct=t.EpF();t.TgZ(0,"label",7)(1,"input",8),t.NdJ("change",function(){t.CHM(Ct);const Je=t.oxw().$implicit,yi=t.oxw(5);return t.KtG(yi.categorySelect(Je.code))}),t.qZA(),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.YNc(4,en,2,1,"span",9),t.qZA()}if(2&Mt){const Ct=t.oxw().$implicit,qt=t.oxw(3).tuiLet,Je=t.oxw().ngIf;t.xp6(1),t.Q6J("ngModel",Je)("value",Ct.code),t.xp6(2),t.Oqu(Ct.name),t.xp6(1),t.Q6J("ngIf",null==qt?null:qt.get(Ct.code))}}function Mi(Mt,yn){1&Mt&&(t.ynx(0),t.YNc(1,zn,5,4,"label",6),t.BQk())}function ti(Mt,yn){}function _i(Mt,yn){if(1&Mt&&(t.TgZ(0,"tui-items-with-more",3),t.YNc(1,Mi,2,0,"ng-container",4),t.YNc(2,ti,0,0,"ng-template",5),t.qZA()),2&Mt){const Ct=yn.ngIf,qt=t.oxw().tuiLet;t.Q6J("required",qt),t.xp6(1),t.Q6J("ngForOf",Ct)}}function vi(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,_i,3,2,"tui-items-with-more",2),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,Ct.categories$))}}function no(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,vi,3,3,"ng-container",1),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw(2);let qt;t.xp6(1),t.Q6J("tuiLet",null!==(qt=t.lcZ(2,1,Ct.activeTabIndex$))&&void 0!==qt?qt:0)}}function ho(Mt,yn){if(1&Mt&&(t.ynx(0),t.YNc(1,no,3,3,"ng-container",1),t.ALo(2,"async"),t.BQk()),2&Mt){const Ct=t.oxw();t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,1,Ct.filesGroupList$))}}function ir(Mt,yn){1&Mt&&t._UZ(0,"dms-file-category-nav")}const to={POLICY:"POLICY",DP_CARD:"DP_CARD"},sr={CLIENT:"api-dms",ARM_DOCTOR:"dms-arm-doctor"},Fo="basket",co={NAME:"name",COMMENT:"comment",CREATED_AT:"createdAt",CATEGORY:"documentType",SUB_CATEGORY:"documentSubType",SOURCE:"source",ACTIONS:"actions"},br={[co.NAME]:{code:co.NAME,name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430",resizable:!0,width:"30%"},[co.COMMENT]:{code:co.COMMENT,name:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442.",resizable:!1,width:"105"},[co.CREATED_AT]:{code:co.CREATED_AT,name:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e",resizable:!1},[co.CATEGORY]:{code:co.CATEGORY,name:"\u0422\u0438\u043f",resizable:!1,filter:{content:new R.Al(A.sP),context:{columnCode:co.CATEGORY,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"}}},[co.SUB_CATEGORY]:{code:co.SUB_CATEGORY,name:"\u041f\u043e\u0434\u0442\u0438\u043f",resizable:!1,filter:{content:new R.Al(A.sP),context:{columnCode:co.SUB_CATEGORY,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0438\u043f"}}},[co.SOURCE]:{code:co.SOURCE,name:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",resizable:!1},[co.ACTIONS]:{code:co.ACTIONS,name:"",resizable:!1,sorter:null}},Cr={PATCH_FILE_META_FAILED:{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0444\u0430\u0439\u043b\u0435",title:"\u041e\u0448\u0438\u0431\u043a\u0430"},RESTORE_FILE_FAILED:{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b",title:"\u041e\u0448\u0438\u0431\u043a\u0430"},DELETE_FILE_FAILED:{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b",title:"\u041e\u0448\u0438\u0431\u043a\u0430"},MOVE_TO_TRASH_FILE_FAILED:{message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u0444\u0430\u0439\u043b",title:"\u041e\u0448\u0438\u0431\u043a\u0430"}},ur={DELETE:"delete",MOVE_TO_TRASH:"moveToTrash"},go=new t.OlP("Config edit form file DMS"),Sr=new t.OlP("Provide file actions config"),Zr=new t.OlP("Provide file upload config"),Xr=new t.OlP("Provide file category service"),Jr=new t.OlP("Provide a template for a file list item"),Hr=new t.OlP("DmsFileService"),hr=new t.OlP("DmsFileStorage"),zr=function(Mt){return"boolean"==typeof Mt?Mt:!!this.file&&Mt(this.file)},Fr={removeActionStrategy:ur.MOVE_TO_TRASH,downloadActionViewMode:"icon",editActionViewMode:"icon",removeActionViewMode:"icon",restoreActionViewMode:"icon",actionSize:"s",editIsAvailable:!0,removeIsAvailable:!0,restoreIsAvailable:!0},Wr={delay:300,hideDelay:0},Qr=({displayName:Mt,documentType:yn,documentSubtype:Ct,meta:qt,comment:Je})=>{const yi=new FormData;return Mt&&yi.append("displayName",Mt.slice(0,Mt.lastIndexOf("."))),yn&&yi.append("documentType",yn.code),Ct&&yi.append("documentSubtype",Ct.code),Je&&yi.append("comment",Je),qt&&Object.entries(qt).forEach(([vt,b])=>{const ft=b?.toString();ft&&yi.append(vt,ft)}),yi},Ar=Mt=>{const yn=Qr(Mt);return yn.append("document",Mt.content,Mt.displayName),yn};let wr=(()=>{class Mt extends U.m1{constructor(){super({isLoading:!1,data:null,error:null}),this.dialogService=(0,t.f3M)(w.RO),this.filesByGroup$=this.select(qt=>qt.data),this.isLoading$=this.select(qt=>qt.isLoading),this.error$=this.select(qt=>qt.error),this.setFiles=this.updater((qt,Je)=>({...qt,data:Je,isLoading:!1,error:null})),this.fileService=(0,t.f3M)(Hr),this.fetchFiles=this.effect(qt=>qt.pipe((0,a.b)(()=>this.patchState({isLoading:!0})),(0,i.w)(()=>this.fileService.fetchFiles().pipe((0,U._b)(Je=>this.setFiles((Mt=>{const yn=new Map;return Mt.forEach(Ct=>{if(!Ct.isDeleted)if(Ct.isTrashed){const qt=yn.get(Fo);qt?qt.push(Ct):yn.set(Fo,[Ct])}else{const qt=yn.get(Ct.documentType);qt?qt.push(Ct):yn.set(Ct.documentType,[Ct])}}),yn})(Je)),Je=>this.setState({error:Je,data:null,isLoading:!1})))))),this.files$=qt=>this.select(({data:Je})=>null===Je?[]:qt?Je.get(qt)||[]:Array.from(Je.values()).flat())}editFile(Ct,qt){if(!this.fileService.editFile)return console.error("editFile on DmsFileService not implemented"),g.E;const Je=Qr(qt);return this.fileService.editFile(Ct,Je).pipe((0,T.K)(yi=>this.dialogService.open(Cr.PATCH_FILE_META_FAILED.message,{label:Cr.PATCH_FILE_META_FAILED.title,closeable:!1}).pipe((0,i.w)(()=>(0,_._)(()=>yi)))))}restoreFile(Ct){return this.fileService.restoreFile?this.fileService.restoreFile(Ct).pipe((0,T.K)(qt=>this.dialogService.open(Cr.RESTORE_FILE_FAILED.message,{label:Cr.RESTORE_FILE_FAILED.title,closeable:!1}).pipe((0,i.w)(()=>(0,_._)(()=>qt))))):(console.error("restoreFile on DmsFileService not implemented"),g.E)}removeFile(Ct,qt){return this.fileService[`${qt}File`]?this.fileService[`${qt}File`](Ct).pipe((0,T.K)(Je=>{const yi=(Mt=>Mt===ur.MOVE_TO_TRASH?Cr.MOVE_TO_TRASH_FILE_FAILED:Cr.DELETE_FILE_FAILED)(qt);return this.dialogService.open(yi.message,{label:yi.title,closeable:!1}).pipe((0,i.w)(()=>(0,_._)(()=>Je)))})):(console.error(`${qt}File on DmsFileService not implemented`),g.E)}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const G={columns:br};let fe=(()=>{class Mt extends U.m1{constructor(){super(G),this.columns$=this.select(Ct=>Ct.columns),this.setColumn=this.updater((Ct,qt)=>({...Ct,columns:{...Ct.columns,[qt.code]:qt}})),this.updateColumn=this.updater((Ct,{code:qt,value:Je})=>{const yi=Ct.columns[qt],vt={};return yi&&(vt[qt]={...yi,...Je}),{...Ct,columns:{...Ct.columns,...vt}}})}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const Tt={isLoading:!1,error:null,data:null};let Jt=(()=>{class Mt extends U.m1{constructor(){super(Tt),this.selectedCategoryCode$=new m.X(null),this.setSelectedCategoryCode=this.effect(Ct=>Ct.pipe((0,a.b)(qt=>this.selectedCategoryCode$.next(qt)))),this.selectedCategory$=this.selectedCategoryCode$.pipe((0,i.w)(Ct=>Ct?this.fileCategory$(Ct):(0,h.of)(null))),this.categoriesState$=this.select(Ct=>Ct),this.categories$=this.select(Ct=>Ct.data),this.isLoading$=this.select(Ct=>Ct.isLoading),this.error$=this.select(Ct=>Ct.error),this.CategoriesCodeToName$=this.select(({data:Ct})=>{if(null===Ct)return null;const qt={},Je={};return Ct.forEach(yi=>{Je[yi.code]=yi.name,yi.subtypes?.forEach(vt=>qt[vt.code]=vt.name)}),{categoryCodeToName:Je,subCategoryCodeToName:qt}}),this.restService=(0,t.f3M)(Xr),this.fetchCategories=this.effect(Ct=>Ct.pipe((0,a.b)(()=>this.patchState({isLoading:!0})),(0,i.w)(()=>this.restService.fetchFileCategories().pipe((0,U._b)(qt=>this.setState({isLoading:!1,error:null,data:qt}),qt=>this.setState({error:qt,data:null,isLoading:!1})))))),this.fileSubCategories$=()=>this.selectedCategory$.pipe((0,i.w)(Ct=>Ct?(0,h.of)(Ct.subtypes||[]):this.categories$.pipe((0,O.U)(qt=>qt?qt.reduce((Je,yi)=>(yi.subtypes&&Je.push(...yi.subtypes),Je),new Array):[])))),this.fileCategory$=Ct=>this.select(qt=>qt.data?.find(Je=>Je.code===Ct)||null)}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const Ze=new t.OlP("Provide file upload service");let Vn=(()=>{class Mt{constructor(){this.restService=(0,t.f3M)(Ze),this.converter=Ar}upload(Ct){const qt=this.converter(Ct);return this.restService.uploadFile(qt).pipe((0,f.h)(Je=>Je.type===St.dt.UploadProgress||Je.type===St.dt.Response),(0,O.U)(Je=>({...Ct,progress:{percent:Je.type===St.dt.UploadProgress?Math.round(100*Je.loaded/Je.total):0,isCompleted:Je.type===St.dt.Response,response:Je.type===St.dt.Response?Je.body:null,error:null}})),(0,T.K)(Je=>(0,h.of)({...Ct,progress:{percent:0,isCompleted:!0,response:null,error:Je}})))}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})(),Kn=(()=>{class Mt{constructor(Ct){this.context=Ct}static{this.\u0275fac=function(qt){return new(qt||Mt)(t.Y36(R.yf))}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-pdf-viewer-actions"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["tuiButton","","shape","rounded","size","s",3,"download","href"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"a",0),t._uU(1," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),t.qZA()),2&qt&&t.Q6J("download",Je.context.label)("href",Je.context.data.url,t.LSH)},dependencies:[p.xG],encapsulation:2,changeDetection:0})}}return Mt})(),Ai=(()=>{class Mt{constructor(Ct,qt,Je,yi){this.dialogs=Ct,this.injector=qt,this.sanitizer=Je,this.pdfService=yi,this.storage=(0,t.f3M)(hr)}downloadFile(Ct){return this.storage.getFileLink(Ct.id).pipe((0,i.w)(({link:qt})=>{const Je=qt.replace("http://","/fta/"),yi=Ct.displayName+Ct.extension;if(".pdf"===Ct.extension){const vt=this.sanitizer.bypassSecurityTrustResourceUrl(qt.replace("http://","/pdf/"));return this.openPdfViewer(yi,vt)}return(0,Ki.saveAs)(Je,yi),g.E}),(0,T.K)(qt=>this.showError(qt,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442")))}openPdfViewer(Ct,qt){return this.pdfService.open(qt,{label:Ct,actions:new R.Al(Kn,this.injector),data:{url:qt}})}showError(Ct,qt="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u043e"){return this.dialogs.open(qt,{label:"\u041e\u0448\u0438\u0431\u043a\u0430"}).pipe((0,i.w)(()=>(0,_._)(()=>Ct)))}static{this.\u0275fac=function(qt){return new(qt||Mt)(t.LFG(w.RO),t.LFG(t.zs3),t.LFG(u.H7),t.LFG(Li.CG))}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})(),ko=(()=>{class Mt{static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275dir=t.lG2({type:Mt,selectors:[["","dmsFileMetaForm",""]],inputs:{dmsFileMetaForm:"dmsFileMetaForm"},standalone:!0})}}return Mt})();class Ao{static type(yn){return Ct=>Ct?.value instanceof File?yn.includes(Ct.value.type)?null:{invalidFileType:`\u0424\u0430\u0439\u043b ${Ct.value.name} \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: .pdf, .doc, .docx, .png, .heic, .avif`}:null}static size(yn){return Ct=>Ct?.value instanceof File?Ct.value.size<yn?null:{invalidSize:`\u0424\u0430\u0439\u043b ${Ct.value.name} \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440`}:null}static fileName(yn){return Ct=>Ct?.value?Ct.value.replace(yn,"").length?null:{fileNameIsEmpty:"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"}:null}static sameFile(){return yn=>{if(!(0,bt.em)(yn))return null;const{controls:Ct}=yn;return Ct.forEach((qt,Je)=>{const yi=qt.get("displayName"),b=qt.get("documentType").getRawValue();let ft=!1;if(!b)return;const jt={sameFileShouldntInSameCategory:`\u0412\u044b \u0443\u0436\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0432\u0430\u0435\u043c \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e ${b.name}`};for(let ye=0;ye<Ct.length;ye++){if(Je===ye)continue;const vn=Ct[ye];if(vn.get("displayName").getRawValue()===yi.getRawValue()){const Wn=vn.get("documentType")?.getRawValue();Wn&&b.code===Wn.code?(vn.setErrors(jt),ft=!0):vn.setErrors(null)}else vn.setErrors(null)}qt.setErrors(ft?jt:null)}),null}}}let Eo=(()=>{class Mt{constructor(){this.nativeId="",this.strict=!0,this.tuiDropdownLimitWidth="min",this.options=null,this.pseudoInvalid=!1,this.searchQuery=null,this.destroy$=(0,t.f3M)(t.ktI),this.value=new bt.NI(null),this.stringify=Ct=>Ct.name}filter(Ct,qt){return Ct.filter(Je=>(0,Bt.LQ)(Je.name,qt||""))}writeValue(Ct){this.value.patchValue(Ct,{emitEvent:!1})}registerOnChange(Ct){this.value.valueChanges.pipe((0,An.sL)(this.destroy$)).subscribe(qt=>Ct(qt))}registerOnTouched(Ct){}setDisabledState(Ct){}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-form-combobox"]],inputs:{nativeId:"nativeId",strict:"strict",tuiDropdownLimitWidth:"tuiDropdownLimitWidth",options:"options",pseudoInvalid:"pseudoInvalid"},standalone:!0,features:[t._Bn([{provide:bt.JU,useExisting:(0,t.Gpc)(()=>Mt),multi:!0}]),t.jDz],ngContentSelectors:fn,decls:1,vars:1,consts:[[3,"formControl","search","strict","stringify","pseudoInvalid","searchChange",4,"ngIf"],[3,"formControl","search","strict","stringify","pseudoInvalid","searchChange"],["emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",4,"tuiDataList"],["emptyContent","\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"],[4,"tuiLet"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"]],template:function(qt,Je){1&qt&&(t.F$t(),t.YNc(0,pn,3,5,"tui-combo-box",0)),2&qt&&t.Q6J("ngIf",Je.options)},dependencies:[e.O5,e.sg,bt.UX,bt.JJ,bt.oH,Xt.jp,Xt._p,Xt.EH,Xt.m2,S.qi,S.bH,Gi.i,S.gX],changeDetection:0})}}return(0,ut.gn)([I.UM,(0,ut.w6)("design:type",Function),(0,ut.w6)("design:paramtypes",[Array,Object]),(0,ut.w6)("design:returntype",Array)],Mt.prototype,"filter",null),Mt})(),Bo=(()=>{class Mt{constructor(){this.editMode=!1,this.file=null,this.categories=null,this.notifier$=null,this.removedFileForm=new t.vpe,this.metaFormContent=(0,t.f3M)(ko,{optional:!0})?.dmsFileMetaForm||null,this.fileNameMask=null,this.config=(0,t.f3M)(go,{optional:!0}),this.accessIsPossible=zr,this.parentContainer=(0,t.f3M)(bt.gN),this.MAX_COUNT_SYMBOLS=1e3}get form(){return this.parentContainer.control}ngOnInit(){const Ct=this.form.controls.displayName,qt=Ct.value.slice(Ct.value.lastIndexOf("."));this.fileNameMask=(Mt=>({mask:/./,postprocessors:[(0,fi.A7)(Mt)]}))(qt),Ct.addValidators(Ao.fileName(qt)),this.form.setControl("meta",new bt.cw({})),this.form.setControl("comment",new bt.NI("",{validators:[A.ad.maxLengthTrimmed(1e3,"\u0421\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")],nonNullable:!0})),this.editMode&&this.file&&this.form.controls.comment?.patchValue(this.file.comment||null)}ngAfterViewInit(){this.editMode&&this.file&&(this.form.controls.meta.patchValue(this.file),this.config&&(this.applyRulesAccessForEdit(this.config.accessRule.main,this.form),this.applyRulesAccessForEdit(this.config.accessRule.meta,this.form.controls.meta)))}changedCategory(Ct,qt){Ct?.subtypes?qt.controls.documentSubtype.addValidators(bt.kI.required):qt.controls.documentSubtype.removeValidators(bt.kI.required),qt.patchValue({documentSubtype:null})}applyRulesAccessForEdit(Ct,qt){Object.entries(Ct).forEach(([Je,yi])=>{const vt=qt.get(Je);vt&&!this.accessIsPossible(yi)&&vt.disable()})}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-form"]],inputs:{editMode:"editMode",file:"file",categories:"categories",notifier$:"notifier$"},outputs:{removedFileForm:"removedFileForm"},standalone:!0,features:[t._Bn([],[{provide:bt.gN,useFactory:()=>(0,t.f3M)(bt.gN,{skipSelf:!0})}]),t.jDz],decls:16,vars:19,consts:[[1,"file-form__fieldset"],[1,"file-form__field"],["formControlName","documentType","tuiTextfieldAppearance","textfield",3,"pseudoInvalid","options","tuiValueChanges"],["formControlName","documentType",3,"error"],["formControlName","displayName","tuiTextfieldSize","m","tuiTextfieldAppearance","textfield",3,"tuiTextfieldCleaner","maskito"],["formControlName","displayName",3,"error"],["class","file-form__field",4,"ngIf"],[4,"ngIf"],["class","file-form__field comment",4,"ngIf"],["formControlName","documentSubtype","tuiTextfieldAppearance","textfield",3,"options","pseudoInvalid"],["formControlName","documentSubtype",3,"error"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"file-form__field","comment"],["tuiTextfieldAppearance","textfield",3,"formControl","maxLength","expandable"],[3,"formControl","error"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"div",0)(1,"p",1)(2,"dms-file-form-combobox",2),t.NdJ("tuiValueChanges",function(vt){return Je.changedCategory(vt,Je.form)}),t._uU(3," \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f "),t.qZA(),t._UZ(4,"tui-error",3),t.ALo(5,"async"),t.ALo(6,"tuiFieldError"),t.qZA(),t.TgZ(7,"p",1)(8,"tui-input",4),t._uU(9," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 "),t.qZA(),t._UZ(10,"tui-error",5),t.ALo(11,"async"),t.ALo(12,"tuiFieldError"),t.qZA(),t.YNc(13,Mn,6,8,"p",6),t.YNc(14,ie,2,4,"ng-container",7),t.YNc(15,We,6,10,"p",8),t.qZA()),2&qt&&(t.xp6(2),t.Q6J("pseudoInvalid",Je.form.controls.documentType.touched&&Je.form.controls.documentType.invalid)("options",Je.categories),t.xp6(2),t.Q6J("error",t.lcZ(5,9,t.lcZ(6,11,t.DdM(17,an)))),t.xp6(4),t.Q6J("tuiTextfieldCleaner",!0)("maskito",Je.fileNameMask),t.xp6(2),t.Q6J("error",t.lcZ(11,13,t.lcZ(12,15,t.DdM(18,an)))),t.xp6(3),t.Q6J("ngIf",null==Je.form.controls.documentType.value?null:Je.form.controls.documentType.value.subtypes),t.xp6(1),t.Q6J("ngIf",Je.metaFormContent),t.xp6(1),t.Q6J("ngIf",Je.form.controls.comment))},dependencies:[Eo,bt.UX,bt.JJ,bt.oH,bt.u,L.qm,V.e,mi.A,e.Ov,Ye.Qf,Ye.K3,Ye.wU,Ei.r,e.O5,R.s$,se.Mu,se.FC,se.Bq,sn.T,Ve.cn,Ve.qc,Ve.be,Ve.sz],styles:[".file-form__fieldset[_ngcontent-%COMP%]{padding-top:var(--tui-padding-m);display:grid;grid-template-columns:repeat(2,1fr);grid-gap:var(--tui-padding-s)}.file-form__field[_ngcontent-%COMP%]{margin:0}.file-form__field.comment[_ngcontent-%COMP%]{grid-column:1/-1}.file-form-error[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}}return(0,ut.gn)([I.UM,(0,ut.w6)("design:type",bt.cw),(0,ut.w6)("design:paramtypes",[])],Mt.prototype,"form",null),Mt})(),_o=(()=>{class Mt{constructor(){this.ctx=(0,t.f3M)(R.yf),this.editIsRequested$=new m.X(!1),this.file=this.ctx.data.file,this.fileStore=(0,t.f3M)(wr),this.categoryStore=(0,t.f3M)(Jt),this.form$=this.categoryStore.fileCategory$(this.file.documentType).pipe((0,f.h)(Ct=>!!Ct),(0,st.q)(1),(0,O.U)(Ct=>this.createFileForm(Ct)))}get fullDisplayName(){return this.file.displayName+(this.file.extension||"")}createFileForm(Ct){const qt=Ct.subtypes?.find(yi=>yi.code===this.file.documentSubType),Je=new bt.cw({displayName:new bt.NI(this.fullDisplayName,{validators:[bt.kI.required],nonNullable:!0}),documentType:new bt.NI(Ct,{validators:[bt.kI.required]}),documentSubtype:new bt.NI(qt||null,{validators:[Ct.subtypes?bt.kI.required:bt.kI.nullValidator]})});return Je.markAllAsTouched(),Je.markAsDirty(),Je.markAsPristine(),Je}submitFileMeta(Ct){if(Ct.invalid)return;const qt=Ct.value;this.editIsRequested$.next(!0),this.fileStore.editFile(this.file.id,qt).pipe((0,dt.x)(()=>this.editIsRequested$.next(!1))).subscribe(()=>{this.fileStore.fetchFiles(),this.ctx.$implicit.complete()})}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-edit"]],standalone:!0,features:[t.jDz],decls:7,vars:3,consts:[[1,"files-upload__header"],[1,"files-upload__title"],[1,"files-upload__description"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"file-form-wrap"],[1,"file-form-wrap__title"],[3,"editMode","categories","file"],["tuiButton","","size","m","appearance","secondary","type","button",3,"click"],["tuiButton","","size","m","type","submit",3,"loading","disabled","click"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"header",0)(1,"h3",1),t._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(3,"p",2),t._uU(4,"\u0412\u043d\u0435\u0441\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u0435 \u0432\u0430\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),t.qZA()(),t.YNc(5,Le,12,11,"ng-container",3),t.ALo(6,"async")),2&qt&&(t.xp6(5),t.Q6J("ngIf",t.lcZ(6,1,Je.form$)))},dependencies:[e.O5,Bo,e.Ov,bt.UX,bt.JL,bt.sg,p.xG,Zi.R],styles:[".file-form-wrap[_ngcontent-%COMP%]{padding:var(--tui-padding-m);border:1px solid var(--dms-border-color);border-bottom:none;text-align:left}.file-form-wrap[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:var(--tui-radius-s);border-top-right-radius:var(--tui-radius-s)}.file-form-wrap[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid var(--dms-border-color);border-bottom-left-radius:var(--tui-radius-s);border-bottom-right-radius:var(--tui-radius-s)}.file-form-wrap__title[_ngcontent-%COMP%]{padding-left:4px;color:var(--tui-background-accent-opposite-hover)}.file-form-wrap__header[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]{width:800px;display:flex;flex-direction:column;color:var(--tui-text-secondary)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{padding-bottom:16px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--tui-text-primary)}[_nghost-%COMP%]   .files-upload__description[_ngcontent-%COMP%]{color:var(--tui-text-secondary)}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{padding-top:16px;display:flex;justify-content:flex-end;gap:0 12px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:162px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:138px}"],changeDetection:0})}}return Mt})(),wo=(()=>{class Mt{constructor(){this.isDownloading=new m.X(!1),this.isDisabled=new m.X(!1),this.fileStore=(0,t.f3M)(wr),this.destroy$=(0,t.f3M)(t.ktI),this.dialogService=(0,t.f3M)(w.RO),this.injector=(0,t.f3M)(t.zs3),this.downloadService=(0,t.f3M)(Ai),this.isDownloading$=this.isDownloading.asObservable(),this.isDisabled$=this.isDisabled.asObservable()}ngOnDestroy(){this.isDownloading.complete(),this.isDisabled.complete()}setIsDisabled(Ct){this.isDisabled.next(Ct)}editFile(Ct){this.openEditDialog(Ct).subscribe()}downloadFile(Ct){this.isDownloading.next(!0),this.mapAction(this.downloadService.downloadFile(Ct)).pipe((0,dt.x)(()=>this.isDownloading.next(!1))).subscribe()}removeFile(Ct,qt){const Je=(Mt=>Mt===ur.MOVE_TO_TRASH?{label:()=>"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",message:yn=>`\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 <em>\u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443</em> \u0444\u0430\u0439\u043b ${yn}?`,yes:"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u044c"}:{label:()=>"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",message:yn=>`\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 <em>\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b</em> ${yn}. \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e`,yes:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})(qt);this.dialogService.open(Qi.k2,{label:Je.label(),size:"m",closeable:!1,data:{content:Je.message(Ct.name),yes:Je.yes,no:"\u041e\u0442\u043c\u0435\u043d\u0430"}}).pipe((0,i.w)(yi=>yi?this.mapAction(this.fileStore.removeFile(Ct.id,qt)):g.E)).subscribe(()=>this.fileStore.fetchFiles())}restoreFile(Ct){this.mapAction(this.fileStore.restoreFile(Ct.id)).subscribe(()=>this.fileStore.fetchFiles())}mapAction(Ct){return(0,v.P)(()=>(this.isDisabled.next(!0),Ct.pipe((0,dt.x)(()=>this.isDisabled.next(!1)))))}openEditDialog(Ct){return this.dialogService.open(new R.Al(_o,this.injector),{data:{file:Ct},size:"auto"}).pipe((0,An.sL)(this.destroy$))}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})(),Dr=(()=>{class Mt{constructor(){this.service=(0,t.f3M)(wo),this.config={...Fr,...(0,t.f3M)(Sr,{optional:!0})??{}},this.fileActionsHintConfig=Wr}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-download-action"]],inputs:{file:"file"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["appearance","primary","tuiButton","","type","button",3,"size","loading","disabled","click",4,"ngIf"],["tuiIconButton","","tuiHint","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","tuiHintDirection","top-left","iconStart","appIconDownloadFile","appearance","action-grayscale","type","button",3,"tuiHintShowDelay","tuiHintHideDelay","size","loading","disabled","click",4,"ngIf"],["appearance","primary","tuiButton","","type","button",3,"size","loading","disabled","click"],["tuiIconButton","","tuiHint","\u0421\u043a\u0430\u0447\u0430\u0442\u044c","tuiHintDirection","top-left","iconStart","appIconDownloadFile","appearance","action-grayscale","type","button",3,"tuiHintShowDelay","tuiHintHideDelay","size","loading","disabled","click"]],template:function(qt,Je){1&qt&&(t.YNc(0,si,3,3,"ng-container",0),t.ALo(1,"async")),2&qt&&t.Q6J("tuiLet",!!t.lcZ(1,1,Je.service.isDownloading$))},dependencies:[e.O5,e.Ov,Gi.i,p.xG,Zi.R,et.D],styles:["tui-icon[_ngcontent-%COMP%]{color:var(--dms-file-action-icon-color, #393939)}"],changeDetection:0})}}return Mt})(),Er=(()=>{class Mt{constructor(){this.service=(0,t.f3M)(wo),this.config={...Fr,...(0,t.f3M)(Sr,{optional:!0})??{}},this.fileActionsHintConfig=Wr}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-edit-action"]],inputs:{file:"file"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["appearance","primary","tuiButton","","type","button",3,"size","disabled","click",4,"ngIf"],["tuiIconButton","","iconStart","appIconPencil","appearance","action-grayscale","tuiHint","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","tuiHintDirection","top-left","type","button",3,"tuiHintShowDelay","tuiHintHideDelay","size","disabled","click",4,"ngIf"],["appearance","primary","tuiButton","","type","button",3,"size","disabled","click"],["tuiIconButton","","iconStart","appIconPencil","appearance","action-grayscale","tuiHint","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","tuiHintDirection","top-left","type","button",3,"tuiHintShowDelay","tuiHintHideDelay","size","disabled","click"]],template:function(qt,Je){1&qt&&(t.YNc(0,Vi,3,2,"ng-container",0),t.ALo(1,"async")),2&qt&&t.Q6J("tuiLet",!!t.lcZ(1,1,Je.service.isDisabled$))},dependencies:[e.O5,e.Ov,p.xG,et.D,Gi.i],styles:[gi],changeDetection:0})}}return Mt})(),kr=(()=>{class Mt{constructor(){this.service=(0,t.f3M)(wo),this.config={...Fr,...(0,t.f3M)(Sr,{optional:!0})??{}},this.fileActionsHintConfig=Wr}get removeActionText(){return this.config.removeActionStrategy===ur.DELETE?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c":"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-remove-action"]],inputs:{file:"file"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["appearance","primary","tuiButton","","type","button",3,"size","disabled","click",4,"ngIf"],["tuiIconButton","","appearance","action-grayscale","iconStart","appIconBasket","tuiHintDirection","top-left","type","button",3,"tuiHint","tuiHintShowDelay","size","disabled","click",4,"ngIf"],["appearance","primary","tuiButton","","type","button",3,"size","disabled","click"],["tuiIconButton","","appearance","action-grayscale","iconStart","appIconBasket","tuiHintDirection","top-left","type","button",3,"tuiHint","tuiHintShowDelay","size","disabled","click"]],template:function(qt,Je){1&qt&&(t.YNc(0,Mo,3,2,"ng-container",0),t.ALo(1,"async")),2&qt&&t.Q6J("tuiLet",!!t.lcZ(1,1,Je.service.isDisabled$))},dependencies:[e.O5,e.Ov,p.xG,et.D,Gi.i],styles:[gi],changeDetection:0})}}return Mt})(),gr=(()=>{class Mt{constructor(){this.service=(0,t.f3M)(wo),this.config={...Fr,...(0,t.f3M)(Sr,{optional:!0})??{}},this.fileActionsHintConfig=Wr}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-restore-action"]],inputs:{file:"file"},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"tuiLet"],["appearance","primary","tuiButton","","type","button",3,"size","disabled","click",4,"ngIf"],["tuiIconButton","","appearance","action-grayscale","iconStart","appIconRestore","tuiHint","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","tuiHintDirection","top-left","type","button",3,"tuiHintShowDelay","tuiHintHideDelay","size","disabled","click",4,"ngIf"],["appearance","primary","tuiButton","","type","button",3,"size","disabled","click"],["tuiIconButton","","appearance","action-grayscale","iconStart","appIconRestore","tuiHint","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c","tuiHintDirection","top-left","type","button",3,"tuiHintShowDelay","tuiHintHideDelay","size","disabled","click"]],template:function(qt,Je){1&qt&&(t.YNc(0,$o,3,2,"ng-container",0),t.ALo(1,"async")),2&qt&&t.Q6J("tuiLet",!!t.lcZ(1,1,Je.service.isDisabled$))},dependencies:[e.O5,e.Ov,p.xG,et.D,Gi.i],changeDetection:0})}}return Mt})();const Jo={removeActionStrategy:ur.MOVE_TO_TRASH,downloadActionViewMode:"icon",editActionViewMode:"icon",removeActionViewMode:"icon",restoreActionViewMode:"icon",actionSize:"xs",editIsAvailable:!0,removeIsAvailable:!0,restoreIsAvailable:!0};let ar=(()=>{class Mt{constructor(){this.accessIsPossible=zr,this.service=(0,t.f3M)(wo),this.config={...Jo,...(0,t.f3M)(Sr,{optional:!0})??{}},this.RemoveActionStrategies=ur}get editIsAvailable(){return this.accessIsPossible(this.config.editIsAvailable)}get removeIsAvailable(){return this.accessIsPossible(this.config.removeIsAvailable)}get restoreIsAvailable(){return this.accessIsPossible(this.config.restoreIsAvailable)}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-actions"]],inputs:{file:"file"},standalone:!0,features:[t.jDz],decls:4,vars:4,consts:[[3,"file"],[4,"ngIf"]],template:function(qt,Je){1&qt&&(t._UZ(0,"dms-file-download-action",0),t.YNc(1,tr,2,1,"ng-container",1),t.YNc(2,mr,2,1,"ng-container",1),t.YNc(3,er,2,1,"ng-container",1)),2&qt&&(t.Q6J("file",Je.file),t.xp6(1),t.Q6J("ngIf",Je.editIsAvailable),t.xp6(1),t.Q6J("ngIf",Je.removeIsAvailable&&!(Je.file.isDeletable&&Je.config.removeActionStrategy===Je.RemoveActionStrategies.DELETE)),t.xp6(1),t.Q6J("ngIf",Je.restoreIsAvailable))},dependencies:[e.O5,Dr,Er,kr,gr],styles:["[_nghost-%COMP%]{justify-content:flex-end;display:flex;gap:0 12px}[_nghost-%COMP%]   tui-icon[_ngcontent-%COMP%]{color:var(--dms-file-action-icon-color, #393939)}"],changeDetection:0})}}return Mt})(),xr=(()=>{class Mt{constructor(){this.subCategoryToName={},this.categoryToName={},this.service=(0,t.f3M)(wo),this.defaultsColCodes=co}get heading(){return this.file.displayName+(this.file.extension||"")}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file"]],inputs:{file:"file",column:"column",subCategoryToName:"subCategoryToName",categoryToName:"categoryToName"},standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"ngSwitch"],["class","cell",4,"ngSwitchCase"],["class","cell comment-cell",4,"ngSwitchCase"],["class","cell nowrap",4,"ngSwitchCase"],[3,"file",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"cell"],[3,"showLoader"],["tuiLink","",3,"disabled","click"],["icon","appIconDownloadFile"],[1,"cell","comment-cell"],[1,"cell","nowrap"],[3,"file"]],template:function(qt,Je){1&qt&&(t.YNc(0,Wi,2,7,"ng-container",0),t.YNc(1,gn,9,8,"ng-container",1)),2&qt&&(t.Q6J("ngIf",null==Je.column?null:Je.column.template),t.xp6(1),t.Q6J("ngIf",!(null!=Je.column&&Je.column.template)))},dependencies:[e.n9,e.O5,ar,e.RF,e.uU,e.ED,e.Ov,A.Tk,tt.A6,ht.lI,it.R,R.s$],styles:[".nowrap[_ngcontent-%COMP%]{white-space:nowrap}tui-loader[_ngcontent-%COMP%]{align-items:center}.comment-cell[_ngcontent-%COMP%]   [ng-reflect-tui-hint-manual=true][_ngcontent-%COMP%]{--tui-secondary: var(--tui-secondary-hover)}.cell[_ngcontent-%COMP%]{overflow-wrap:anywhere}"],changeDetection:0})}}return Mt})(),Tr=(()=>{class Mt{static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275dir=t.lG2({type:Mt,selectors:[["","dmsFileActionsProvider",""]],standalone:!0,features:[t._Bn([wo])]})}}return Mt})(),Zo=(()=>{class Mt{constructor(){this.categoryService$=(0,t.f3M)(Jt),this.options$=Ct=>"documentType"===Ct?this.categoryService$.categories$:"documentSubType"===Ct?this.categoryService$.fileSubCategories$():g.E}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275prov=t.Yz7({token:Mt,factory:Mt.\u0275fac})}}return Mt})(),rs=(()=>{class Mt{constructor(){this.files=null,this.isLoading=null,this.error=null,this.categoryToName={},this.subCategoryToName={},this.displayedColumnCodes=[],this.cols={}}set columns(Ct){this.cols=Ct,0==this.displayedColumnCodes.length&&(this.displayedColumnCodes=Object.keys(this.cols))}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-table"]],inputs:{files:"files",isLoading:"isLoading",error:"error",categoryToName:"categoryToName",subCategoryToName:"subCategoryToName",displayedColumnCodes:"displayedColumnCodes",columns:"columns"},standalone:!0,features:[t._Bn([{provide:A.Jt,useClass:Zo}]),t.jDz],decls:2,vars:3,consts:[["size","m",3,"showLoader","overlay"],["tuiTable","","tuiTableFilters","",3,"columns",4,"ngIf"],["tuiTable","","tuiTableFilters","",3,"columns"],["tuiThGroup",""],[4,"ngFor","ngForOf"],["tuiTbody","",3,"data",4,"tuiLet"],[4,"ngIf"],["innerColumn",""],["tuiTh","",3,"resizable","class","width","min-width",4,"tuiHead"],["tuiTh","",3,"resizable","width"],[4,"ngTemplateOutlet"],["tuiTh","",3,"resizable","class","sorter",4,"tuiHead"],["tuiTh","",3,"resizable","sorter"],[3,"click"],[3,"config",4,"ngIf"],[3,"config"],["tuiTbody","",3,"data"],[4,"tuiLet"],["tuiTr","","dmsFileActionsProvider","",4,"ngFor","ngForOf"],[1,"empty-data-text",3,"colSpan"],["tuiTr","","dmsFileActionsProvider",""],[4,"tuiCell"],[3,"column","file","subCategoryToName","categoryToName"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"dms-loader",0),t.YNc(1,jo,7,7,"table",1),t.qZA()),2&qt&&(t.Q6J("showLoader",!!Je.isLoading)("overlay",!0),t.xp6(1),t.Q6J("ngIf",Je.files))},dependencies:[e.sg,e.O5,e.Ov,bt.u5,A.lM,A.gK,xr,e.tP,Tr,ji.c4,Ji.wC,ji.PU,ji.PW,ji.kA,Ji.hw,Gi.i,ji.s6,ji.yS,ji.Zh,ji.hK],styles:["[tuitable][_ngcontent-%COMP%]{--table-radius: var(--tui-radius-s);width:100%;font:var(--tui-font-text-xs);color:var(--tui-text-primary);border-spacing:0}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%], [tuitable][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:var(--tui-padding-s) var(--tui-padding-m);background-color:var(--tui-background-base-alt);font:inherit;color:inherit}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, [tuitable][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, [tuitable][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}[tuitable][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid var(--dms-file-cell-border, var(--tui-border-normal));border-bottom:1px solid var(--dms-file-cell-border, var(--tui-border-normal))}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{--tui-radius-s: 0;padding:0;border-top:none;overflow:hidden}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--table-radius)}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--table-radius)}[tuitable][_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}[tuitable][_ngcontent-%COMP%]   th.name[_ngcontent-%COMP%]{max-width:600px;width:30%;min-width:150px}[tuitable][_ngcontent-%COMP%]   th.createdAt[_ngcontent-%COMP%]{width:130px}[tuitable][_ngcontent-%COMP%]   th.actions[_ngcontent-%COMP%]{min-width:36px}[tuitable][_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]{border-bottom:none}[tuitable][_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:var(--tui-radius-s)}[tuitable][_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--tui-radius-s)}[tuitable][_ngcontent-%COMP%]   .controls-cell[_ngcontent-%COMP%]{display:flex;gap:0 12px}[tuitable][_ngcontent-%COMP%]   .toggle-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}[tuitable][_ngcontent-%COMP%]   .empty-data-text[_ngcontent-%COMP%]{padding:calc(var(--tui-padding-l) * 4);text-align:center;color:var(--tui-background-accent-opposite-pressed)}"],changeDetection:0})}}return Mt})(),wt=(()=>{class Mt{constructor(){this.files=null,this.isLoading=null,this.error=null,this.categoryToName={},this.subCategoryToName={},this.displayedColumnCodes=[],this.cols={},this.templateRow=(0,t.f3M)(Jr,{optional:!0})}set columns(Ct){this.cols=Ct,0==this.displayedColumnCodes.length&&(this.displayedColumnCodes=Object.keys(this.cols))}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-table-short"]],inputs:{files:"files",isLoading:"isLoading",error:"error",categoryToName:"categoryToName",subCategoryToName:"subCategoryToName",displayedColumnCodes:"displayedColumnCodes",columns:"columns"},standalone:!0,features:[t.jDz],decls:3,vars:3,consts:[["size","m",3,"showLoader","overlay"],[1,"list-wrap"],["class","row","dmsFileActionsProvider","",3,"row-default",4,"ngFor","ngForOf"],["dmsFileActionsProvider","",1,"row"],[4,"ngIf"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[4,"ngFor","ngForOf"],[3,"column","file","subCategoryToName","categoryToName"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"dms-loader",0)(1,"div",1),t.YNc(2,zt,3,4,"div",2),t.qZA()()),2&qt&&(t.Q6J("showLoader",!!Je.isLoading)("overlay",!0),t.xp6(2),t.Q6J("ngForOf",Je.files))},dependencies:[e.ax,e.O5,A.gK,xr,Tr,R.s$],styles:[".list-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.row[_ngcontent-%COMP%]{width:100%;padding:14px 16px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-padding-l)}.row-default[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:space-between;align-items:center}"],changeDetection:0})}}return Mt})(),nn=(()=>{class Mt{constructor(){this.displayedColumns=[],this.mode="long",this.filesStore=(0,t.f3M)(wr),this.categoryStore=(0,t.f3M)(Jt),this.CategoriesCodeToName$=this.categoryStore.CategoriesCodeToName$,this.fileColumnsService=(0,t.f3M)(fe),this.columns$=this.fileColumnsService.columns$,this.error$=this.filesStore.error$,this.isLoading$=this.filesStore.isLoading$,this.files$=this.categoryStore.selectedCategoryCode$.pipe((0,i.w)(Ct=>this.filesStore.files$(Ct)))}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-list"]],inputs:{displayedColumns:"displayedColumns",mode:"mode"},standalone:!0,features:[t._Bn([Ai]),t.jDz],ngContentSelectors:fn,decls:3,vars:3,consts:[[4,"ngIf"],[3,"isLoading","error","columns","displayedColumnCodes","files","categoryToName","subCategoryToName",4,"ngIf"],[3,"isLoading","error","columns","displayedColumnCodes","files","categoryToName","subCategoryToName"]],template:function(qt,Je){1&qt&&(t.F$t(),t.Hsn(0),t.YNc(1,ni,3,3,"ng-container",0),t.ALo(2,"async")),2&qt&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,Je.CategoriesCodeToName$)))},dependencies:[rs,wt,e.O5,e.Ov],changeDetection:0})}}return Mt})(),Yt=(()=>{class Mt{constructor(){this.categories=null,this.selectedCategory=null,this.disabled=!1,this.fileUploadDialogRef=null,this.defaultContentButtonRef=null,this.uploaded=new t.vpe,this.upload=null,this.files=new bt.Oe([],{validators:[A.ad.minLengthArray(1),Ao.sameFile()]}),this.notifier=new C.x,this.filesForm=new bt.cw({files:this.files}),this.dialogService=(0,t.f3M)(w.RO),this.dialog=D.w0.EMPTY,this.configUpload=(()=>{const Mt=(0,t.f3M)(Zr,{optional:!0});return{maxFileSize:3e7,textButton:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",headingDialog:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432",descriptionDialog:`\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ${Math.round(30)} \u043c\u0431`,contentButton:null,accept:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif"],...Mt}})(),this.acceptAttribute=this.configUpload.accept.join(" ,")}get contentButtonTemplate(){return this.configUpload?.contentButton??this.defaultContentButtonRef}openFileUploadPopup(){this.dialog=this.dialogService.open(this.fileUploadDialogRef,{closeable:!1,dismissible:!1,size:"auto"}).subscribe()}addFile(Ct){Array.isArray(Ct)?Ct.forEach(qt=>{this.filesForm.controls.files.controls.some(yi=>yi.value.content===qt)||this.addFileForm(qt)}):this.addFileForm(Ct),this.dialog.closed&&this.openFileUploadPopup()}addFileForm(Ct){const qt=new bt.cw({displayName:new bt.NI(Ct.name,{validators:[bt.kI.required],nonNullable:!0}),documentType:new bt.NI(this.selectedCategory,{validators:bt.kI.required}),documentSubtype:new bt.NI(null,{validators:[this.selectedCategory?.subtypes?bt.kI.required:bt.kI.nullValidator]}),content:new bt.NI(Ct,{validators:[bt.kI.required,Ao.type(this.configUpload.accept),Ao.size(this.configUpload.maxFileSize)],nonNullable:!0})});qt.controls.content.markAsDirty(),qt.controls.content.markAsTouched(),this.files.push(qt)}removeFileForm(Ct,qt){this.upload=Array.isArray(this.upload)?this.upload.filter(Je=>Je.name!==Ct.getRawValue().content.name):null,this.files.removeAt(qt)}uploadFiles(Ct){this.files.markAllAsTouched(),this.files.markAsDirty(),this.notifier.next(),!this.files.invalid&&(this.uploaded.emit(this.files.value),this.upload=null,this.files.clear(),Ct.complete())}ngOnDestroy(){this.notifier.complete()}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-upload"]],viewQuery:function(qt,Je){if(1&qt&&(t.Gf(Lt,7,t.Rgc),t.Gf($t,7,t.Rgc)),2&qt){let yi;t.iGM(yi=t.CRH())&&(Je.fileUploadDialogRef=yi.first),t.iGM(yi=t.CRH())&&(Je.defaultContentButtonRef=yi.first)}},inputs:{categories:"categories",selectedCategory:"selectedCategory",disabled:"disabled"},outputs:{uploaded:"uploaded"},standalone:!0,features:[t.jDz],decls:7,vars:1,consts:[[4,"ngTemplateOutlet"],["fileUploadDialog",""],["uploadButton",""],["contentButton",""],[1,"files-upload"],[1,"files-upload__header"],[1,"files-upload__title"],[1,"files-upload__description"],[1,"files-upload__form",3,"ngSubmit"],[1,"files-upload__wrapper"],[1,"files-upload__list"],["class","file-form-wrap",3,"formGroup",4,"ngFor","ngForOf"],[1,"files-upload__footer"],["tuiButton","","size","m","appearance","secondary","type","button",3,"click"],["tuiButton","","size","m","type","submit"],[1,"file-form-wrap",3,"formGroup"],[1,"file-form-wrap__header"],["formControlName","content",3,"error",4,"ngIf"],["class","file-form-wrap__title",4,"ngIf"],["type","button","tuiIconButton","","tuiButtonClose","",3,"click"],[3,"formGroup","error"],[3,"categories","notifier$",4,"ngIf"],["formControlName","content",3,"error"],[1,"file-form-wrap__title"],[3,"categories","notifier$"],["tuiInputFiles",""],["tuiInputFiles","",3,"disabled","accept","ngModel","ngModelOptions","multiple","ngModelChange"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"content-button"],["icon","dmsIconAddFile"]],template:function(qt,Je){if(1&qt&&(t.YNc(0,mt,1,0,"ng-container",0),t.YNc(1,Co,17,4,"ng-template",null,1,t.W1O),t.YNc(3,dr,3,6,"ng-template",null,2,t.W1O),t.YNc(5,lr,3,1,"ng-template",null,3,t.W1O)),2&qt){const yi=t.MAs(4);t.Q6J("ngTemplateOutlet",yi)}},dependencies:[bt.UX,bt._Y,bt.Fj,bt.JJ,bt.JL,bt.sg,bt.u,e.sg,e.Ov,e.O5,e.tP,Bo,bt.u5,bt.On,bt.F,mi.A,V.e,It.D1,p.xG,ei,Jn,it.R,Yi.u,R.s$],styles:[".file-form-wrap[_ngcontent-%COMP%]{padding:var(--tui-padding-m);border:1px solid var(--dms-border-color);border-bottom:none;text-align:left}.file-form-wrap[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:var(--tui-radius-s);border-top-right-radius:var(--tui-radius-s)}.file-form-wrap[_ngcontent-%COMP%]:last-of-type{border-bottom:1px solid var(--dms-border-color);border-bottom-left-radius:var(--tui-radius-s);border-bottom-right-radius:var(--tui-radius-s)}.file-form-wrap__title[_ngcontent-%COMP%]{padding-left:4px;color:var(--tui-background-accent-opposite-hover)}.file-form-wrap__header[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-between;align-items:center}tui-input-files[_ngcontent-%COMP%]{--tui-text-02: var(--tui-background-accent-1);--tui-height-l: 48px;--tui-radius-m: var(--tui-radius-s);font:var(--tui-font-heading-4)}tui-error[_ngcontent-%COMP%]{padding-left:4px}.files-upload[_ngcontent-%COMP%]{width:800px;display:flex;flex-direction:column;color:var(--tui-text-secondary)}.files-upload__header[_ngcontent-%COMP%]{padding-bottom:16px}.files-upload__title[_ngcontent-%COMP%]{margin:0 0 4px;color:var(--tui-text-primary)}.files-upload__description[_ngcontent-%COMP%]{margin:0;color:var(--tui-text-secondary)}.files-upload__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--tui-padding-s) 0}.files-upload__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 var(--tui-padding-m)}.files-upload__wrapper[_ngcontent-%COMP%]{margin:0 -12px;height:100%}.files-upload__footer[_ngcontent-%COMP%]{padding-top:var(--tui-padding-s);display:flex;justify-content:flex-end;gap:0 12px}.files-upload__footer[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:162px}.files-upload__footer[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{width:138px}tui-scrollbar[_ngcontent-%COMP%]{max-height:45vh}label[tuiInputFiles][_ngcontent-%COMP%]{border-radius:var(--tui-radius-s)}.content-button[_ngcontent-%COMP%]{font:var(--tui-font-text-l);color:var(--tui-background-accent-1)}.content-button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{margin-right:4px}"],changeDetection:0})}}return(0,ut.gn)([I.UM,(0,ut.w6)("design:type",Object),(0,ut.w6)("design:paramtypes",[])],Mt.prototype,"contentButtonTemplate",null),Mt})(),Te=(()=>{class Mt{constructor(Ct){this.context=Ct,this.heading$=Ct.data.isCompleted$.pipe((0,O.U)(qt=>qt?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432"))}static{this.\u0275fac=function(qt){return new(qt||Mt)(t.Y36(R.yf))}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-upload-status"]],standalone:!0,features:[t.jDz],decls:8,vars:7,consts:[[1,"dms-file-list"],[4,"ngFor","ngForOf"],["tuiButton","","appearance","primary","size","m",3,"click",4,"ngIf"],["class","dms-file-progress","tuiProgressLabel","",4,"ngIf"],["class","dms-file",4,"ngIf"],["tuiProgressLabel","",1,"dms-file-progress"],[1,"dms-file-progress__text"],["tuiProgressBar","",3,"value","max"],[1,"dms-file"],[1,"dms-file__col"],[1,"dms-file__error"],["tuiButton","","appearance","primary","size","m",3,"click"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA(),t.TgZ(3,"section",0),t.YNc(4,cn,4,3,"ng-container",1),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"footer"),t.YNc(7,ve,2,0,"button",2),t.qZA()),2&qt&&(t.xp6(1),t.Oqu(t.lcZ(2,3,Je.heading$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(5,5,Je.context.data.files$)),t.xp6(3),t.Q6J("ngIf",Je.context.data.isCompleted$))},dependencies:[e.sg,e.O5,e.Ov,uo.JI,uo.F0,p.xG],styles:["[_nghost-%COMP%]{display:block;width:472px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:0 4px;min-height:32px}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .dms-file-upload-description[_ngcontent-%COMP%]{margin-bottom:var(--tui-padding-l);color:var(--tui-text-secondary)}[_nghost-%COMP%]   .dms-file-progress[_ngcontent-%COMP%]{--tui-background-accent-1: #E9E9E9;--tui-clear: var(--tui-background-base-alt);width:100%}[_nghost-%COMP%]   .dms-file-progress[_ngcontent-%COMP%]   progress[data-size=m][_ngcontent-%COMP%]{--t-height: 56px}[_nghost-%COMP%]   .dms-file-progress__text[_ngcontent-%COMP%]{width:100%;display:inline-flex;align-items:center;justify-content:space-between;padding:0 var(--tui-padding-l)}[_nghost-%COMP%]   .dms-file-progress__text[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:normal}[_nghost-%COMP%]   .dms-file-progress__text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font:var(--tui-font-heading-3);font-weight:400}[_nghost-%COMP%]   .dms-file-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px 0}[_nghost-%COMP%]   .dms-file[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:var(--tui-padding-l);color:var(--tui-background-accent-opposite-hover);background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-s)}[_nghost-%COMP%]   .dms-file[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .dms-file__col[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .dms-file__error[_ngcontent-%COMP%]{color:var(--tui-background-accent-2)}footer[_ngcontent-%COMP%]{padding-top:var(--tui-padding-m);text-align:right}"],changeDetection:0})}}return Mt})(),Cn=(()=>{class Mt{constructor(){this.dialogService=(0,t.f3M)(w.RO),this.destroy$=(0,t.f3M)(t.ktI),this.files=new m.X([]),this.files$=this.files.asObservable(),this.allIsCompleted$=this.files$.pipe((0,O.U)(Ct=>!!Ct.length&&Ct.every(qt=>qt.progress.isCompleted))),this.component=(0,t.f3M)(Yt),this.fileUploadService=(0,t.f3M)(Vn),this.statusDialogSub=D.w0.EMPTY,this.completedUpload=this.allIsCompleted$.pipe((0,f.h)(Ct=>Ct))}uploadFiles(Ct){return(0,y.a)(Ct.map(qt=>this.fileUploadService.upload(qt)))}ngOnInit(){this.component.uploaded.asObservable().pipe((0,An.sL)(this.destroy$),(0,E.b)(Ct=>this.uploadFiles(Ct))).subscribe(Ct=>{this.files.next(Ct),this.statusDialogSub.closed&&this.openStatusDialog()})}openStatusDialog(){console.log("call openStatusDialog"),this.statusDialogSub=this.dialogService.open(new R.Al(Te),{data:{files$:this.files.asObservable(),isCompleted$:this.allIsCompleted$},size:"auto",dismissible:!1,closeable:!1}).pipe((0,An.sL)(this.destroy$)).subscribe()}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275dir=t.lG2({type:Mt,selectors:[["dms-file-upload","appFileUploadController",""]],outputs:{completedUpload:"completedUpload"},standalone:!0})}}return Mt})(),di=(()=>{class Mt{constructor(){this.categoryStore=(0,t.f3M)(Jt),this.fileListStore=(0,t.f3M)(wr),this.categories$=this.categoryStore.categories$,this.selectedCategoryCode$=this.categoryStore.selectedCategoryCode$,this.filesGroupList$=this.fileListStore.filesByGroup$,this.activeTabIndex$=(0,y.a)([this.selectedCategoryCode$,this.categories$]).pipe((0,O.U)(([Ct,qt])=>qt?.findIndex(Je=>Je.code===Ct)??0),(0,M.O)(0))}categorySelect(Ct){this.categoryStore.setSelectedCategoryCode(Ct)}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-file-category-nav"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[4,"tuiLet"],[3,"required",4,"ngIf"],[3,"required"],[4,"ngFor","ngForOf"],["tuiMore",""],["class","item-category row",4,"tuiItem"],[1,"item-category","row"],["name","radioTabsLinkedDoc","type","radio",1,"visually-hidden",3,"ngModel","value","change"],["class","badge",4,"ngIf"],[1,"badge"]],template:function(qt,Je){1&qt&&(t.YNc(0,ho,3,3,"ng-container",0),t.ALo(1,"async")),2&qt&&t.Q6J("ngIf",t.lcZ(1,1,Je.selectedCategoryCode$))},dependencies:[e.sg,e.O5,bt.u5,bt.Fj,bt._,bt.JJ,bt.On,e.Ov,Ui.Ve,Gi.i,Ui.aL],styles:[".more-btn[_ngcontent-%COMP%]{font:var(--tui-font-text-s);border-radius:var(--tui-radius-l);background-color:var(--tui-background-base-alt);color:var(--tui-background-accent-opposite-pressed);cursor:pointer;margin-right:6px;padding:5px 15px}.more-btn.more-open-btn[_ngcontent-%COMP%]{background-color:var(--arm-hover)}.more-btn.more-open-btn[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.row[_ngcontent-%COMP%]{border-radius:var(--tui-radius-l);background-color:var(--tui-background-base-alt);color:var(--tui-background-accent-opposite-pressed);padding:0 15px;height:32px;margin-right:4px}.row[_ngcontent-%COMP%]:has(input[type=radio]:checked){color:var(--tui-background-base);background-image:linear-gradient(93.81deg,#4f4f4f 3.72%,#212121 94.17%)}.row[_ngcontent-%COMP%]:has(input[type=radio]:checked)   .badge[_ngcontent-%COMP%]{color:var(--tui-background-base)}.item-category[_ngcontent-%COMP%]{transition:background-image;cursor:pointer;display:flex;align-items:center;font:var(--tui-font-text-s);background-image:none}.item-category[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-left:4px;font:var(--tui-font-text-xs);color:var(--tui-background-accent-1);padding:2px 6px;border:1px var(--tui-background-accent-1) solid;border-radius:50%}.item-category[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.section-more[_ngcontent-%COMP%]{padding:6px 0;background-color:var(--arm-hover)}.section-more[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%]{color:var(--tui-background-accent-opposite-hover);padding:6px 12px}.section-more[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}"],changeDetection:0})}}return Mt})(),ro=(()=>{class Mt{constructor(){this.displayedColumns=[],this.listMode="long",this.filesStore=(0,t.f3M)(wr),this.categoryStore=(0,t.f3M)(Jt),this.fileColumnsService=(0,t.f3M)(fe),this.categories$=this.categoryStore.categories$,this.selectedCategory$=this.categoryStore.selectedCategory$,this.categoriesAvailable$=(0,y.a)([this.selectedCategory$,this.categories$]).pipe((0,O.U)(([Ct,qt])=>null!==qt&&qt.length>0&&null!==Ct))}refetchFiles(){this.filesStore.fetchFiles()}ngOnInit(){this.filesStore.fetchFiles(),this.categoryStore.fetchCategories()}static{this.\u0275fac=function(qt){return new(qt||Mt)}}static{this.\u0275cmp=t.Xpm({type:Mt,selectors:[["dms-files-widget"]],inputs:{displayedColumns:"displayedColumns",listMode:"listMode"},standalone:!0,features:[t._Bn([fe,wr,Jt,Vn]),t.jDz],decls:7,vars:11,consts:[[1,"content"],[4,"ngIf"],[3,"mode","displayedColumns"],["appFileUploadController","",3,"categories","selectedCategory","completedUpload"]],template:function(qt,Je){1&qt&&(t.TgZ(0,"div",0),t.YNc(1,ir,1,0,"dms-file-category-nav",1),t.ALo(2,"async"),t._UZ(3,"dms-file-list",2),t.TgZ(4,"dms-file-upload",3),t.NdJ("completedUpload",function(){return Je.refetchFiles()}),t.ALo(5,"async"),t.ALo(6,"async"),t.qZA()()),2&qt&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,5,Je.categoriesAvailable$)),t.xp6(2),t.Q6J("mode",Je.listMode)("displayedColumns",Je.displayedColumns),t.xp6(1),t.Q6J("categories",t.lcZ(5,7,Je.categories$))("selectedCategory",t.lcZ(6,9,Je.selectedCategory$)))},dependencies:[e.Ov,e.O5,di,nn,Yt,Cn],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}"],changeDetection:0})}}return Mt})()},7667:(Qt,$,o)=>{"use strict";o.d($,{M$:()=>Ot,PZ:()=>Q,lh:()=>Bn});var e=o(5879),t=o(1993),a=o(7354),i=o(5586),g=o(4507),T=o(334),_=o(2354),m=o(2527),h=o(1564),f=o(1534),v=o(6814),C=o(1711),D=o(7582),y=o(7936),E=o(7331),O=o(721),M=o(8767),U=o(8451),R=o(2572),A=o(7398),S=o(3620),w=o(8180),p=o(9397),L=o(2460),V=o(2181),et=o(4664),tt=o(6306),ht=o(6232),it=o(5619),It=o(247),st=o(9673),dt=o(8337),St=o(4224),bt=o(6223),u=o(1870);function ut(Ae,Hn){1&Ae&&e._UZ(0,"div",4)}function Z(Ae,Hn){if(1&Ae&&(e.TgZ(0,"tui-textfield",5),e._UZ(1,"input",6),e.qZA()),2&Ae){const rn=e.oxw();e.xp6(1),e.Q6J("formControl",rn.control)}}function I(Ae,Hn){1&Ae&&e._UZ(0,"th",12),2&Ae&&e.Q6J("sticky",!0)("sorter",null)}function F(Ae,Hn){1&Ae&&(e.TgZ(0,"th",13)(1,"span"),e._uU(2," \u0414\u0430\u0442\u0430, \u0432\u0440\u0435\u043c\u044f "),e.qZA()()),2&Ae&&e.Q6J("sticky",!0)}function ot(Ae,Hn){if(1&Ae&&(e.TgZ(0,"th",14)(1,"span",15),e.NdJ("click",function(re){return re.stopPropagation()}),e._uU(2," \u0410\u0432\u0442\u043e\u0440 "),e._UZ(3,"dms-stat-filter",16),e.qZA()()),2&Ae){const rn=e.oxw(2);e.Q6J("sticky",!0),e.xp6(3),e.Q6J("config",rn.statTableStore.filterAuthorFullName)}}function nt(Ae,Hn){if(1&Ae&&(e.TgZ(0,"th",17)(1,"span",15),e.NdJ("click",function(re){return re.stopPropagation()}),e._uU(2," \u0422\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f "),e._UZ(3,"dms-stat-filter",16),e.qZA()()),2&Ae){const rn=e.oxw(2);e.Q6J("sticky",!0),e.xp6(3),e.Q6J("config",rn.statTableStore.filterEventCaption)}}function At(Ae,Hn){if(1&Ae&&(e.TgZ(0,"th",18)(1,"span",15),e.NdJ("click",function(re){return re.stopPropagation()}),e._uU(2," \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 "),e._UZ(3,"dms-stat-filter",16),e.qZA()()),2&Ae){const rn=e.oxw(2);e.Q6J("sticky",!0),e.xp6(3),e.Q6J("config",rn.statTableStore.filterEventTitle)}}function Dt(Ae,Hn){1&Ae&&(e.TgZ(0,"th",19)(1,"span",15),e.NdJ("click",function(re){return re.stopPropagation()}),e._uU(2," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA()()),2&Ae&&e.Q6J("sticky",!0)("sorter",null)}function Wt(Ae,Hn){1&Ae&&(e.ynx(0),e._uU(1,"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e "),e.BQk())}function Nt(Ae,Hn){1&Ae&&(e.ynx(0),e._uU(1,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u0435\u0449\u0451 \u043d\u0435\u0442 "),e.BQk())}function Rt(Ae,Hn){1&Ae&&(e.ynx(0),e._uU(1,"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e.BQk())}function Bt(Ae,Hn){if(1&Ae&&(e.TgZ(0,"tr")(1,"td",22),e.YNc(2,Wt,2,0,"ng-container",0),e.ALo(3,"async"),e.YNc(4,Nt,2,0,"ng-container",0),e.ALo(5,"async"),e.YNc(6,Rt,2,0,"ng-container",0),e.qZA()()),2&Ae){const rn=e.oxw(2).ngIf,re=e.oxw();e.xp6(1),e.Q6J("colSpan",re.statTableStore.columns.length),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,4,re.statTableStore.isEmptyFilteredStat$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,6,re.statTableStore.isEmptyStat$)),e.xp6(2),e.Q6J("ngIf",rn.error)}}function B(Ae,Hn){if(1&Ae&&(e.TgZ(0,"td",29),e._UZ(1,"tui-icon",30),e.qZA()),2&Ae){const rn=e.oxw().index,re=e.oxw(3);e.xp6(1),e.ekj("icon-open",re.statTableStore.expandedRowsModel.isSelected(rn))}}function k(Ae,Hn){if(1&Ae&&(e.TgZ(0,"td",29),e._uU(1),e.ALo(2,"date"),e.qZA()),2&Ae){const rn=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,rn.eventTime,"dd.MM.yyyy, HH:mm")," ")}}function yt(Ae,Hn){if(1&Ae&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&Ae){const rn=e.oxw().$implicit;e.xp6(1),e.hij(" ",rn.authorFullName," ")}}function Y(Ae,Hn){if(1&Ae&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&Ae){const rn=e.oxw().$implicit;e.xp6(1),e.hij(" ",rn.eventCaption," ")}}function xt(Ae,Hn){if(1&Ae&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&Ae){const rn=e.oxw().$implicit;e.xp6(1),e.hij(" ",rn.eventTitle," ")}}function z(Ae,Hn){if(1&Ae&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&Ae){const rn=e.oxw().$implicit;e.xp6(1),e.hij(" ",rn.eventBody," ")}}function at(Ae,Hn){if(1&Ae){const rn=e.EpF();e.ynx(0),e.TgZ(1,"tr",23),e.NdJ("click",function(){const oe=e.CHM(rn).index,Ht=e.oxw(3);return e.KtG(Ht.statTableStore.selectExpandedRow(oe))}),e.YNc(2,B,2,2,"td",24),e.YNc(3,k,3,4,"td",24),e.YNc(4,yt,2,1,"td",24),e.YNc(5,Y,2,1,"td",24),e.YNc(6,xt,2,1,"td",24),e.YNc(7,z,2,1,"td",24),e.qZA(),e.TgZ(8,"tr")(9,"td",25)(10,"tui-expand",26)(11,"div",27),e._UZ(12,"dms-stat-row-details",28),e.qZA()()()(),e.BQk()}if(2&Ae){const rn=Hn.$implicit,re=Hn.index,wn=e.oxw().tuiLet,oe=e.oxw(2);e.xp6(1),e.ekj("_last-tr",oe.isLastTr(wn,re)),e.xp6(1),e.Q6J("tuiCell","icon"),e.xp6(1),e.Q6J("tuiCell","eventTime"),e.xp6(1),e.Q6J("tuiCell","authorFullName"),e.xp6(1),e.Q6J("tuiCell","eventCaption"),e.xp6(1),e.Q6J("tuiCell","eventTitle"),e.xp6(1),e.Q6J("tuiCell","eventBody"),e.xp6(2),e.ekj("_expanded",oe.statTableStore.expandedRowsModel.isSelected(re)),e.Q6J("colSpan",oe.statTableStore.columns.length),e.xp6(1),e.Q6J("expanded",oe.statTableStore.expandedRowsModel.isSelected(re)),e.xp6(2),e.Q6J("statData",rn)}}function Pt(Ae,Hn){if(1&Ae&&(e.TgZ(0,"tbody",20),e.YNc(1,Bt,7,8,"tr",0),e.YNc(2,at,13,13,"ng-container",21),e.qZA()),2&Ae){const rn=Hn.tuiLet;e.Q6J("data",rn),e.xp6(1),e.Q6J("ngIf",0===(null==rn?null:rn.length)),e.xp6(1),e.Q6J("ngForOf",rn)}}function Gt(Ae,Hn){if(1&Ae){const rn=e.EpF();e.ynx(0),e.TgZ(1,"tui-scrollbar",null,1)(3,"div",2),e.NdJ("scrolled",function(){e.CHM(rn);const wn=e.oxw();return e.KtG(wn.statTableStore.fetchPage())}),e.TgZ(4,"table",3),e.NdJ("directionChange",function(wn){e.CHM(rn);const oe=e.oxw();return e.KtG(oe.statFilterSelectService.sortDirection=wn)})("tuiSortByChange",function(wn){e.CHM(rn);const oe=e.oxw();return e.KtG(oe.statFilterSelectService.sortField=wn)}),e.ALo(5,"async"),e.ALo(6,"async"),e.TgZ(7,"thead")(8,"tr",4),e.YNc(9,I,1,2,"th",5),e.YNc(10,F,3,1,"th",6),e.YNc(11,ot,4,2,"th",7),e.YNc(12,nt,4,2,"th",8),e.YNc(13,At,4,2,"th",9),e.YNc(14,Dt,3,2,"th",10),e.qZA()(),e.YNc(15,Pt,3,3,"tbody",11),e.ALo(16,"async"),e.qZA()()(),e.BQk()}if(2&Ae){const rn=e.oxw();e.xp6(3),e.Q6J("immediateCheck",!0)("infiniteScrollThrottle",400)("alwaysCallback",!0)("scrollWindow",!1),e.xp6(1),e.Q6J("columns",rn.statTableStore.columns)("direction",e.lcZ(5,14,rn.direction$)||1)("tuiSortBy",e.lcZ(6,16,rn.sortField$)),e.xp6(5),e.Q6J("tuiHead","icon"),e.xp6(1),e.Q6J("tuiHead","eventTime"),e.xp6(1),e.Q6J("tuiHead","authorFullName"),e.xp6(1),e.Q6J("tuiHead","eventCaption"),e.xp6(1),e.Q6J("tuiHead","eventTitle"),e.xp6(1),e.Q6J("tuiHead","eventBody"),e.xp6(1),e.Q6J("tuiLet",e.lcZ(16,18,rn.statTableStore.data$))}}class Q{}class Ot{}let Ft=(()=>{class Ae{constructor(){this.closed=new e.vpe}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275cmp=e.Xpm({type:Ae,selectors:[["dms-header-stat-in-details"]],inputs:{entityDescription:"entityDescription"},outputs:{closed:"closed"},standalone:!0,features:[e.jDz],decls:9,vars:1,consts:[[1,"header-wrap"],[1,"header"],["tuiIconButton","","tuiButtonClose","","size","m",3,"click"],[1,"text-block"]],template:function(re,wn){1&re&&(e.TgZ(0,"div",0)(1,"header",1)(2,"button",2),e.NdJ("click",function(){return wn.closed.emit()}),e._uU(3,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),e.qZA(),e.TgZ(4,"div",3)(5,"h3"),e._uU(6,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()()()()),2&re&&(e.xp6(8),e.Oqu(wn.entityDescription))},dependencies:[m.xG,C.u],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   h3[_ngcontent-%COMP%], [_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.header-wrap[_ngcontent-%COMP%]{padding:8px;background-color:#fff;border-bottom-left-radius:24px;border-bottom-right-radius:24px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.text-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.text-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font:var(--tui-font-heading-3);color:var(--tui-text-primary)}.text-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-secondary)}"],changeDetection:0})}}return Ae})(),le=(()=>{class Ae{constructor(){this.filterStore=(0,e.f3M)(Q),this.sortField$=this.filterStore.filter$("statSortField"),this.sortDirection$=this.filterStore.filter$("statSortDirection"),this.statAuthorFullName$=this.filterStore.filter$("statAuthorFullName"),this.statEventCaption$=this.filterStore.filter$("statEventCaption"),this.statEventTitle$=this.filterStore.filter$("statEventTitle"),this.filter$=(0,R.a)({authorFullName:this.statAuthorFullName$,eventCaption:this.statEventCaption$,eventTitle:this.statEventTitle$}).pipe((0,A.U)(rn=>Object.entries(rn).filter(([,re])=>void 0!==re).map(([re,wn])=>({column:re,value:wn})))),this.sort$=(0,R.a)({sortField:this.sortField$,sortDirection:this.sortDirection$}).pipe((0,A.U)(({sortField:rn,sortDirection:re})=>this.mapSortParams(rn,re))),this.requestParams$=(0,R.a)({sortBy:this.sort$,filterBy:this.filter$}).pipe((0,S.b)(400))}set sortField(rn){const re=rn?{statSortField:rn.toString(),statSortDirection:"desc"}:{statSortField:null,statSortDirection:null};this.setFilter(re)}set sortDirection(rn){this.setFilter({statSortDirection:rn>0?"desc":"asc"})}setFilter(rn){this.filterStore.set(rn)}resetFilters(){this.setFilter({statAuthorFullName:void 0,statEventCaption:void 0,statEventTitle:void 0,statSortField:void 0,statSortDirection:void 0})}mapSortParams(rn,re){return rn&&re?[{order:re,column:rn}]:[]}setDefaultSortParams(){this.sortField$.pipe((0,w.q)(1)).subscribe(rn=>this.checkDefaultSortParams(rn))}checkDefaultSortParams(rn){rn||(this.sortField="eventTime")}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275prov=e.Yz7({token:Ae,factory:Ae.\u0275fac})}}return Ae})(),ne=(()=>{class Ae{constructor(){this.control=new bt.NI(null),this.destroyRef=(0,e.f3M)(e.ktI),this.statFilterSelectService=(0,e.f3M)(le),this.context=(0,e.f3M)(i.yf)}ngOnInit(){this.control.valueChanges.pipe((0,t.sL)(this.destroyRef),(0,S.b)(400)).subscribe(rn=>{this.statFilterSelectService.setFilter({[this.context.$implicit.code]:rn||void 0})}),this.statFilterSelectService[`${this.context.$implicit.code}$`].pipe((0,t.sL)(this.destroyRef),(0,w.q)(1)).subscribe(rn=>{rn&&this.control.patchValue(rn,{emitEvent:!1})})}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275cmp=e.Xpm({type:Ae,selectors:[["dms-stat-filter-input"]],standalone:!0,features:[e.jDz],decls:2,vars:4,consts:[["tuiTextfieldSize","l","tuiTextfieldAppearance","textfield","tuiAutoFocus","",3,"formControl","tuiActiveZoneParent","tuiTextfieldCleaner"]],template:function(re,wn){1&re&&(e.TgZ(0,"tui-input",0),e._uU(1),e.qZA()),2&re&&(e.Q6J("formControl",wn.control)("tuiActiveZoneParent",wn.context.activeZone)("tuiTextfieldCleaner",!0),e.xp6(1),e.hij(" ",wn.context.$implicit.placeholder,"\n"))},dependencies:[bt.UX,bt.JJ,bt.oH,St.Qf,St.K3,St.wU,g.qm,y.bi,E.d],styles:["[_nghost-%COMP%]{display:block;min-width:300px}"],changeDetection:0})}}return Ae})();const Se={page:0,pageSize:30,totalItems:null},Pe={data:null,pagination:Se,filter:{sortBy:[],filterBy:[]},isLoading:!1,error:null};let Ue=(()=>{class Ae extends st.m1{set statisticParams(rn){rn.pageSize&&this.patchState(re=>({pagination:{...re.pagination,pageSize:rn.pageSize}})),this._statisticParams=rn}get statisticConfig(){return this._statisticParams}checkAvailableEntities(rn,re,wn){return rn+1>0&&(null===wn||wn>rn*re)}init(){this.changeFilters()}selectExpandedRow(rn){this.expandedRowsModel.isSelected(rn)?this.expandedRowsModel.clear():(this.expandedRowsModel.clear(),this.expandedRowsModel.setSelection(rn))}checkFilterIsApplied(rn){return this.filter$.pipe((0,A.U)(re=>!!re.filterBy.find(wn=>wn.column===rn)))}constructor(){super(Pe),this.data$=this.select(rn=>rn.data),this.isLoading$=this.select(rn=>rn.isLoading),this.error$=this.select(rn=>rn.error),this.filter$=this.select(rn=>rn.filter),this.isEmptyStat$=this.select(rn=>!rn.isLoading&&!rn.error&&0===rn.data?.length&&0===rn.filter.filterBy.length),this.isEmptyFilteredStat$=this.select(rn=>!rn.isLoading&&!rn.error&&0===rn.data?.length&&0!==rn.filter.filterBy.length),this.pagination$=this.select(rn=>rn.pagination),this.statTableRestService=(0,e.f3M)(Ot),this.statFilterSelectService=(0,e.f3M)(le),this.changeFilters=this.effect(()=>this.statFilterSelectService.requestParams$.pipe((0,p.b)(rn=>{this.patchState(re=>({filter:rn,pagination:{...re.pagination,page:Se.page,totalItems:Se.totalItems}})),this.fetchPage()}))),this.fetchPage=this.effect(rn=>rn.pipe((0,L.M)(this.pagination$,this.filter$),(0,V.h)(([,{page:re,pageSize:wn,totalItems:oe}])=>this.checkAvailableEntities(re,wn,oe)),(0,p.b)(()=>this.patchState({isLoading:!0})),(0,et.w)(([,re,wn])=>{const oe={sourceCode:this.statisticConfig.sourceCode,parentType:this.statisticConfig.parentType,parentId:this.statisticConfig.parentId,parentGuid:this.statisticConfig.parentGuid,page:re.page,pageSize:re.pageSize,sortBy:wn.sortBy,filterBy:wn.filterBy};return this.statTableRestService.fetchStat(oe).pipe((0,st._b)(Ht=>{this.patchState(xn=>({isLoading:!1,error:null,data:0===oe.page?Ht.items:[...xn.data||[],...Ht.items],pagination:{page:re.page+1,pageSize:re.pageSize,totalItems:Ht.totalItems}}))},()=>this.patchState({isLoading:!1})),(0,tt.K)(Ht=>(this.patchState({isLoading:!1,error:Ht}),ht.E)))}))),this.expandedRowsModel=new dt.Ov(!0,[],!0),this.columns=["icon","eventTime","authorFullName","eventCaption","eventTitle","eventBody"],this.filterAuthorFullName={content:new i.Al(ne),context:{apply:this.checkFilterIsApplied("authorFullName"),code:"statAuthorFullName",placeholder:""}},this.filterEventCaption={content:new i.Al(ne),context:{apply:this.checkFilterIsApplied("eventCaption"),code:"statEventCaption",placeholder:""}},this.filterEventTitle={content:new i.Al(ne),context:{apply:this.checkFilterIsApplied("eventTitle"),code:"statEventTitle",placeholder:""}}}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275prov=e.Yz7({token:Ae,factory:Ae.\u0275fac})}}return Ae})(),Ee=(()=>{class Ae{static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275cmp=e.Xpm({type:Ae,selectors:[["dms-stat-row-details"]],inputs:{statData:"statData"},standalone:!0,features:[e.jDz],decls:27,vars:8,consts:[[1,"details-wrap"],[1,"row-data"],[1,"row-caption"],[1,"row-content"]],template:function(re,wn){1&re&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," \u0414\u0430\u0442\u0430, \u0432\u0440\u0435\u043c\u044f "),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div",1)(8,"span",2),e._uU(9," \u0410\u0432\u0442\u043e\u0440 "),e.qZA(),e.TgZ(10,"span",3),e._uU(11),e.qZA()(),e.TgZ(12,"div",1)(13,"span",2),e._uU(14," \u0422\u0438\u043f \u0441\u043e\u0431\u044b\u0442\u0438\u044f "),e.qZA(),e.TgZ(15,"span",3),e._uU(16),e.qZA()(),e.TgZ(17,"div",1)(18,"span",2),e._uU(19," \u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 "),e.qZA(),e.TgZ(20,"span",3),e._uU(21),e.qZA()(),e.TgZ(22,"div",1)(23,"span",2),e._uU(24," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e "),e.qZA(),e.TgZ(25,"span",3),e._uU(26),e.qZA()()()),2&re&&(e.xp6(5),e.hij(" ",e.xi3(6,5,wn.statData.eventTime,"dd.MM.yyyy, HH:mm")," "),e.xp6(6),e.hij(" ",wn.statData.authorFullName," "),e.xp6(5),e.hij(" ",wn.statData.eventCaption," "),e.xp6(5),e.hij(" ",wn.statData.eventTitle," "),e.xp6(5),e.hij(" ",wn.statData.eventBody," "))},dependencies:[v.uU],styles:[".details-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:0 10px 20px -5px #0000000d inset,0 -10px 20px -5px #0000000d inset}.row-data[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;padding:12px 16px;border-left:6px #e3e3e3 solid;border-bottom:1px #e3e3e3 solid;font:var(--tui-font-text-s)}.row-data[_ngcontent-%COMP%]:last-child{border-bottom:none}.row-caption[_ngcontent-%COMP%]{min-width:150px;color:var(--tui-background-accent-opposite-pressed)}.row-content[_ngcontent-%COMP%]{color:var(--tui-text-primary)}"],changeDetection:0})}}return Ae})(),de=(()=>{class Ae{constructor(){this.destroyRef=(0,e.f3M)(e.ktI),this.statFilterSelectService=(0,e.f3M)(le),this.open$=new it.X(!1),this.control=new bt.NI(null)}toggleOpen(){this.open$.next(!this.open$.value)}onObscured(rn){rn&&this.open$.next(!1)}onActiveZone(rn){this.open$.next(rn&&this.open$.value)}ngOnInit(){this.control.valueChanges.pipe((0,t.sL)(this.destroyRef),(0,S.b)(400)).subscribe(rn=>{this.statFilterSelectService.setFilter({[this.config.context.code]:rn||void 0})}),this.statFilterSelectService[`${this.config.context.code}$`].pipe((0,t.sL)(this.destroyRef),(0,w.q)(1)).subscribe(rn=>{rn&&this.control.patchValue(rn,{emitEvent:!1})})}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275cmp=e.Xpm({type:Ae,selectors:[["dms-stat-filter"]],inputs:{config:"config"},standalone:!0,features:[e.jDz],decls:6,vars:5,consts:[[1,"dropdown-button"],["tuiButton","","appearance","action-grayscale","iconStart","appIconFilter",3,"tuiDropdown","tuiDropdownManual","click","tuiActiveZoneChange","tuiObscured"],["class","dropdown-button-filters-applied",4,"ngIf"],["content",""],[1,"dropdown-button-filters-applied"],["tuiAutoFocus","",1,"dropdown-filter"],["type","text","tuiTextfield","",3,"formControl"]],template:function(re,wn){if(1&re&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return wn.toggleOpen()})("tuiActiveZoneChange",function(Ht){return wn.onActiveZone(Ht)})("tuiObscured",function(Ht){return wn.onObscured(Ht)}),e.ALo(2,"async"),e.qZA(),e.YNc(3,ut,1,0,"div",2),e.qZA(),e.YNc(4,Z,2,1,"ng-template",null,3,e.W1O)),2&re){const oe=e.MAs(5);e.xp6(1),e.Q6J("tuiDropdown",oe)("tuiDropdownManual",e.lcZ(2,3,wn.open$)||!1),e.xp6(2),e.Q6J("ngIf",wn.control.value)}},dependencies:[bt.UX,bt.Fj,bt.JJ,bt.oH,v.Ov,m.xG,T.td,T.nS,O.Q,E.d,g.MB,g.bf,v.O5,y.bi],styles:[".dropdown-button[_ngcontent-%COMP%]{position:relative}.dropdown-button-filters-applied[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:8px;height:8px;background-color:var(--tui-status-negative);border-radius:50%;z-index:10}tui-svg[_ngcontent-%COMP%]{color:var(--tui-base-08)}.filter-island[_ngcontent-%COMP%]{padding:var(--tui-radius-xs);transform:translate(0)}.dropdown-filter[_ngcontent-%COMP%]{width:200px}"],changeDetection:0})}}return Ae})(),ae=(()=>{class Ae{constructor(){this.statTableStore=(0,e.f3M)(Ue,{self:!0}),this.statFilterSelectService=(0,e.f3M)(le),this.direction$=this.statFilterSelectService.sortDirection$.pipe((0,A.U)(rn=>this.mapDirection(rn))),this.sortField$=this.statFilterSelectService.sortField$.pipe((0,A.U)(rn=>rn||null))}ngOnInit(){this.statTableStore.init(),this.statFilterSelectService.setDefaultSortParams()}set statisticParams(rn){this.statTableStore.statisticParams=rn}mapDirection(rn){return rn?"desc"===rn?1:-1:1}isLastTr(rn,re){return null!==rn&&re===rn.length-1&&this.statTableStore.expandedRowsModel.isSelected(re)}ngOnDestroy(){this.statFilterSelectService.resetFilters()}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275cmp=e.Xpm({type:Ae,selectors:[["dms-stat-table"]],inputs:{statisticParams:"statisticParams"},standalone:!0,features:[e._Bn([Ue,le]),e.jDz],decls:2,vars:3,consts:[[4,"ngIf"],["container",""],["tuiScrollable","","infiniteScroll","",1,"viewport","tui-zero-scrollbar",3,"immediateCheck","infiniteScrollThrottle","alwaysCallback","scrollWindow","scrolled"],["aria-describedby","statistics","tuiTable","",1,"dms-table-primary",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange"],["tuiThGroup",""],["tuiTh","","class","icon",3,"sticky","sorter",4,"tuiHead"],["tuiTh","","class","event-time","tuiSortable","",3,"sticky",4,"tuiHead"],["tuiTh","","class","authorFullName","tuiSortable","",3,"sticky",4,"tuiHead"],["tuiTh","","class","event-caption","tuiSortable","",3,"sticky",4,"tuiHead"],["tuiTh","","class","event-title","tuiSortable","",3,"sticky",4,"tuiHead"],["tuiTh","","class","event-body",3,"sticky","sorter",4,"tuiHead"],["tuiTbody","",3,"data",4,"tuiLet"],["tuiTh","",1,"icon",3,"sticky","sorter"],["tuiTh","","tuiSortable","",1,"event-time",3,"sticky"],["tuiTh","","tuiSortable","",1,"authorFullName",3,"sticky"],[3,"click"],[3,"config"],["tuiTh","","tuiSortable","",1,"event-caption",3,"sticky"],["tuiTh","","tuiSortable","",1,"event-title",3,"sticky"],["tuiTh","",1,"event-body",3,"sticky","sorter"],["tuiTbody","",3,"data"],[4,"ngFor","ngForOf"],[1,"empty-data-text",3,"colSpan"],["tuiTr","",1,"row-data",3,"click"],["tuiTd","",4,"tuiCell"],[1,"row-details",3,"colSpan"],[3,"expanded"],[1,"details-wrap"],[3,"statData"],["tuiTd",""],["icon","@tui.chevron-down",1,"icon-arrow"]],template:function(re,wn){1&re&&(e.YNc(0,Gt,17,20,"ng-container",0),e.ALo(1,"async")),2&re&&e.Q6J("ngIf",e.lcZ(1,1,wn.statTableStore.state$))},dependencies:[v.O5,v.Ov,v.uU,v.ax,Ee,de,It.Rq,It.Ry,h.D1,h.dx,u.c4,u.s6,u.PU,u.PW,u.dw,u.Zh,u.hK,u.kA,u.li,u.IU,M.i,f.R,_.SV],styles:["[_nghost-%COMP%]   .authorFullName[_ngcontent-%COMP%]    >button>span, [_nghost-%COMP%]   .event-caption[_ngcontent-%COMP%]    >button>span, [_nghost-%COMP%]   .event-time[_ngcontent-%COMP%]    >button>span, [_nghost-%COMP%]   .event-title[_ngcontent-%COMP%]    >button>span, [_nghost-%COMP%]   .event-body[_ngcontent-%COMP%]    >button>span{display:flex;align-items:center;flex-grow:1;justify-content:space-between}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:0}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.authorFullName[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.event-caption[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.event-title[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th.event-time[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){padding:20px 12px;font:inherit}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child > th[_ngcontent-%COMP%]{border-top:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child > th[_ngcontent-%COMP%]:first-child{border-left:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child > th[_ngcontent-%COMP%]:last-child{border-right:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%], [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr._last-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr._last-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none;border-bottom-left-radius:var(--tui-radius-m)}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   table[_ngcontent-%COMP%]   tr._last-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none;border-bottom-right-radius:var(--tui-radius-m)}tui-scrollbar[_ngcontent-%COMP%]{flex-grow:1}.viewport[_ngcontent-%COMP%]{display:flex;overflow:auto;height:100%;flex-direction:column;border-radius:var(--tui-radius-m)}.row-data[_ngcontent-%COMP%]{cursor:pointer}.dms-table-primary[_ngcontent-%COMP%]{table-layout:fixed;--tui-background-base: var(--tui-background-base-alt)}.icon[_ngcontent-%COMP%]{width:44px;border-top-left-radius:var(--tui-radius-m)}.event-time[_ngcontent-%COMP%]{width:136px}.authorFullName[_ngcontent-%COMP%]{width:230px}.event-caption[_ngcontent-%COMP%], .event-title[_ngcontent-%COMP%]{width:264px}.event-body[_ngcontent-%COMP%]{border-top-right-radius:var(--tui-radius-m)}tui-expand[_ngcontent-%COMP%]{--tui-duration: .3s}.row-details[_ngcontent-%COMP%]{display:none;padding:0!important;border-bottom:none!important}.row-details._expanded[_ngcontent-%COMP%]{display:table-cell}.row-details[_ngcontent-%COMP%]   .details-wrap[_ngcontent-%COMP%]{border-bottom:1px solid #e3e3e3}.icon-arrow[_ngcontent-%COMP%]{transition-property:transform;transition-duration:.3s;transition-timing-function:ease-in-out;transform:rotate(-90deg)}.icon-arrow.icon-open[_ngcontent-%COMP%]{transform:rotate(0)}[tuitable][_ngcontent-%COMP%]   .empty-data-text[_ngcontent-%COMP%]{padding:calc(var(--tui-padding-l) * 4);text-align:center;color:var(--tui-base-07)}"],changeDetection:0})}}return(0,D.gn)([U.UM,(0,D.w6)("design:type",Function),(0,D.w6)("design:paramtypes",[Object,Number]),(0,D.w6)("design:returntype",Boolean)],Ae.prototype,"isLastTr",null),Ae})(),$e=(()=>{class Ae{constructor(rn){this.context=rn}static{this.\u0275fac=function(re){return new(re||Ae)(e.Y36(i.yf))}}static{this.\u0275cmp=e.Xpm({type:Ae,selectors:[["dms-stat-in-detail"]],standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[[3,"entityDescription","closed"],[1,"content-wrap"],[1,"content",3,"statisticParams"]],template:function(re,wn){1&re&&(e.TgZ(0,"dms-header-stat-in-details",0),e.NdJ("closed",function(){return wn.context.completeWith()}),e.qZA(),e.TgZ(1,"div",1),e._UZ(2,"dms-stat-table",2),e.qZA()),2&re&&(e.Q6J("entityDescription",wn.context.data.entityDescription),e.xp6(2),e.Q6J("statisticParams",wn.context.data.statisticParams))},dependencies:[Ft,ae],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.content-wrap[_ngcontent-%COMP%]{padding:8px;width:1234px;max-width:90vw;flex-grow:1;overflow:hidden;display:flex;flex-direction:column}.content-wrap[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;background-color:#fff;border-radius:var(--tui-radius-m);position:relative;display:flex;overflow:hidden;flex-direction:column;flex-grow:1}"],changeDetection:0})}}return Ae})(),Bn=(()=>{class Ae{constructor(){this.destroyRef=(0,e.f3M)(e.ktI),this.injector=(0,e.f3M)(e.zs3),this.sheetService=(0,e.f3M)(a.q6)}openStatDialog(){this.sheetService.open(new i.Al($e,this.injector),{data:{entityDescription:this.entityDescription,statisticParams:this.statisticParams},closeable:!1,dismissible:!1}).pipe((0,t.sL)(this.destroyRef)).subscribe()}static{this.\u0275fac=function(re){return new(re||Ae)}}static{this.\u0275dir=e.lG2({type:Ae,selectors:[["","dmsOpenStat",""]],hostBindings:function(re,wn){1&re&&e.NdJ("click",function(){return wn.openStatDialog()})},inputs:{statisticParams:"statisticParams",entityDescription:"entityDescription"},standalone:!0})}}return Ae})()},7354:(Qt,$,o)=>{"use strict";o.d($,{Tk:()=>fi,AO:()=>we,ad:()=>Qi,Ph:()=>ei,fT:()=>je,st:()=>Ki,aG:()=>Jn,gK:()=>Ne,YV:()=>kn,FA:()=>eo,AV:()=>ui,cd:()=>Qe,kD:()=>_n,tF:()=>hi,Uc:()=>sn,q6:()=>qe,Jt:()=>ln,lM:()=>Pn,sP:()=>Zn,OR:()=>mi,RR:()=>Gi,UD:()=>wi,fY:()=>uo});var e=o(5879),t=o(6918),a=o(6814);class i{constructor(Ye,se){this._document=se;const Ve=this._textarea=this._document.createElement("textarea"),An=Ve.style;An.position="fixed",An.top=An.opacity="0",An.left="-999em",Ve.setAttribute("aria-hidden","true"),Ve.value=Ye,Ve.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(Ve)}copy(){const Ye=this._textarea;let se=!1;try{if(Ye){const Ve=this._document.activeElement;Ye.select(),Ye.setSelectionRange(0,Ye.value.length),se=this._document.execCommand("copy"),Ve&&Ve.focus()}}catch{}return se}destroy(){const Ye=this._textarea;Ye&&(Ye.remove(),this._textarea=void 0)}}let g=(()=>{class Xt{constructor(se){this._document=se}copy(se){const Ve=this.beginCopy(se),An=Ve.copy();return Ve.destroy(),An}beginCopy(se){return new i(se,this._document)}static{this.\u0275fac=function(Ve){return new(Ve||Xt)(e.LFG(a.K0))}}static{this.\u0275prov=e.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}}return Xt})();var h=o(334),f=o(3597),v=o(4728),C=o(2527),D=o(1564),y=o(2354),E=o(1534),O=o(8679),M=o(6201),U=o(6223),R=o(1993),A=o(4911),S=o(2096),w=o(9360),p=o(1948),L=o(9940),V=o(2664);var ht=o(9397),it=o(9298),It=o(5533),st=o(7331),dt=o(721),St=o(6266),bt=o(8767),u=o(8451),ut=o(4098),Z=o(1393),I=o(5929),F=o(2438),ot=o(7398),nt=o(2181);let At=(()=>{class Xt{constructor(){this.zone=(0,e.f3M)(e.R0b),this.doc=(0,e.f3M)(a.K0),this.el=(0,I.AG)(),this.tuiClickOutside=(0,F.R)(this.doc,"mouseup").pipe((0,ot.U)(I.mA),(0,nt.h)(se=>this.isOutside(se)),(0,Z.Yr)(this.zone))}isOutside(se){return se===this.el||!(0,I.PP)(this.el,se)}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275dir=e.lG2({type:Xt,selectors:[["","tuiClickOutside",""]],outputs:{tuiClickOutside:"tuiClickOutside"},standalone:!0})}}return Xt})();var Dt=o(1711),Wt=o(5586),Nt=o(2187),Rt=o(3452),Bt=o(764),B=o(8651),k=o(8293),yt=o(7582),Y=o(1018),xt=o(3718);function z(Xt,Ye){if(1&Xt&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"div",4)(3,"div",5)(4,"div",6),e.qZA()()),2&Xt){const se=e.oxw();e.xp6(1),e.uIk("data-size",se.size)}}const at=["*"];function Pt(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(se);const An=e.oxw(2);return e.KtG(An.context.$implicit.complete())}),e._uU(1,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),e.qZA()}}function Gt(Xt,Ye){if(1&Xt&&(e.ynx(0),e._uU(1),e.BQk()),2&Xt){const se=Ye.polymorpheusOutlet;e.xp6(1),e.hij(" ",se," ")}}function De(Xt,Ye){if(1&Xt&&(e.TgZ(0,"header",4),e.YNc(1,Pt,2,0,"button",5),e.TgZ(2,"div",6),e.YNc(3,Gt,2,1,"ng-container",3),e.qZA()()),2&Xt){const se=e.oxw();e.ekj("shadow",se.stuck()),e.Q6J("id",se.context.id),e.xp6(1),e.Q6J("ngIf",se.context.closeable),e.xp6(2),e.Q6J("polymorpheusOutlet",se.context.header)("polymorpheusOutletContext",se.context)}}function Ut(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"div",8),e.NdJ("waIntersectionObservee",function(An){e.CHM(se);const Ei=e.oxw();return e.KtG(Ei.onIntersection(An))}),e.qZA()}}function Q(Xt,Ye){if(1&Xt&&(e.ynx(0),e._uU(1),e.BQk()),2&Xt){const se=Ye.polymorpheusOutlet;e.xp6(1),e.hij(" ",se," ")}}function Ot(Xt,Ye){1&Xt&&e.GkF(0)}function Ft(Xt,Ye){if(1&Xt&&(e.ynx(0),e.YNc(1,Ot,1,0,"ng-container",6),e.BQk()),2&Xt){const se=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",se.content)}}function le(Xt,Ye){if(1&Xt&&(e.ynx(0),e._uU(1),e.BQk()),2&Xt){const se=Ye.polymorpheusOutlet;e.xp6(1),e.hij(" ",se," ")}}const ne=function(Xt,Ye){return{data:Xt,control:Ye}},Ge=function(Xt,Ye){return{$implicit:Xt,activeZone:Ye}};function Se(Xt,Ye){if(1&Xt&&(e.TgZ(0,"div",3),e.YNc(1,le,2,1,"ng-container",4),e.qZA()),2&Xt){const se=Ye.$implicit,Ve=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",Ve.config.content)("polymorpheusOutletContext",e.WLB(5,Ge,e.WLB(2,ne,Ve.config.context,Ve.filterControl),se))}}function Pe(Xt,Ye){if(1&Xt&&(e.TgZ(0,"button",5),e._uU(1),e.qZA()),2&Xt){const se=Ye.$implicit;e.Q6J("value",se),e.xp6(1),e.hij(" ",se.name," ")}}function Ue(Xt,Ye){if(1&Xt&&(e.ynx(0),e.YNc(1,Pe,2,2,"button",4),e.BQk()),2&Xt){const se=Ye.tuiLet;e.xp6(1),e.Q6J("ngForOf",se)}}function Ee(Xt,Ye){if(1&Xt&&(e.TgZ(0,"tui-data-list"),e.YNc(1,Ue,2,1,"ng-container",3),e.ALo(2,"tuiHideSelected"),e.qZA()),2&Xt){const se=e.oxw().ngIf,Ve=e.oxw();e.xp6(1),e.Q6J("tuiLet",e.lcZ(2,1,Ve.filter(se,Ve.searchQuery)))}}function de(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"tui-multi-select",1),e.NdJ("searchChange",function(An){e.CHM(se);const Ei=e.oxw();return e.KtG(Ei.changedSearch(An))}),e._uU(1),e.YNc(2,Ee,3,3,"tui-data-list",2),e.qZA()}if(2&Xt){const se=e.oxw();e.Q6J("formControl",se.context.$implicit.control)("tuiTextfieldCleaner",!0)("stringify",se.stringify)("pseudoFocus",!0),e.xp6(1),e.hij(" ",se.context.$implicit.data.label," ")}}const ae=[[["button"]],"*"],$e=["button","*"];function Bn(Xt,Ye){if(1&Xt&&(e.ynx(0),e._uU(1),e.BQk()),2&Xt){const se=Ye.polymorpheusOutlet;e.xp6(1),e.hij(" ",se," ")}}function Ae(Xt,Ye){if(1&Xt&&(e.ynx(0),e._uU(1),e.BQk()),2&Xt){const se=Ye.polymorpheusOutlet;e.xp6(1),e.hij(" ",se," ")}}function Hn(Xt,Ye){if(1&Xt&&(e.ynx(0),e.YNc(1,Ae,2,1,"ng-container",4),e.BQk()),2&Xt){const se=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",se.rightHeaderContent)}}const rn=function(Xt){return{"button-on-right":Xt}},re=function(Xt){return{minHeight:Xt}},wn=function(Xt){return{"t-icon_open":Xt}};function oe(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"tui-icon",6),e.NdJ("click",function(An){e.CHM(se);const Ei=e.oxw();return An.stopPropagation(),e.KtG(Ei.onReset())}),e.qZA()}}function Ht(Xt,Ye){if(1&Xt){const se=e.EpF();e.ynx(0),e.TgZ(1,"button",12),e.NdJ("click",function(){const Ei=e.CHM(se).$implicit,ji=e.oxw(2);return e.KtG(ji.onChangeRange(Ei))}),e._uU(2),e.qZA(),e.BQk()}if(2&Xt){const se=Ye.$implicit,Ve=e.oxw(2);e.xp6(1),e.ekj("active",se===Ve.currentSelectedRangeButton),e.xp6(1),e.hij(" ",se.displayValue," ")}}function xn(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"div",17)(1,"tui-calendar",18),e.NdJ("dayClick",function(An){e.CHM(se);const Ei=e.oxw(2);return e.KtG(Ei.onDayClick(An))}),e.qZA()()}if(2&Xt){const se=e.oxw(2);e.xp6(1),e.Q6J("max",se.maxDay)("min",se.minDay)("value",se.calendarValue)}}function ce(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(se);const An=e.oxw(2);return e.KtG(An.calendarValue=null)}),e._uU(1," \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c "),e.qZA()}}function me(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"span",9),e._uU(3),e.qZA(),e.TgZ(4,"div",10),e.YNc(5,Ht,3,3,"ng-container",11),e.TgZ(6,"button",12),e.NdJ("click",function(){e.CHM(se);const An=e.oxw();return e.KtG(An.onOpenCalendar())}),e._uU(7," \u041f\u0435\u0440\u0438\u043e\u0434 "),e.qZA()()(),e.YNc(8,xn,2,3,"div",13),e.TgZ(9,"div",14),e.YNc(10,ce,2,0,"button",15),e.TgZ(11,"button",16),e.NdJ("click",function(){e.CHM(se);const An=e.oxw();return e.KtG(An.onApplyValue())}),e._uU(12," \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c "),e.qZA()()()}if(2&Xt){const se=e.oxw();e.xp6(3),e.Oqu(se.titleForRangePanel),e.xp6(2),e.Q6J("ngForOf",se.buttonsConfig),e.xp6(1),e.ekj("active",!se.currentSelectedRangeButton),e.xp6(2),e.Q6J("ngIf",!se.currentSelectedRangeButton),e.xp6(2),e.Q6J("ngIf",!se.currentSelectedRangeButton),e.xp6(1),e.Q6J("disabled",!se.currentSelectedRangeButton&&!se.calendarValue)}}function En(Xt,Ye){if(1&Xt){const se=e.EpF();e.TgZ(0,"div",4),e.NdJ("tuiClickOutside",function(An){e.CHM(se);const Ei=e.oxw(),ji=e.MAs(1);return e.KtG(An!==ji&&Ei.toggleIsShown())}),e.TgZ(1,"p"),e.Hsn(2),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){e.CHM(se);const An=e.oxw();return e.KtG(An.toggleIsShown())}),e._uU(4," \u0417\u0430\u043a\u0440\u044b\u0442\u044c "),e.qZA()()}}const _n=new e.OlP("Provide name for css property");let Qe=(()=>{class Xt{constructor(se,Ve,An,Ei){this.el=An,this.renderer=Ei,this.cssPropertyName="header-height",this.targetElement=null,Ve.subscribe(ji=>this.onResize(ji)),se&&(this.cssPropertyName=se)}onResize([se]){this.renderer.setStyle(this.targetElement||this.el.nativeElement.parentElement,"--"+this.cssPropertyName,`${Math.round(se.borderBoxSize[0].blockSize)}px`,e.JOm.DashCase)}static{this.\u0275fac=function(Ve){return new(Ve||Xt)(e.Y36(_n,8),e.Y36(t.ax),e.Y36(e.SBq),e.Y36(e.Qsj))}}static{this.\u0275dir=e.lG2({type:Xt,selectors:[["","dmsDynamicHeightEl",""]],inputs:{cssPropertyName:"cssPropertyName",targetElement:"targetElement"},standalone:!0,features:[e._Bn([t.ax,{provide:t.jg,useValue:"border-box"}])]})}}return Xt})(),xe=(()=>{class Xt{constructor(se,Ve){this.clipboard=se,this.alertService=Ve}copyToClipboard(se,Ve="\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430"){this.clipboard.copy(se),this.alertService.open(Ve).subscribe()}static{this.\u0275fac=function(Ve){return new(Ve||Xt)(e.LFG(g),e.LFG(f.J9))}}static{this.\u0275prov=e.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}}return Xt})(),je=(()=>{class Xt{constructor(){this.notificationText="\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440",this.copyService=(0,e.f3M)(xe)}copyText(){this.copyService.copyToClipboard(this.dmsCopyToClipboard,this.notificationText)}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275dir=e.lG2({type:Xt,selectors:[["","dmsCopyToClipboard",""]],hostBindings:function(Ve,An){1&Ve&&e.NdJ("click",function(){return An.copyText()})},inputs:{dmsCopyToClipboard:"dmsCopyToClipboard",notificationText:"notificationText"},standalone:!0})}}return Xt})(),we=(()=>{class Xt{constructor(){this.cdr=(0,e.f3M)(e.sBO),this.destroy$=(0,e.f3M)(e.ktI)}ngOnInit(){this.action$.pipe((0,ht.b)(()=>this.cdr.markForCheck()),(0,R.sL)(this.destroy$)).subscribe()}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275dir=e.lG2({type:Xt,selectors:[["","dmsChangeDetectionTriggerOnAction",""]],inputs:{action$:["dmsChangeDetectionTriggerOnAction","action$"]},standalone:!0})}}return Xt})(),Ne=(()=>{class Xt{set showLoader(se){se&&this.focused&&(0,it.hp)(this.doc),this.loading=se}get hasOverlay(){return this.overlay&&this.loading}get focused(){return(0,it.zb)(this.el.nativeElement)}constructor(se,Ve){this.doc=se,this.el=Ve,this.size="l",this.loading=!0,this.overlay=!1}static{this.\u0275fac=function(Ve){return new(Ve||Xt)(e.Y36(a.K0),e.Y36(e.SBq))}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-loader"]],hostVars:2,hostBindings:function(Ve,An){2&Ve&&e.ekj("_loading",An.loading)},inputs:{size:"size",overlay:"overlay",textContent:"textContent",showLoader:"showLoader"},standalone:!0,features:[e.jDz],ngContentSelectors:at,decls:3,vars:6,consts:[[1,"dms-content",3,"disabled"],["class","dms-loader",4,"ngIf"],[1,"dms-loader"],[1,"dms-loader-icon"],[1,"ball","ball_1"],[1,"ball","ball_2"],[1,"ball","ball_3"]],template:function(Ve,An){1&Ve&&(e.F$t(),e.TgZ(0,"fieldset",0),e.Hsn(1),e.qZA(),e.YNc(2,z,5,1,"div",1)),2&Ve&&(e.ekj("dms-content_has-overlay",An.hasOverlay)("dms-content_loading",An.loading),e.Q6J("disabled",An.loading),e.xp6(2),e.Q6J("ngIf",An.loading))},dependencies:[a.O5],styles:["@keyframes _ngcontent-%COMP%_slide-ball-right{0%,15%{transform:translate(0)}20%,20.25%{background-color:#ececec;transform:translate(15px)}25.25%,82.25%{transform:translate(45px);background-color:#3e3e3e}88.25%,88.50%{transform:translate(15px);background-color:#ececec}}@keyframes _ngcontent-%COMP%_slide-ball-center{0%,25.25%{transform:translate(0)}30%,30.25%{transform:translate(15px);background-color:#ececec}35.25%,72%{transform:translate(45px);background-color:#3e3e3e}77%,77.25%{transform:translate(15px);background-color:#ececec}82%{transform:translate(0)}}@keyframes _ngcontent-%COMP%_slide-ball-left{0%,34.50%{transform:translate(0)}39.50%,39.75%{transform:translate(15px);background-color:#ececec}44.75%,65.75%{transform:translate(45px);background-color:#3e3e3e}70.75%,71%{transform:translate(15px);background-color:#ececec}76%{transform:translate(0)}}[_nghost-%COMP%]{position:relative;width:100%;height:100%;display:flex}._loading[_nghost-%COMP%]{overflow:hidden}.dms-content[_ngcontent-%COMP%]{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.dms-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.dms-content_loading[_ngcontent-%COMP%]{pointer-events:none}.dms-loader[_ngcontent-%COMP%]{left:-100%;position:relative;margin:auto;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;align-self:center}.dms-loader-icon[_ngcontent-%COMP%]{display:flex;width:225px}.dms-loader-icon[data-size=m][_ngcontent-%COMP%]{transform:scale(.534)}.dms-loader-icon[data-size=s][_ngcontent-%COMP%]{transform:scale(.4)}.dms-loader-icon[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{width:60px;height:60px;background-color:#ececec;border-radius:50%;animation-duration:1855ms;animation-delay:5ms;animation-timing-function:ease-in-out;animation-iteration-count:infinite}.dms-loader-icon[_ngcontent-%COMP%]   .ball_1[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slide-ball-left}.dms-loader-icon[_ngcontent-%COMP%]   .ball_2[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slide-ball-center}.dms-loader-icon[_ngcontent-%COMP%]   .ball_3[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_slide-ball-right}"],changeDetection:0})}}return Xt})(),Ke=(()=>{class Xt{constructor(){this.context=(0,Wt.FQ)(),this.stuck=(0,e.tdS)(!1),this.context.closeable&&(0,e.f3M)(v.a4).pipe((0,R.sL)()).subscribe(()=>this.context.$implicit.complete())}onIntersection(se){this.stuck.set(!se[se.length-1].isIntersecting)}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-sheet"]],standalone:!0,features:[e._Bn([v.a4]),e.jDz],decls:5,vars:4,consts:[["tuiScrollable","","waIntersectionObserver","","waIntersectionThreshold","0",1,"inner","tui-zero-scrollbar"],[3,"id","shadow",4,"ngIf"],[3,"waIntersectionObservee",4,"ngIf"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"id"],["tuiIconButton","","tuiButtonClose","","size","m","appearance","secondary-grayscale",3,"click",4,"ngIf"],[1,"wrapper"],["tuiIconButton","","tuiButtonClose","","size","m","appearance","secondary-grayscale",3,"click"],[3,"waIntersectionObservee"]],template:function(Ve,An){1&Ve&&(e.TgZ(0,"tui-scrollbar")(1,"section",0),e.YNc(2,De,4,6,"header",1),e.YNc(3,Ut,1,0,"div",2),e.YNc(4,Q,2,1,"ng-container",3),e.qZA()()),2&Ve&&(e.xp6(2),e.Q6J("ngIf",An.context.header),e.xp6(1),e.Q6J("ngIf",An.context.header),e.xp6(1),e.Q6J("polymorpheusOutlet",An.context.content)("polymorpheusOutletContext",An.context))},dependencies:[a.O5,Dt.u,C.xG,Wt.s$,D.D1,D.dx,Nt.hK,Nt.c4],styles:["[_nghost-%COMP%]{margin-left:auto;min-width:400px;height:100%;width:max-content;display:flex;flex-direction:column;background-color:var(--arm-main-background);overflow:hidden}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{z-index:10;position:sticky;top:0;padding:var(--tui-padding-s);display:flex;gap:var(--tui-padding-s);background-color:var(--tui-background-base);border-bottom-left-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}[_nghost-%COMP%]   header.shadow[_ngcontent-%COMP%]{box-shadow:var(--tui-shadow-small)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   [tuiButtonClose][_ngcontent-%COMP%]{flex-shrink:0;align-self:baseline}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{flex-grow:1;align-self:center;font:var(--tui-font-heading-3)}[_nghost-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   tui-scrollbar[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:auto}"],changeDetection:0})}}return Xt})(),qe=(()=>{class Xt extends It.IS{static{this.\u0275fac=function(){let se;return function(An){return(se||(se=e.n5z(Xt)))(An||Xt)}}()}static{this.\u0275prov=e.Yz7({token:Xt,factory:function(){return new Xt(v.qY,Ke)},providedIn:"root"})}}return Xt})(),kn=(()=>{class Xt{static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-simple-accordion"]],standalone:!0,features:[e.jDz],ngContentSelectors:at,decls:2,vars:0,consts:[["cdkAccordion",""]],template:function(Ve,An){1&Ve&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA())},dependencies:[Rt.XD,Rt.xI],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-s);overflow:hidden}"]})}}return Xt})(),ui=(()=>{class Xt{static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275dir=e.lG2({type:Xt,selectors:[["","dmsSimpleAccordionItemContent",""]],standalone:!0})}}return Xt})(),eo=(()=>{class Xt{constructor(){this.content=null}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-simple-accordion-item"]],contentQueries:function(Ve,An,Ei){if(1&Ve&&e.Suo(Ei,ui,5,e.Rgc),2&Ve){let ji;e.iGM(ji=e.CRH())&&(An.content=ji.first)}},standalone:!0,features:[e.jDz],ngContentSelectors:at,decls:7,vars:4,consts:[["role","button","tabindex","0",1,"dms-accordion-item"],["accordionItem","cdkAccordionItem"],[1,"dms-accordion-item__header",3,"click"],["icon","@tui.chevron-down","title","\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c",1,"expand"],[3,"expanded"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(Ve,An){if(1&Ve){const Ei=e.EpF();e.F$t(),e.TgZ(0,"cdk-accordion-item",0,1)(2,"button",2),e.NdJ("click",function(){e.CHM(Ei);const Ji=e.MAs(1);return e.KtG(Ji.toggle())}),e.Hsn(3),e._UZ(4,"tui-icon",3),e.qZA(),e.TgZ(5,"tui-expand",4),e.YNc(6,Ft,2,1,"ng-container",5),e.qZA()()}if(2&Ve){const Ei=e.MAs(1);e.xp6(4),e.ekj("expand_open",Ei.expanded),e.xp6(1),e.Q6J("expanded",Ei.expanded),e.xp6(1),e.Q6J("ngIf",An.content)}},dependencies:[Rt.XD,Rt.dD,a.tP,a.O5,y.SV,E.R],styles:['[_nghost-%COMP%]:has(tui-expand[aria-expanded=true])   .dms-accordion-item__header[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]:last-of-type   .dms-accordion-item__header[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]:not(:last-of-type)   tui-expand[aria-expanded=true][_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]:not(:last-of-type)   tui-expand[aria-expanded=true][_ngcontent-%COMP%]:after{inset:0;position:absolute;content:"";width:110%;box-shadow:0 -10px 20px #0000001a inset}.dms-accordion-item[_ngcontent-%COMP%]{display:block}.dms-accordion-item[_ngcontent-%COMP%]:has(tui-expand[aria-expanded=true])   .dms-accordion-item__header[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0000001a}.dms-accordion-item[_ngcontent-%COMP%]:has(tui-expand[aria-expanded=true]) + .dms-accordion-item[_ngcontent-%COMP%]:has(tui-expand[aria-expanded=false])   .dms-accordion-item__header[_ngcontent-%COMP%]{box-shadow:0 -10px 20px #0000001a}.dms-accordion-item[_ngcontent-%COMP%]:has(tui-expand[aria-expanded=true]) + .dms-accordion-item[_ngcontent-%COMP%]:has(tui-expand[aria-expanded=true])   .arm-accordion-item__header[_ngcontent-%COMP%]{box-shadow:0 10px 20px #0000001a,0 -10px 20px #0000001a}.dms-accordion-item__header[_ngcontent-%COMP%]{border:none;margin:0;color:inherit;font:inherit;cursor:pointer;position:relative;z-index:2;width:100%;min-height:40px;padding:10px 8px;display:flex;justify-content:space-between;background-color:var(--tui-background-base-alt);border-bottom:1px solid var(--arm-border-color)}.dms-accordion-item[_ngcontent-%COMP%]   tui-expand[_ngcontent-%COMP%]{background-color:var(--tui-background-base-alt);box-shadow:inset 6px 0 #e3e3e3}.dms-accordion-item[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]{margin-left:12px;width:24px;height:24px;transform:rotate(180deg)}.dms-accordion-item[_ngcontent-%COMP%]   .expand_open[_ngcontent-%COMP%]{transform:rotate(0)}']})}}return Xt})(),Pn=(()=>{class Xt{constructor(){this.filterControl=new U.NI(null),this.genericFilterFn=(se,Ve)=>null===Ve||0===Ve.length||!(!se||!Ve.some(An=>se===An.code)),this.open=!1}get applied(){return this.filterControl.value?.length}onClick(){this.open=!this.open}onObscured(se){se&&(this.open=!1)}onActiveZone(se){this.open=se&&this.open}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-table-filter"]],hostVars:2,hostBindings:function(Ve,An){2&Ve&&e.ekj("applied",An.applied)},inputs:{config:"config",genericFilterFn:"genericFilterFn"},standalone:!0,features:[e.jDz],decls:4,vars:6,consts:[["tuiIconButton","","iconStart","appIconFilter","appearance","action-grayscale","size","xs","tuiDropdownAlign","center","tuiDropdownAppearance","cloud",3,"tuiDropdown","tuiDropdownManual","tuiObscuredEnabled","click","tuiActiveZoneChange","tuiObscured"],["content",""],["type","hidden",3,"formControl","tuiTableFilter","tuiGenericFilter"],[1,"filter-island"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(Ve,An){if(1&Ve&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return An.onClick()})("tuiActiveZoneChange",function(ji){return An.onActiveZone(ji)})("tuiObscured",function(ji){return An.onObscured(ji)}),e.qZA(),e.YNc(1,Se,2,8,"ng-template",null,1,e.W1O),e._UZ(3,"input",2)),2&Ve){const Ei=e.MAs(2);e.Q6J("tuiDropdown",Ei)("tuiDropdownManual",An.open)("tuiObscuredEnabled",An.open),e.xp6(3),e.Q6J("formControl",An.filterControl)("tuiTableFilter",An.config.context.columnCode)("tuiGenericFilter",An.genericFilterFn)}},dependencies:[U.UX,U.Fj,U.JJ,U.oH,Bt.XI,Bt.V2,Wt.s$,C.xG,h.Ek,h.td,h.nS,st.d,dt.Q],styles:['.applied[_nghost-%COMP%]{position:relative}.applied[_nghost-%COMP%]:after{position:absolute;top:2px;right:1px;width:8px;height:8px;content:"";background-color:var(--tui-status-negative);border-radius:50%}[tuiIconButton][_ngcontent-%COMP%]{color:var(--t-icon-bg)}.filter-island[_ngcontent-%COMP%]{padding:var(--tui-radius-xs);width:400px;transform:translate(0)}'],changeDetection:0})}}return Xt})();const ln=new e.OlP("Provide table multi select service");let Zn=(()=>{class Xt{constructor(){this.searchQuery=null,this.context=(0,e.f3M)(Wt.yf),this.service=(0,e.f3M)(ln),this.options$=this.service.options$(this.context.$implicit.data.columnCode),this.stringify=se=>se.name}filter(se,Ve){return se.filter(An=>(0,St.LQ)(An.name,Ve||""))}changedSearch(se){this.searchQuery=se}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-table-multi-select"]],standalone:!0,features:[e.jDz],decls:2,vars:3,consts:[["tuiTextfieldSize","l","tuiTextfieldAppearance","textfield",3,"formControl","tuiTextfieldCleaner","stringify","pseudoFocus","searchChange",4,"ngIf"],["tuiTextfieldSize","l","tuiTextfieldAppearance","textfield",3,"formControl","tuiTextfieldCleaner","stringify","pseudoFocus","searchChange"],[4,"tuiDataList"],[4,"tuiLet"],["tuiOption","",3,"value",4,"ngFor","ngForOf"],["tuiOption","",3,"value"]],template:function(Ve,An){1&Ve&&(e.YNc(0,de,3,5,"tui-multi-select",0),e.ALo(1,"async")),2&Ve&&e.Q6J("ngIf",e.lcZ(1,1,An.options$))},dependencies:[B.lm,B.VT,B.E6,B.bJ,Y.qi,Y.gX,Y.bH,a.O5,a.Ov,U.UX,U.JJ,U.oH,a.sg,bt.i,k.cn,k.qc,k.be,k.sz],styles:["[_nghost-%COMP%]{display:block;min-width:300px}"],changeDetection:0})}}return(0,yt.gn)([u.UM,(0,yt.w6)("design:type",Function),(0,yt.w6)("design:paramtypes",[Array,Object]),(0,yt.w6)("design:returntype",Array)],Xt.prototype,"filter",null),Xt})(),Jn=(()=>{class Xt{static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["app-island-field"]],inputs:{label:"label"},standalone:!0,features:[e.jDz],ngContentSelectors:$e,decls:5,vars:1,consts:[[1,"text-label"]],template:function(Ve,An){1&Ve&&(e.F$t(ae),e.ynx(0),e.TgZ(1,"div",0),e._uU(2),e.Hsn(3),e.qZA(),e.Hsn(4,1),e.BQk()),2&Ve&&(e.xp6(2),e.hij(" ",An.label," "))},styles:[".text-label[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-background-accent-opposite-pressed)}[_nghost-%COMP%]{padding:6px 8px;background-color:var(--tui-background-base-alt);border-radius:var(--tui-radius-xs);display:flex;min-height:48px;flex-direction:column;justify-content:center;gap:6px 0}.border[_nghost-%COMP%]{border:1px solid #e9e9e9}[_nghost-%COMP%]   .text-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"],changeDetection:0})}}return Xt})(),hi=(()=>{class Xt{constructor(){this.borderRadiusSize="s",this.iconPosition="left",this.headerHeight=60,this.disabled=!1,this.expandChanged=new e.vpe,this._isExpand=!0}set isExpand(se){this._isExpand=se}toggleExpand(){const se=!this._isExpand;this._isExpand=se,this.expandChanged.emit(se)}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["app-island-expand"]],inputs:{heading:"heading",rightHeaderContent:"rightHeaderContent",borderRadiusSize:"borderRadiusSize",isExpand:"isExpand",iconPosition:"iconPosition",headerHeight:"headerHeight",disabled:"disabled"},outputs:{expandChanged:"expandChanged"},standalone:!0,features:[e.jDz],ngContentSelectors:at,decls:10,vars:16,consts:[[1,"dms-island-header",3,"ngClass"],["type","button",3,"ngStyle","disabled","click"],["icon","@tui.chevron-right",1,"t-icon",3,"ngClass"],[1,"dms-island-full__heading"],[4,"polymorpheusOutlet"],[4,"ngIf"],[3,"expanded"],[1,"content"]],template:function(Ve,An){1&Ve&&(e.F$t(),e.TgZ(0,"section")(1,"div",0)(2,"button",1),e.NdJ("click",function(){return An.toggleExpand()}),e._UZ(3,"tui-icon",2),e.TgZ(4,"div",3),e.YNc(5,Bn,2,1,"ng-container",4),e.qZA()(),e.YNc(6,Hn,2,1,"ng-container",5),e.qZA(),e.TgZ(7,"tui-expand",6)(8,"div",7),e.Hsn(9),e.qZA()()()),2&Ve&&(e.Gre("dms-island-full _border-radius-",An.borderRadiusSize,""),e.xp6(1),e.Q6J("ngClass",e.VKq(10,rn,"right"===An.iconPosition)),e.xp6(1),e.Q6J("ngStyle",e.VKq(12,re,An.headerHeight+"px"))("disabled",An.disabled),e.xp6(1),e.Q6J("ngClass",e.VKq(14,wn,An._isExpand)),e.xp6(2),e.Q6J("polymorpheusOutlet",An.heading),e.xp6(1),e.Q6J("ngIf",An.rightHeaderContent),e.xp6(1),e.Q6J("expanded",An._isExpand))},dependencies:[a.O5,a.mk,a.PC,Wt.s$,y.SV,E.R],styles:["[_nghost-%COMP%]{display:block}.dms-island-header[_ngcontent-%COMP%]{display:flex}.dms-island-header.button-on-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-direction:row-reverse}.dms-island-header.button-on-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}.dms-island-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-grow:1}.dms-island-full[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column}.dms-island-full__heading[_ngcontent-%COMP%]{width:100%;font:var(--tui-font-heading-4);text-align:left}.dms-island-full._border-radius-xs[_ngcontent-%COMP%]{border-radius:var(--tui-radius-xs)}.dms-island-full._border-radius-s[_ngcontent-%COMP%]{border-radius:var(--tui-radius-s)}.dms-island-full._border-radius-m[_ngcontent-%COMP%]{border-radius:var(--tui-radius-m)}.dms-island-full._border-radius-l[_ngcontent-%COMP%]{border-radius:var(--tui-radius-l)}button[_ngcontent-%COMP%]{border:none;margin:0;width:auto;background:transparent;color:inherit;font:inherit;cursor:pointer;padding:12px;display:flex;align-items:center}button[_ngcontent-%COMP%]   tui-icon[_ngcontent-%COMP%]{margin-right:8px;width:24px;height:24px;font-size:17px}button[_ngcontent-%COMP%]   .t-icon[_ngcontent-%COMP%]{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-text-primary)}button[_ngcontent-%COMP%]   .t-icon_open[_ngcontent-%COMP%]{transform:rotate(90deg)}button[disabled][_ngcontent-%COMP%]{opacity:.6}.content[_ngcontent-%COMP%]{padding:0 8px 8px}h4[_ngcontent-%COMP%]{margin:0}"],changeDetection:0})}}return Xt})(),ei=(()=>{class Xt{constructor(){this.refetchedRequest=new e.vpe}get title(){return"\u041e\u0448\u0438\u0431\u043a\u0430!"}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["app-data-fetch-error"]],inputs:{exception:"exception",refetchIsInProgress:"refetchIsInProgress"},outputs:{refetchedRequest:"refetchedRequest"},standalone:!0,features:[e.jDz],decls:2,vars:0,template:function(Ve,An){1&Ve&&(e.TgZ(0,"h3"),e._uU(1,"\u041e\u0448\u0438\u0431\u043a\u0430!"),e.qZA())},styles:["[_nghost-%COMP%]{position:relative;margin:auto;width:100%;min-height:57px;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-style:normal;font-weight:500;font-size:24px;line-height:33px;color:var(--tui-text-primary)}"],changeDetection:0})}}return(0,yt.gn)([u.UM,(0,yt.w6)("design:type",String),(0,yt.w6)("design:paramtypes",[])],Xt.prototype,"title",null),Xt})();const wi=Xt=>(0,A.P)(()=>(0,S.of)(Xt.value).pipe(function tt(...Xt){return function et(...Xt){const Ye=(0,L.yG)(Xt);return(0,w.e)((se,Ve)=>{(0,p.u)()((0,V.D)([se,...Xt],Ye)).subscribe(Ve)})}(...Xt)}(Xt.valueChanges))),oi_DEFAULT=/^\+\d{11}$/,oi_MOBILE=/^\+79\d{9}$/,Li=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,mi="now",Zi=/[\u0400-\u04FF]/;class Qi{static minLengthArray(Ye){return se=>{if(!se.value||!Array.isArray(se.value))return null;const Ve=se.value.length;return Ye>Ve?{minlength:{requiredLength:Ye,actualLength:Ve}}:null}}static lengthTrimmed(Ye){return se=>{if(!se.value)return null;const Ve=se.value.trim().length;return Ve!==Ye?{minlength:{requiredLength:Ye,actualLength:Ve}}:null}}static minLengthTrimmed(Ye,se){return Ve=>Ve.value&&Ve.value.trim().length<Ye?{minlength:se}:null}static maxLengthTrimmed(Ye,se){return Ve=>Ve.value&&Ve.value.trim().length>Ye?{maxlength:se}:null}static findNumber(){return Ye=>Ye.value&&Ye.value.length>0&&Ye.value.match(".*\\d+.*")?null:{pattern:!0}}static noRussianLetters(){return Ye=>Ye.value&&Zi.test(Ye.value)?{noRussianLetters:"\u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b"}:null}static onlyRussianLetters(){return Ye=>Ye.value?Ye.value.split("").every(Ve=>Zi.test(Ve))?null:{onlyRussianLetters:"\u0422\u043e\u043b\u044c\u043a\u043e \u0440\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b"}:null}static onlyRussianLettersAndDash(){const Ye=/[\u0400-\u04FF-]/;return se=>se.value?se.value.split("").every(An=>Ye.test(An))?null:{onlyRussianLetters:"\u0422\u043e\u043b\u044c\u043a\u043e \u0440\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b"}:null}static bothControlsHaveTheSameValue(Ye,se){return Ve=>{const An=Ve.get(Ye),Ei=Ve.get(se);return!An||!Ei||Ei.errors&&!Ei.errors.doesNotMatch?null:Ei.value!==An.value?(Ei.setErrors({doesNotMatch:!0}),{doesNotMatch:!0}):(Ei.setErrors(null),null)}}static atLeastOneFrom(Ye,se){return Ve=>Ve instanceof U.cw?Object.entries(Ve.value).some(([ji,Ji])=>Ye.indexOf(ji)>-1&&!!Ji)?null:{atLeastOneRequired:se}:null}static shouldHaveTwoLettersIfFormIsEmpty(Ye,se){return Ve=>{if(Ve instanceof U.cw){const An=Ve.value,Ei=Ve.get(Ye);if(!Ei||Object.entries(An).some(([Ji,Wo])=>!(Ji===Ye||se.some(Ie=>Ji===Ie)||!Wo)))return null;if(Ei.value?.trim().split(" ").length<2)return{shouldHaveTwoLetters:!0}}return null}}static onlyOneControlShouldBeValue(Ye,se){return Ve=>{if(Ve instanceof U.cw){const An=Ve.value;let Ei=0;for(const ji of Ye)if(An[ji]&&Ei++,Ei>1)break;return Ye.forEach(ji=>{const Ji=Ve.controls[ji];Ji.errors&&delete Ji.errors.onlyOneControlShouldBeValue;const Wo=Ei>1?{...Ji.errors,onlyOneControlShouldBeValue:!0}:Ji.errors&&Object.values(Ji.errors).length?Ji.errors:null;Ji.setErrors(Wo)}),Ei>1?{onlyOneControlShouldBeValue:se}:null}return null}}static phone(Ye=!1){return se=>se.value?(Ye?oi_MOBILE:oi_DEFAULT).test(se.value)?null:{[Ye?"mobilePhoneIsInvalid":"phoneIsInvalid"]:!0}:null}static mailArray(Ye){return Ye.value&&Array.isArray(Ye.value)&&Ye.value.some(se=>!Li.test(se))?{mailArray:!0}:null}}const Yi=36e5;function uo(Xt,Ye=!1){if(Xt?.includes(mi)){const se=Ui(Xt),Ve=new Date;return Ye?(se?new Date(Date.UTC(Ve.getUTCFullYear(),Ve.getUTCMonth(),Ve.getUTCDate(),Ve.getUTCHours(),Ve.getUTCMinutes(),Ve.getUTCSeconds())-Yi*se):new Date(Date.UTC(Ve.getUTCFullYear(),Ve.getUTCMonth(),Ve.getUTCDate(),Ve.getUTCHours(),Ve.getUTCMinutes(),Ve.getUTCSeconds()))).toISOString():(0,xt.Z)(se?new Date(Ve.getTime()-Yi*se):Ve)}return Xt}function Ui(Xt){const se=Xt.match(`${mi}-(\\d+)h`);return se?+se[1]:null}let Ki=(()=>{class Xt{constructor(){this.titleForRangePanel="",this.minDay=ut.K1,this.returnInISOFormat=!1,this.changedRange=new e.vpe,this.calendarSelectedRange=null,this.currentSelectedRangeButton=null,this.calendarValue=null,this.isEdit=(0,e.tdS)(!1)}set buttonsConfig(se){this._buttonsConfig=se,this.setDefaultValueFromButtonConfig()}get buttonsConfig(){return this._buttonsConfig}ngOnInit(){if(!this.maxDay){const se=new Date;this.maxDay=new ut.TU(se.getFullYear(),se.getMonth(),se.getDate())}}registerOnChange(se){this.changedRange.subscribe(se)}registerOnTouched(se){}writeValue(se){se?this.updateComponentDataWithRange(se):(!this.defaultValueFromButtonConfig&&this.setDefaultValueFromButtonConfig(),this.currentRange={...this.getRangeDatesBasedOnButtonOfRange(this.defaultValueFromButtonConfig),displayValue:this.defaultValueFromButtonConfig.displayValue,isDefault:!0}),this.calendarSelectedRange=this.currentRange}setDefaultValueFromButtonConfig(){this.defaultValueFromButtonConfig=this.buttonsConfig.find(se=>se.isDefault)??this.buttonsConfig[0],this.defaultValueFromButtonConfig.isDefault=!0}updateComponentDataWithRange(se){if(this.currentRange={...se,displayValue:""},this.currentSelectedRangeButton=this.buttonsConfig.find(Ve=>Ui(se.dateFrom)===Ve.rangeInHours)??null,this.currentSelectedRangeButton)this.currentRange.displayValue=this.currentSelectedRangeButton.displayValue,this.currentRange.isDefault=this.currentSelectedRangeButton.isDefault;else{const Ve=new Date(se.dateFrom),An=new Date(se.dateTo);"Invalid Date"===Ve.toString()||"Invalid Date"===An.toString()?(this.currentRange={...this.getRangeDatesBasedOnButtonOfRange(this.defaultValueFromButtonConfig),displayValue:this.defaultValueFromButtonConfig.displayValue,isDefault:!0},this.changedRange.emit({dateFrom:this.currentRange.dateFrom,dateTo:this.currentRange.dateTo})):(this.calendarValue=this.returnInISOFormat?new ut.VR(new ut.TU(Ve.getUTCFullYear(),Ve.getUTCMonth(),Ve.getUTCDate()),new ut.TU(An.getUTCFullYear(),An.getUTCMonth(),An.getUTCDate())):new ut.VR(new ut.TU(Ve.getFullYear(),Ve.getMonth(),Ve.getDate()),new ut.TU(An.getFullYear(),An.getMonth(),An.getDate())),this.currentRange.displayValue=this.getDisplayValueForCalendarRange(this.calendarValue))}}onInput(){this.isEdit.set(!this.isEdit()),this.isEdit()?this.updateComponentDataWithRange({dateFrom:this.currentRange.dateFrom,dateTo:this.currentRange.dateTo}):(this.currentSelectedRangeButton=null,this.calendarValue=null,this.calendarSelectedRange=null)}onChangeRange(se){this.calendarValue=null,this.currentSelectedRangeButton=se}onReset(){this.currentSelectedRangeButton=null,this.calendarValue=null,this.calendarSelectedRange=null,this.isEdit.set(!1),this.currentRange={...this.getRangeDatesBasedOnButtonOfRange(this.defaultValueFromButtonConfig),displayValue:this.defaultValueFromButtonConfig.displayValue,isDefault:!0},this.calendarSelectedRange=this.currentRange,this.changedRange.emit({dateFrom:this.currentRange.dateFrom,dateTo:this.currentRange.dateTo})}onOpenCalendar(){this.currentSelectedRangeButton=null}onApplyValue(){if(this.isEdit.set(!1),this.currentSelectedRangeButton){const se=this.getRangeDatesBasedOnButtonOfRange(this.currentSelectedRangeButton);this.currentRange={displayValue:this.currentSelectedRangeButton.displayValue,isDefault:this.currentSelectedRangeButton.isDefault,...se}}else this.currentRange=this.calendarSelectedRange;this.changedRange.emit({dateFrom:this.currentRange.dateFrom,dateTo:this.currentRange.dateTo})}onDayClick(se){if((null===this.calendarValue||!this.calendarValue.isSingleDay)&&(this.calendarValue=new ut.VR(se,se)),this.calendarValue=ut.VR.sort(this.calendarValue.from,se),this.calendarValue.from&&this.calendarValue.to)if(this.returnInISOFormat){const Ve=new Date(Date.UTC(this.calendarValue.from.year,this.calendarValue.from.month,this.calendarValue.from.day)),An=new Date(Date.UTC(this.calendarValue.to.year,this.calendarValue.to.month,this.calendarValue.to.day));An.setUTCHours(23,59,59),this.calendarSelectedRange={dateFrom:Ve.toISOString(),dateTo:An.toISOString(),displayValue:this.getDisplayValueForCalendarRange(this.calendarValue)}}else{const Ve=this.calendarValue.from.toLocalNativeDate(),An=this.calendarValue.to.toLocalNativeDate();this.calendarSelectedRange={dateFrom:(0,xt.Z)(Ve),dateTo:(0,xt.Z)(new Date(An.setHours(23,59,59))),displayValue:this.getDisplayValueForCalendarRange(this.calendarValue)}}}onObscured(se){se&&this.isEdit.set(!1)}onActiveZone(se){this.isEdit.set(se&&this.isEdit())}getDisplayValueForCalendarRange(se){if(!this.returnInISOFormat){const Ei=se.from.toUtcNativeDate(),ji=se.to.toUtcNativeDate();return`${Ei.getDate()} ${Ei.toLocaleString("ru",{month:"short"})} - ${ji.getDate()} ${ji.toLocaleString("ru",{month:"short"})}`}const Ve=new Date(Date.UTC(se.from.year,se.from.month,se.from.day)),An=new Date(Date.UTC(se.to.year,se.to.month,se.to.day));return An.setUTCHours(23,59,59),`${Ve.getUTCDate()} ${Ve.toLocaleString("ru",{month:"short",timeZone:"UTC"})} - ${An.getUTCDate()} ${An.toLocaleString("ru",{month:"short",timeZone:"UTC"})}`}getRangeDatesBasedOnButtonOfRange(se){return{dateTo:mi,dateFrom:`${mi}-${se.rangeInHours}h`}}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-date-range"]],inputs:{buttonsConfig:"buttonsConfig",titleForRangePanel:"titleForRangePanel",maxDay:"maxDay",minDay:"minDay",returnInISOFormat:"returnInISOFormat"},standalone:!0,features:[e._Bn([{provide:U.JU,useExisting:(0,e.Gpc)(()=>Xt),multi:!0}]),e.jDz],decls:8,vars:7,consts:[[1,"dms-range-input"],["tuiButton","","tuiDropdownAppearance","dms-range-input","appearance","custom","size","m",1,"dms-range-input__value",3,"tuiDropdown","tuiDropdownManual","tuiDropdownMaxHeight","tuiActiveZoneChange","tuiObscured","click"],["icon","@tui.calendar",1,"calendar-icon"],[1,"period"],["icon","@tui.x","class","close-icon",3,"click",4,"ngIf"],["dropdownContent",""],["icon","@tui.x",1,"close-icon",3,"click"],[1,"dms-range-input__content"],[1,"range-variants"],[1,"range-variants__title"],[1,"range-variants__buttons"],[4,"ngFor","ngForOf"],["appearance","custom","tuiButton","","size","s","type","button",3,"click"],["class","calendar-range",4,"ngIf"],[1,"dms-range-input__change-value-actions"],["appearance","link","tuiButton","","size","m","type","button",3,"click",4,"ngIf"],["appearance","primary","tuiButton","","size","m","type","button",3,"disabled","click"],[1,"calendar-range"],[3,"max","min","value","dayClick"],["appearance","link","tuiButton","","size","m","type","button",3,"click"]],template:function(Ve,An){if(1&Ve&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("tuiActiveZoneChange",function(ji){return An.onActiveZone(ji)})("tuiObscured",function(ji){return An.onObscured(ji)})("click",function(){return An.onInput()}),e._UZ(2,"tui-icon",2),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.YNc(5,oe,1,0,"tui-icon",4),e.qZA(),e.YNc(6,me,13,7,"ng-template",null,5,e.W1O),e.qZA()),2&Ve){const Ei=e.MAs(7);e.xp6(1),e.ekj("active",An.isEdit()),e.Q6J("tuiDropdown",Ei)("tuiDropdownManual",An.isEdit())("tuiDropdownMaxHeight",548),e.xp6(3),e.Oqu(An.currentRange.displayValue),e.xp6(1),e.Q6J("ngIf",!(null!=An.currentRange&&An.currentRange.isDefault))}},dependencies:[a.O5,C.xG,h.td,h.Ek,h.nS,st.d,dt.Q,O.XU,a.sg,E.R],styles:["[_nghost-%COMP%]{display:block;width:max-content}[_nghost-%COMP%]   .dms-range-input[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dms-range-input__value[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:var(--tui-radius-xs, 12px);background:var(--tui-background-base-alt, #F5F5F5);padding:8px;gap:0;--t-margin: 0;font:var(--tui-font-text-s);color:var(--tui-background-accent-opposite-hover)}[_nghost-%COMP%]   .dms-range-input__value[_ngcontent-%COMP%]   .calendar-icon[_ngcontent-%COMP%]{margin-right:6px}[_nghost-%COMP%]   .dms-range-input__value[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{margin-left:6px}[_nghost-%COMP%]   .dms-range-input__value.active[_ngcontent-%COMP%]{background:#424242;color:var(--tui-background-base)}[_nghost-%COMP%]   .dms-range-input__value.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--tui-background-base)}.dms-range-input__content[_ngcontent-%COMP%]{width:max-content;background:#424242;color:var(--tui-background-base);border-radius:var(--tui-radius-s);box-shadow:var(--tui-shadow-modal)}.dms-range-input__content[_ngcontent-%COMP%]   .range-variants[_ngcontent-%COMP%]{padding:12px 56px 12px 12px}.dms-range-input__content[_ngcontent-%COMP%]   .range-variants__title[_ngcontent-%COMP%]{color:var(--tui-text-06);font:var(--tui-font-text-xs)}.dms-range-input__content[_ngcontent-%COMP%]   .range-variants__buttons[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:6px;--tui-height-s: 32px;--tui-padding: 12px}.dms-range-input__content[_ngcontent-%COMP%]   .range-variants__buttons[_ngcontent-%COMP%]   [tuibutton][_ngcontent-%COMP%]{color:var(--tui-primary-text);background:#5D5D5D;--tui-padding: 12px}.dms-range-input__content[_ngcontent-%COMP%]   .range-variants__buttons[_ngcontent-%COMP%]   [tuibutton][_ngcontent-%COMP%]:hover{background:#676767}.dms-range-input__content[_ngcontent-%COMP%]   .range-variants__buttons[_ngcontent-%COMP%]   [tuibutton].active[_ngcontent-%COMP%]{background:var(--tui-background-base);color:#424242}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]{border-top:1px solid #5A5A5A;--tui-secondary-hover: #676767}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-calendar{width:auto;height:auto;--tui-background-neutral-1:#565656;--tui-background-neutral-1-hover: #676767;--tui-text-action: var(--tui-background-base)}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-calendar [tuiLink][tuiAppearance][data-appearance=action]{color:#6788ff}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-spin-button{font-weight:400}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-primitive-calendar{width:auto}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-calendar-sheet [data-type=weekend]{color:#ffffff80}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-calendar-sheet [data-type=weekday]{color:var(--tui-background-base)}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell{width:44px;height:32px}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell[data-range=start]:after, .dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell[data-range=end]:after{background:var(--tui-background-accent-1)!important;width:32px;left:5px}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell[data-range=active]:after, .dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell[data-range=active]:before{width:32px;left:5px}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell:hover:not([data-range]):before{width:32px;left:5px}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell:after{mask:none;-webkit-mask:none}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell[data-range=start]:before{right:0;border-radius:50% 0 0 50%;left:6px}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-cell[data-range=end]:before{right:6px;border-radius:0 50% 50% 0}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-row, .dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     .t-row:first-child{justify-content:center}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-primitive-spin-button>button{background-color:#5d5d5d;--tui-height-xs: 32px}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-primitive-spin-button>button svg{color:var(--tui-background-base)}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-primitive-spin-button>span{display:flex;flex-direction:column-reverse;align-items:center;font:var(--tui-font-heading-3)}.dms-range-input__content[_ngcontent-%COMP%]   .calendar-range[_ngcontent-%COMP%]     tui-primitive-spin-button>span>button{color:var(--dms-secondary-blue)}.dms-range-input__change-value-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;padding:16px;border-top:1px solid #5A5A5A}  tui-dropdown[data-appearance=dms-range-input]{border-radius:var(--tui-radius-s);box-shadow:var(--tui-shadow-modal);border:none}"],changeDetection:0})}}return Xt})();const Gi=()=>{const Xt=-(new Date).getTimezoneOffset();return`${Xt>=0?"+":"-"}${String(Math.floor(Math.abs(Xt)/60)).padStart(2,"0")}:${String(Math.abs(Xt)%60).padStart(2,"0")}`},sn=new e.OlP("The source code for getting statistic");let fi=(()=>{class Xt{constructor(){this.buttonText="\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c",this.size="xs",this.isShown=(0,e.tdS)(!1)}toggleIsShown(){this.isShown.set(!this.isShown())}static{this.\u0275fac=function(Ve){return new(Ve||Xt)}}static{this.\u0275cmp=e.Xpm({type:Xt,selectors:[["dms-button-show-hidden"]],inputs:{buttonText:"buttonText",size:"size"},standalone:!0,features:[e.jDz],ngContentSelectors:at,decls:6,vars:4,consts:[["tuiButton","","appearance","secondary","tuiHintDirection","right","tuiHintAppearance","show-hidden",3,"size","tuiHint","tuiHintManual","click"],["btn",""],["icon","@tui.eye"],["template",""],[1,"show-hidden-content",3,"tuiClickOutside"],["tuiIconButton","","tuiButtonClose","",3,"click"]],template:function(Ve,An){if(1&Ve&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return An.toggleIsShown()}),e._UZ(2,"tui-icon",2),e._uU(3),e.qZA(),e.YNc(4,En,5,0,"ng-template",null,3,e.W1O)),2&Ve){const Ei=e.MAs(5);e.Q6J("size",An.size)("tuiHint",Ei)("tuiHintManual",An.isShown()),e.xp6(3),e.hij(" ",An.buttonText,"\n")}},dependencies:[C.xG,Dt.u,M.D,M.UI,At,E.R]})}}return Xt})()},6237:(Qt,$,o)=>{"use strict";o.d($,{H6:()=>St,KM:()=>it,Lv:()=>At,N:()=>st,PX:()=>tt,Vz:()=>dt,hn:()=>I,js:()=>ht,sq:()=>V,v5:()=>It});var e=o(5879),t=o(634),a=o(9673),i=o(2181),g=o(3620),T=o(2572),_=o(2460),m=o(4664),h=o(9315),f=o(9397),v=o(8645),C=o(9773),D=o(1687),y=o(8180),E=o(7398),O=o(1393),M=o(5551),U=o(2527),R=o(6814);function A(Dt,Wt){1&Dt&&(e.TgZ(0,"tui-notification",3),e._uU(1,"\u0412 \u044d\u0442\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),e.qZA())}function S(Dt,Wt){1&Dt&&(e.TgZ(0,"tui-notification"),e._uU(1,"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u044b"),e.qZA())}function w(Dt,Wt){if(1&Dt&&(e.ynx(0),e.YNc(1,A,2,0,"tui-notification",2),e.YNc(2,S,2,0,"tui-notification",0),e.BQk()),2&Dt){const Nt=e.oxw();e.xp6(1),e.Q6J("ngIf",!Nt.markersIsLoading&&Nt._entities&&0===Nt._entities.length),e.xp6(1),e.Q6J("ngIf",Nt.markersIsLoading)}}function p(Dt,Wt){1&Dt&&(e.TgZ(0,"tui-notification"),e._uU(1," \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u042f\u043d\u0434\u0435\u043a\u0441 \u041a\u0430\u0440\u0442\u044b\n"),e.qZA())}function L(Dt,Wt){if(1&Dt){const Nt=e.EpF();e.TgZ(0,"tui-notification",4)(1,"h3"),e._uU(2,"\u041e\u0448\u0438\u0431\u043a\u0430"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"button",5),e.NdJ("click",function(){e.CHM(Nt);const Bt=e.oxw();return e.KtG(Bt.initMap())}),e._uU(6," \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437 "),e.qZA()()}if(2&Dt){const Nt=Wt.ngIf;e.xp6(4),e.Oqu(Nt)}}const V={DEFAULT:"assets/icons/default.marker.svg#default.marker",FRANCHISE:"assets/icons/franchise.marker.svg#franchise-marker.icon",CLUSTER:"assets/icons/default.marker.svg#default.marker",ADDRESS:"assets/icons/address.marker.svg#address.marker"},tt={center:[37.622093,55.753994],zoom:10,bounds:[[36.70267466503907,56.11513910630305],[38.541511334960944,55.38945936287181]]},ht={hotspotsStrategy:"forPointerPosition",mode:"vector",zoomRounding:"snap",zoomRange:{min:4,max:19}},it={CLUSTER:"cluster",SINGLE:"single",ADDRESS:"address"},It=Dt=>Dt.type===it.SINGLE||Dt?.type===it.CLUSTER,st=Dt=>Dt?.type===it.CLUSTER,dt=Dt=>Dt?.type===it.SINGLE,St=Dt=>Dt?.type===it.ADDRESS,bt=new e.OlP("This function create HTMLElement for marker"),u={provide:bt,useFactory:Dt=>(Wt,Nt)=>{const Rt=Nt>12,Bt=Dt.createElement("div");if(Dt.addClass(Bt,"map-marker"),Rt){const B=Dt.createElement("div");if(Dt.addClass(B,"map-marker-inner"),B.innerHTML=`<svg><use xlink:href="${V.DEFAULT}"></svg>`,st(Wt)){const k=Dt.createElement("span");Dt.appendChild(k,Dt.createText(String(Wt.total>99?99:Wt.total))),Dt.appendChild(B,k)}!1===Wt.isAvailable&&Dt.addClass(Bt,"inactivity"),Dt.appendChild(Bt,B)}else Dt.addClass(Bt,"point");return Bt},deps:[e.Qsj]},ut=new e.OlP("This function create HTMLElement for address marker"),Z={provide:ut,useFactory:Dt=>Wt=>{const Nt=Dt.createElement("div");Dt.addClass(Nt,"address-map-marker");const Rt=Dt.createElement("div");return Dt.addClass(Rt,"address-map-marker-inner"),Rt.innerHTML=`<svg><use xlink:href="${V.ADDRESS}"></svg>`,Dt.appendChild(Nt,Rt),Nt},deps:[e.Qsj]},I=new e.OlP("create map hint function"),F=new e.OlP("Config for map initialization"),ot={provide:F,useValue:{...ht,location:tt}};let nt=(()=>{class Dt extends a.m1{set addressMarker(Nt){this.addressYMapMarker&&this.mapService.removeMarker(this.addressYMapMarker),Nt&&(this.addressYMapMarker=this.mapService.addMarker({props:{id:Nt.id,coordinates:Nt.coordinates,properties:{hint:`<div class="hint">${Nt.address}</div>`,data:Nt}},element:this.createAddress(Nt)}))}constructor(Nt,Rt,Bt,B,k){super({config:Nt,mapIsInitialized:!1,ymapsIsLoading:!0,ymapsLoadError:null,selectedEntity:null,selectedClusterId:null}),this.el=Rt,this.mapService=Bt,this.ngZone=B,this.renderer=k,this.createMarker=(0,e.f3M)(bt),this.createAddress=(0,e.f3M)(ut),this.createHint=(0,e.f3M)(I,{optional:!0}),this.ymapsLoadError$=this.select(yt=>yt.ymapsLoadError),this.ymapsIsLoading$=this.select(yt=>yt.ymapsIsLoading),this.mapIsInitialized$=this.select(yt=>yt.mapIsInitialized).pipe((0,i.h)(yt=>yt)),this.selectedEntity$=this.select(yt=>yt.selectedEntity),this.selectedClusterId$=this.select(yt=>yt.selectedClusterId),this.changedLocation$=this.mapService.location$.pipe((0,g.b)(400)),this.selectedEntityOrCluster=new e.vpe,this.updateSelectedEntity=this.updater((yt,Y)=>({...yt,selectedEntity:Y})),this.updateClusterId=this.updater((yt,Y)=>({...yt,selectedClusterId:Y})),this.setConfig=this.updater((yt,Y)=>({...yt,config:Y})),this.setMarkers=this.effect(yt=>(0,T.a)([yt,this.mapIsInitialized$]).pipe((0,_.M)(this.selectedEntity$,this.selectedClusterId$),(0,m.w)(([[Y],xt,z])=>(this.removeMarkers(),(0,h.D)(this.scheduleAddMarkers(Y,xt,z)))))),this.setSelectedEntity=this.effect(yt=>yt.pipe((0,_.M)(this.selectedEntity$),(0,f.b)(([Y,xt])=>{if(!St(Y)){if(xt){const z=xt.id||xt.guid,at=z&&this.markerList.get(z);at&&this.removeFocusMarker(at)}if(Y){const z=Y.id||Y.guid,at=z&&this.markerList.get(z);at&&this.mapService.zoom>16?this.setFocusMarker(at):this.shiftToMarker(z,Y.coordinates)}this.updateSelectedEntity(Y)}}))),this.setSelectedClusterId=this.effect(yt=>yt.pipe((0,_.M)(this.selectedClusterId$),(0,f.b)(([Y,xt])=>{if(xt){const z=this.markerList.get(xt);z&&this.removeFocusMarker(z)}if(Y){const z=this.markerList.get(Y);z&&this.setFocusMarker(z)}this.updateClusterId(Y)}))),this.markerList=new Map,this.addressYMapMarker=null,this.abortRender=new v.x,this.abortRender$=this.abortRender.asObservable()}ngOnDestroy(){super.ngOnDestroy(),this.abortRender.next(),this.abortRender.complete()}init(){this.select(Nt=>Nt.config).pipe((0,y.q)(1),(0,f.b)(()=>this.patchState({ymapsIsLoading:!0,ymapsLoadError:null})),(0,m.w)(Nt=>this.mapService.renderMap(this.el.nativeElement,Nt)),(0,a._b)(()=>this.patchState({mapIsInitialized:!0,ymapsIsLoading:!1}),Nt=>{console.error(Nt),this.patchState({ymapsIsLoading:!1,ymapsLoadError:Nt})})).subscribe(),this.mapService.selectedMarker$.pipe((0,C.R)(this.destroy$),(0,f.b)(({properties:Nt})=>{if(Nt&&Nt.data){const{data:Rt}=Nt;st(Rt)&&(this.mapService.zoom<=12||Rt.total>9)?this.shiftToMarker(Rt.guid,Rt.coordinates,this.mapService.zoom+2):It(Rt)&&this.selectedEntityOrCluster.emit(Rt)}})).subscribe()}setLocation(Nt){this.mapService.setLocation(Nt)}addMarkers(Nt,Rt,Bt){const B=this.mapService.zoom;Nt.forEach(k=>{if(St(k))return;const yt=this.mapService.addMarker({props:{id:k.id,coordinates:k.coordinates,properties:{hint:this.createHint&&this.createHint(k),data:k}},element:this.createMarker(k,B)});[Rt?.id||Rt?.guid,Bt].includes(k.id)&&this.setFocusMarker(yt),this.markerList.set(k.id,yt)})}scheduleAddMarkers(Nt,Rt,Bt){const B=[];let k=0;do{const yt=((Y,xt)=>()=>this.addMarkers(Nt.slice(Y,xt),Rt,Bt))(k,k+40);B.push(yt),k+=40}while(k<Nt.length);return B.map(yt=>(0,D.F)(1).pipe((0,y.q)(1),(0,C.R)(this.abortRender$),(0,E.U)(()=>yt()),(0,O.fL)(this.ngZone)))}removeMarkers(){this.markerList.forEach(Nt=>this.mapService.removeMarker(Nt)),this.markerList.clear()}shiftToMarker(Nt,[Rt,Bt],B=16){try{if(!Rt&&!Bt)return console.error("\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043a \u0442\u043e\u0447\u043a\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e: \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b. "+(Nt?`GUID ${Nt}`:""));this.mapService.setLocation({center:[Rt,Bt],zoom:B})}catch(k){console.error(k)}}setFocusMarker(Nt){Nt.update({zIndex:10}),this.renderer.addClass(Nt.element,"focused")}removeFocusMarker(Nt){Nt.update({zIndex:0}),this.renderer.removeClass(Nt.element,"focused")}static{this.\u0275fac=function(Rt){return new(Rt||Dt)(e.LFG(F),e.LFG(e.SBq),e.LFG(t.S),e.LFG(e.R0b),e.LFG(e.Qsj))}}static{this.\u0275prov=e.Yz7({token:Dt,factory:Dt.\u0275fac})}}return Dt})(),At=(()=>{class Dt{set createMarkerElement(Nt){this.medMapStore.createMarker=Nt}set addressMarker(Nt){this.medMapStore.addressMarker=Nt}set config(Nt){this.medMapStore.setConfig(Nt)}set location(Nt){Nt&&this.medMapStore.setLocation(Nt)}set selectedEntity(Nt){this.medMapStore.setSelectedEntity(Nt)}set selectedClusterId(Nt){this.medMapStore.setSelectedClusterId(Nt)}set entities(Nt){this.medMapStore.setMarkers(Nt||[]),this._entities=Nt||[]}constructor(Nt){this.medMapStore=Nt,this.markersIsLoading=!1,this.changedLocation=this.medMapStore.changedLocation$,this.selectedEntityOrCluster=this.medMapStore.selectedEntityOrCluster,this._entities=[],this.mapIsInitialized$=this.medMapStore.mapIsInitialized$,this.ymapsLoadError$=this.medMapStore.ymapsLoadError$,this.ymapsIsLoading$=this.medMapStore.ymapsIsLoading$}ngOnInit(){this.initMap()}initMap(){this.medMapStore.init()}static{this.\u0275fac=function(Rt){return new(Rt||Dt)(e.Y36(nt))}}static{this.\u0275cmp=e.Xpm({type:Dt,selectors:[["med-map"]],inputs:{markersIsLoading:"markersIsLoading",createMarkerElement:"createMarkerElement",addressMarker:"addressMarker",config:"config",location:"location",selectedEntity:"selectedEntity",selectedClusterId:"selectedClusterId",entities:"entities"},outputs:{changedLocation:"changedLocation",selectedEntityOrCluster:"selectedEntityOrCluster"},standalone:!0,features:[e._Bn([t.S,u,Z,ot,nt]),e.jDz],decls:6,vars:9,consts:[[4,"ngIf"],["appearance","error",4,"ngIf"],["appearance","warning",4,"ngIf"],["appearance","warning"],["appearance","error"],["tuiButton","","size","xs","appearance","accent",1,"tui-space_right-5",3,"click"]],template:function(Rt,Bt){1&Rt&&(e.YNc(0,w,3,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,p,2,0,"tui-notification",0),e.ALo(3,"async"),e.YNc(4,L,7,1,"tui-notification",1),e.ALo(5,"async")),2&Rt&&(e.Q6J("ngIf",e.lcZ(1,3,Bt.mapIsInitialized$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,Bt.ymapsIsLoading$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,7,Bt.ymapsLoadError$)))},dependencies:[M.tK,U.xG,R.O5,R.Ov],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   tui-notification[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10;box-shadow:0 2px 2px #00000026}[_nghost-%COMP%]   tui-notification[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px}[_nghost-%COMP%]   tui-notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px}[_nghost-%COMP%]   tui-notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-left:auto}"],changeDetection:0})}}return Dt})()},7343:(Qt,$,o)=>{"use strict";o.d($,{KP:()=>Dt,Gm:()=>Rt,Fo:()=>F});var e=o(5861),t=o(5879),a=o(5619),i=o(2181),g=o(8645),T=o(5592),_=o(8180),m=o(3020),h=o(6973),f=o(305);const C_LF="\n",C_NULL="\0";class D{constructor(B){const{command:k,headers:yt,body:Y,binaryBody:xt,escapeHeaderValues:z,skipContentLengthHeader:at}=B;this.command=k,this.headers=Object.assign({},yt||{}),xt?(this._binaryBody=xt,this.isBinaryBody=!0):(this._body=Y||"",this.isBinaryBody=!1),this.escapeHeaderValues=z||!1,this.skipContentLengthHeader=at||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(B,k){const yt={},Y=xt=>xt.replace(/^\s+|\s+$/g,"");for(const xt of B.headers.reverse()){xt.indexOf(":");const at=Y(xt[0]);let Pt=Y(xt[1]);k&&"CONNECT"!==B.command&&"CONNECTED"!==B.command&&(Pt=D.hdrValueUnEscape(Pt)),yt[at]=Pt}return new D({command:B.command,headers:yt,binaryBody:B.binaryBody,escapeHeaderValues:k})}toString(){return this.serializeCmdAndHeaders()}serialize(){const B=this.serializeCmdAndHeaders();return this.isBinaryBody?D.toUnit8Array(B,this._binaryBody).buffer:B+this._body+C_NULL}serializeCmdAndHeaders(){const B=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const k of Object.keys(this.headers||{})){const yt=this.headers[k];B.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${k}:${D.hdrValueEscape(`${yt}`)}`:`${k}:${yt}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&B.push(`content-length:${this.bodyLength()}`),B.join(C_LF)+C_LF+C_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const B=this.binaryBody;return B?B.length:0}static sizeOfUTF8(B){return B?(new TextEncoder).encode(B).length:0}static toUnit8Array(B,k){const yt=(new TextEncoder).encode(B),Y=new Uint8Array([0]),xt=new Uint8Array(yt.length+k.length+Y.length);return xt.set(yt),xt.set(k,yt.length),xt.set(Y,yt.length+k.length),xt}static marshall(B){return new D(B).serialize()}static hdrValueEscape(B){return B.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(B){return B.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class U{constructor(B,k){this.onFrame=B,this.onIncomingPing=k,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(B,k=!1){let yt;if(yt="string"==typeof B?this._encoder.encode(B):new Uint8Array(B),k&&0!==yt[yt.length-1]){const Y=new Uint8Array(yt.length+1);Y.set(yt,0),Y[yt.length]=0,yt=Y}for(let Y=0;Y<yt.length;Y++)this._onByte(yt[Y])}_collectFrame(B){if(0!==B&&13!==B){if(10===B)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(B)}}_collectCommand(B){if(13!==B){if(10===B)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(B)}}_collectHeaders(B){if(13!==B){if(10===B)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(B)}}_reinjectByte(B){this._onByte(B)}_collectHeaderKey(B){if(58===B)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(B)}_collectHeaderValue(B){if(13!==B){if(10===B)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(B)}}_setupCollectBody(){const B=this._results.headers.filter(k=>"content-length"===k[0])[0];B?(this._bodyBytesRemaining=parseInt(B[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(B){0!==B?this._consumeByte(B):this._retrievedBody()}_collectBodyFixedSize(B){0!=this._bodyBytesRemaining--?this._consumeByte(B):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(B){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",B)}this._initState()}_consumeByte(B){this._token.push(B)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const B=new Uint8Array(this._token);return this._token=[],B}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var R,Bt,A,V;(Bt=R=R||(R={}))[Bt.CONNECTING=0]="CONNECTING",Bt[Bt.OPEN=1]="OPEN",Bt[Bt.CLOSING=2]="CLOSING",Bt[Bt.CLOSED=3]="CLOSED",function(Bt){Bt[Bt.ACTIVE=0]="ACTIVE",Bt[Bt.DEACTIVATING=1]="DEACTIVATING",Bt[Bt.INACTIVE=2]="INACTIVE"}(A=A||(A={}));class S{constructor(B){this.versions=B}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(B=>`v${B.replace(".","")}.stomp`)}}S.V1_0="1.0",S.V1_1="1.1",S.V1_2="1.2",S.default=new S([S.V1_2,S.V1_1,S.V1_0]);class p{constructor(B,k,yt){this._client=B,this._webSocket=k,this._connected=!1,this._serverFrameHandlers={CONNECTED:Y=>{this.debug(`connected to server ${Y.headers.server}`),this._connected=!0,this._connectedVersion=Y.headers.version,this._connectedVersion===S.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(Y.headers),this.onConnect(Y)},MESSAGE:Y=>{const xt=Y.headers.subscription,z=this._subscriptions[xt]||this.onUnhandledMessage,at=Y,Pt=this,Gt=this._connectedVersion===S.V1_2?at.headers.ack:at.headers["message-id"];at.ack=(De={})=>Pt.ack(Gt,xt,De),at.nack=(De={})=>Pt.nack(Gt,xt,De),z(at)},RECEIPT:Y=>{const xt=this._receiptWatchers[Y.headers["receipt-id"]];xt?(xt(Y),delete this._receiptWatchers[Y.headers["receipt-id"]]):this.onUnhandledReceipt(Y)},ERROR:Y=>{this.onStompError(Y)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=yt.debug,this.stompVersions=yt.stompVersions,this.connectHeaders=yt.connectHeaders,this.disconnectHeaders=yt.disconnectHeaders,this.heartbeatIncoming=yt.heartbeatIncoming,this.heartbeatOutgoing=yt.heartbeatOutgoing,this.splitLargeFrames=yt.splitLargeFrames,this.maxWebSocketChunkSize=yt.maxWebSocketChunkSize,this.forceBinaryWSFrames=yt.forceBinaryWSFrames,this.logRawCommunication=yt.logRawCommunication,this.appendMissingNULLonIncoming=yt.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=yt.discardWebsocketOnCommFailure,this.onConnect=yt.onConnect,this.onDisconnect=yt.onDisconnect,this.onStompError=yt.onStompError,this.onWebSocketClose=yt.onWebSocketClose,this.onWebSocketError=yt.onWebSocketError,this.onUnhandledMessage=yt.onUnhandledMessage,this.onUnhandledReceipt=yt.onUnhandledReceipt,this.onUnhandledFrame=yt.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const B=new U(k=>{const yt=D.fromRawFrame(k,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${yt}`),(this._serverFrameHandlers[yt.command]||this.onUnhandledFrame)(yt)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=k=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const yt=k.data instanceof ArrayBuffer?(new TextDecoder).decode(k.data):k.data;this.debug(`<<< ${yt}`)}B.parseChunk(k.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=k=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(k)},this._webSocket.onerror=k=>{this.onWebSocketError(k)},this._webSocket.onopen=()=>{const k=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),k["accept-version"]=this.stompVersions.supportedVersions(),k["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:k})}}_setupHeartbeat(B){if(B.version!==S.V1_1&&B.version!==S.V1_2||!B["heart-beat"])return;const[k,yt]=B["heart-beat"].split(",").map(Y=>parseInt(Y,10));if(0!==this.heartbeatOutgoing&&0!==yt){const Y=Math.max(this.heartbeatOutgoing,yt);this.debug(`send PING every ${Y}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===R.OPEN&&(this._webSocket.send(C_LF),this.debug(">>> PING"))},Y)}if(0!==this.heartbeatIncoming&&0!==k){const Y=Math.max(this.heartbeatIncoming,k);this.debug(`check PONG every ${Y}ms`),this._ponger=setInterval(()=>{const xt=Date.now()-this._lastServerActivityTS;xt>2*Y&&(this.debug(`did not receive server activity for the last ${xt}ms`),this._closeOrDiscardWebsocket())},Y)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===R.CONNECTING||this._webSocket.readyState===R.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function w(Bt,B){Bt.terminate=function(){const k=()=>{};this.onerror=k,this.onmessage=k,this.onopen=k;const yt=new Date,Y=Math.random().toString().substring(2,8),xt=this.onclose;this.onclose=z=>{const at=(new Date).getTime()-yt.getTime();B(`Discarded socket (#${Y})  closed after ${at}ms, with code/reason: ${z.code}/${z.reason}`)},this.close(),xt?.call(Bt,{code:4001,reason:`Quick discarding socket (#${Y}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,B=>this.debug(B)),this._webSocket.terminate()}_transmit(B){const{command:k,headers:yt,body:Y,binaryBody:xt,skipContentLengthHeader:z}=B,at=new D({command:k,headers:yt,body:Y,binaryBody:xt,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:z});let Pt=at.serialize();if(this.debug(this.logRawCommunication?`>>> ${Pt}`:`>>> ${at}`),this.forceBinaryWSFrames&&"string"==typeof Pt&&(Pt=(new TextEncoder).encode(Pt)),"string"==typeof Pt&&this.splitLargeFrames){let Gt=Pt;for(;Gt.length>0;){const De=Gt.substring(0,this.maxWebSocketChunkSize);Gt=Gt.substring(this.maxWebSocketChunkSize),this._webSocket.send(De),this.debug(`chunk sent = ${De.length}, remaining = ${Gt.length}`)}}else this._webSocket.send(Pt)}dispose(){if(this.connected)try{const B=Object.assign({},this.disconnectHeaders);B.receipt||(B.receipt="close-"+this._counter++),this.watchForReceipt(B.receipt,k=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(k)}),this._transmit({command:"DISCONNECT",headers:B})}catch(B){this.debug(`Ignoring error during disconnect ${B}`)}else(this._webSocket.readyState===R.CONNECTING||this._webSocket.readyState===R.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(B){const{destination:k,headers:yt,body:Y,binaryBody:xt,skipContentLengthHeader:z}=B,at=Object.assign({destination:k},yt);this._transmit({command:"SEND",headers:at,body:Y,binaryBody:xt,skipContentLengthHeader:z})}watchForReceipt(B,k){this._receiptWatchers[B]=k}subscribe(B,k,yt={}){(yt=Object.assign({},yt)).id||(yt.id="sub-"+this._counter++),yt.destination=B,this._subscriptions[yt.id]=k,this._transmit({command:"SUBSCRIBE",headers:yt});const Y=this;return{id:yt.id,unsubscribe:xt=>Y.unsubscribe(yt.id,xt)}}unsubscribe(B,k={}){k=Object.assign({},k),delete this._subscriptions[B],k.id=B,this._transmit({command:"UNSUBSCRIBE",headers:k})}begin(B){const k=B||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:k}});const yt=this;return{id:k,commit(){yt.commit(k)},abort(){yt.abort(k)}}}commit(B){this._transmit({command:"COMMIT",headers:{transaction:B}})}abort(B){this._transmit({command:"ABORT",headers:{transaction:B}})}ack(B,k,yt={}){yt=Object.assign({},yt),this._connectedVersion===S.V1_2?yt.id=B:yt["message-id"]=B,yt.subscription=k,this._transmit({command:"ACK",headers:yt})}nack(B,k,yt={}){return yt=Object.assign({},yt),this._connectedVersion===S.V1_2?yt.id=B:yt["message-id"]=B,yt.subscription=k,this._transmit({command:"NACK",headers:yt})}}class L{constructor(B={}){this.stompVersions=S.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=A.INACTIVE;const k=()=>{};this.debug=k,this.beforeConnect=k,this.onConnect=k,this.onDisconnect=k,this.onUnhandledMessage=k,this.onUnhandledReceipt=k,this.onUnhandledFrame=k,this.onStompError=k,this.onWebSocketClose=k,this.onWebSocketError=k,this.logRawCommunication=!1,this.onChangeState=k,this.connectHeaders={},this._disconnectHeaders={},this.configure(B)}get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(B){this._disconnectHeaders=B,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===A.ACTIVE}_changeState(B){this.state=B,this.onChangeState(B)}configure(B){Object.assign(this,B)}activate(){const B=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(A.ACTIVE),this._connect())};this.state===A.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{B()})):B()}_connect(){var B=this;return(0,e.Z)(function*(){if(yield B.beforeConnect(),B._stompHandler)return void B.debug("There is already a stompHandler, skipping the call to connect");if(!B.active)return void B.debug("Client has been marked inactive, will not attempt to connect");B.connectionTimeout>0&&(B._connectionWatcher&&clearTimeout(B._connectionWatcher),B._connectionWatcher=setTimeout(()=>{B.connected||(B.debug(`Connection not established in ${B.connectionTimeout}ms, closing socket`),B.forceDisconnect())},B.connectionTimeout)),B.debug("Opening Web Socket...");const k=B._createWebSocket();B._stompHandler=new p(B,k,{debug:B.debug,stompVersions:B.stompVersions,connectHeaders:B.connectHeaders,disconnectHeaders:B._disconnectHeaders,heartbeatIncoming:B.heartbeatIncoming,heartbeatOutgoing:B.heartbeatOutgoing,splitLargeFrames:B.splitLargeFrames,maxWebSocketChunkSize:B.maxWebSocketChunkSize,forceBinaryWSFrames:B.forceBinaryWSFrames,logRawCommunication:B.logRawCommunication,appendMissingNULLonIncoming:B.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:B.discardWebsocketOnCommFailure,onConnect:yt=>{if(B._connectionWatcher&&(clearTimeout(B._connectionWatcher),B._connectionWatcher=void 0),!B.active)return B.debug("STOMP got connected while deactivate was issued, will disconnect now"),void B._disposeStompHandler();B.onConnect(yt)},onDisconnect:yt=>{B.onDisconnect(yt)},onStompError:yt=>{B.onStompError(yt)},onWebSocketClose:yt=>{B._stompHandler=void 0,B.state===A.DEACTIVATING&&B._changeState(A.INACTIVE),B.onWebSocketClose(yt),B.active&&B._schedule_reconnect()},onWebSocketError:yt=>{B.onWebSocketError(yt)},onUnhandledMessage:yt=>{B.onUnhandledMessage(yt)},onUnhandledReceipt:yt=>{B.onUnhandledReceipt(yt)},onUnhandledFrame:yt=>{B.onUnhandledFrame(yt)}}),B._stompHandler.start()})()}_createWebSocket(){let B;if(this.webSocketFactory)B=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");B=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return B.binaryType="arraybuffer",B}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){var B=this;return(0,e.Z)(function*(k={}){const yt=k.force||!1,Y=B.active;let xt;if(B.state===A.INACTIVE)return B.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(B._changeState(A.DEACTIVATING),B._reconnector&&(clearTimeout(B._reconnector),B._reconnector=void 0),!B._stompHandler||B.webSocket.readyState===R.CLOSED)return B._changeState(A.INACTIVE),Promise.resolve();{const z=B._stompHandler.onWebSocketClose;xt=new Promise((at,Pt)=>{B._stompHandler.onWebSocketClose=Gt=>{z(Gt),at()}})}return yt?B._stompHandler?.discardWebsocket():Y&&B._disposeStompHandler(),xt}).apply(this,arguments)}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(B){this._checkConnection(),this._stompHandler.publish(B)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(B,k){this._checkConnection(),this._stompHandler.watchForReceipt(B,k)}subscribe(B,k,yt={}){return this._checkConnection(),this._stompHandler.subscribe(B,k,yt)}unsubscribe(B,k={}){this._checkConnection(),this._stompHandler.unsubscribe(B,k)}begin(B){return this._checkConnection(),this._stompHandler.begin(B)}commit(B){this._checkConnection(),this._stompHandler.commit(B)}abort(B){this._checkConnection(),this._stompHandler.abort(B)}ack(B,k,yt={}){this._checkConnection(),this._stompHandler.ack(B,k,yt)}nack(B,k,yt={}){this._checkConnection(),this._stompHandler.nack(B,k,yt)}}!function(Bt){Bt[Bt.CONNECTING=0]="CONNECTING",Bt[Bt.OPEN=1]="OPEN",Bt[Bt.CLOSING=2]="CLOSING",Bt[Bt.CLOSED=3]="CLOSED"}(V=V||(V={}));class et{get stompClient(){return this._stompClient}constructor(B){this._queuedMessages=[];const k=B||new L;this._stompClient=k;const yt=()=>{};this._beforeConnect=yt,this._correlateErrors=()=>{},this._debug=yt,this._connectionStatePre$=new a.X(V.CLOSED),this._connectedPre$=this._connectionStatePre$.pipe((0,i.h)(Y=>Y===V.OPEN)),this.connectionState$=new a.X(V.CLOSED),this.connected$=this.connectionState$.pipe((0,i.h)(Y=>Y===V.OPEN)),this.connected$.subscribe(()=>{this._sendQueuedMessages()}),this._serverHeadersBehaviourSubject$=new a.X(null),this.serverHeaders$=this._serverHeadersBehaviourSubject$.pipe((0,i.h)(Y=>null!==Y)),this.stompErrors$=new g.x,this.unhandledMessage$=new g.x,this.unhandledReceipts$=new g.x,this.unhandledFrame$=new g.x,this.webSocketErrors$=new g.x}configure(B){const k=Object.assign({},B);k.beforeConnect&&(this._beforeConnect=k.beforeConnect,delete k.beforeConnect),k.correlateErrors&&(this._correlateErrors=k.correlateErrors,delete k.correlateErrors),this._stompClient.configure(k),k.debug&&(this._debug=k.debug)}activate(){var k,B=this;this._stompClient.configure({beforeConnect:(k=(0,e.Z)(function*(){B._changeState(V.CONNECTING),yield B._beforeConnect(B)}),function(){return k.apply(this,arguments)}),onConnect:k=>{this._serverHeadersBehaviourSubject$.next(k.headers),this._changeState(V.OPEN)},onStompError:k=>{this.stompErrors$.next(k)},onWebSocketClose:()=>{this._changeState(V.CLOSED)},onUnhandledMessage:k=>{this.unhandledMessage$.next(k)},onUnhandledReceipt:k=>{this.unhandledReceipts$.next(k)},onUnhandledFrame:k=>{this.unhandledFrame$.next(k)},onWebSocketError:k=>{this.webSocketErrors$.next(k)}}),this._stompClient.activate()}deactivate(){var B=this;return(0,e.Z)(function*(k={}){B._changeState(V.CLOSING),yield B._stompClient.deactivate(k),B._changeState(V.CLOSED)}).apply(this,arguments)}connected(){return this.connectionState$.getValue()===V.OPEN}get active(){return this.stompClient.active}publish(B){const k=null==B.retryIfDisconnected||B.retryIfDisconnected;if(this.connected())this._stompClient.publish(B);else{if(!k)throw new Error("Cannot publish while broker is not connected");this._debug("Not connected, queueing"),this._queuedMessages.push(B)}}_sendQueuedMessages(){const B=this._queuedMessages;if(this._queuedMessages=[],0!==B.length){this._debug(`Will try sending  ${B.length} queued message(s)`);for(const k of B)this._debug(`Attempting to send ${k}`),this.publish(k)}}watch(B,k={}){let Y;return Y=Object.assign({},{subHeaders:{},unsubHeaders:{},subscribeOnlyOnce:!1},"string"==typeof B?{destination:B,subHeaders:k}:B),this._debug(`Request to subscribe ${Y.destination}`),T.y.create(z=>{let at,Pt,Gt=this._connectedPre$;Y.subscribeOnlyOnce&&(Gt=Gt.pipe((0,_.q)(1)));const De=this.stompErrors$.subscribe(Ut=>{this._correlateErrors(Ut)===Y.destination&&z.error(Ut)});return Pt=Gt.subscribe(()=>{this._debug(`Will subscribe to ${Y.destination}`);let Ut=Y.subHeaders;"function"==typeof Ut&&(Ut=Ut()),at=this._stompClient.subscribe(Y.destination,Q=>{z.next(Q)},Ut)}),()=>{if(this._debug(`Stop watching connection state (for ${Y.destination})`),Pt.unsubscribe(),De.unsubscribe(),this.connected()){this._debug(`Will unsubscribe from ${Y.destination} at Stomp`);let Ut=Y.unsubHeaders;"function"==typeof Ut&&(Ut=Ut()),at.unsubscribe(Ut)}else this._debug(`Stomp not connected, no need to unsubscribe from ${Y.destination} at Stomp`)}}).pipe((0,m.B)())}watchForReceipt(B,k){this._stompClient.watchForReceipt(B,k)}asyncReceipt(B){return function v(Bt,B){const k="object"==typeof B;return new Promise((yt,Y)=>{const xt=new f.Hp({next:z=>{yt(z),xt.unsubscribe()},error:Y,complete:()=>{k?yt(B.defaultValue):Y(new h.K)}});Bt.subscribe(xt)})}(this.unhandledReceipts$.pipe((0,i.h)(k=>k.headers["receipt-id"]===B)))}_changeState(B){this._connectionStatePre$.next(B),this.connectionState$.next(B)}}var tt=o(2438),ht=o(6232),it=o(3019),It=o(9397),st=o(2460),dt=o(7398),St=o(1374),bt=o(2664),u=o(4664),ut=o(4869),Z=o(4004),I=o(1993);const F=new t.OlP("Provide stomp config"),Dt=new t.OlP("Provide url for sharedWorker script");let Wt=(()=>{class Bt{constructor(k){this.url=k;try{this.worker=new SharedWorker(this.url),this.worker.port.start(),(0,tt.R)(window,"unload").subscribe(()=>this.worker?.port.postMessage({type:"port-unload"}))}catch(yt){this.error=yt}}listenMessage(k){return new T.y(yt=>{let Y=ht.E;this.error?yt.error(this.error):this.worker&&(Y=(0,it.T)((0,tt.R)(this.worker.port,"message").pipe((0,It.b)(xt=>yt.next(xt))),(0,tt.R)(this.worker.port,"error").pipe((0,It.b)(xt=>yt.error(xt))))),Y.subscribe().add(yt)}).pipe((0,i.h)(yt=>yt.data.type===k))}postMessage(k){this.worker&&this.worker.port.postMessage(k)}static{this.\u0275fac=function(yt){return new(yt||Bt)(t.LFG(Dt))}}static{this.\u0275prov=t.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})();class Nt{get active(){return this.isActive$.value}constructor(){this.workerService=(0,t.f3M)(Wt),this.isActive$=new a.X(!1),this.serverHeaders=new a.X(null),this.serverHeaders$=this.serverHeaders.asObservable().pipe((0,i.h)(Boolean)),this.handlers={},this.destroyRef=(0,t.f3M)(t.ktI),this.workerService.listenMessage("stomp-activated").subscribe(()=>this.isActive$.next(!0)),this.workerService.listenMessage("stomp-before-connect").subscribe(()=>this.handlers.beforeConnect?.()),this.workerService.listenMessage("stomp-connect").subscribe(({data:B})=>{this.handlers.onConnect?.(B.data),this.serverHeaders.next(B.data.headers)}),this.workerService.listenMessage("stomp-error").subscribe(({data:B})=>this.handlers.onStompError?.(B.data)),this.workerService.listenMessage("stomp-ws-close").subscribe(({data:B})=>this.handlers.onWebSocketClose?.(B.data)),this.workerService.listenMessage("stomp-ws-error").subscribe(({data:B})=>this.handlers.onWebSocketError?.(new ErrorEvent(B.data))),this.mapMessageStream(this.workerService.listenMessage("stomp-unhandled-message")).subscribe(({data:B})=>this.handlers.onUnhandledMessage?.(B.data)),this.workerService.listenMessage("stomp-unhandled-receipt").subscribe(({data:B})=>this.handlers.onUnhandledReceipt?.(B.data)),this.workerService.listenMessage("stomp-unhandled-frame").subscribe(({data:B})=>this.handlers.onUnhandledFrame?.(B.data))}configure(B){Object.prototype.hasOwnProperty.call(B,"onConnect")?this.handlers=B:this.workerService.postMessage({type:"stomp-configure",data:B})}activate(){this.workerService.postMessage({type:"stomp-activate"})}publish(B){this.workerService.postMessage({type:"stomp-publish",data:B})}deactivate(B={}){return new Promise(k=>{this.workerService.postMessage({type:"stomp-deactivate",data:B}),this.workerService.listenMessage("stomp-deactivated").pipe((0,_.q)(1)).subscribe(()=>{this.isActive$.next(!1),k()})})}subscribe(...B){const[k,yt,Y]=B,xt=Y?.id||(0,Z.Z)();this.workerService.postMessage({type:"stomp-subscribe",data:{destination:k,subHeaders:{...Y,id:xt}}});const z=this.mapMessageStream(this.workerService.listenMessage("stomp-message")).pipe((0,I.sL)(this.destroyRef)).subscribe(({data:at})=>yt(at.data));return{id:xt,unsubscribe:at=>{z.unsubscribe(),this.workerService.postMessage({type:"stomp-unsubscribe",data:{id:xt,unsubHeaders:at}})}}}ack(B){this.workerService.postMessage({type:"stomp-ack",data:B})}nack(B){this.workerService.postMessage({type:"stomp-ack",data:B})}watchForReceipt(){console.error("Not implemented")}mapMessageStream(B){return B.pipe((0,st.M)(this.serverHeaders$),(0,dt.U)(([k,yt])=>{const Y=yt.version===S.V1_2?k.data.data.headers.ack:k.data.data.headers["message-id"],xt={...k.data.data,ack:(z={})=>this.ack([Y,xt.headers.subscription,z]),nack:(z={})=>this.nack([Y,xt.headers.subscription,z])};return{...k,data:{type:k.data.type,data:xt}}}))}}let Rt=(()=>{class Bt{constructor(){this.keycloakService=(0,t.f3M)(ut.MZ),this.destroyRef=(0,t.f3M)(t.ktI),this.rxStomp=new et(new Nt),(0,t.f3M)(F).pipe((0,St.P)()).subscribe(k=>{this.deactivate(),this.activate({...k,correlateErrors:yt=>{const Y=yt.headers?.message||yt.body||JSON.stringify(yt);return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 WebSocket",Y),console.error(yt),Y}})})}watchJsonMessage(k,yt){const xt={id:(0,Z.Z)()};return"string"==typeof k?xt.destination=k:xt.params=k,yt&&(xt.headers=yt),this.getWatcher(xt).pipe((0,I.sL)(this.destroyRef),(0,dt.U)(z=>({...z,body:JSON.parse(z.body)})))}publish(k){this.getAuthHeaderWithCurrentToken().then(yt=>{const Y={id:(0,Z.Z)(),...yt},xt={...k,headers:{...k.headers,...Y}};this.rxStomp.publish(xt)})}activate(k){this.rxStomp.configure(k),this.rxStomp.activate()}deactivate(){this.rxStomp.deactivate({force:!0})}updateHeaders(){this.getAuthHeaderWithCurrentToken().then(k=>{this.rxStomp.stompClient.connectHeaders={...this.rxStomp.stompClient.connectHeaders,...k}})}getWatcher(k){return(0,bt.D)(this.getAuthHeaderWithCurrentToken()).pipe((0,u.w)(yt=>{const Y={id:k.id,...yt};return k.destination?this.rxStomp.watch(k.destination,{...k.headers||{},...Y}):this.rxStomp.watch({...k.params,subHeaders:Y,unsubHeaders:{id:k.id}})}))}getAuthHeaderWithCurrentToken(){var k=this;return(0,e.Z)(function*(){return{Authorization:`Bearer ${yield k.keycloakService.getToken()}`}})()}static{this.\u0275fac=function(yt){return new(yt||Bt)}}static{this.\u0275prov=t.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}return Bt})()},634:(Qt,$,o)=>{"use strict";o.d($,{I:()=>m,S:()=>f});var e=o(5861),t=o(5879),a=o(7328),i=o(5619),g=o(2181),T=o(2664),_=o(708);const m=new t.OlP("API KEY FOR YMAPS API 3.0");let h=!1,f=(()=>{class v{get location$(){return this._location$}get selectedMarker$(){return this._selectedMarker$}get zoom(){if(this.map)return this.map.zoom;throw new Error("Map isn't initialized")}constructor(D,y){this.apiKey$=D,this.renderer=y,this.location=new a.t(1),this._location$=this.location.asObservable(),this.selectedMarker=new i.X(null),this._selectedMarker$=this.selectedMarker.asObservable().pipe((0,g.h)(E=>!!E)),this.defaultFeaturesLayer=null,this.rootContainer=null,this.map=null,this.controls=null,this.hint=null}renderMap(D,y){var E=this;return(0,T.D)((0,e.Z)(function*(){if(!h){const O=yield(0,_.n)(E.apiKey$);yield E.loadYmaps3(O),h=!0}yield ymaps3.ready,E.rootContainer=D,E.defaultFeaturesLayer=new ymaps3.YMapDefaultFeaturesLayer({}),E.map=new ymaps3.YMap(D,y,[new ymaps3.YMapDefaultSchemeLayer({}),E.defaultFeaturesLayer]),E.controls=yield E.initYMapZoomAndGeolocationControls(),E.map.addChild(E.controls),E.hint=yield E.initYMapHint(),E.map.addChild(E.hint),E.map.addChild(E.createClickMarkerListener()),E.map.addChild(E.createChangeBoundsListener())})())}initYMapZoomAndGeolocationControls(){return(0,e.Z)(function*(){const{YMapZoomControl:D}=yield ymaps3.import("@yandex/ymaps3-controls@0.0.1"),y=new ymaps3.YMapControls({position:"bottom"});return[new D({})].forEach(O=>O?y.addChild(O):null),y})()}initYMapHint(){var D=this;return(0,e.Z)(function*(){const{YMapHint:y,YMapHintContext:E}=yield ymaps3.import("@yandex/ymaps3-hint@0.0.1");return D.hint=new y({hint:O=>O?.properties?.hint}),D.hint.addChild(D.addHintLayout(E))})()}ngOnDestroy(){try{this.map?.destroy()}catch(D){console.log(D)}this.location.complete(),this.selectedMarker.complete()}setLocation(D){this.map?.setLocation(D)}setZoom(D){this.map?.setLocation({zoom:D,center:this.map.center})}removeMarker(D){this.map?.removeChild(D)}addMarker({props:D,element:y}){const E=new ymaps3.YMapMarker(D,y);return this.map?.addChild(E),E}loadYmaps3(D){return new Promise((y,E)=>{const O=`https://api-maps.yandex.ru/3.0/?apikey=${D}&lang=ru_RU`,M=this.renderer.createElement("script");this.renderer.setAttribute(M,"src",O),this.renderer.setAttribute(M,"async","true"),this.renderer.appendChild(document.body,M),M.onload=U=>y(U),M.onerror=()=>E(new Error(`\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442 \u042f\u043d\u0434\u0435\u043a\u0441 \u041a\u0430\u0440\u0442 ${O}`))})}addHintLayout(D){class y extends ymaps3.YMapComplexEntity{_onDetach(){this._detachDom()}_onAttach(){this._element=document.createElement("div"),this._element.className="map-hint",this._detachDom=ymaps3.useDomContext(this,this._element,null),this._watchContext(D,()=>{const O=this._consumeContext(D)?.hint;O&&(this._element.innerHTML=O)},{immediate:!0})}}return new y(D)}createClickMarkerListener(){return new ymaps3.YMapListener({layer:"any",onClick:D=>{"marker"===D?.type&&this.selectedMarker.next(D.entity)}})}createChangeBoundsListener(){return new ymaps3.YMapListener({layer:"any",onUpdate:D=>{this.location.next(D.location)}})}static{this.\u0275fac=function(y){return new(y||v)(t.LFG(m),t.LFG(t.Qsj))}}static{this.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac})}}return v})()},5742:(Qt,$,o)=>{"use strict";o.d($,{$q:()=>bt,Az:()=>f,ST:()=>L,dk:()=>w,m9:()=>v,uA:()=>et,wS:()=>C,zU:()=>Wt});var e=o(5879),t=o(5592),a=o(3020),i=o(2438),g=o(7921),T=o(7398),_=o(3997),m=o(7081),h=o(6814);const f=new e.OlP("[WA_WINDOW]",{factory:()=>{const{defaultView:Rt}=(0,e.f3M)(h.K0);if(!Rt)throw new Error("Window is not available");return Rt}}),v=f,C=new e.OlP("[WA_ANIMATION_FRAME]",{factory:()=>{const{requestAnimationFrame:Rt,cancelAnimationFrame:Bt}=(0,e.f3M)(v);return new t.y(k=>{let yt=NaN;const Y=xt=>{k.next(xt),yt=Rt(Y)};return yt=Rt(Y),()=>{Bt(yt)}}).pipe((0,a.B)())}}),w=(new e.OlP("[WA_CACHES]",{factory:()=>(0,e.f3M)(v).caches}),new e.OlP("[WA_CRYPTO]",{factory:()=>(0,e.f3M)(v).crypto}),new e.OlP("[WA_CSS]",{factory:()=>(0,e.f3M)(v).CSS??{escape:Rt=>Rt,supports:()=>!1}}),new e.OlP("[WA_HISTORY]",{factory:()=>(0,e.f3M)(v).history}),new e.OlP("[WA_LOCAL_STORAGE]",{factory:()=>(0,e.f3M)(v).localStorage})),L=new e.OlP("[WA_LOCATION]",{factory:()=>(0,e.f3M)(v).location}),et=new e.OlP("[WA_NAVIGATOR]",{factory:()=>(0,e.f3M)(v).navigator}),tt=et,bt=(new e.OlP("[WA_MEDIA_DEVICES]",{factory:()=>(0,e.f3M)(tt).mediaDevices}),new e.OlP("[WA_NETWORK_INFORMATION]",{factory:()=>(0,e.f3M)(et).connection||null}),new e.OlP("[WA_PAGE_VISIBILITY]",{factory:()=>{const Rt=(0,e.f3M)(h.K0);return(0,i.R)(Rt,"visibilitychange").pipe((0,g.O)(0),(0,T.U)(()=>"hidden"!==Rt.visibilityState),(0,_.x)(),(0,m.d)({refCount:!1,bufferSize:1}))}}),new e.OlP("[WA_PERFORMANCE]",{factory:()=>(0,e.f3M)(v).performance})),Wt=(new e.OlP("[WA_SCREEN]",{factory:()=>(0,e.f3M)(v).screen}),new e.OlP("[WA_SESSION_STORAGE]",{factory:()=>(0,e.f3M)(v).sessionStorage}),new e.OlP("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{const Rt=(0,e.f3M)(v);return Rt.speechRecognition||Rt.webkitSpeechRecognition||null}}),new e.OlP("[WA_SPEECH_SYNTHESIS]",{factory:()=>(0,e.f3M)(v).speechSynthesis}),new e.OlP("[WA_USER_AGENT]",{factory:()=>(0,e.f3M)(tt).userAgent}))},2187:(Qt,$,o)=>{"use strict";o.d($,{Rd:()=>V,X$:()=>E,c4:()=>w,eo:()=>f,hK:()=>U,te:()=>it});var e=o(5879),t=o(5592),a=o(3020),i=o(5742);const g=typeof IntersectionObserver<"u"?IntersectionObserver:class{root=null;rootMargin="";thresholds=[];observe(){}unobserve(){}disconnect(){}takeRecords(){return[]}},_=new e.OlP("[WA_INTERSECTION_ROOT]"),h="0px 0px 0px 0px",f=new e.OlP("[WA_INTERSECTION_ROOT_MARGIN]",{providedIn:"root",factory:()=>h}),v=f,E=new e.OlP("[WA_INTERSECTION_THRESHOLD]",{providedIn:"root",factory:()=>0}),O=E;let U=(()=>{class dt extends g{callbacks=new Map;margin="";threshold="";constructor(){const bt=(0,e.f3M)(_,{optional:!0});super(u=>{this.callbacks.forEach((ut,Z)=>{const I=u.filter(({target:F})=>F===Z);return I.length&&ut(I,this)})},{root:bt?.nativeElement,rootMargin:(0,e.f3M)(e.SBq).nativeElement.getAttribute("waIntersectionRootMargin")||h,threshold:(0,e.f3M)(e.SBq).nativeElement.getAttribute("waIntersectionThreshold")?.split(",").map(parseFloat)||0})}observe(bt,u=(()=>{})){super.observe(bt),this.callbacks.set(bt,u)}unobserve(bt){super.unobserve(bt),this.callbacks.delete(bt)}ngOnDestroy(){this.disconnect()}static \u0275fac=function(u){return new(u||dt)};static \u0275dir=e.lG2({type:dt,selectors:[["","waIntersectionObserver",""]],inputs:{margin:["waIntersectionRootMargin","margin"],threshold:["waIntersectionThreshold","threshold"]},exportAs:["IntersectionObserver"],standalone:!0,features:[e.qOj]})}return dt})(),S=(()=>{class dt extends t.y{constructor(){const bt=(0,e.f3M)(e.SBq).nativeElement,u=(0,e.f3M)(U);return super(ut=>(u.observe(bt,Z=>{ut.next(Z)}),()=>{u.unobserve(bt)})),this.pipe((0,a.B)())}static \u0275fac=function(u){return new(u||dt)};static \u0275prov=e.Yz7({token:dt,factory:dt.\u0275fac})}return dt})(),w=(()=>{class dt{waIntersectionObservee=(0,e.f3M)(S);static \u0275fac=function(u){return new(u||dt)};static \u0275dir=e.lG2({type:dt,selectors:[["","waIntersectionObservee",""]],outputs:{waIntersectionObservee:"waIntersectionObservee"},standalone:!0,features:[e._Bn([S])]})}return dt})(),V=(()=>{class dt{static \u0275fac=function(u){return new(u||dt)};static \u0275dir=e.lG2({type:dt,selectors:[["","waIntersectionRoot",""]],standalone:!0,features:[e._Bn([{provide:_,useExisting:e.SBq}])]})}return dt})(),it=(()=>{class dt extends t.y{nativeElement=(0,e.f3M)(e.SBq).nativeElement;rootMargin=(0,e.f3M)(v);threshold=(0,e.f3M)(O);root=(0,e.f3M)(_,{optional:!0})?.nativeElement??null;constructor(){super(bt=>{const u=new g(ut=>{bt.next(ut)},{root:this.root,rootMargin:this.rootMargin,threshold:this.threshold});return u.observe(this.nativeElement),()=>{u.disconnect()}})}static \u0275fac=function(u){return new(u||dt)};static \u0275prov=e.Yz7({token:dt,factory:dt.\u0275fac})}return dt})();new e.OlP("[WA_INTERSECTION_OBSERVER_SUPPORT]: [INTERSECTION_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!(0,e.f3M)(i.Az).IntersectionObserver})},2071:(Qt,$,o)=>{"use strict";o.d($,{IM:()=>v,bq:()=>i});var e=o(5879),t=o(5592);const a=typeof MutationObserver<"u"?MutationObserver:class{observe(){}disconnect(){}takeRecords(){return[]}},i=new e.OlP("[WA_MUTATION_OBSERVER_INIT]"),g=i;let v=(()=>{class C extends t.y{constructor(){const y=(0,e.f3M)(e.SBq).nativeElement,E=(0,e.f3M)(g);super(O=>{const M=new a(U=>{O.next(U)});return M.observe(y,E),()=>{M.disconnect()}})}static \u0275fac=function(E){return new(E||C)};static \u0275prov=e.Yz7({token:C,factory:C.\u0275fac})}return C})()},5136:(Qt,$,o)=>{"use strict";o.d($,{mL:()=>y,s:()=>m});var e=o(5879),t=o(5742),a=o(1993),i=o(2438),g=o(7398);const T=/^((?!chrome|android).)*safari/i,_=/ipad|iphone|ipod/i;function m({userAgent:A,maxTouchPoints:S}){return _.test(A)||T.test(A)&&S>1}const h=new e.OlP("",{factory:()=>m((0,e.f3M)(t.uA))}),f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series([46])0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/,v=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \-/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ /])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/,C=new e.OlP("",{factory:()=>f.test((0,e.f3M)(t.zU).toLowerCase())||v.test((0,e.f3M)(t.zU).slice(0,4).toLowerCase())});function y(A){return m(A)||T.test(A.userAgent)}new e.OlP("",{factory:()=>(0,e.f3M)(C)&&!(0,e.f3M)(h)}),new e.OlP("",{factory:()=>{const A=(0,e.f3M)(t.Az).matchMedia("(pointer: coarse)");return(0,a.O4)((0,i.R)(A,"change").pipe((0,g.U)(()=>A.matches)),{initialValue:A.matches})}}),new e.OlP("",{factory:()=>!!(0,e.f3M)(t.Az)?.webkitConvertPointFromNodeToPage})},6918:(Qt,$,o)=>{"use strict";o.d($,{ax:()=>h,jg:()=>m,wh:()=>f});var e=o(5879),t=o(5592),a=o(5742);const i=typeof ResizeObserver<"u"?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},T="content-box",m=new e.OlP("[WA_RESIZE_OPTION_BOX]",{providedIn:"root",factory:()=>T});let h=(()=>{class y extends t.y{constructor(){const O=(0,e.f3M)(e.SBq).nativeElement,M=(0,e.f3M)(m);super(U=>{const R=new i(A=>U.next(A));return R.observe(O,{box:M}),()=>{R.disconnect()}})}static \u0275fac=function(M){return new(M||y)};static \u0275prov=e.Yz7({token:y,factory:y.\u0275fac})}return y})(),f=(()=>{class y{waResizeObserver=(0,e.f3M)(h);box=T;static \u0275fac=function(M){return new(M||y)};static \u0275dir=e.lG2({type:y,selectors:[["","waResizeObserver",""]],inputs:{waResizeBox:["box","waResizeBox"]},outputs:{waResizeObserver:"waResizeObserver"},standalone:!0,features:[e._Bn([h,{provide:m,useFactory:()=>(0,e.f3M)(e.SBq).nativeElement.getAttribute("waResizeBox")||T}])]})}return y})();new e.OlP("[WA_RESIZE_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!(0,e.f3M)(a.Az).ResizeObserver})},9673:(Qt,$,o)=>{"use strict";o.d($,{_b:()=>u,m1:()=>It});var e=o(5592),t=o(7394),a=o(6410),i=o(7328),g=o(7258),T=o(2096),_=o(2381),m=o(6232),h=o(8504),f=o(5154),v=o(2572),C=o(8645),D=o(9773),y=o(3093),E=o(9397),O=o(2460),M=o(7398),U=o(6306),R=o(8180),A=o(3997),S=o(7081),w=o(4716),p=o(5879),L=o(1993);function et(ut){return"function"==typeof ut.ngrxOnStoreInit}function tt(ut){return"function"==typeof ut.ngrxOnStateInit}const it=new p.OlP("@ngrx/component-store Initial State");let It=(()=>{class ut{constructor(I){this.destroySubject$=new i.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new i.t(1),this.isInitialized=!1,this.state$=this.select(F=>F),this.state=(0,L.O4)(this.stateSubject$.pipe((0,D.R)(this.destroy$)),{requireSync:!1,manualCleanup:!0}),this.\u0275hasProvider=!1,I&&this.initState(I),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(I){return F=>{let nt,ot=!0;const Dt=((0,g.b)(F)?F:(0,T.of)(F)).pipe((0,y.Q)(_.N),(0,E.b)(()=>this.assertStateIsInitialized()),(0,O.M)(this.stateSubject$),(0,M.U)(([Wt,Nt])=>I(Nt,Wt)),(0,E.b)(Wt=>this.stateSubject$.next(Wt)),(0,U.K)(Wt=>ot?(nt=Wt,m.E):(0,h._)(Wt)),(0,D.R)(this.destroy$)).subscribe();if(nt)throw nt;return ot=!1,Dt}}initState(I){(0,f.x)([I],_.N).subscribe(F=>{this.isInitialized=!0,this.stateSubject$.next(F)})}setState(I){"function"!=typeof I?this.initState(I):this.updater(I)()}patchState(I){const F="function"==typeof I?I(this.get()):I;this.updater((ot,nt)=>({...ot,...nt}))(F)}get(I){let F;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,R.q)(1)).subscribe(ot=>{F=I?I(ot):ot}),F}select(...I){const{observablesOrSelectorsObject:F,projector:ot,config:nt}=function st(ut){const Z=Array.from(ut);let F={debounce:!1,equal:(At,Dt)=>At===Dt};if(function dt(ut){return typeof ut.debounce<"u"||typeof ut.equal<"u"}(Z[Z.length-1])&&(F={...F,...Z.pop()}),1===Z.length&&"function"!=typeof Z[0])return{observablesOrSelectorsObject:Z[0],projector:void 0,config:F};const ot=Z.pop();return{observablesOrSelectorsObject:Z,projector:ot,config:F}}(I);return(function St(ut,Z){return Array.isArray(ut)&&0===ut.length&&Z}(F,ot)?this.stateSubject$:(0,v.a)(F)).pipe(nt.debounce?function V(){return ut=>new e.y(Z=>{let I,F;const ot=new t.w0;return ot.add(ut.subscribe({complete:()=>{I&&Z.next(F),Z.complete()},error:nt=>{Z.error(nt)},next:nt=>{F=nt,I||(I=a.E.schedule(()=>{Z.next(F),I=void 0}),ot.add(I))}})),ot})}():ut=>ut,ot?(0,M.U)(Dt=>F.length>0&&Array.isArray(Dt)?ot(...Dt):ot(Dt)):ut=>ut,(0,A.x)(nt.equal),(0,S.d)({refCount:!0,bufferSize:1}),(0,D.R)(this.destroy$))}selectSignal(...I){const F=[...I],ot=(Nt,Rt)=>Nt===Rt,nt="object"==typeof F[I.length-1]?{equal:F.pop().equal||ot}:{equal:ot},At=F.pop(),Dt=F;return(0,p.Flj)(0===Dt.length?()=>At(this.state()):()=>{const Nt=Dt.map(Rt=>Rt());return At(...Nt)},nt)}effect(I){const F=new C.x;return I(F).pipe((0,D.R)(this.destroy$)).subscribe(),ot=>((0,g.b)(ot)?ot:(0,T.of)(ot)).pipe((0,D.R)(this.destroy$)).subscribe(At=>{F.next(At)})}checkProviderForHooks(){a.E.schedule(()=>{if((0,p.X6Q)()&&(et(this)||tt(this))&&!this.\u0275hasProvider){const I=[et(this)?"OnStoreInit":"",tt(this)?"OnStateInit":""].filter(F=>F);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${I.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}static{this.\u0275fac=function(F){return new(F||ut)(p.LFG(it,8))}}static{this.\u0275prov=p.Yz7({token:ut,factory:ut.\u0275fac})}}return ut})();function u(ut,Z,I){const F="function"==typeof ut?{next:ut,error:Z,complete:I}:ut;return ot=>ot.pipe((0,E.b)({next:F.next,complete:F.complete}),(0,U.K)(nt=>(F.error(nt),m.E)),F.finalize?(0,w.x)(F.finalize):nt=>nt)}},8131:(Qt,$,o)=>{"use strict";o.d($,{eX:()=>At,IC:()=>Hn,GW:()=>It,l4:()=>Dt,y3:()=>rn});var e=o(3019),t=o(5592),a=o(8645),i=o(2096),g=o(7538),T=o(6232),_=o(8504),m=o(4674);class f{constructor(wn,oe,Ht){this.kind=wn,this.value=oe,this.error=Ht,this.hasValue="N"===wn}observe(wn){return v(this,wn)}do(wn,oe,Ht){const{kind:xn,value:ce,error:me}=this;return"N"===xn?wn?.(ce):"E"===xn?oe?.(me):Ht?.()}accept(wn,oe,Ht){var xn;return(0,m.m)(null===(xn=wn)||void 0===xn?void 0:xn.next)?this.observe(wn):this.do(wn,oe,Ht)}toObservable(){const{kind:wn,value:oe,error:Ht}=this,xn="N"===wn?(0,i.of)(oe):"E"===wn?(0,_._)(()=>Ht):"C"===wn?T.E:0;if(!xn)throw new TypeError(`Unexpected notification kind ${wn}`);return xn}static createNext(wn){return new f("N",wn)}static createError(wn){return new f("E",void 0,wn)}static createComplete(){return f.completeNotification}}function v(re,wn){var oe,Ht,xn;const{kind:ce,value:me,error:En}=re;if("string"!=typeof ce)throw new TypeError('Invalid notification, missing "kind"');"N"===ce?null===(oe=wn.next)||void 0===oe||oe.call(wn,me):"E"===ce?null===(Ht=wn.error)||void 0===Ht||Ht.call(wn,En):null===(xn=wn.complete)||void 0===xn||xn.call(wn)}f.completeNotification=new f("C");var C=o(9360),D=o(8251),E=o(7398),O=o(6306),M=o(2181),U=o(4829);function R(re,wn,oe,Ht){return(0,C.e)((xn,ce)=>{let me;wn&&"function"!=typeof wn?({duration:oe,element:me,connector:Ht}=wn):me=wn;const En=new Map,_n=Ne=>{En.forEach(Ne),Ne(ce)},Qe=Ne=>_n(Ke=>Ke.error(Ne));let xe=0,je=!1;const ke=new D.Q(ce,Ne=>{try{const Ke=re(Ne);let qe=En.get(Ke);if(!qe){En.set(Ke,qe=Ht?Ht():new a.x);const kn=function we(Ne,Ke){const qe=new t.y(kn=>{xe++;const ui=Ke.subscribe(kn);return()=>{ui.unsubscribe(),0==--xe&&je&&ke.unsubscribe()}});return qe.key=Ne,qe}(Ke,qe);if(ce.next(kn),oe){const ui=(0,D.x)(qe,()=>{qe.complete(),ui?.unsubscribe()},void 0,void 0,()=>En.delete(Ke));ke.add((0,U.Xf)(oe(kn)).subscribe(ui))}}qe.next(me?me(Ne):Ne)}catch(Ke){Qe(Ke)}},()=>_n(Ne=>Ne.complete()),Qe,()=>En.clear(),()=>(je=!0,0===xe));xn.subscribe(ke)})}var A=o(1631),S=o(7634),p=o(8180),L=o(6328),V=o(2460),et=o(5879),tt=o(4221);const ht={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},it="__@ngrx/effects_create__";function It(re,wn={}){const oe=wn.functional?re:re(),Ht={...ht,...wn};return Object.defineProperty(oe,it,{value:Ht}),oe}function bt(re){return Object.getPrototypeOf(re)}function ut(re){return"function"==typeof re}function F(re,wn,oe){const Ht=bt(re),ce=Ht&&"Object"!==Ht.constructor.name?Ht.constructor.name:null,me=function St(re){return function st(re){return Object.getOwnPropertyNames(re).filter(Ht=>!(!re[Ht]||!re[Ht].hasOwnProperty(it))&&re[Ht][it].hasOwnProperty("dispatch")).map(Ht=>({propertyName:Ht,...re[Ht][it]}))}(re)}(re).map(({propertyName:En,dispatch:_n,useEffectsErrorHandler:Qe})=>{const xe="function"==typeof re[En]?re[En]():re[En],je=Qe?oe(xe,wn):xe;return!1===_n?je.pipe((0,g.l)()):je.pipe(function y(){return(0,C.e)((re,wn)=>{re.subscribe((0,D.x)(wn,oe=>{wn.next(f.createNext(oe))},()=>{wn.next(f.createComplete()),wn.complete()},oe=>{wn.next(f.createError(oe)),wn.complete()}))})}()).pipe((0,E.U)(we=>({effect:re[En],notification:we,propertyName:En,sourceName:ce,sourceInstance:re})))});return(0,e.T)(...me)}function nt(re,wn,oe=10){return re.pipe((0,O.K)(Ht=>(wn&&wn.handleError(Ht),oe<=1?re:nt(re,wn,oe-1))))}let At=(()=>{class re extends t.y{constructor(oe){super(),oe&&(this.source=oe)}lift(oe){const Ht=new re;return Ht.source=this,Ht.operator=oe,Ht}static{this.\u0275fac=function(Ht){return new(Ht||re)(et.LFG(tt.Y$))}}static{this.\u0275prov=et.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();function Dt(...re){return(0,M.h)(wn=>re.some(oe=>"string"==typeof oe?oe===wn.type:oe.type===wn.type))}new et.OlP("@ngrx/effects Internal Root Guard"),new et.OlP("@ngrx/effects User Provided Effects"),new et.OlP("@ngrx/effects Internal Root Effects"),new et.OlP("@ngrx/effects Internal Root Effects Instances"),new et.OlP("@ngrx/effects Internal Feature Effects"),new et.OlP("@ngrx/effects Internal Feature Effects Instance Groups");const yt=new et.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>nt}),xt=(0,tt.PH)("@ngrx/effects/init");function le(re){return ne(re,"ngrxOnInitEffects")}function ne(re,wn){return re&&wn in re&&"function"==typeof re[wn]}let Ge=(()=>{class re extends a.x{constructor(oe,Ht){super(),this.errorHandler=oe,this.effectsErrorHandler=Ht}addEffects(oe){this.next(oe)}toActions(){return this.pipe(R(oe=>function u(re){return!!re.constructor&&"Object"!==re.constructor.name&&"Function"!==re.constructor.name}(oe)?bt(oe):oe),(0,A.z)(oe=>oe.pipe(R(Se))),(0,A.z)(oe=>{const Ht=oe.pipe((0,S.z)(ce=>function Pe(re,wn){return oe=>{const Ht=F(oe,re,wn);return function Ot(re){return ne(re,"ngrxOnRunEffects")}(oe)?oe.ngrxOnRunEffects(Ht):Ht}}(this.errorHandler,this.effectsErrorHandler)(ce)),(0,E.U)(ce=>(function z(re,wn){if("N"===re.notification.kind){const oe=re.notification.value;!function at(re){return"function"!=typeof re&&re&&re.type&&"string"==typeof re.type}(oe)&&wn.handleError(new Error(`Effect ${function Pt({propertyName:re,sourceInstance:wn,sourceName:oe}){const Ht="function"==typeof wn[re];return oe?`"${oe}.${String(re)}${Ht?"()":""}"`:`"${String(re)}()"`}(re)} dispatched an invalid action: ${function Gt(re){try{return JSON.stringify(re)}catch{return re}}(oe)}`))}}(ce,this.errorHandler),ce.notification)),(0,M.h)(ce=>"N"===ce.kind&&null!=ce.value),function w(){return(0,C.e)((re,wn)=>{re.subscribe((0,D.x)(wn,oe=>v(oe,wn)))})}()),xn=oe.pipe((0,p.q)(1),(0,M.h)(le),(0,E.U)(ce=>ce.ngrxOnInitEffects()));return(0,e.T)(Ht,xn)}))}static{this.\u0275fac=function(Ht){return new(Ht||re)(et.LFG(et.qLn),et.LFG(yt))}}static{this.\u0275prov=et.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();function Se(re){return function Ut(re){return ne(re,"ngrxOnIdentifyEffects")}(re)?re.ngrxOnIdentifyEffects():""}let Ue=(()=>{class re{get isStarted(){return!!this.effectsSubscription}constructor(oe,Ht){this.effectSources=oe,this.store=Ht,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(Ht){return new(Ht||re)(et.LFG(Ge),et.LFG(tt.yh))}}static{this.\u0275prov=et.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();function Hn(re){return(0,L.b)(wn=>{const oe=re(wn),Ht=Array.isArray(oe)?oe:[oe];return(0,i.of)(wn).pipe((0,V.M)(...Ht))})}function rn(...re){const wn=re.flat(),oe=function Z(re){return re.filter(ut)}(wn);return(0,et.MR2)([oe,{provide:et.Xts,multi:!0,useValue:()=>{(0,et.f3M)(tt.qY),(0,et.f3M)(tt.Py,{optional:!0});const Ht=(0,et.f3M)(Ue),xn=(0,et.f3M)(Ge),ce=!Ht.isStarted;ce&&Ht.start();for(const me of wn){const En=ut(me)?(0,et.f3M)(me):me;xn.addEffects(En)}ce&&(0,et.f3M)(tt.yh).dispatch(xt())}}])}},6293:(Qt,$,o)=>{"use strict";o.d($,{H:()=>v});var e=o(4221),t=o(5879),T=function(D){return D[D.EntitiesOnly=0]="EntitiesOnly",D[D.Both=1]="Both",D[D.None=2]="None",D}(T||{});function _(D){return function(E,O){const M={ids:[...O.ids],entities:{...O.entities}},U=D(E,M);return U===T.Both?Object.assign({},O,M):U===T.EntitiesOnly?{...O,entities:M.entities}:O}}function m(D,y){const E=y(D);return(0,t.X6Q)()&&void 0===E&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",D,"The `selectId` implementation:",y.toString()),E}function h(D){function y(it,It){const st=m(it,D);return st in It.entities?T.None:(It.ids.push(st),It.entities[st]=it,T.Both)}function E(it,It){let st=!1;for(const dt of it)st=y(dt,It)!==T.None||st;return st?T.Both:T.None}function M(it,It){const st=m(it,D);return st in It.entities?(It.entities[st]=it,T.EntitiesOnly):(It.ids.push(st),It.entities[st]=it,T.Both)}function A(it,It){const dt=(it instanceof Array?it:It.ids.filter(St=>it(It.entities[St]))).filter(St=>St in It.entities).map(St=>delete It.entities[St]).length>0;return dt&&(It.ids=It.ids.filter(St=>St in It.entities)),dt?T.Both:T.None}function p(it,It){return L([it],It)}function L(it,It){const st={};return(it=it.filter(St=>St.id in It.entities)).length>0?it.filter(bt=>function w(it,It,st){const St=Object.assign({},st.entities[It.id],It.changes),bt=m(St,D),u=bt!==It.id;return u&&(it[It.id]=bt,delete st.entities[It.id]),st.entities[bt]=St,u}(st,bt,It)).length>0?(It.ids=It.ids.map(bt=>st[bt]||bt),T.Both):T.EntitiesOnly:T.None}function ht(it,It){const st=[],dt=[];for(const u of it){const ut=m(u,D);ut in It.entities?dt.push({id:ut,changes:u}):st.push(u)}const St=L(dt,It),bt=E(st,It);switch(!0){case bt===T.None&&St===T.None:return T.None;case bt===T.Both||St===T.Both:return T.Both;default:return T.EntitiesOnly}}return{removeAll:function S(it){return Object.assign({},it,{ids:[],entities:{}})},addOne:_(y),addMany:_(E),setAll:_(function O(it,It){return It.ids=[],It.entities={},E(it,It),T.Both}),setOne:_(M),setMany:_(function U(it,It){const st=it.map(dt=>M(dt,It));switch(!0){case st.some(dt=>dt===T.Both):return T.Both;case st.some(dt=>dt===T.EntitiesOnly):return T.EntitiesOnly;default:return T.None}}),updateOne:_(p),updateMany:_(L),upsertOne:_(function tt(it,It){return ht([it],It)}),upsertMany:_(ht),removeOne:_(function R(it,It){return A([it],It)}),removeMany:_(A),map:_(function V(it,It){return L(It.ids.reduce((St,bt)=>{const u=it(It.entities[bt]);return u!==It.entities[bt]&&St.push({id:bt,changes:u}),St},[]).filter(({id:St})=>St in It.entities),It)}),mapOne:_(function et({map:it,id:It},st){const dt=st.entities[It];return dt?p({id:It,changes:it(dt)},st):T.None})}}function f(D,y){const{removeOne:E,removeMany:O,removeAll:M}=h(D);function U(st,dt){return R([st],dt)}function R(st,dt){const St=st.filter(bt=>!(m(bt,D)in dt.entities));return 0===St.length?T.None:(It(St,dt),T.Both)}function S(st,dt){const St=m(st,D);return St in dt.entities?(dt.ids=dt.ids.filter(bt=>bt!==St),It([st],dt),T.Both):U(st,dt)}function p(st,dt){return V([st],dt)}function V(st,dt){const St=[],bt=st.filter(u=>function L(st,dt,St){if(!(dt.id in St.entities))return!1;const u=Object.assign({},St.entities[dt.id],dt.changes),ut=m(u,D);return delete St.entities[dt.id],st.push(u),ut!==dt.id}(St,u,dt)).length>0;if(0===St.length)return T.None;{const u=dt.ids,ut=[];return dt.ids=dt.ids.filter((Z,I)=>Z in dt.entities||(ut.push(I),!1)),It(St,dt),!bt&&ut.every(Z=>dt.ids[Z]===u[Z])?T.EntitiesOnly:T.Both}}function it(st,dt){const St=[],bt=[];for(const Z of st){const I=m(Z,D);I in dt.entities?bt.push({id:I,changes:Z}):St.push(Z)}const u=V(bt,dt),ut=R(St,dt);switch(!0){case ut===T.None&&u===T.None:return T.None;case ut===T.Both||u===T.Both:return T.Both;default:return T.EntitiesOnly}}function It(st,dt){st.sort(y);const St=[];let bt=0,u=0;for(;bt<st.length&&u<dt.ids.length;){const ut=st[bt],Z=m(ut,D),I=dt.ids[u];y(ut,dt.entities[I])<=0?(St.push(Z),bt++):(St.push(I),u++)}dt.ids=St.concat(bt<st.length?st.slice(bt).map(D):dt.ids.slice(u)),st.forEach((ut,Z)=>{dt.entities[D(ut)]=ut})}return{removeOne:E,removeMany:O,removeAll:M,addOne:_(U),updateOne:_(p),upsertOne:_(function ht(st,dt){return it([st],dt)}),setAll:_(function A(st,dt){return dt.entities={},dt.ids=[],R(st,dt),T.Both}),setOne:_(S),setMany:_(function w(st,dt){const St=st.map(bt=>S(bt,dt));switch(!0){case St.some(bt=>bt===T.Both):return T.Both;case St.some(bt=>bt===T.EntitiesOnly):return T.EntitiesOnly;default:return T.None}}),addMany:_(R),updateMany:_(V),upsertMany:_(it),map:_(function et(st,dt){return V(dt.ids.reduce((bt,u)=>{const ut=st(dt.entities[u]);return ut!==dt.entities[u]&&bt.push({id:u,changes:ut}),bt},[]),dt)}),mapOne:_(function tt({map:st,id:dt},St){const bt=St.entities[dt];return bt?p({id:dt,changes:st(bt)},St):T.None})}}function v(D={}){const{selectId:y,sortComparer:E}={selectId:D.selectId??(R=>R.id),sortComparer:D.sortComparer??!1},O=function i(){return{getInitialState:function D(y={}){return Object.assign({ids:[],entities:{}},y)}}}(),M=function g(){return{getSelectors:function D(y){const E=R=>R.ids,O=R=>R.entities,M=(0,e.P1)(E,O,(R,A)=>R.map(S=>A[S])),U=(0,e.P1)(E,R=>R.length);return y?{selectIds:(0,e.P1)(y,E),selectEntities:(0,e.P1)(y,O),selectAll:(0,e.P1)(y,M),selectTotal:(0,e.P1)(y,U)}:{selectIds:E,selectEntities:O,selectAll:M,selectTotal:U}}}}();return{selectId:y,sortComparer:E,...O,...M,...E?f(y,E):h(y)}}},493:(Qt,$,o)=>{"use strict";o.d($,{R0:()=>M,eN:()=>ht,mg:()=>E});var e=o(4221),t=o(5879),a=o(4190),i=o(2460);const g="@ngrx/router-store/request",_=((0,e.PH)(g,(0,e.Ky)()),"@ngrx/router-store/navigation"),h=((0,e.PH)(_,(0,e.Ky)()),"@ngrx/router-store/cancel"),v=((0,e.PH)(h,(0,e.Ky)()),"@ngrx/router-store/error"),D=((0,e.PH)(v,(0,e.Ky)()),"@ngrx/router-store/navigated");function E(dt,St){const bt=St;switch(bt.type){case _:case v:case h:return{state:bt.payload.routerState,navigationId:bt.payload.event.id};default:return dt}}(0,e.PH)(D,(0,e.Ky)());class O{serialize(St){return{root:this.serializeRoute(St.root),url:St.url}}serializeRoute(St){const bt=St.children.map(u=>this.serializeRoute(u));return{params:St.params,data:St.data,url:St.url,outlet:St.outlet,title:St.title,routeConfig:St.routeConfig?{path:St.routeConfig.path,pathMatch:St.routeConfig.pathMatch,redirectTo:St.routeConfig.redirectTo,outlet:St.routeConfig.outlet,title:"string"==typeof St.routeConfig.title?St.routeConfig.title:void 0}:null,queryParams:St.queryParams,fragment:St.fragment,firstChild:bt[0],children:bt}}}var M=function(dt){return dt[dt.PreActivation=1]="PreActivation",dt[dt.PostActivation=2]="PostActivation",dt}(M||{});const U="router",R=new t.OlP("@ngrx/router-store Internal Configuration"),A=new t.OlP("@ngrx/router-store Configuration");function S(dt){return{stateKey:U,serializer:O,navigationActionTiming:M.PreActivation,...dt}}class w{serialize(St){return{root:this.serializeRoute(St.root),url:St.url}}serializeRoute(St){const bt=St.children.map(u=>this.serializeRoute(u));return{params:St.params,paramMap:St.paramMap,data:St.data,url:St.url,outlet:St.outlet,title:St.title,routeConfig:St.routeConfig?{component:St.routeConfig.component,path:St.routeConfig.path,pathMatch:St.routeConfig.pathMatch,redirectTo:St.routeConfig.redirectTo,outlet:St.routeConfig.outlet,title:St.routeConfig.title}:null,queryParams:St.queryParams,queryParamMap:St.queryParamMap,fragment:St.fragment,component:St.routeConfig?St.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:bt[0],pathFromRoot:void 0,children:bt}}}class p{}var L=function(dt){return dt[dt.NONE=1]="NONE",dt[dt.ROUTER=2]="ROUTER",dt[dt.STORE=3]="STORE",dt}(L||{});let V=(()=>{class dt{constructor(bt,u,ut,Z,I,F){this.store=bt,this.router=u,this.serializer=ut,this.errorHandler=Z,this.config=I,this.activeRuntimeChecks=F,this.lastEvent=null,this.routerState=null,this.trigger=L.NONE,this.stateKey=this.config.stateKey,!(0,e.rM)()&&(0,t.X6Q)()&&(F?.strictActionSerializability||F?.strictStateSerializability)&&this.serializer instanceof w&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,e.Ys)(this.stateKey),(0,i.M)(this.store)).subscribe(([bt,u])=>{this.navigateIfNeeded(bt,u)})}navigateIfNeeded(bt,u){if(!bt||!bt.state||this.trigger===L.ROUTER||this.lastEvent instanceof a.OD)return;const ut=bt.state.url;(function et(dt,St){return tt(dt)===tt(St)})(this.router.url,ut)||(this.storeState=u,this.trigger=L.STORE,this.router.navigateByUrl(ut).catch(Z=>{this.errorHandler.handleError(Z)}))}setUpRouterEventsListener(){const bt=this.config.navigationActionTiming===M.PostActivation;let u;this.router.events.pipe((0,i.M)(this.store)).subscribe(([ut,Z])=>{this.lastEvent=ut,ut instanceof a.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==L.STORE&&(this.storeState=Z,this.dispatchRouterRequest(ut))):ut instanceof a.R9?(u=ut,!bt&&this.trigger!==L.STORE&&this.dispatchRouterNavigation(ut)):ut instanceof a.gk?(this.dispatchRouterCancel(ut),this.reset()):ut instanceof a.Q3?(this.dispatchRouterError(ut),this.reset()):ut instanceof a.m2&&(this.trigger!==L.STORE&&(bt&&this.dispatchRouterNavigation(u),this.dispatchRouterNavigated(ut)),this.reset())})}dispatchRouterRequest(bt){this.dispatchRouterAction(g,{event:bt})}dispatchRouterNavigation(bt){const u=this.serializer.serialize(bt.state);this.dispatchRouterAction(_,{routerState:u,event:new a.R9(bt.id,bt.url,bt.urlAfterRedirects,u)})}dispatchRouterCancel(bt){this.dispatchRouterAction(h,{storeState:this.storeState,event:bt})}dispatchRouterError(bt){this.dispatchRouterAction(v,{storeState:this.storeState,event:new a.Q3(bt.id,bt.url,`${bt}`)})}dispatchRouterNavigated(bt){const u=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(D,{event:bt,routerState:u})}dispatchRouterAction(bt,u){this.trigger=L.ROUTER;try{this.store.dispatch({type:bt,payload:{routerState:this.routerState,...u,event:0===this.config.routerState?u.event:{id:u.event.id,url:u.event.url,urlAfterRedirects:u.event.urlAfterRedirects}}})}finally{this.trigger=L.NONE}}reset(){this.trigger=L.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(u){return new(u||dt)(t.LFG(e.yh),t.LFG(a.F0),t.LFG(p),t.LFG(t.qLn),t.LFG(A),t.LFG(e.hg))}}static{this.\u0275prov=t.Yz7({token:dt,factory:dt.\u0275fac})}}return dt})();function tt(dt){return dt?.length>0&&"/"===dt[dt.length-1]?dt.substring(0,dt.length-1):dt}function ht(dt={}){return(0,t.MR2)([{provide:R,useValue:dt},{provide:A,useFactory:S,deps:[R]},{provide:p,useClass:dt.serializer?dt.serializer:0===dt.routerState?w:O},{provide:t.Xts,multi:!0,useFactory:()=>()=>(0,t.f3M)(V)},V])}},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rM:()=>provideStoreDevtools});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5879),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6424),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor($,o){if(this.action=$,this.timestamp=o,this.type=PERFORM_ACTION,typeof $.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor($){this.timestamp=$,this.type=RESET}}class Rollback{constructor($){this.timestamp=$,this.type=ROLLBACK}}class Commit{constructor($){this.timestamp=$,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor($){this.id=$,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor($,o,e=!0){this.start=$,this.end=o,this.active=e,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor($){this.index=$,this.type=JUMP_TO_STATE}}class JumpToAction{constructor($){this.actionId=$,this.type=JUMP_TO_ACTION}}class ImportState{constructor($){this.nextLiftedState=$,this.type=IMPORT_STATE}}class LockChanges{constructor($){this.status=$,this.type=LOCK_CHANGES}}class PauseRecording{constructor($){this.status=$,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Qt){const $={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectOutsideZone:!1},o="function"==typeof Qt?Qt():Qt,t=o.features||!!o.logOnly&&{pause:!0,export:!0,test:!0}||$.features;!0===t.import&&(t.import="custom");const a=Object.assign({},$,{features:t},o);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function difference(Qt,$){return Qt.filter(o=>$.indexOf(o)<0)}function unliftState(Qt){const{computedStates:$,currentStateIndex:o}=Qt;if(o>=$.length){const{state:t}=$[$.length-1];return t}const{state:e}=$[o];return e}function unliftAction(Qt){return Qt.actionsById[Qt.nextActionId-1]}function liftAction(Qt){return new PerformAction(Qt,+Date.now())}function sanitizeActions(Qt,$){return Object.keys($).reduce((o,e)=>{const t=Number(e);return o[t]=sanitizeAction(Qt,$[t],t),o},{})}function sanitizeAction(Qt,$,o){return{...$,action:Qt($.action,o)}}function sanitizeStates(Qt,$){return $.map((o,e)=>({state:sanitizeState(Qt,o.state,e),error:o.error}))}function sanitizeState(Qt,$,o){return Qt($,o)}function shouldFilterActions(Qt){return Qt.predicate||Qt.actionsSafelist||Qt.actionsBlocklist}function filterLiftedState(Qt,$,o,e){const t=[],a={},i=[];return Qt.stagedActionIds.forEach((g,T)=>{const _=Qt.actionsById[g];_&&(T&&isActionFiltered(Qt.computedStates[T],_,$,o,e)||(a[g]=_,t.push(g),i.push(Qt.computedStates[T])))}),{...Qt,stagedActionIds:t,actionsById:a,computedStates:i}}function isActionFiltered(Qt,$,o,e,t){const a=o&&!o(Qt,$.action),i=e&&!$.action.type.match(e.map(T=>escapeRegExp(T)).join("|")),g=t&&$.action.type.match(t.map(T=>escapeRegExp(T)).join("|"));return a||i||g}function escapeRegExp(Qt){return Qt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Qt){return{ngZone:Qt?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectOutsideZone:Qt}}let DevtoolsDispatcher=(()=>{class Qt extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static{this.\u0275fac=function(){let o;return function(t){return(o||(o=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Qt)))(t||Qt)}}()}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Qt,factory:Qt.\u0275fac})}}return Qt})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Qt,$,o){this.config=$,this.dispatcher=o,this.zoneConfig=injectZoneConfig(this.config.connectOutsideZone),this.devtoolsExtension=Qt,this.createActionStreams()}notify(Qt,$){if(this.devtoolsExtension)if(Qt.type===PERFORM_ACTION){if($.isLocked||$.isPaused)return;const o=unliftState($);if(shouldFilterActions(this.config)&&isActionFiltered(o,Qt,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const e=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,o,$.currentStateIndex):o,t=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Qt,$.nextActionId):Qt;this.sendToReduxDevtools(()=>this.extensionConnection.send(t,e))}else{const o={...$,stagedActionIds:$.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,$.actionsById):$.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,$.computedStates):$.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Qt=>{const $=this.zoneConfig.connectOutsideZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=$,$.init(),$.subscribe(o=>Qt.next(o)),$.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Qt=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),$=Qt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.START)),o=Qt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.STOP)),e=Qt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(g=>this.unwrapAction(g.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(g=>g.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(T=>T.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>g),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(g)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(g))),a=Qt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(g=>g.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(g=>this.unwrapAction(g.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(o)),i=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(o));this.start$=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(o)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>a)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>i))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Qt){const $={name:Qt.name,features:Qt.features,serialize:Qt.serialize,autoPause:Qt.autoPause??!1,trace:Qt.trace??!1,traceLimit:Qt.traceLimit??75};return!1!==Qt.maxAge&&($.maxAge=Qt.maxAge),$}sendToReduxDevtools(Qt){try{Qt()}catch($){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",$)}}static{this.\u0275fac=function($){return new($||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Qt,$,o,e,t){if(e)return{state:o,error:"Interrupted by an error up the chain"};let i,a=o;try{a=Qt(o,$)}catch(g){i=g.toString(),t.handleError(g)}return{state:a,error:i}}function recomputeStates(Qt,$,o,e,t,a,i,g,T){if($>=Qt.length&&Qt.length===a.length)return Qt;const _=Qt.slice(0,$),m=a.length-(T?1:0);for(let h=$;h<m;h++){const f=a[h],v=t[f].action,C=_[h-1],D=C?C.state:e,y=C?C.error:void 0,O=i.indexOf(f)>-1?C:computeNextEntry(o,v,D,y,g);_.push(O)}return T&&_.push(Qt[Qt.length-1]),_}function liftInitialState(Qt,$){return{monitorState:$(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Qt,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Qt,$,o,e,t={}){return a=>(i,g)=>{let{monitorState:T,actionsById:_,nextActionId:m,stagedActionIds:h,skippedActionIds:f,committedState:v,currentStateIndex:C,computedStates:D,isLocked:y,isPaused:E}=i||$;function O(R){let A=R,S=h.slice(1,A+1);for(let w=0;w<S.length;w++){if(D[w+1].error){A=w,S=h.slice(1,A+1);break}delete _[S[w]]}f=f.filter(w=>-1===S.indexOf(w)),h=[0,...h.slice(A+1)],v=D[A].state,D=D.slice(A),C=C>A?C-A:0}function M(){_={0:liftAction(INIT_ACTION)},m=1,h=[0],f=[],v=D[C].state,C=0,D=[]}i||(_=Object.create(_));let U=0;switch(g.type){case LOCK_CHANGES:y=g.status,U=1/0;break;case PAUSE_RECORDING:E=g.status,E?(h=[...h,m],_[m]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),m++,U=h.length-1,D=D.concat(D[D.length-1]),C===h.length-2&&C++,U=1/0):M();break;case RESET:_={0:liftAction(INIT_ACTION)},m=1,h=[0],f=[],v=Qt,C=0,D=[];break;case COMMIT:M();break;case ROLLBACK:_={0:liftAction(INIT_ACTION)},m=1,h=[0],f=[],C=0,D=[];break;case TOGGLE_ACTION:{const{id:R}=g;f=-1===f.indexOf(R)?[R,...f]:f.filter(S=>S!==R),U=h.indexOf(R);break}case SET_ACTIONS_ACTIVE:{const{start:R,end:A,active:S}=g,w=[];for(let p=R;p<A;p++)w.push(p);f=S?difference(f,w):[...f,...w],U=h.indexOf(R);break}case JUMP_TO_STATE:C=g.index,U=1/0;break;case JUMP_TO_ACTION:{const R=h.indexOf(g.actionId);-1!==R&&(C=R),U=1/0;break}case SWEEP:h=difference(h,f),f=[],C=Math.min(C,h.length-1);break;case PERFORM_ACTION:{if(y)return i||$;if(E||i&&isActionFiltered(i.computedStates[C],g,t.predicate,t.actionsSafelist,t.actionsBlocklist)){const A=D[D.length-1];D=[...D.slice(0,-1),computeNextEntry(a,g.action,A.state,A.error,o)],U=1/0;break}t.maxAge&&h.length===t.maxAge&&O(1),C===h.length-1&&C++;const R=m++;_[R]=g,h=[...h,R],U=h.length-1;break}case IMPORT_STATE:({monitorState:T,actionsById:_,nextActionId:m,stagedActionIds:h,skippedActionIds:f,committedState:v,currentStateIndex:C,computedStates:D,isLocked:y,isPaused:E}=g.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:U=0,t.maxAge&&h.length>t.maxAge&&(D=recomputeStates(D,U,a,v,_,h,f,o,E),O(h.length-t.maxAge),U=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(D.filter(A=>A.error).length>0)U=0,t.maxAge&&h.length>t.maxAge&&(D=recomputeStates(D,U,a,v,_,h,f,o,E),O(h.length-t.maxAge),U=1/0);else{if(!E&&!y){C===h.length-1&&C++;const A=m++;_[A]=new PerformAction(g,+Date.now()),h=[...h,A],U=h.length-1,D=recomputeStates(D,U,a,v,_,h,f,o,E)}D=D.map(A=>({...A,state:a(A.state,RECOMPUTE_ACTION)})),C=h.length-1,t.maxAge&&h.length>t.maxAge&&O(h.length-t.maxAge),U=1/0}break;default:U=1/0}return D=recomputeStates(D,U,a,v,_,h,f,o,E),T=e(T,g),{monitorState:T,actionsById:_,nextActionId:m,stagedActionIds:h,skippedActionIds:f,committedState:v,currentStateIndex:C,computedStates:D,isLocked:y,isPaused:E}}}let StoreDevtools=(()=>{class Qt{constructor(o,e,t,a,i,g,T,_){const m=liftInitialState(T,_.monitor),h=liftReducerWith(T,m,g,_.monitor,_),f=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(e.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),a.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),o,a.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),v=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(h)),C=injectZoneConfig(_.connectOutsideZone),D=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(v),emitInZone(C),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:O},[M,U])=>{let R=U(O,M);return M.type!==PERFORM_ACTION&&shouldFilterActions(_)&&(R=filterLiftedState(R,_.predicate,_.actionsSafelist,_.actionsBlocklist)),a.notify(M,R),{state:R,action:M}},{state:m,action:null})).subscribe(({state:O,action:M})=>{D.next(O),M.type===PERFORM_ACTION&&i.next(M.action)}),this.extensionStartSubscription=a.start$.pipe(emitInZone(C)).subscribe(()=>{this.refresh()});const y=D.asObservable(),E=y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(E,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(E,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=o,this.liftedState=y,this.state=E}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(o){this.dispatcher.next(o)}next(o){this.dispatcher.next(o)}error(o){}complete(){}performAction(o){this.dispatch(new PerformAction(o,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(o){this.dispatch(new ToggleAction(o))}jumpToAction(o){this.dispatch(new JumpToAction(o))}jumpToState(o){this.dispatch(new JumpToState(o))}importState(o){this.dispatch(new ImportState(o))}lockChanges(o){this.dispatch(new LockChanges(o))}pauseRecording(o){this.dispatch(new PauseRecording(o))}static{this.\u0275fac=function(e){return new(e||Qt)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))}}static{this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Qt,factory:Qt.\u0275fac})}}return Qt})();function emitInZone({ngZone:Qt,connectOutsideZone:$}){return o=>$?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(e=>o.subscribe({next:t=>Qt.run(()=>e.next(t)),error:t=>Qt.run(()=>e.error(t)),complete:()=>Qt.run(()=>e.complete())})):o}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Qt,$){return!!Qt||$.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Qt="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Qt]<"u"?window[Qt]:null}function provideStoreDevtools(Qt={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Qt},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Qt){return Qt.state}let StoreDevtoolsModule=(()=>{class Qt{static instrument(o={}){return{ngModule:Qt,providers:[provideStoreDevtools(o)]}}static{this.\u0275fac=function(e){return new(e||Qt)}}static{this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Qt})}static{this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}}return Qt})()},4221:(Qt,$,o)=>{"use strict";o.d($,{hg:()=>Bt,UO:()=>et,Py:()=>yt,qg:()=>V,Y6:()=>It,qY:()=>k,mK:()=>De,n$:()=>Gt,Y$:()=>Ft,FR:()=>ne,yh:()=>Ue,wb:()=>Ut,PH:()=>E,ZF:()=>kn,Lq:()=>bn,P1:()=>Ne,rM:()=>Qe,on:()=>Tn,Ky:()=>O,oY:()=>An,mW:()=>Wo,Ys:()=>de});var e=o(5879),t=o(5619),a=o(5592),i=o(8645),g=o(2381),T=o(3093),_=o(2460),m=o(6424),h=o(7398),v=o(3997),C=o(1993);const D={};function E(ie,We){if(D[ie]=(D[ie]||0)+1,"function"==typeof We)return U(ie,(...un)=>({...We(...un),type:ie}));switch(We?We._as:"empty"){case"empty":return U(ie,()=>({type:ie}));case"props":return U(ie,un=>({...un,type:ie}));default:throw new Error("Unexpected config.")}}function O(){return{_as:"props",_p:void 0}}function U(ie,We){return Object.defineProperty(We,"type",{value:ie,writable:!1})}const V="@ngrx/store/init";let et=(()=>{class ie extends t.X{constructor(){super({type:V})}next(Le){if("function"==typeof Le)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Le>"u")throw new TypeError("Actions must be objects");if(typeof Le.type>"u")throw new TypeError("Actions must have a type property");super.next(Le)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(un){return new(un||ie)}}static{this.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac})}}return ie})();const tt=[et],ht=new e.OlP("@ngrx/store Internal Root Guard"),it=new e.OlP("@ngrx/store Internal Initial State"),It=new e.OlP("@ngrx/store Initial State"),st=new e.OlP("@ngrx/store Reducer Factory"),dt=new e.OlP("@ngrx/store Internal Reducer Factory Provider"),St=new e.OlP("@ngrx/store Initial Reducers"),bt=new e.OlP("@ngrx/store Internal Initial Reducers"),u=new e.OlP("@ngrx/store Store Features"),ut=new e.OlP("@ngrx/store Internal Store Reducers"),Z=new e.OlP("@ngrx/store Internal Feature Reducers"),I=new e.OlP("@ngrx/store Internal Feature Configs"),F=new e.OlP("@ngrx/store Internal Store Features"),ot=new e.OlP("@ngrx/store Internal Feature Reducers Token"),nt=new e.OlP("@ngrx/store Feature Reducers"),At=new e.OlP("@ngrx/store User Provided Meta Reducers"),Dt=new e.OlP("@ngrx/store Meta Reducers"),Wt=new e.OlP("@ngrx/store Internal Resolved Meta Reducers"),Nt=new e.OlP("@ngrx/store User Runtime Checks Config"),Rt=new e.OlP("@ngrx/store Internal User Runtime Checks Config"),Bt=new e.OlP("@ngrx/store Internal Runtime Checks"),B=new e.OlP("@ngrx/store Check if Action types are unique"),k=new e.OlP("@ngrx/store Root Store Provider"),yt=new e.OlP("@ngrx/store Feature State Provider");function Y(ie,We={}){const Le=Object.keys(ie),un={};for(let Fn=0;Fn<Le.length;Fn++){const si=Le[Fn];"function"==typeof ie[si]&&(un[si]=ie[si])}const Rn=Object.keys(un);return function(si,Di){si=void 0===si?We:si;let Ii=!1;const Vi={};for(let gi=0;gi<Rn.length;gi++){const Ni=Rn[gi],Mo=si[Ni],io=(0,un[Ni])(Mo,Di);Vi[Ni]=io,Ii=Ii||io!==Mo}return Ii?Vi:si}}function z(...ie){return function(We){if(0===ie.length)return We;const Le=ie[ie.length-1];return ie.slice(0,-1).reduceRight((Rn,Fn)=>Fn(Rn),Le(We))}}function at(ie,We){return Array.isArray(We)&&We.length>0&&(ie=z.apply(null,[...We,ie])),(Le,un)=>{const Rn=ie(Le);return(Fn,si)=>Rn(Fn=void 0===Fn?un:Fn,si)}}class Gt extends a.y{}class De extends et{}const Ut="@ngrx/store/update-reducers";let Q=(()=>{class ie extends t.X{get currentReducers(){return this.reducers}constructor(Le,un,Rn,Fn){super(Fn(Rn,un)),this.dispatcher=Le,this.initialState=un,this.reducers=Rn,this.reducerFactory=Fn}addFeature(Le){this.addFeatures([Le])}addFeatures(Le){const un=Le.reduce((Rn,{reducers:Fn,reducerFactory:si,metaReducers:Di,initialState:Ii,key:Vi})=>{const gi="function"==typeof Fn?function Pt(ie){const We=Array.isArray(ie)&&ie.length>0?z(...ie):Le=>Le;return(Le,un)=>(Le=We(Le),(Rn,Fn)=>Le(Rn=void 0===Rn?un:Rn,Fn))}(Di)(Fn,Ii):at(si,Di)(Fn,Ii);return Rn[Vi]=gi,Rn},{});this.addReducers(un)}removeFeature(Le){this.removeFeatures([Le])}removeFeatures(Le){this.removeReducers(Le.map(un=>un.key))}addReducer(Le,un){this.addReducers({[Le]:un})}addReducers(Le){this.reducers={...this.reducers,...Le},this.updateReducers(Object.keys(Le))}removeReducer(Le){this.removeReducers([Le])}removeReducers(Le){Le.forEach(un=>{this.reducers=function xt(ie,We){return Object.keys(ie).filter(Le=>Le!==We).reduce((Le,un)=>Object.assign(Le,{[un]:ie[un]}),{})}(this.reducers,un)}),this.updateReducers(Le)}updateReducers(Le){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ut,features:Le})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(un){return new(un||ie)(e.LFG(De),e.LFG(It),e.LFG(St),e.LFG(st))}}static{this.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac})}}return ie})();const Ot=[Q,{provide:Gt,useExisting:Q},{provide:De,useExisting:et}];let Ft=(()=>{class ie extends i.x{ngOnDestroy(){this.complete()}static{this.\u0275fac=function(){let Le;return function(Rn){return(Le||(Le=e.n5z(ie)))(Rn||ie)}}()}static{this.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac})}}return ie})();const le=[Ft];class ne extends a.y{}let Ge=(()=>{class ie extends t.X{static{this.INIT=V}constructor(Le,un,Rn,Fn){super(Fn);const Vi=Le.pipe((0,T.Q)(g.N)).pipe((0,_.M)(un)).pipe((0,m.R)(Se,{state:Fn}));this.stateSubscription=Vi.subscribe(({state:gi,action:Ni})=>{this.next(gi),Rn.next(Ni)}),this.state=(0,C.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(un){return new(un||ie)(e.LFG(et),e.LFG(Gt),e.LFG(Ft),e.LFG(It))}}static{this.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac})}}return ie})();function Se(ie={state:void 0},[We,Le]){const{state:un}=ie;return{state:Le(un,We),action:We}}const Pe=[Ge,{provide:ne,useExisting:Ge}];let Ue=(()=>{class ie extends a.y{constructor(Le,un,Rn){super(),this.actionsObserver=un,this.reducerManager=Rn,this.source=Le,this.state=Le.state}select(Le,...un){return de.call(null,Le,...un)(this)}selectSignal(Le,un){return(0,e.Flj)(()=>Le(this.state()),{equal:un?.equal||((Rn,Fn)=>Rn===Fn)})}lift(Le){const un=new ie(this,this.actionsObserver,this.reducerManager);return un.operator=Le,un}dispatch(Le){this.actionsObserver.next(Le)}next(Le){this.actionsObserver.next(Le)}error(Le){this.actionsObserver.error(Le)}complete(){this.actionsObserver.complete()}addReducer(Le,un){this.reducerManager.addReducer(Le,un)}removeReducer(Le){this.reducerManager.removeReducer(Le)}static{this.\u0275fac=function(un){return new(un||ie)(e.LFG(ne),e.LFG(et),e.LFG(Q))}}static{this.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac})}}return ie})();const Ee=[Ue];function de(ie,We,...Le){return function(Rn){let Fn;if("string"==typeof ie){const si=[We,...Le].filter(Boolean);Fn=Rn.pipe(function f(...ie){const We=ie.length;if(0===We)throw new Error("list of properties cannot be empty.");return(0,h.U)(Le=>{let un=Le;for(let Rn=0;Rn<We;Rn++){const Fn=un?.[ie[Rn]];if(!(typeof Fn<"u"))return;un=Fn}return un})}(ie,...si))}else{if("function"!=typeof ie)throw new TypeError(`Unexpected type '${typeof ie}' in select operator, expected 'string' or 'function'`);Fn=Rn.pipe((0,h.U)(si=>ie(si,We)))}return Fn.pipe((0,v.x)())}}const ae="https://ngrx.io/guide/store/configuration/runtime-checks";function $e(ie){return void 0===ie}function Bn(ie){return null===ie}function Ae(ie){return Array.isArray(ie)}function wn(ie){return"object"==typeof ie&&null!==ie}function xn(ie){return"function"==typeof ie}let En=!1;function Qe(){return En}function xe(ie,We){return ie===We}function we(ie,We=xe,Le=xe){let Fn,un=null,Rn=null;return{memoized:function Vi(){if(void 0!==Fn)return Fn.result;if(!un)return Rn=ie.apply(null,arguments),un=arguments,Rn;if(!function je(ie,We,Le){for(let un=0;un<ie.length;un++)if(!Le(ie[un],We[un]))return!0;return!1}(arguments,un,We))return Rn;const gi=ie.apply(null,arguments);return un=arguments,Le(Rn,gi)?Rn:(Rn=gi,gi)},reset:function si(){un=null,Rn=null},setResult:function Di(gi=void 0){Fn={result:gi}},clearResult:function Ii(){Fn=void 0}}}function Ne(...ie){return function qe(ie,We={stateFn:Ke}){return function(...Le){let un=Le;if(Array.isArray(un[0])){const[gi,...Ni]=un;un=[...gi,...Ni]}else 1===un.length&&function ui(ie){return!!ie&&"object"==typeof ie&&Object.values(ie).every(We=>"function"==typeof We)}(un[0])&&(un=function eo(ie){const We=Object.values(ie),Le=Object.keys(ie);return[...We,(...Rn)=>Le.reduce((Fn,si,Di)=>({...Fn,[si]:Rn[Di]}),{})]}(un[0]));const Rn=un.slice(0,un.length-1),Fn=un[un.length-1],si=Rn.filter(gi=>gi.release&&"function"==typeof gi.release),Di=ie(function(...gi){return Fn.apply(null,gi)}),Ii=we(function(gi,Ni){return We.stateFn.apply(null,[gi,Rn,Ni,Di])});return Object.assign(Ii.memoized,{release:function Vi(){Ii.reset(),Di.reset(),si.forEach(gi=>gi.release())},projector:Di.memoized,setResult:Ii.setResult,clearResult:Ii.clearResult})}}(we)(...ie)}function Ke(ie,We,Le,un){if(void 0===Le){const Fn=We.map(si=>si(ie));return un.memoized.apply(null,Fn)}const Rn=We.map(Fn=>Fn(ie,Le));return un.memoized.apply(null,[...Rn,Le])}function kn(ie){return Ne(We=>{const Le=We[ie];return!Qe()&&(0,e.X6Q)()&&!(ie in We)&&console.warn(`@ngrx/store: The feature name "${ie}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ie}', ...) or StoreModule.forFeature('${ie}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Le},We=>We)}function Zn(ie){return ie instanceof e.OlP?(0,e.f3M)(ie):ie}function Jn(ie,We){return We.map((Le,un)=>{if(ie[un]instanceof e.OlP){const Rn=(0,e.f3M)(ie[un]);return{key:Le.key,reducerFactory:Rn.reducerFactory?Rn.reducerFactory:Y,metaReducers:Rn.metaReducers?Rn.metaReducers:[],initialState:Rn.initialState}}return Le})}function hi(ie){return ie.map(We=>We instanceof e.OlP?(0,e.f3M)(We):We)}function ei(ie){return"function"==typeof ie?ie():ie}function wi(ie,We){return ie.concat(We)}function oi(){if((0,e.f3M)(Ue,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function mi(ie){Object.freeze(ie);const We=xn(ie);return Object.getOwnPropertyNames(ie).forEach(Le=>{if(!Le.startsWith("\u0275")&&function me(ie,We){return Object.prototype.hasOwnProperty.call(ie,We)}(ie,Le)&&(!We||"caller"!==Le&&"callee"!==Le&&"arguments"!==Le)){const un=ie[Le];(wn(un)||xn(un))&&!Object.isFrozen(un)&&mi(un)}}),ie}function Qi(ie,We=[]){return($e(ie)||Bn(ie))&&0===We.length?{path:["root"],value:ie}:Object.keys(ie).reduce((un,Rn)=>{if(un)return un;const Fn=ie[Rn];return function ce(ie){return xn(ie)&&ie.hasOwnProperty("\u0275cmp")}(Fn)?un:!($e(Fn)||Bn(Fn)||function re(ie){return"number"==typeof ie}(Fn)||function rn(ie){return"boolean"==typeof ie}(Fn)||function Hn(ie){return"string"==typeof ie}(Fn)||Ae(Fn))&&(function Ht(ie){if(!function oe(ie){return wn(ie)&&!Ae(ie)}(ie))return!1;const We=Object.getPrototypeOf(ie);return We===Object.prototype||null===We}(Fn)?Qi(Fn,[...We,Rn]):{path:[...We,Rn],value:Fn})},!1)}function Yi(ie,We){if(!1===ie)return;const Le=ie.path.join("."),un=new Error(`Detected unserializable ${We} at "${Le}". ${ae}#strict${We}serializability`);throw un.value=ie.value,un.unserializablePath=Le,un}function Ui(ie){return(0,e.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ie}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ki({strictActionSerializability:ie,strictStateSerializability:We}){return Le=>ie||We?function Zi(ie,We){return function(Le,un){We.action(un)&&Yi(Qi(un),"action");const Rn=ie(Le,un);return We.state()&&Yi(Qi(Rn),"state"),Rn}}(Le,{action:un=>ie&&!sn(un),state:()=>We}):Le}function Gi({strictActionImmutability:ie,strictStateImmutability:We}){return Le=>ie||We?function Li(ie,We){return function(Le,un){const Rn=We.action(un)?mi(un):un,Fn=ie(Le,Rn);return We.state()?mi(Fn):Fn}}(Le,{action:un=>ie&&!sn(un),state:()=>We}):Le}function sn(ie){return ie.type.startsWith("@ngrx")}function fi({strictActionWithinNgZone:ie}){return We=>ie?function uo(ie,We){return function(Le,un){if(We.action(un)&&!e.R0b.isInAngularZone())throw new Error(`Action '${un.type}' running outside NgZone. ${ae}#strictactionwithinngzone`);return ie(Le,un)}}(We,{action:Le=>ie&&!sn(Le)}):We}function Xt(ie){return[{provide:Rt,useValue:ie},{provide:Nt,useFactory:se,deps:[Rt]},{provide:Bt,deps:[Nt],useFactory:Ui},{provide:Dt,multi:!0,deps:[Bt],useFactory:Gi},{provide:Dt,multi:!0,deps:[Bt],useFactory:Ki},{provide:Dt,multi:!0,deps:[Bt],useFactory:fi}]}function Ye(){return[{provide:B,multi:!0,deps:[Bt],useFactory:Ve}]}function se(ie){return ie}function Ve(ie){if(!ie.strictActionTypeUniqueness)return;const We=Object.entries(D).filter(([,Le])=>Le>1).map(([Le])=>Le);if(We.length)throw new Error(`Action types are registered more than once, ${We.map(Le=>`"${Le}"`).join(", ")}. ${ae}#strictactiontypeuniqueness`)}function An(ie,We,Le={}){return(0,e.MR2)([...pn(ie,We,Le),ze])}function Ei(ie={},We={}){return[{provide:ht,useFactory:oi},{provide:it,useValue:We.initialState},{provide:It,useFactory:ei,deps:[it]},{provide:bt,useValue:ie},{provide:ut,useExisting:ie instanceof e.OlP?ie:bt},{provide:St,deps:[bt,[new e.tBr(ut)]],useFactory:Zn},{provide:At,useValue:We.metaReducers?We.metaReducers:[]},{provide:Wt,deps:[Dt,At],useFactory:wi},{provide:dt,useValue:We.reducerFactory?We.reducerFactory:Y},{provide:st,deps:[dt,Wt],useFactory:at},tt,Ot,le,Pe,Ee,Xt(We.runtimeChecks),Ye()]}const Ji=[{provide:k,useFactory:function ji(){(0,e.f3M)(et),(0,e.f3M)(Gt),(0,e.f3M)(Ft),(0,e.f3M)(Ue),(0,e.f3M)(ht,{optional:!0}),(0,e.f3M)(B,{optional:!0})}},{provide:e.Xts,multi:!0,useFactory:()=>()=>(0,e.f3M)(k)}];function Wo(ie,We){return(0,e.MR2)([...Ei(ie,We),Ji])}const ze=[{provide:yt,useFactory:function Ie(){(0,e.f3M)(k);const ie=(0,e.f3M)(F),We=(0,e.f3M)(nt),Le=(0,e.f3M)(Q);(0,e.f3M)(B,{optional:!0});const un=ie.map((Rn,Fn)=>{const Di=We.shift()[Fn];return{...Rn,reducers:Di,initialState:ei(Rn.initialState)}});Le.addFeatures(un)}},{provide:e.Xts,multi:!0,useFactory:()=>()=>(0,e.f3M)(yt)}];function pn(ie,We,Le={}){return[{provide:I,multi:!0,useValue:ie instanceof Object?{}:Le},{provide:u,multi:!0,useValue:{key:ie instanceof Object?ie.name:ie,reducerFactory:Le instanceof e.OlP||!Le.reducerFactory?Y:Le.reducerFactory,metaReducers:Le instanceof e.OlP||!Le.metaReducers?[]:Le.metaReducers,initialState:Le instanceof e.OlP||!Le.initialState?void 0:Le.initialState}},{provide:F,deps:[I,u],useFactory:Jn},{provide:Z,multi:!0,useValue:ie instanceof Object?ie.reducer:We},{provide:ot,multi:!0,useExisting:We instanceof e.OlP?We:Z},{provide:nt,multi:!0,deps:[Z,[new e.tBr(ot)]],useFactory:hi},Ye()]}function Tn(...ie){return{reducer:ie.pop(),types:ie.map(un=>un.type)}}function bn(ie,...We){const Le=new Map;for(const un of We)for(const Rn of un.types){const Fn=Le.get(Rn);Le.set(Rn,Fn?(Di,Ii)=>un.reducer(Fn(Di,Ii),Ii):un.reducer)}return function(un=ie,Rn){const Fn=Le.get(Rn.type);return Fn?Fn(un,Rn):un}}},1491:(Qt,$,o)=>{"use strict";o.d($,{HW:()=>rf,RI:()=>Xs,aN:()=>nf,E8:()=>Lu,v$:()=>Ru,S1:()=>cl});var e=o(2150),t=o(1826),a=o(404),i=o(313),g=o(8988),T=o(978);const _=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],m=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],h="InboundFilters",v=(0,T._I)((N={})=>({name:h,setupOnce(){},processEvent(x,lt,kt){const Ce=kt.getOptions(),be=function D(N={},x={}){return{allowUrls:[...N.allowUrls||[],...x.allowUrls||[]],denyUrls:[...N.denyUrls||[],...x.denyUrls||[]],ignoreErrors:[...N.ignoreErrors||[],...x.ignoreErrors||[],...N.disableErrorDefaults?[]:_],ignoreTransactions:[...N.ignoreTransactions||[],...x.ignoreTransactions||[],...N.disableTransactionDefaults?[]:m],ignoreInternal:void 0===N.ignoreInternal||N.ignoreInternal}}(N,Ce);return function y(N,x){return x.ignoreInternal&&function A(N){try{return"SentryError"===N.exception.values[0].type}catch{}return!1}(N)?(g.X&&t.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,a.jH)(N)}`),!0):function E(N,x){return!(N.type||!x||!x.length)&&function R(N){const x=[];let lt;N.message&&x.push(N.message);try{lt=N.exception.values[N.exception.values.length-1]}catch{}return lt&&lt.value&&(x.push(lt.value),lt.type&&x.push(`${lt.type}: ${lt.value}`)),g.X&&0===x.length&&t.kg.error(`Could not extract message for event ${(0,a.jH)(N)}`),x}(N).some(lt=>(0,i.U0)(lt,x))}(N,x.ignoreErrors)?(g.X&&t.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,a.jH)(N)}`),!0):function O(N,x){if("transaction"!==N.type||!x||!x.length)return!1;const lt=N.transaction;return!!lt&&(0,i.U0)(lt,x)}(N,x.ignoreTransactions)?(g.X&&t.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,a.jH)(N)}`),!0):function M(N,x){if(!x||!x.length)return!1;const lt=w(N);return!!lt&&(0,i.U0)(lt,x)}(N,x.denyUrls)?(g.X&&t.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,a.jH)(N)}.\nUrl: ${w(N)}`),!0):!function U(N,x){if(!x||!x.length)return!0;const lt=w(N);return!lt||(0,i.U0)(lt,x)}(N,x.allowUrls)&&(g.X&&t.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,a.jH)(N)}.\nUrl: ${w(N)}`),!0)}(x,be)?null:x}}));function w(N){try{let x;try{x=N.exception.values[0].stacktrace.frames}catch{}return x?function S(N=[]){for(let x=N.length-1;x>=0;x--){const lt=N[x];if(lt&&"<anonymous>"!==lt.filename&&"[native code]"!==lt.filename)return lt.filename||null}return null}(x):null}catch{return g.X&&t.kg.error(`Cannot extract url for event ${(0,a.jH)(N)}`),null}}(0,T.RN)(h,v);var p=o(9648);let L;const V="FunctionToString",et=new WeakMap,ht=(0,T._I)(()=>({name:V,setupOnce(){L=Function.prototype.toString;try{Function.prototype.toString=function(...N){const x=(0,p.HK)(this),lt=et.has((0,e.s3)())&&void 0!==x?x:this;return L.apply(lt,N)}}catch{}},setup(N){et.set(N,!0)}}));(0,T.RN)(V,ht);var It=o(8078);var bt=o(1666);const u=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Z(N,x=!1){const{host:lt,path:kt,pass:Ce,port:be,projectId:mn,protocol:Dn,publicKey:jn}=N;return`${Dn}://${jn}${x&&Ce?`:${Ce}`:""}@${lt}${be?`:${be}`:""}/${kt&&`${kt}/`}${mn}`}function F(N){return{protocol:N.protocol,publicKey:N.publicKey||"",pass:N.pass||"",host:N.host,port:N.port||"",path:N.path||"",projectId:N.projectId}}function nt(N){const x="string"==typeof N?function I(N){const x=u.exec(N);if(!x)return void(0,t.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${N}`)});const[lt,kt,Ce="",be,mn="",Dn]=x.slice(1);let jn="",li=Dn;const Pi=li.split("/");if(Pi.length>1&&(jn=Pi.slice(0,-1).join("/"),li=Pi.pop()),li){const Ri=li.match(/^\d+/);Ri&&(li=Ri[0])}return F({host:be,pass:Ce,path:jn,projectId:li,port:mn,protocol:lt,publicKey:kt})}(N):F(N);if(x&&function ot(N){if(!bt.X)return!0;const{port:x,projectId:lt,protocol:kt}=N;return!(["protocol","publicKey","host","projectId"].find(mn=>!N[mn]&&(t.kg.error(`Invalid Sentry Dsn: ${mn} missing`),!0))||(lt.match(/^\d+$/)?function ut(N){return"http"===N||"https"===N}(kt)?x&&isNaN(parseInt(x,10))&&(t.kg.error(`Invalid Sentry Dsn: Invalid port ${x}`),1):(t.kg.error(`Invalid Sentry Dsn: Invalid protocol ${kt}`),1):(t.kg.error(`Invalid Sentry Dsn: Invalid projectId ${lt}`),1)))}(x))return x}function Dt(N){return`${N.protocol?`${N.protocol}:`:""}//${N.host}${N.port?`:${N.port}`:""}${N.path?`/${N.path}`:""}/api/`}var B=o(9806),k=o(437),yt=o(3054);const Y=(0,yt.R)();var z=o(6637);const at=yt.GLOBAL_OBJ;let Pt;function Gt(N){const x="history";(0,z.Hj)(x,N),(0,z.D2)(x,De)}function De(){if(!function xt(){const N=Y.chrome;return!(N&&N.app&&N.app.runtime||!("history"in Y)||!Y.history.pushState||!Y.history.replaceState)}())return;const N=at.onpopstate;function x(lt){return function(...kt){const Ce=kt.length>2?kt[2]:void 0;if(Ce){const be=Pt,mn=String(Ce);Pt=mn,(0,z.rK)("history",{from:be,to:mn})}return lt.apply(this,kt)}}at.onpopstate=function(...lt){const kt=at.location.href,Ce=Pt;if(Pt=kt,(0,z.rK)("history",{from:Ce,to:kt}),N)try{return N.apply(this,lt)}catch{}},(0,p.hl)(at.history,"pushState",x),(0,p.hl)(at.history,"replaceState",x)}var Ut=o(3523),Q=o(3100),Ot=o(4888);function Ft(N,x=[]){return[N,x]}function le(N,x){const[lt,kt]=N;return[lt,[...kt,x]]}function ne(N,x){const lt=N[1];for(const kt of lt)if(x(kt,kt[0].type))return!0;return!1}function Se(N,x){return(x||new TextEncoder).encode(N)}function Pe(N,x){const[lt,kt]=N;let Ce=JSON.stringify(lt);function be(mn){"string"==typeof Ce?Ce="string"==typeof mn?Ce+mn:[Se(Ce,x),mn]:Ce.push("string"==typeof mn?Se(mn,x):mn)}for(const mn of kt){const[Dn,jn]=mn;if(be(`\n${JSON.stringify(Dn)}\n`),"string"==typeof jn||jn instanceof Uint8Array)be(jn);else{let li;try{li=JSON.stringify(jn)}catch{li=JSON.stringify((0,Ot.Fv)(jn))}be(li)}}return"string"==typeof Ce?Ce:function Ue(N){const x=N.reduce((Ce,be)=>Ce+be.length,0),lt=new Uint8Array(x);let kt=0;for(const Ce of N)lt.set(Ce,kt),kt+=Ce.length;return lt}(Ce)}function de(N,x){const lt="string"==typeof N.data?Se(N.data,x):N.data;return[(0,p.Jr)({type:"attachment",length:lt.length,filename:N.filename,content_type:N.contentType,attachment_type:N.attachmentType}),lt]}const ae={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function $e(N){return ae[N]}function Bn(N){if(!N||!N.sdk)return;const{name:x,version:lt}=N.sdk;return{name:x,version:lt}}class Hn extends Error{constructor(x,lt="warn"){super(x),this.message=x,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=lt}}var _n=o(4231),Qe=o(5572),xe=o(2006);const je="Not capturing exception because it's already been captured.";class ke{constructor(x){if(this._options=x,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],x.dsn?this._dsn=nt(x.dsn):g.X&&t.kg.warn("No DSN provided, client will not send events."),this._dsn){const lt=function Rt(N,x={}){const kt="string"!=typeof x&&x._metadata?x._metadata.sdk:void 0;return("string"==typeof x?x:x.tunnel)||`${function Wt(N){return`${Dt(N)}${N.projectId}/envelope/`}(N)}?${function Nt(N,x){return(0,p._j)({sentry_key:N.publicKey,sentry_version:"7",...x&&{sentry_client:`${x.name}/${x.version}`}})}(N,kt)}`}(this._dsn,x);this._transport=x.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...x.transportOptions,url:lt})}}captureException(x,lt,kt){if((0,a.YO)(x))return void(g.X&&t.kg.log(je));let Ce=lt&&lt.event_id;return this._process(this.eventFromException(x,lt).then(be=>this._captureEvent(be,lt,kt)).then(be=>{Ce=be})),Ce}captureMessage(x,lt,kt,Ce){let be=kt&&kt.event_id;const mn=(0,Ut.Le)(x)?x:String(x),Dn=(0,Ut.pt)(x)?this.eventFromMessage(mn,lt,kt):this.eventFromException(x,kt);return this._process(Dn.then(jn=>this._captureEvent(jn,kt,Ce)).then(jn=>{be=jn})),be}captureEvent(x,lt,kt){if(lt&&lt.originalException&&(0,a.YO)(lt.originalException))return void(g.X&&t.kg.log(je));let Ce=lt&&lt.event_id;return this._process(this._captureEvent(x,lt,(x.sdkProcessingMetadata||{}).capturedSpanScope||kt).then(Dn=>{Ce=Dn})),Ce}captureSession(x){"string"!=typeof x.release?g.X&&t.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(x),(0,_n.CT)(x,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(x){const lt=this._transport;return lt?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(x).then(kt=>lt.flush(x).then(Ce=>kt&&Ce))):(0,Q.WD)(!0)}close(x){return this.flush(x).then(lt=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),lt))}getEventProcessors(){return this._eventProcessors}addEventProcessor(x){this._eventProcessors.push(x)}setupIntegrations(x){(x&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(x){return this.getIntegrationByName(x)}getIntegrationByName(x){return this._integrations[x]}getIntegration(x){try{return this._integrations[x.id]||null}catch{return g.X&&t.kg.warn(`Cannot retrieve integration ${x.id} from the current Client`),null}}addIntegration(x){const lt=this._integrations[x.name];(0,T.m7)(this,x,this._integrations),lt||(0,T.uf)(this,[x])}sendEvent(x,lt={}){this.emit("beforeSendEvent",x,lt);let kt=function wn(N,x,lt,kt){const Ce=Bn(lt),be=N.type&&"replay_event"!==N.type?N.type:"event";!function rn(N,x){x&&(N.sdk=N.sdk||{},N.sdk.name=N.sdk.name||x.name,N.sdk.version=N.sdk.version||x.version,N.sdk.integrations=[...N.sdk.integrations||[],...x.integrations||[]],N.sdk.packages=[...N.sdk.packages||[],...x.packages||[]])}(N,lt&&lt.sdk);const mn=function Ae(N,x,lt,kt){const Ce=N.sdkProcessingMetadata&&N.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:N.event_id,sent_at:(new Date).toISOString(),...x&&{sdk:x},...!!lt&&kt&&{dsn:Z(kt)},...Ce&&{trace:(0,p.Jr)({...Ce})}}}(N,Ce,kt,x);return delete N.sdkProcessingMetadata,Ft(mn,[[{type:be},N]])}(x,this._dsn,this._options._metadata,this._options.tunnel);for(const be of lt.attachments||[])kt=le(kt,de(be,this._options.transportOptions&&this._options.transportOptions.textEncoder));const Ce=this._sendEnvelope(kt);Ce&&Ce.then(be=>this.emit("afterSendEvent",x,be),null)}sendSession(x){const lt=function re(N,x,lt,kt){const Ce=Bn(lt);return Ft({sent_at:(new Date).toISOString(),...Ce&&{sdk:Ce},...!!kt&&x&&{dsn:Z(x)}},["aggregates"in N?[{type:"sessions"},N]:[{type:"session"},N.toJSON()]])}(x,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(lt)}recordDroppedEvent(x,lt,kt){if(this._options.sendClientReports){const Ce=`${x}:${lt}`;g.X&&t.kg.log(`Adding outcome: "${Ce}"`),this._outcomes[Ce]=this._outcomes[Ce]+1||1}}captureAggregateMetrics(x){g.X&&t.kg.log(`Flushing aggregated metrics, number of metrics: ${x.length}`);const lt=function me(N,x,lt,kt){const Ce={sent_at:(new Date).toISOString()};lt&&lt.sdk&&(Ce.sdk={name:lt.sdk.name,version:lt.sdk.version}),kt&&x&&(Ce.dsn=Z(x));const be=function En(N){const x=function xn(N){let x="";for(const lt of N){const kt=Object.entries(lt.tags),Ce=kt.length>0?`|#${kt.map(([be,mn])=>`${be}:${mn}`).join(",")}`:"";x+=`${lt.name}@${lt.unit}:${lt.metric}|${lt.metricType}${Ce}|T${lt.timestamp}\n`}return x}(N);return[{type:"statsd",length:x.length},x]}(N);return Ft(Ce,[be])}(x,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(lt)}on(x,lt){this._hooks[x]||(this._hooks[x]=[]),this._hooks[x].push(lt)}emit(x,...lt){this._hooks[x]&&this._hooks[x].forEach(kt=>kt(...lt))}_setupIntegrations(){const{integrations:x}=this._options;this._integrations=(0,T.q4)(this,x),(0,T.uf)(this,x),this._integrationsInitialized=!0}_updateSessionFromEvent(x,lt){let kt=!1,Ce=!1;const be=lt.exception&&lt.exception.values;if(be){Ce=!0;for(const jn of be){const li=jn.mechanism;if(li&&!1===li.handled){kt=!0;break}}}const mn="ok"===x.status;(mn&&0===x.errors||mn&&kt)&&((0,_n.CT)(x,{...kt&&{status:"crashed"},errors:x.errors||Number(Ce||kt)}),this.captureSession(x))}_isClientDoneProcessing(x){return new Q.cW(lt=>{let kt=0;const be=setInterval(()=>{0==this._numProcessing?(clearInterval(be),lt(!0)):(kt+=1,x&&kt>=x&&(clearInterval(be),lt(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(x,lt,kt,Ce=(0,It.aF)()){const be=this.getOptions(),mn=Object.keys(this._integrations);return!lt.integrations&&mn.length>0&&(lt.integrations=mn),this.emit("preprocessEvent",x,lt),(0,xe.R)(be,x,lt,kt,this,Ce).then(Dn=>{if(null===Dn)return Dn;const jn={...Ce.getPropagationContext(),...kt?kt.getPropagationContext():void 0};if((!Dn.contexts||!Dn.contexts.trace)&&jn){const{traceId:Pi,spanId:Ri,parentSpanId:mo,dsc:yo}=jn;Dn.contexts={trace:{trace_id:Pi,span_id:Ri,parent_span_id:mo},...Dn.contexts};const To=yo||(0,Qe._)(Pi,this,kt);Dn.sdkProcessingMetadata={dynamicSamplingContext:To,...Dn.sdkProcessingMetadata}}return Dn})}_captureEvent(x,lt={},kt){return this._processEvent(x,lt,kt).then(Ce=>Ce.event_id,Ce=>{if(g.X){const be=Ce;"log"===be.logLevel?t.kg.log(be.message):t.kg.warn(be)}})}_processEvent(x,lt,kt){const Ce=this.getOptions(),{sampleRate:be}=Ce,mn=qe(x),Dn=Ke(x),jn=x.type||"error",li=`before send for type \`${jn}\``;if(Dn&&"number"==typeof be&&Math.random()>be)return this.recordDroppedEvent("sample_rate","error",x),(0,Q.$2)(new Hn(`Discarding event because it's not included in the random sample (sampling rate = ${be})`,"log"));const Pi="replay_event"===jn?"replay":jn;return this._prepareEvent(x,lt,kt,(x.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(yo=>{if(null===yo)throw this.recordDroppedEvent("event_processor",Pi,x),new Hn("An event processor returned `null`, will not send event.","log");if(lt.data&&!0===lt.data.__sentry__)return yo;const pr=function Ne(N,x,lt){const{beforeSend:kt,beforeSendTransaction:Ce}=N;return Ke(x)&&kt?kt(x,lt):qe(x)&&Ce?Ce(x,lt):x}(Ce,yo,lt);return function we(N,x){const lt=`${x} must return \`null\` or a valid event.`;if((0,Ut.J8)(N))return N.then(kt=>{if(!(0,Ut.PO)(kt)&&null!==kt)throw new Hn(lt);return kt},kt=>{throw new Hn(`${x} rejected with ${kt}`)});if(!(0,Ut.PO)(N)&&null!==N)throw new Hn(lt);return N}(pr,li)}).then(yo=>{if(null===yo)throw this.recordDroppedEvent("before_send",Pi,x),new Hn(`${li} returned \`null\`, will not send event.`,"log");const To=kt&&kt.getSession();!mn&&To&&this._updateSessionFromEvent(To,yo);const pr=yo.transaction_info;if(mn&&pr&&yo.transaction!==x.transaction){const ts="custom";yo.transaction_info={...pr,source:ts}}return this.sendEvent(yo,lt),yo}).then(null,yo=>{throw yo instanceof Hn?yo:(this.captureException(yo,{data:{__sentry__:!0},originalException:yo}),new Hn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${yo}`))})}_process(x){this._numProcessing++,x.then(lt=>(this._numProcessing--,lt),lt=>(this._numProcessing--,lt))}_sendEnvelope(x){if(this.emit("beforeEnvelope",x),this._isEnabled()&&this._transport)return this._transport.send(x).then(null,lt=>{g.X&&t.kg.error("Error while sending event:",lt)});g.X&&t.kg.error("Transport disabled")}_clearOutcomes(){const x=this._outcomes;return this._outcomes={},Object.keys(x).map(lt=>{const[kt,Ce]=lt.split(":");return{reason:kt,category:Ce,quantity:x[lt]}})}}function Ke(N){return void 0===N.type}function qe(N){return"transaction"===N.type}var ui=o(5923);function eo(N,x,lt=[x],kt="npm"){const Ce=N._metadata||{};Ce.sdk||(Ce.sdk={name:`sentry.javascript.${x}`,packages:lt.map(be=>({name:`${kt}:@sentry/${be}`,version:ui.J})),version:ui.J}),N._metadata=Ce}var ln=o(7245);const Jn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function hi(N,x){const lt=oi(N,x),kt={type:x&&x.name,value:Zi(x)};return lt.length&&(kt.stacktrace={frames:lt}),void 0===kt.type&&""===kt.value&&(kt.value="Unrecoverable error caught"),kt}function wi(N,x){return{exception:{values:[hi(N,x)]}}}function oi(N,x){const lt=x.stacktrace||x.stack||"",kt=function mi(N){if(N){if("number"==typeof N.framesToPop)return N.framesToPop;if(Li.test(N.message))return 1}return 0}(x);try{return N(lt,kt)}catch{}return[]}const Li=/Minified React error #\d+;/i;function Zi(N){const x=N&&N.message;return x?x.error&&"string"==typeof x.error.message?x.error.message:x:"No error message"}function uo(N,x,lt,kt,Ce){let be;if((0,Ut.VW)(x)&&x.error)return wi(N,x.error);if((0,Ut.TX)(x)||(0,Ut.fm)(x)){const mn=x;if("stack"in x)be=wi(N,x);else{const Dn=mn.name||((0,Ut.TX)(mn)?"DOMError":"DOMException"),jn=mn.message?`${Dn}: ${mn.message}`:Dn;be=Ui(N,jn,lt,kt),(0,a.Db)(be,jn)}return"code"in mn&&(be.tags={...be.tags,"DOMException.code":`${mn.code}`}),be}return(0,Ut.VZ)(x)?wi(N,x):(0,Ut.PO)(x)||(0,Ut.cO)(x)?(be=function ei(N,x,lt,kt){const Ce=(0,e.s3)(),be=Ce&&Ce.getOptions().normalizeDepth,mn={exception:{values:[{type:(0,Ut.cO)(x)?x.constructor.name:kt?"UnhandledRejection":"Error",value:Ki(x,{isUnhandledRejection:kt})}]},extra:{__serialized__:(0,Ot.Qy)(x,be)}};if(lt){const Dn=oi(N,lt);Dn.length&&(mn.exception.values[0].stacktrace={frames:Dn})}return mn}(N,x,lt,Ce),(0,a.EG)(be,{synthetic:!0}),be):(be=Ui(N,x,lt,kt),(0,a.Db)(be,`${x}`,void 0),(0,a.EG)(be,{synthetic:!0}),be)}function Ui(N,x,lt,kt){const Ce={};if(kt&&lt){const be=oi(N,lt);be.length&&(Ce.exception={values:[{value:x,stacktrace:{frames:be}}]})}if((0,Ut.Le)(x)){const{__sentry_template_string__:be,__sentry_template_values__:mn}=x;return Ce.logentry={message:be,params:mn},Ce}return Ce.message=x,Ce}function Ki(N,{isUnhandledRejection:x}){const lt=(0,p.zf)(N),kt=x?"promise rejection":"exception";return(0,Ut.VW)(N)?`Event \`ErrorEvent\` captured as ${kt} with message \`${N.message}\``:(0,Ut.cO)(N)?`Event \`${function Gi(N){try{const x=Object.getPrototypeOf(N);return x?x.constructor.name:void 0}catch{}}(N)}\` (type=${N.type}) captured as ${kt}`:`Object captured as ${kt} with keys: ${lt}`}const sn=yt.GLOBAL_OBJ;let fi=0;function Xt(){return fi>0}function se(N,x={},lt){if("function"!=typeof N)return N;try{const Ce=N.__sentry_wrapped__;if(Ce)return Ce;if((0,p.HK)(N))return N}catch{return N}const kt=function(){const Ce=Array.prototype.slice.call(arguments);try{lt&&"function"==typeof lt&&lt.apply(this,arguments);const be=Ce.map(mn=>se(mn,x));return N.apply(this,be)}catch(be){throw function Ye(){fi++,setTimeout(()=>{fi--})}(),(0,e.$e)(mn=>{mn.addEventProcessor(Dn=>(x.mechanism&&((0,a.Db)(Dn,void 0,void 0),(0,a.EG)(Dn,x.mechanism)),Dn.extra={...Dn.extra,arguments:Ce},Dn)),(0,e.Tb)(be)}),be}};try{for(const Ce in N)Object.prototype.hasOwnProperty.call(N,Ce)&&(kt[Ce]=N[Ce])}catch{}(0,p.$Q)(kt,N),(0,p.xp)(N,"__sentry_wrapped__",kt);try{Object.getOwnPropertyDescriptor(kt,"name").configurable&&Object.defineProperty(kt,"name",{get:()=>N.name})}catch{}return kt}class Ei extends ke{constructor(x){eo(x,"browser",["browser"],sn.SENTRY_SDK_SOURCE||"npm"),super(x),x.sendClientReports&&sn.document&&sn.document.addEventListener("visibilitychange",()=>{"hidden"===sn.document.visibilityState&&this._flushOutcomes()})}eventFromException(x,lt){return function Qi(N,x,lt,kt){const be=uo(N,x,lt&&lt.syntheticException||void 0,kt);return(0,a.EG)(be),be.level="error",lt&&lt.event_id&&(be.event_id=lt.event_id),(0,Q.WD)(be)}(this._options.stackParser,x,lt,this._options.attachStacktrace)}eventFromMessage(x,lt="info",kt){return function Yi(N,x,lt="info",kt,Ce){const mn=Ui(N,x,kt&&kt.syntheticException||void 0,Ce);return mn.level=lt,kt&&kt.event_id&&(mn.event_id=kt.event_id),(0,Q.WD)(mn)}(this._options.stackParser,x,lt,kt,this._options.attachStacktrace)}captureUserFeedback(x){if(!this._isEnabled())return void(Jn&&t.kg.warn("SDK not enabled, will not capture user feedback."));const lt=function Ve(N,{metadata:x,tunnel:lt,dsn:kt}){const Ce={event_id:N.event_id,sent_at:(new Date).toISOString(),...x&&x.sdk&&{sdk:{name:x.sdk.name,version:x.sdk.version}},...!!lt&&!!kt&&{dsn:Z(kt)}},be=function An(N){return[{type:"user_report"},N]}(N);return Ft(Ce,[be])}(x,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(lt)}_prepareEvent(x,lt,kt){return x.platform=x.platform||"javascript",super._prepareEvent(x,lt,kt)}_flushOutcomes(){const x=this._clearOutcomes();if(0===x.length)return void(Jn&&t.kg.log("No outcomes to send"));if(!this._dsn)return void(Jn&&t.kg.log("No dsn provided, will not send outcomes"));Jn&&t.kg.log("Sending outcomes:",x);const lt=function Zn(N,x,lt){return Ft(x?{dsn:x}:{},[[{type:"client_report"},{timestamp:lt||(0,ln.yW)(),discarded_events:N}]])}(x,this._options.tunnel&&Z(this._dsn));this._sendEnvelope(lt)}}var ji=o(2379);const Ji=yt.GLOBAL_OBJ,Wo=1e3;let Ie,ze,pn;function an(){if(!Ji.document)return;const N=z.rK.bind(null,"dom"),x=bn(N,!0);Ji.document.addEventListener("click",x,!1),Ji.document.addEventListener("keypress",x,!1),["EventTarget","Node"].forEach(lt=>{const kt=Ji[lt]&&Ji[lt].prototype;!kt||!kt.hasOwnProperty||!kt.hasOwnProperty("addEventListener")||((0,p.hl)(kt,"addEventListener",function(Ce){return function(be,mn,Dn){if("click"===be||"keypress"==be)try{const jn=this,li=jn.__sentry_instrumentation_handlers__=jn.__sentry_instrumentation_handlers__||{},Pi=li[be]=li[be]||{refCount:0};if(!Pi.handler){const Ri=bn(N);Pi.handler=Ri,Ce.call(this,be,Ri,Dn)}Pi.refCount++}catch{}return Ce.call(this,be,mn,Dn)}}),(0,p.hl)(kt,"removeEventListener",function(Ce){return function(be,mn,Dn){if("click"===be||"keypress"==be)try{const jn=this,li=jn.__sentry_instrumentation_handlers__||{},Pi=li[be];Pi&&(Pi.refCount--,Pi.refCount<=0&&(Ce.call(this,be,Pi.handler,Dn),Pi.handler=void 0,delete li[be]),0===Object.keys(li).length&&delete jn.__sentry_instrumentation_handlers__)}catch{}return Ce.call(this,be,mn,Dn)}}))})}function bn(N,x=!1){return lt=>{if(!lt||lt._sentryCaptured)return;const kt=function ie(N){try{return N.target}catch{return null}}(lt);if(function Tn(N,x){return!("keypress"!==N||x&&x.tagName&&("INPUT"===x.tagName||"TEXTAREA"===x.tagName||x.isContentEditable))}(lt.type,kt))return;(0,p.xp)(lt,"_sentryCaptured",!0),kt&&!kt._sentryId&&(0,p.xp)(kt,"_sentryId",(0,a.DM)());const Ce="keypress"===lt.type?"input":lt.type;(function Mn(N){if(N.type!==ze)return!1;try{if(!N.target||N.target._sentryId!==pn)return!1}catch{}return!0})(lt)||(N({event:lt,name:Ce,global:x}),ze=lt.type,pn=kt?kt._sentryId:void 0),clearTimeout(Ie),Ie=Ji.setTimeout(()=>{pn=void 0,ze=void 0},Wo)}}var We=o(601),Le=o(2462),un=o(7431),Rn=o(5314);function Fn(N){if(!N)return{};const x=N.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!x)return{};const lt=x[6]||"",kt=x[8]||"";return{host:x[4],path:x[5],protocol:x[2],search:lt,hash:kt,relative:x[5]+lt+kt}}const gi="Breadcrumbs",zi=(0,T._I)((N={})=>{const x={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...N};return{name:gi,setupOnce(){},setup(lt){x.console&&(0,ji.e)(function $o(N){return function(lt){if((0,e.s3)()!==N)return;const kt={category:"console",data:{arguments:lt.args,logger:"console"},level:(0,Rn.VT)(lt.level),message:(0,i.nK)(lt.args," ")};if("assert"===lt.level){if(!1!==lt.args[0])return;kt.message=`Assertion failed: ${(0,i.nK)(lt.args.slice(1)," ")||"console.assert"}`,kt.data.arguments=lt.args.slice(1)}(0,e.n_)(kt,{input:lt.args,level:lt.level})}}(lt)),x.dom&&function fn(N){(0,z.Hj)("dom",N),(0,z.D2)("dom",an)}(function qo(N,x){return function(kt){if((0,e.s3)()!==N)return;let Ce,be,mn="object"==typeof x?x.serializeAttribute:void 0,Dn="object"==typeof x&&"number"==typeof x.maxStringLength?x.maxStringLength:void 0;Dn&&Dn>1024&&(Jn&&t.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${Dn} was configured. Sentry will use 1024 instead.`),Dn=1024),"string"==typeof mn&&(mn=[mn]);try{const li=kt.event,Pi=function po(N){return!!N&&!!N.target}(li)?li.target:li;Ce=(0,un.Rt)(Pi,{keyAttrs:mn,maxStringLength:Dn}),be=(0,un.iY)(Pi)}catch{Ce="<unknown>"}if(0===Ce.length)return;const jn={category:`ui.${kt.name}`,message:Ce};be&&(jn.data={"ui.component_name":be}),(0,e.n_)(jn,{event:kt.event,name:kt.name,global:kt.global})}}(lt,x.dom)),x.xhr&&(0,We.UK)(function tr(N){return function(lt){if((0,e.s3)()!==N)return;const{startTimestamp:kt,endTimestamp:Ce}=lt,be=lt.xhr[We.xU];if(!kt||!Ce||!be)return;const{method:mn,url:Dn,status_code:jn,body:li}=be;(0,e.n_)({category:"xhr",data:{method:mn,url:Dn,status_code:jn},type:"http"},{xhr:lt.xhr,input:li,startTimestamp:kt,endTimestamp:Ce})}}(lt)),x.fetch&&(0,Le.U)(function mr(N){return function(lt){if((0,e.s3)()!==N)return;const{startTimestamp:kt,endTimestamp:Ce}=lt;if(Ce&&(!lt.fetchData.url.match(/sentry_key/)||"POST"!==lt.fetchData.method))if(lt.error)(0,e.n_)({category:"fetch",data:lt.fetchData,level:"error",type:"http"},{data:lt.error,input:lt.args,startTimestamp:kt,endTimestamp:Ce});else{const be=lt.response,mn={...lt.fetchData,status_code:be&&be.status};(0,e.n_)({category:"fetch",data:mn,type:"http"},{input:lt.args,response:be,startTimestamp:kt,endTimestamp:Ce})}}}(lt)),x.history&&Gt(function er(N){return function(lt){if((0,e.s3)()!==N)return;let kt=lt.from,Ce=lt.to;const be=Fn(sn.location.href);let mn=kt?Fn(kt):void 0;const Dn=Fn(Ce);(!mn||!mn.path)&&(mn=be),be.protocol===Dn.protocol&&be.host===Dn.host&&(Ce=Dn.relative),be.protocol===mn.protocol&&be.host===mn.host&&(kt=mn.relative),(0,e.n_)({category:"navigation",data:{from:kt,to:Ce}})}}(lt)),x.sentry&&lt.on&&lt.on("beforeSendEvent",function io(N){return function(lt){(0,e.s3)()===N&&(0,e.n_)({category:"sentry."+("transaction"===lt.type?"transaction":"event"),event_id:lt.event_id,level:lt.level,message:(0,a.jH)(lt)},{event:lt})}}(lt))}}});(0,T.RN)(gi,zi);const so=(0,T._I)(()=>{let N;return{name:"Dedupe",setupOnce(){},processEvent(x){if(x.type)return x;try{if(function cr(N,x){return!(!x||!function Uo(N,x){const lt=N.message,kt=x.message;return!(!lt&&!kt||lt&&!kt||!lt&&kt||lt!==kt||!xo(N,x)||!qi(N,x))}(N,x)&&!function bo(N,x){const lt=Lo(x),kt=Lo(N);return!!(lt&&kt&&lt.type===kt.type&&lt.value===kt.value&&xo(N,x)&&qi(N,x))}(N,x))}(x,N))return Jn&&t.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return N=x}}});function qi(N,x){let lt=Fi(N),kt=Fi(x);if(!lt&&!kt)return!0;if(lt&&!kt||!lt&&kt||kt.length!==lt.length)return!1;for(let Ce=0;Ce<kt.length;Ce++){const be=kt[Ce],mn=lt[Ce];if(be.filename!==mn.filename||be.lineno!==mn.lineno||be.colno!==mn.colno||be.function!==mn.function)return!1}return!0}function xo(N,x){let lt=N.fingerprint,kt=x.fingerprint;if(!lt&&!kt)return!0;if(lt&&!kt||!lt&&kt)return!1;try{return lt.join("")===kt.join("")}catch{return!1}}function Lo(N){return N.exception&&N.exception.values&&N.exception.values[0]}function Fi(N){const x=N.exception;if(x)try{return x.values[0].stacktrace.frames}catch{return}}(0,T.RN)("Dedupe",so);let Go=null;function gn(N){const x="error";(0,z.Hj)(x,N),(0,z.D2)(x,Yn)}function Yn(){Go=yt.GLOBAL_OBJ.onerror,yt.GLOBAL_OBJ.onerror=function(N,x,lt,kt,Ce){return(0,z.rK)("error",{column:kt,error:Ce,line:lt,msg:N,url:x}),!(!Go||Go.__SENTRY_LOADER__)&&Go.apply(this,arguments)},yt.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}let te=null;function hn(N){const x="unhandledrejection";(0,z.Hj)(x,N),(0,z.D2)(x,In)}function In(){te=yt.GLOBAL_OBJ.onunhandledrejection,yt.GLOBAL_OBJ.onunhandledrejection=function(N){return(0,z.rK)("unhandledrejection",N),!(te&&!te.__SENTRY_LOADER__)||te.apply(this,arguments)},yt.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ai="GlobalHandlers",No=(0,T._I)((N={})=>{const x={onerror:!0,onunhandledrejection:!0,...N};return{name:ai,setupOnce(){Error.stackTraceLimit=50},setup(lt){x.onerror&&(function ao(N){gn(x=>{const{stackParser:lt,attachStacktrace:kt}=ii();if((0,e.s3)()!==N||Xt())return;const{msg:Ce,url:be,line:mn,column:Dn,error:jn}=x,li=void 0===jn&&(0,Ut.HD)(Ce)?function Zt(N,x,lt,kt){let be=(0,Ut.VW)(N)?N.message:N,mn="Error";const Dn=be.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return Dn&&(mn=Dn[1],be=Dn[2]),Et({exception:{values:[{type:mn,value:be}]}},x,lt,kt)}(Ce,be,mn,Dn):Et(uo(lt,jn||Ce,void 0,kt,!1),be,mn,Dn);li.level="error",(0,e.eN)(li,{originalException:jn,mechanism:{handled:!1,type:"onerror"}})})}(lt),on("onerror")),x.onunhandledrejection&&(function Me(N){hn(x=>{const{stackParser:lt,attachStacktrace:kt}=ii();if((0,e.s3)()!==N||Xt())return;const Ce=function Qn(N){if((0,Ut.pt)(N))return N;const x=N;try{if("reason"in x)return x.reason;if("detail"in x&&"reason"in x.detail)return x.detail.reason}catch{}return N}(x),be=(0,Ut.pt)(Ce)?function J(N){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(N)}`}]}}}(Ce):uo(lt,Ce,void 0,kt,!0);be.level="error",(0,e.eN)(be,{originalException:Ce,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(lt),on("onunhandledrejection"))}}});function Et(N,x,lt,kt){const Ce=N.exception=N.exception||{},be=Ce.values=Ce.values||[],mn=be[0]=be[0]||{},Dn=mn.stacktrace=mn.stacktrace||{},jn=Dn.frames=Dn.frames||[],li=isNaN(parseInt(kt,10))?void 0:kt,Pi=isNaN(parseInt(lt,10))?void 0:lt,Ri=(0,Ut.HD)(x)&&x.length>0?x:(0,un.l4)();return 0===jn.length&&jn.push({colno:li,filename:Ri,function:"?",in_app:!0,lineno:Pi}),N}function on(N){Jn&&t.kg.log(`Global Handler attached: ${N}`)}function ii(){const N=(0,e.s3)();return N&&N.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}(0,T.RN)(ai,No);const Si="HttpContext",rr=(0,T._I)(()=>({name:Si,setupOnce(){},preprocessEvent(N){if(!sn.navigator&&!sn.location&&!sn.document)return;const x=N.request&&N.request.url||sn.location&&sn.location.href,{referrer:lt}=sn.document||{},{userAgent:kt}=sn.navigator||{},Ce={...N.request&&N.request.headers,...lt&&{Referer:lt},...kt&&{"User-Agent":kt}},be={...N.request,...x&&{url:x},headers:Ce};N.request=be}}));function Nr(N,x,lt=250,kt,Ce,be,mn){if(!(be.exception&&be.exception.values&&mn&&(0,Ut.V9)(mn.originalException,Error)))return;const Dn=be.exception.values.length>0?be.exception.values[be.exception.values.length-1]:void 0;Dn&&(be.exception.values=function rt(N,x){return N.map(lt=>(lt.value&&(lt.value=(0,i.$G)(lt.value,x)),lt))}(Io(N,x,Ce,mn.originalException,kt,be.exception.values,Dn,0),lt))}function Io(N,x,lt,kt,Ce,be,mn,Dn){if(be.length>=lt+1)return be;let jn=[...be];if((0,Ut.V9)(kt[Ce],Error)){_e(mn,Dn);const li=N(x,kt[Ce]),Pi=jn.length;W(li,Ce,Pi,Dn),jn=Io(N,x,lt,kt[Ce],Ce,[li,...jn],li,Pi)}return Array.isArray(kt.errors)&&kt.errors.forEach((li,Pi)=>{if((0,Ut.V9)(li,Error)){_e(mn,Dn);const Ri=N(x,li),mo=jn.length;W(Ri,`errors[${Pi}]`,mo,Dn),jn=Io(N,x,lt,li,Ce,[Ri,...jn],Ri,mo)}}),jn}function _e(N,x){N.mechanism=N.mechanism||{type:"generic",handled:!0},N.mechanism={...N.mechanism,is_exception_group:!0,exception_id:x}}function W(N,x,lt,kt){N.mechanism=N.mechanism||{type:"generic",handled:!0},N.mechanism={...N.mechanism,type:"chained",source:x,exception_id:lt,parent_id:kt}}(0,T.RN)(Si,rr);const Be="LinkedErrors",Sn=(0,T._I)((N={})=>{const x=N.limit||5,lt=N.key||"cause";return{name:Be,setupOnce(){},preprocessEvent(kt,Ce,be){const mn=be.getOptions();Nr(hi,mn.stackParser,mn.maxValueLength,lt,x,kt,Ce)}}}),ni=((0,T.RN)(Be,Sn),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),Lt="TryCatch",mt=(0,T._I)((N={})=>{const x={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...N};return{name:Lt,setupOnce(){x.setTimeout&&(0,p.hl)(sn,"setTimeout",He),x.setInterval&&(0,p.hl)(sn,"setInterval",He),x.requestAnimationFrame&&(0,p.hl)(sn,"requestAnimationFrame",ci),x.XMLHttpRequest&&"XMLHttpRequest"in sn&&(0,p.hl)(XMLHttpRequest.prototype,"send",Hi);const lt=x.eventTarget;lt&&(Array.isArray(lt)?lt:ni).forEach(So)}}});function He(N){return function(...x){return x[0]=se(x[0],{mechanism:{data:{function:(0,B.$P)(N)},handled:!1,type:"instrument"}}),N.apply(this,x)}}function ci(N){return function(x){return N.apply(this,[se(x,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,B.$P)(N)},handled:!1,type:"instrument"}})])}}function Hi(N){return function(...x){const lt=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(Ce=>{Ce in lt&&"function"==typeof lt[Ce]&&(0,p.hl)(lt,Ce,function(be){const mn={mechanism:{data:{function:Ce,handler:(0,B.$P)(be)},handled:!1,type:"instrument"}},Dn=(0,p.HK)(be);return Dn&&(mn.mechanism.data.handler=(0,B.$P)(Dn)),se(be,mn)})}),N.apply(this,x)}}function So(N){const lt=sn[N]&&sn[N].prototype;!lt||!lt.hasOwnProperty||!lt.hasOwnProperty("addEventListener")||((0,p.hl)(lt,"addEventListener",function(kt){return function(Ce,be,mn){try{"function"==typeof be.handleEvent&&(be.handleEvent=se(be.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,B.$P)(be),target:N},handled:!1,type:"instrument"}}))}catch{}return kt.apply(this,[Ce,se(be,{mechanism:{data:{function:"addEventListener",handler:(0,B.$P)(be),target:N},handled:!1,type:"instrument"}}),mn])}}),(0,p.hl)(lt,"removeEventListener",function(kt){return function(Ce,be,mn){const Dn=be;try{const jn=Dn&&Dn.__sentry_wrapped__;jn&&kt.call(this,Ce,jn,mn)}catch{}return kt.call(this,Ce,Dn,mn)}}))}function fr(N,x,lt,kt){const Ce={filename:N,function:x,in_app:!0};return void 0!==lt&&(Ce.lineno=lt),void 0!==kt&&(Ce.colno=kt),Ce}(0,T.RN)(Lt,mt);const Or=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Fe=/\((\S*)(?::(\d+))(?::(\d+))\)/,en=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,zn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,or=(0,B.pE)([30,N=>{const x=Or.exec(N);if(x){if(x[2]&&0===x[2].indexOf("eval")){const be=Fe.exec(x[2]);be&&(x[2]=be[1],x[3]=be[2],x[4]=be[3])}const[kt,Ce]=Cr(x[1]||"?",x[2]);return fr(Ce,kt,x[3]?+x[3]:void 0,x[4]?+x[4]:void 0)}}],[50,N=>{const x=en.exec(N);if(x){if(x[3]&&x[3].indexOf(" > eval")>-1){const be=zn.exec(x[3]);be&&(x[1]=x[1]||"eval",x[3]=be[1],x[4]=be[2],x[5]="")}let kt=x[3],Ce=x[1]||"?";return[Ce,kt]=Cr(Ce,kt),fr(kt,Ce,x[4]?+x[4]:void 0,x[5]?+x[5]:void 0)}}],[40,N=>{const x=_i.exec(N);return x?fr(x[2],x[1]||"?",+x[3],x[4]?+x[4]:void 0):void 0}]),Cr=(N,x)=>{const lt=-1!==N.indexOf("safari-extension"),kt=-1!==N.indexOf("safari-web-extension");return lt||kt?[-1!==N.indexOf("@")?N.split("@")[0]:"?",lt?`safari-extension:${x}`:`safari-web-extension:${x}`]:[N,x]};const Ir=6e4;const Jr=30;function Hr(N,x,lt=function ur(N){const x=[];function kt(mn){return x.splice(x.indexOf(mn),1)[0]}return{$:x,add:function Ce(mn){if(!function lt(){return void 0===N||x.length<N}())return(0,Q.$2)(new Hn("Not adding Promise because buffer limit was reached."));const Dn=mn();return-1===x.indexOf(Dn)&&x.push(Dn),Dn.then(()=>kt(Dn)).then(null,()=>kt(Dn).then(null,()=>{})),Dn},drain:function be(mn){return new Q.cW((Dn,jn)=>{let li=x.length;if(!li)return Dn(!0);const Pi=setTimeout(()=>{mn&&mn>0&&Dn(!1)},mn);x.forEach(Ri=>{(0,Q.WD)(Ri).then(()=>{--li||(clearTimeout(Pi),Dn(!0))},jn)})})}}}(N.bufferSize||Jr)){let kt={};function be(mn){const Dn=[];if(ne(mn,(Ri,mo)=>{const yo=$e(mo);if(function Zr(N,x,lt=Date.now()){return function Sr(N,x){return N[x]||N.all||0}(N,x)>lt}(kt,yo)){const To=hr(Ri,mo);N.recordDroppedEvent("ratelimit_backoff",yo,To)}else Dn.push(Ri)}),0===Dn.length)return(0,Q.WD)();const jn=Ft(mn[0],Dn),li=Ri=>{ne(jn,(mo,yo)=>{const To=hr(mo,yo);N.recordDroppedEvent(Ri,$e(yo),To)})};return lt.add(()=>x({body:Pe(jn,N.textEncoder)}).then(Ri=>(void 0!==Ri.statusCode&&(Ri.statusCode<200||Ri.statusCode>=300)&&g.X&&t.kg.warn(`Sentry responded with status code ${Ri.statusCode} to sent event.`),kt=function Xr(N,{statusCode:x,headers:lt},kt=Date.now()){const Ce={...N},be=lt&&lt["x-sentry-rate-limits"],mn=lt&&lt["retry-after"];if(be)for(const Dn of be.trim().split(",")){const[jn,li]=Dn.split(":",2),Pi=parseInt(jn,10),Ri=1e3*(isNaN(Pi)?60:Pi);if(li)for(const mo of li.split(";"))Ce[mo]=kt+Ri;else Ce.all=kt+Ri}else mn?Ce.all=kt+function go(N,x=Date.now()){const lt=parseInt(`${N}`,10);if(!isNaN(lt))return 1e3*lt;const kt=Date.parse(`${N}`);return isNaN(kt)?Ir:kt-x}(mn,kt):429===x&&(Ce.all=kt+6e4);return Ce}(kt,Ri),Ri),Ri=>{throw li("network_error"),Ri})).then(Ri=>Ri,Ri=>{if(Ri instanceof Hn)return g.X&&t.kg.error("Skipped sending event because buffer is full."),li("queue_overflow"),(0,Q.WD)();throw Ri})}return be.__sentry__baseTransport__=!0,{send:be,flush:mn=>lt.drain(mn)}}function hr(N,x){if("event"===x||"transaction"===x)return Array.isArray(N)?N[1]:void 0}let zr;function Fr(N,x=function Vr(){if(zr)return zr;if((0,k.Du)(sn.fetch))return zr=sn.fetch.bind(sn);const N=sn.document;let x=sn.fetch;if(N&&"function"==typeof N.createElement)try{const lt=N.createElement("iframe");lt.hidden=!0,N.head.appendChild(lt);const kt=lt.contentWindow;kt&&kt.fetch&&(x=kt.fetch),N.head.removeChild(lt)}catch(lt){Jn&&t.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",lt)}return zr=x.bind(sn)}()){let lt=0,kt=0;return Hr(N,function Ce(be){const mn=be.body.length;lt+=mn,kt++;const Dn={body:be.body,method:"POST",referrerPolicy:"origin",headers:N.headers,keepalive:lt<=6e4&&kt<15,...N.fetchOptions};try{return x(N.url,Dn).then(jn=>(lt-=mn,kt--,{statusCode:jn.status,headers:{"x-sentry-rate-limits":jn.headers.get("X-Sentry-Rate-Limits"),"retry-after":jn.headers.get("Retry-After")}}))}catch(jn){return function os(){zr=void 0}(),lt-=mn,kt--,(0,Q.$2)(jn)}})}const Wr=4;function $r(N){return Hr(N,function x(lt){return new Q.cW((kt,Ce)=>{const be=new XMLHttpRequest;be.onerror=Ce,be.onreadystatechange=()=>{be.readyState===Wr&&kt({statusCode:be.status,headers:{"x-sentry-rate-limits":be.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":be.getResponseHeader("Retry-After")}})},be.open("POST",N.url);for(const mn in N.headers)Object.prototype.hasOwnProperty.call(N.headers,mn)&&be.setRequestHeader(mn,N.headers[mn]);be.send(lt.body)})})}const Qr=[v(),ht(),mt(),zi(),No(),Sn(),so(),rr()];function Ar(N){return[...Qr]}function wr(N={}){void 0===N.defaultIntegrations&&(N.defaultIntegrations=Ar()),void 0===N.release&&("string"==typeof __SENTRY_RELEASE__&&(N.release=__SENTRY_RELEASE__),sn.SENTRY_RELEASE&&sn.SENTRY_RELEASE.id&&(N.release=sn.SENTRY_RELEASE.id)),void 0===N.autoSessionTracking&&(N.autoSessionTracking=!0),void 0===N.sendClientReports&&(N.sendClientReports=!0);const x={...N,stackParser:(0,B.Sq)(N.stackParser||or),integrations:(0,T.m8)(N),transport:N.transport||((0,k.Ak)()?Fr:$r)};(function st(N,x){!0===x.debug&&(g.X?t.kg.enable():(0,t.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,e.nZ)().update(x.initialScope);const kt=new N(x);(function dt(N){const lt=(0,It.Gd)().getStackTop();lt.client=N,lt.scope.setClient(N)})(kt),function St(N){N.init?N.init():N.setupIntegrations&&N.setupIntegrations()}(kt)})(Ei,x),N.autoSessionTracking&&function Ze(){typeof sn.document>"u"?Jn&&t.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):((0,e.yj)({ignoreDuration:!0}),(0,e.cg)(),Gt(({from:N,to:x})=>{void 0!==N&&N!==x&&((0,e.yj)({ignoreDuration:!0}),(0,e.cg)())}))}()}const G=(N={},x=(0,It.Gd)())=>{if(!sn.document)return void(Jn&&t.kg.error("Global document not defined in showReportDialog call"));const{client:lt,scope:kt}=x.getStackTop(),Ce=N.dsn||lt&&lt.getDsn();if(!Ce)return void(Jn&&t.kg.error("DSN not configured for showReportDialog call"));kt&&(N.user={...kt.getUser(),...N.user}),N.eventId||(N.eventId=x.lastEventId());const be=sn.document.createElement("script");be.async=!0,be.crossOrigin="anonymous",be.src=function Bt(N,x){const lt=nt(N);if(!lt)return"";const kt=`${Dt(lt)}embed/error-page/`;let Ce=`dsn=${Z(lt)}`;for(const be in x)if("dsn"!==be&&"onClose"!==be)if("user"===be){const mn=x.user;if(!mn)continue;mn.name&&(Ce+=`&name=${encodeURIComponent(mn.name)}`),mn.email&&(Ce+=`&email=${encodeURIComponent(mn.email)}`)}else Ce+=`&${encodeURIComponent(be)}=${encodeURIComponent(x[be])}`;return`${kt}?${Ce}`}(Ce,N),N.onLoad&&(be.onload=N.onLoad);const{onClose:mn}=N;if(mn){const jn=li=>{if("__sentry_reportdialog_closed__"===li.data)try{mn()}finally{sn.removeEventListener("message",jn)}};sn.addEventListener("message",jn)}const Dn=sn.document.head||sn.document.body;Dn?Dn.appendChild(be):Jn&&t.kg.error("Not injecting report dialog. No injection point found in HTML")};var Kn=o(2202);let Ai;function Ao(N){const x=function ko(N){return Ai?Ai.get(N):void 0}(N);if(!x)return;const lt={};for(const[,[kt,Ce]]of x)lt[kt]||(lt[kt]=[]),lt[kt].push((0,p.Jr)(Ce));return lt}const Xi="sentry.source",Bo="sentry.sample_rate",_o="sentry.op",wo="sentry.origin";var Er,N,Dr=o(4254);function Jo(N,x){N.setTag("http.status_code",String(x)),N.setData("http.response.status_code",x);const lt=function kr(N){if(N<400&&N>=100)return"ok";if(N>=400&&N<500)switch(N){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(N>=500&&N<600)switch(N){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(x);"unknown_error"!==lt&&N.setStatus(lt)}(N=Er||(Er={})).Ok="ok",N.DeadlineExceeded="deadline_exceeded",N.Unauthenticated="unauthenticated",N.PermissionDenied="permission_denied",N.NotFound="not_found",N.ResourceExhausted="resource_exhausted",N.InvalidArgument="invalid_argument",N.Unimplemented="unimplemented",N.Unavailable="unavailable",N.InternalError="internal_error",N.UnknownError="unknown_error",N.Cancelled="cancelled",N.AlreadyExists="already_exists",N.FailedPrecondition="failed_precondition",N.Aborted="aborted",N.OutOfRange="out_of_range",N.DataLoss="data_loss";class ar{constructor(x=1e3){this._maxlen=x,this.spans=[]}add(x){this.spans.length>this._maxlen?x.spanRecorder=void 0:this.spans.push(x)}}class xr{constructor(x={}){this._traceId=x.traceId||(0,a.DM)(),this._spanId=x.spanId||(0,a.DM)().substring(16),this._startTime=x.startTimestamp||(0,ln.ph)(),this.tags=x.tags?{...x.tags}:{},this.data=x.data?{...x.data}:{},this.instrumenter=x.instrumenter||"sentry",this._attributes={},this.setAttributes({[wo]:x.origin||"manual",[_o]:x.op,...x.attributes}),this._name=x.name||x.description,x.parentSpanId&&(this._parentSpanId=x.parentSpanId),"sampled"in x&&(this._sampled=x.sampled),x.status&&(this._status=x.status),x.endTimestamp&&(this._endTime=x.endTimestamp)}get name(){return this._name||""}set name(x){this.updateName(x)}get description(){return this._name}set description(x){this._name=x}get traceId(){return this._traceId}set traceId(x){this._traceId=x}get spanId(){return this._spanId}set spanId(x){this._spanId=x}set parentSpanId(x){this._parentSpanId=x}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(x){this._sampled=x}get attributes(){return this._attributes}set attributes(x){this._attributes=x}get startTimestamp(){return this._startTime}set startTimestamp(x){this._startTime=x}get endTimestamp(){return this._endTime}set endTimestamp(x){this._endTime=x}get status(){return this._status}set status(x){this._status=x}get op(){return this._attributes[_o]}set op(x){this.setAttribute(_o,x)}get origin(){return this._attributes[wo]}set origin(x){this.setAttribute(wo,x)}spanContext(){const{_spanId:x,_traceId:lt,_sampled:kt}=this;return{spanId:x,traceId:lt,traceFlags:kt?Kn.i0:Kn.ve}}startChild(x){const lt=new xr({...x,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});lt.spanRecorder=this.spanRecorder,lt.spanRecorder&&lt.spanRecorder.add(lt);const kt=(0,Dr.G)(this);if(lt.transaction=kt,g.X&&kt){const Dn=`[Tracing] Starting '${x&&x.op||"< unknown op >"}' span on transaction '${(0,Kn.XU)(lt).description||"< unknown name >"}' (${kt.spanContext().spanId}).`;t.kg.log(Dn),this._logMessage=Dn}return lt}setTag(x,lt){return this.tags={...this.tags,[x]:lt},this}setData(x,lt){return this.data={...this.data,[x]:lt},this}setAttribute(x,lt){void 0===lt?delete this._attributes[x]:this._attributes[x]=lt}setAttributes(x){Object.keys(x).forEach(lt=>this.setAttribute(lt,x[lt]))}setStatus(x){return this._status=x,this}setHttpStatus(x){return Jo(this,x),this}setName(x){this.updateName(x)}updateName(x){return this._name=x,this}isSuccess(){return"ok"===this._status}finish(x){return this.end(x)}end(x){if(this._endTime)return;const lt=(0,Dr.G)(this);if(g.X&&lt&&lt.spanContext().spanId!==this._spanId){const kt=this._logMessage;kt&&t.kg.log(kt.replace("Starting","Finishing"))}this._endTime=(0,Kn.$k)(x)}toTraceparent(){return(0,Kn.Hb)(this)}toContext(){return(0,p.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(x){return this.data=x.data||{},this._name=x.name||x.description,this._endTime=x.endTimestamp,this.op=x.op,this._parentSpanId=x.parentSpanId,this._sampled=x.sampled,this._spanId=x.spanId||this._spanId,this._startTime=x.startTimestamp||this._startTime,this._status=x.status,this.tags=x.tags||{},this._traceId=x.traceId||this._traceId,this}getTraceContext(){return(0,Kn.wy)(this)}getSpanJSON(){return(0,p.Jr)({data:this._getData(),description:this._name,op:this._attributes[_o],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[wo],_metrics_summary:Ao(this)})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:x,_attributes:lt}=this,kt=Object.keys(x).length>0,Ce=Object.keys(lt).length>0;if(kt||Ce)return kt&&Ce?{...x,...lt}:kt?x:lt}}function Tr(N){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const x=(0,e.s3)(),lt=N||x&&x.getOptions();return!!lt&&(lt.enableTracing||"tracesSampleRate"in lt||"tracesSampler"in lt)}function X(N){if(!Tr())return;const x=function di(N){if(N.startTime){const x={...N};return x.startTimestamp=(0,Kn.$k)(N.startTime),delete x.startTime,x}return N}(N),lt=(0,It.Gd)(),kt=N.scope?N.scope.getSpan():Yt();if(N.onlyIfParent&&!kt)return;const be=(0,It.aF)(),mn=(0,e.nZ)();let Dn;if(kt)Dn=kt.startChild(x);else{const{traceId:jn,dsc:li,parentSpanId:Pi,sampled:Ri}={...be.getPropagationContext(),...mn.getPropagationContext()};Dn=lt.startTransaction({traceId:jn,parentSpanId:Pi,parentSampled:Ri,...x,metadata:{dynamicSamplingContext:li,...x.metadata}})}return function yn(N,x,lt){N&&((0,p.xp)(N,Mt,lt),(0,p.xp)(N,ro,x))}(Dn,mn,be),Dn}function Yt(){return(0,e.nZ)().getSpan()}const ro="_sentryScope",Mt="_sentryIsolationScope";class qt extends xr{constructor(x,lt){super(x),this._measurements={},this._contexts={},this._hub=lt||(0,It.Gd)(),this._name=x.name||"",this._metadata={...x.metadata},this._trimEnd=x.trimEnd,this.transaction=this;const kt=this._metadata.dynamicSamplingContext;kt&&(this._frozenDynamicSamplingContext={...kt})}get name(){return this._name}set name(x){this.setName(x)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Xi]&&{source:this._attributes[Xi]},...this._attributes[Bo]&&{sampleRate:this._attributes[Bo]}}}set metadata(x){this._metadata=x}setName(x,lt="custom"){this._name=x,this.setAttribute(Xi,lt)}updateName(x){return this._name=x,this}initSpanRecorder(x=1e3){this.spanRecorder||(this.spanRecorder=new ar(x)),this.spanRecorder.add(this)}setContext(x,lt){null===lt?delete this._contexts[x]:this._contexts[x]=lt}setMeasurement(x,lt,kt=""){this._measurements[x]={value:lt,unit:kt}}setMetadata(x){this._metadata={...this._metadata,...x}}end(x){const lt=(0,Kn.$k)(x),kt=this._finishTransaction(lt);if(kt)return this._hub.captureEvent(kt)}toContext(){const x=super.toContext();return(0,p.Jr)({...x,name:this._name,trimEnd:this._trimEnd})}updateWithContext(x){return super.updateWithContext(x),this._name=x.name||"",this._trimEnd=x.trimEnd,this}getDynamicSamplingContext(){return(0,Qe.j)(this)}setHub(x){this._hub=x}_finishTransaction(x){if(void 0!==this._endTime)return;this._name||(g.X&&t.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(x);const lt=this._hub.getClient();if(lt&&lt.emit&&lt.emit("finishTransaction",this),!0!==this._sampled)return g.X&&t.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(lt&&lt.recordDroppedEvent("sample_rate","transaction"));const kt=this.spanRecorder?this.spanRecorder.spans.filter(Pi=>Pi!==this&&(0,Kn.XU)(Pi).timestamp):[];if(this._trimEnd&&kt.length>0){const Pi=kt.map(Ri=>(0,Kn.XU)(Ri).timestamp).filter(Boolean);this._endTime=Pi.reduce((Ri,mo)=>Ri>mo?Ri:mo)}const{scope:Ce,isolationScope:be}=function Ct(N){return{scope:N[ro],isolationScope:N[Mt]}}(this),{metadata:mn}=this,{source:Dn}=mn,jn={contexts:{...this._contexts,trace:(0,Kn.wy)(this)},spans:kt,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...mn,capturedSpanScope:Ce,capturedSpanIsolationScope:be,dynamicSamplingContext:(0,Qe.j)(this)},_metrics_summary:Ao(this),...Dn&&{transaction_info:{source:Dn}}};return Object.keys(this._measurements).length>0&&(g.X&&t.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),jn.measurements=this._measurements),g.X&&t.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),jn}}const Je={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},vt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class b extends ar{constructor(x,lt,kt,Ce){super(Ce),this._pushActivity=x,this._popActivity=lt,this.transactionSpanId=kt}add(x){if(x.spanContext().spanId!==this.transactionSpanId){const lt=x.end;x.end=(...kt)=>(this._popActivity(x.spanContext().spanId),lt.apply(x,kt)),void 0===(0,Kn.XU)(x).timestamp&&this._pushActivity(x.spanContext().spanId)}super.add(x)}}class ft extends qt{constructor(x,lt,kt=Je.idleTimeout,Ce=Je.finalTimeout,be=Je.heartbeatInterval,mn=!1,Dn=!1){super(x,lt),this._idleHub=lt,this._idleTimeout=kt,this._finalTimeout=Ce,this._heartbeatInterval=be,this._onScope=mn,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=vt[4],this._autoFinishAllowed=!Dn,mn&&(g.X&&t.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),lt.getScope().setSpan(this)),Dn||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=vt[3],this.end())},this._finalTimeout)}end(x){const lt=(0,Kn.$k)(x);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){g.X&&t.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*lt).toISOString(),this.op);for(const kt of this._beforeFinishCallbacks)kt(this,lt);this.spanRecorder.spans=this.spanRecorder.spans.filter(kt=>{if(kt.spanContext().spanId===this.spanContext().spanId)return!0;(0,Kn.XU)(kt).timestamp||(kt.setStatus("cancelled"),kt.end(lt),g.X&&t.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(kt,void 0,2)));const{start_timestamp:Ce,timestamp:be}=(0,Kn.XU)(kt),mn=Ce&&Ce<lt,jn=be&&Ce&&be-Ce<(this._finalTimeout+this._idleTimeout)/1e3;if(g.X){const li=JSON.stringify(kt,void 0,2);mn?jn||t.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",li):t.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",li)}return mn&&jn}),g.X&&t.kg.log("[Tracing] flushing IdleTransaction")}else g.X&&t.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const kt=this._idleHub.getScope();kt.getTransaction()===this&&kt.setSpan(void 0)}return super.end(x)}registerBeforeFinishCallback(x){this._beforeFinishCallbacks.push(x)}initSpanRecorder(x){this.spanRecorder||(this.spanRecorder=new b(Ce=>{this._finished||this._pushActivity(Ce)},Ce=>{this._finished||this._popActivity(Ce)},this.spanContext().spanId,x),g.X&&t.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(x,{restartOnChildSpanChange:lt}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===lt,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=vt[5],this.end(x)))}setFinishReason(x){this._finishReason=x}sendAutoFinishSignal(){this._autoFinishAllowed||(g.X&&t.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(x){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&(this._finishReason=vt[1],this.end(x))},this._idleTimeout)}_pushActivity(x){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),g.X&&t.kg.log(`[Tracing] pushActivity: ${x}`),this.activities[x]=!0,g.X&&t.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(x){if(this.activities[x]&&(g.X&&t.kg.log(`[Tracing] popActivity ${x}`),delete this.activities[x],g.X&&t.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const lt=(0,ln.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=vt[5],this.end(lt)):this._restartIdleTimeout(lt+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const x=Object.keys(this.activities).join("");x===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=x,this._heartbeatCounter>=3?this._autoFinishAllowed&&(g.X&&t.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=vt[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){g.X&&t.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function jt(N){return(N||(0,It.Gd)()).getScope().getTransaction()}let vn=!1;function Un(){const N=jt();if(N){const x="internal_error";g.X&&t.kg.log(`[Tracing] Transaction: ${x} -> Global error occured`),N.setStatus(x)}}function Wn(N,x,lt){if(!Tr(x))return N.sampled=!1,N;if(void 0!==N.sampled)return N.setAttribute(Bo,Number(N.sampled)),N;let kt;return"function"==typeof x.tracesSampler?(kt=x.tracesSampler(lt),N.setAttribute(Bo,Number(kt))):void 0!==lt.parentSampled?kt=lt.parentSampled:typeof x.tracesSampleRate<"u"?(kt=x.tracesSampleRate,N.setAttribute(Bo,Number(kt))):(kt=1,N.setAttribute(Bo,kt)),function Oi(N){return(0,Ut.i2)(N)||"number"!=typeof N&&"boolean"!=typeof N?(g.X&&t.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(N)} of type ${JSON.stringify(typeof N)}.`),!1):!(N<0||N>1)||(g.X&&t.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${N}.`),!1)}(kt)?kt?(N.sampled=Math.random()<kt,N.sampled?(g.X&&t.kg.log(`[Tracing] starting ${N.op} transaction - ${(0,Kn.XU)(N).description}`),N):(g.X&&t.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(kt)})`),N)):(g.X&&t.kg.log("[Tracing] Discarding transaction because "+("function"==typeof x.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),N.sampled=!1,N):(g.X&&t.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),N.sampled=!1,N)}function oo(){const x=this.getScope().getSpan();return x?{"sentry-trace":(0,Kn.Hb)(x)}:{}}function Do(N,x){const lt=this.getClient(),kt=lt&&lt.getOptions()||{},Ce=kt.instrumenter||"sentry",be=N.instrumenter||"sentry";Ce!==be&&(g.X&&t.kg.error(`A transaction was started with instrumenter=\`${be}\`, but the SDK is configured with the \`${Ce}\` instrumenter.\nThe transaction will not be sampled. Please use the ${Ce} instrumentation to start transactions.`),N.sampled=!1);let mn=new qt(N,this);return mn=Wn(mn,kt,{name:N.name,parentSampled:N.parentSampled,transactionContext:N,attributes:{...N.data,...N.attributes},...x}),mn.isRecording()&&mn.initSpanRecorder(kt._experiments&&kt._experiments.maxSpans),lt&&lt.emit&&lt.emit("startTransaction",mn),mn}function Qo(N,x,lt,kt,Ce,be,mn,Dn=!1){const jn=N.getClient(),li=jn&&jn.getOptions()||{};let Pi=new ft(x,N,lt,kt,mn,Ce,Dn);return Pi=Wn(Pi,li,{name:x.name,parentSampled:x.parentSampled,transactionContext:x,attributes:{...x.data,...x.attributes},...be}),Pi.isRecording()&&Pi.initSpanRecorder(li._experiments&&li._experiments.maxSpans),jn&&jn.emit&&jn.emit("startTransaction",Pi),Pi}Un.tag="sentry_tracingErrorCallback";var _r=o(2475);const q=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Re=yt.GLOBAL_OBJ,he=(N,x,lt)=>{let kt,Ce;return be=>{x.value>=0&&(be||lt)&&(Ce=x.value-(kt||0),(Ce||void 0===kt)&&(kt=x.value,x.delta=Ce,N(x)))}},vo=()=>Re.__WEB_VITALS_POLYFILL__?Re.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const N=Re.performance.timing,x=Re.performance.navigation.type,lt={entryType:"navigation",startTime:0,type:2==x?"back_forward":1===x?"reload":"navigate"};for(const kt in N)"navigationStart"!==kt&&"toJSON"!==kt&&(lt[kt]=Math.max(N[kt]-N.navigationStart,0));return lt})()):Re.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Rr=()=>{const N=vo();return N&&N.activationStart||0},ss=(N,x)=>{const lt=vo();let kt="navigate";return lt&&(kt=Re.document.prerendering||Rr()>0?"prerender":lt.type.replace(/_/g,"-")),{name:N,value:typeof x>"u"?-1:x,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:kt}},qr=(N,x,lt)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(N)){const kt=new PerformanceObserver(Ce=>{x(Ce.getEntries())});return kt.observe(Object.assign({type:N,buffered:!0},lt||{})),kt}}catch{}},cs=(N,x)=>{const lt=kt=>{("pagehide"===kt.type||"hidden"===Re.document.visibilityState)&&(N(kt),x&&(removeEventListener("visibilitychange",lt,!0),removeEventListener("pagehide",lt,!0)))};addEventListener("visibilitychange",lt,!0),addEventListener("pagehide",lt,!0)},Hs=N=>{const x=ss("CLS",0);let lt,kt=0,Ce=[];const be=Dn=>{Dn.forEach(jn=>{jn.hadRecentInput||(kt&&0!==Ce.length&&jn.startTime-Ce[Ce.length-1].startTime<1e3&&jn.startTime-Ce[0].startTime<5e3?(kt+=jn.value,Ce.push(jn)):(kt=jn.value,Ce=[jn]),kt>x.value&&(x.value=kt,x.entries=Ce,lt&&lt()))})},mn=qr("layout-shift",be);if(mn){lt=he(N,x);const Dn=()=>{be(mn.takeRecords()),lt(!0)};return cs(Dn),Dn}};let Ur=-1;const H=()=>(Ur<0&&(Ur="hidden"!==Re.document.visibilityState||Re.document.prerendering?1/0:0,cs(({timeStamp:N})=>{Ur=N},!0)),{get firstHiddenTime(){return Ur}}),pt=N=>{const x=H(),lt=ss("FID");let kt;const Ce=Dn=>{Dn.startTime<x.firstHiddenTime&&(lt.value=Dn.processingStart-Dn.startTime,lt.entries.push(Dn),kt(!0))},be=Dn=>{Dn.forEach(Ce)},mn=qr("first-input",be);kt=he(N,lt),mn&&cs(()=>{be(mn.takeRecords()),mn.disconnect()},!0)},Kt={},Oe=N=>{const x=H(),lt=ss("LCP");let kt;const Ce=mn=>{const Dn=mn[mn.length-1];if(Dn){const jn=Math.max(Dn.startTime-Rr(),0);jn<x.firstHiddenTime&&(lt.value=jn,lt.entries=[Dn],kt())}},be=qr("largest-contentful-paint",Ce);if(be){kt=he(N,lt);const mn=()=>{Kt[lt.id]||(Ce(be.takeRecords()),be.disconnect(),Kt[lt.id]=!0,kt(!0))};return["keydown","click"].forEach(Dn=>{addEventListener(Dn,mn,{once:!0,capture:!0})}),cs(mn,!0),mn}},dn={},qn={};let Xn,ki,Ro;function hs(N,x){return Qc(N,x),qn[N]||(function Eu(N){const x={};"event"===N&&(x.durationThreshold=0),qr(N,lt=>{gs(N,{entries:lt})},x)}(N),qn[N]=!0),Kr(N,x)}function gs(N,x){const lt=dn[N];if(lt&&lt.length)for(const kt of lt)try{kt(x)}catch(Ce){q&&t.kg.error(`Error while triggering instrumentation handler.\nType: ${N}\nName: ${(0,B.$P)(kt)}\nError:`,Ce)}}function Js(){return Hs(N=>{gs("cls",{metric:N}),Xn=N})}function Ms(){return pt(N=>{gs("fid",{metric:N}),ki=N})}function ya(){return Oe(N=>{gs("lcp",{metric:N}),Ro=N})}function na(N,x,lt,kt,Ce=!1){let be;return Qc(N,x),qn[N]||(be=lt(),qn[N]=!0),kt&&x({metric:kt}),Kr(N,x,Ce?be:void 0)}function Qc(N,x){dn[N]=dn[N]||[],dn[N].push(x)}function Kr(N,x,lt){return()=>{lt&&lt();const kt=dn[N];if(!kt)return;const Ce=kt.indexOf(x);-1!==Ce&&kt.splice(Ce,1)}}function Es(N){return"number"==typeof N&&isFinite(N)}function yr(N,{startTimestamp:x,...lt}){return x&&N.startTimestamp>x&&(N.startTimestamp=x),N.startChild({startTimestamp:x,...lt})}const Yc=2147483647;function Br(N){return N/1e3}function ac(){return Re&&Re.addEventListener&&Re.performance}let ms,Ss,Xc=0,Pr={};function Ts(N,x,lt,kt,Ce,be){const mn=be?x[be]:x[`${lt}End`],Dn=x[`${lt}Start`];!Dn||!mn||yr(N,{op:"browser",origin:"auto.browser.browser.metrics",description:Ce||lt,startTimestamp:kt+Br(Dn),endTimestamp:kt+Br(mn)})}function el(N,x,lt,kt){const Ce=x[lt];null!=Ce&&Ce<Yc&&(N[kt]=Ce)}var oa=o(2748);const ra=["localhost",/^\/(?!\/)/],zs={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:ra,tracePropagationTargets:ra};function xu(N){const{traceFetch:x,traceXHR:lt,tracePropagationTargets:kt,tracingOrigins:Ce,shouldCreateSpanForRequest:be,enableHTTPTimings:mn}={traceFetch:zs.traceFetch,traceXHR:zs.traceXHR,...N},Dn="function"==typeof be?be:Pi=>!0,jn=Pi=>function il(N,x){return(0,i.U0)(N,x||ra)}(Pi,kt||Ce),li={};x&&(0,Le.U)(Pi=>{const Ri=function tf(N,x,lt,kt,Ce="auto.http.browser"){if(!Tr()||!N.fetchData)return;const be=x(N.fetchData.url);if(N.endTimestamp&&be){const Ri=N.fetchData.__span;if(!Ri)return;const mo=kt[Ri];if(mo){if(N.response){Jo(mo,N.response.status);const yo=N.response&&N.response.headers&&N.response.headers.get("content-length");if(yo){const To=parseInt(yo);To>0&&mo.setAttribute("http.response_content_length",To)}}else N.error&&mo.setStatus("internal_error");mo.end(),delete kt[Ri]}return}const mn=(0,e.nZ)(),Dn=(0,e.s3)(),{method:jn,url:li}=N.fetchData,Pi=be?X({name:`${jn} ${li}`,onlyIfParent:!0,attributes:{url:li,type:"fetch","http.method":jn,[wo]:Ce},op:"http.client"}):void 0;if(Pi&&(N.fetchData.__span=Pi.spanContext().spanId,kt[Pi.spanContext().spanId]=Pi),lt(N.fetchData.url)&&Dn){const Ri=N.args[0];N.args[1]=N.args[1]||{};const mo=N.args[1];mo.headers=function ef(N,x,lt,kt,Ce){const be=Ce||lt.getSpan(),mn=(0,It.aF)(),{traceId:Dn,spanId:jn,sampled:li,dsc:Pi}={...mn.getPropagationContext(),...lt.getPropagationContext()},Ri=be?(0,Kn.Hb)(be):(0,_r.$p)(Dn,jn,li),mo=(0,oa.IQ)(Pi||(be?(0,Qe.j)(be):(0,Qe._)(Dn,x,lt))),yo=kt.headers||(typeof Request<"u"&&(0,Ut.V9)(N,Request)?N.headers:void 0);if(yo){if(typeof Headers<"u"&&(0,Ut.V9)(yo,Headers)){const To=new Headers(yo);return To.append("sentry-trace",Ri),mo&&To.append(oa.bU,mo),To}if(Array.isArray(yo)){const To=[...yo,["sentry-trace",Ri]];return mo&&To.push([oa.bU,mo]),To}{const To="baggage"in yo?yo.baggage:void 0,pr=[];return Array.isArray(To)?pr.push(...To):To&&pr.push(To),mo&&pr.push(mo),{...yo,"sentry-trace":Ri,baggage:pr.length>0?pr.join(","):void 0}}}return{"sentry-trace":Ri,baggage:mo}}(Ri,Dn,mn,mo,Pi)}return Pi}(Pi,Dn,jn,li);mn&&Ri&&Ta(Ri)}),lt&&(0,We.UK)(Pi=>{const Ri=function Pu(N,x,lt,kt){const Ce=N.xhr,be=Ce&&Ce[We.xU];if(!Tr()||!Ce||Ce.__sentry_own_request__||!be)return;const mn=x(be.url);if(N.endTimestamp&&mn){const Ri=Ce.__sentry_xhr_span_id__;if(!Ri)return;const mo=kt[Ri];return void(mo&&void 0!==be.status_code&&(Jo(mo,be.status_code),mo.end(),delete kt[Ri]))}const Dn=(0,e.nZ)(),jn=(0,It.aF)(),li=mn?X({name:`${be.method} ${be.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":be.method,url:be.url,[wo]:"auto.http.browser"},op:"http.client"}):void 0;li&&(Ce.__sentry_xhr_span_id__=li.spanContext().spanId,kt[Ce.__sentry_xhr_span_id__]=li);const Pi=(0,e.s3)();if(Ce.setRequestHeader&&lt(be.url)&&Pi){const{traceId:Ri,spanId:mo,sampled:yo,dsc:To}={...jn.getPropagationContext(),...Dn.getPropagationContext()};!function vs(N,x,lt){try{N.setRequestHeader("sentry-trace",x),lt&&N.setRequestHeader(oa.bU,lt)}catch{}}(Ce,li?(0,Kn.Hb)(li):(0,_r.$p)(Ri,mo,yo),(0,oa.IQ)(To||(li?(0,Qe.j)(li):(0,Qe._)(Ri,Pi,Dn))))}return li}(Pi,Dn,jn,li);mn&&Ri&&Ta(Ri)})}function Ta(N){const{url:x}=(0,Kn.XU)(N).data||{};if(!x||"string"!=typeof x)return;const lt=hs("resource",({entries:kt})=>{kt.forEach(Ce=>{(function sa(N){return"resource"===N.entryType&&"initiatorType"in N&&"string"==typeof N.nextHopProtocol&&("fetch"===N.initiatorType||"xmlhttprequest"===N.initiatorType)})(Ce)&&Ce.name.endsWith(x)&&(function nl(N){const{name:x,version:lt}=function Oa(N){let x="unknown",lt="unknown",kt="";for(const Ce of N){if("/"===Ce){[x,lt]=N.split("/");break}if(!isNaN(Number(Ce))){x="h"===kt?"http":kt,lt=N.split(kt)[1];break}kt+=Ce}return kt===N&&(x=kt),{name:x,version:lt}}(N.nextHopProtocol),kt=[];return kt.push(["network.protocol.version",lt],["network.protocol.name",x]),ln.Z1?[...kt,["http.request.redirect_start",Os(N.redirectStart)],["http.request.fetch_start",Os(N.fetchStart)],["http.request.domain_lookup_start",Os(N.domainLookupStart)],["http.request.domain_lookup_end",Os(N.domainLookupEnd)],["http.request.connect_start",Os(N.connectStart)],["http.request.secure_connection_start",Os(N.secureConnectionStart)],["http.request.connection_end",Os(N.connectEnd)],["http.request.request_start",Os(N.requestStart)],["http.request.response_start",Os(N.responseStart)],["http.request.response_end",Os(N.responseEnd)]]:kt}(Ce).forEach(mn=>N.setAttribute(...mn)),setTimeout(lt))})})}function Os(N=0){return((ln.Z1||performance.timeOrigin)+N)/1e3}const Da={...Je,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,_experiments:{},...zs},uc=(N={})=>{const x=!(!q||!N.tracePropagationTargets&&!N.tracingOrigins);(function fo(){const N=(0,It.cu)();N.__SENTRY__&&(N.__SENTRY__.extensions=N.__SENTRY__.extensions||{},N.__SENTRY__.extensions.startTransaction||(N.__SENTRY__.extensions.startTransaction=Do),N.__SENTRY__.extensions.traceHeaders||(N.__SENTRY__.extensions.traceHeaders=oo),function Nn(){vn||(vn=!0,gn(Un),hn(Un))}())})(),!N.tracePropagationTargets&&N.tracingOrigins&&(N.tracePropagationTargets=N.tracingOrigins);const lt={...Da,...N},kt=function As(){const N=ac();if(N&&ln.Z1){N.mark&&Re.performance.mark("sentry-tracing-init");const x=function cc(){return function ls(N){return na("fid",N,Ms,ki)}(({metric:N})=>{const x=N.entries[N.entries.length-1];if(!x)return;const lt=Br(ln.Z1),kt=Br(x.startTime);q&&t.kg.log("[Measurements] Adding FID"),Pr.fid={value:N.value,unit:"millisecond"},Pr["mark.fid"]={value:lt+kt,unit:"second"}})}(),lt=function Ma(){return function vr(N,x=!1){return na("cls",N,Js,Xn,x)}(({metric:N})=>{const x=N.entries[N.entries.length-1];x&&(q&&t.kg.log("[Measurements] Adding CLS"),Pr.cls={value:N.value,unit:""},Ss=x)},!0)}(),kt=function Ea(){return function Yo(N,x=!1){return na("lcp",N,ya,Ro,x)}(({metric:N})=>{const x=N.entries[N.entries.length-1];x&&(q&&t.kg.log("[Measurements] Adding LCP"),Pr.lcp={value:N.value,unit:"millisecond"},ms=x)},!0)}();return()=>{x(),lt(),kt()}}return()=>{}}();let Ce,be;function mn(Dn){const jn=(0,It.Gd)(),{beforeStartSpan:li,idleTimeout:Pi,finalTimeout:Ri,heartbeatInterval:mo}=lt,yo="pageload"===Dn.op;let To;if(yo){const bs=yo?ba("sentry-trace"):"",ys=yo?ba("baggage"):void 0,{traceId:Pa,dsc:_c,parentSpanId:Fu,sampled:ku}=(0,_r.pT)(bs,ys);To={traceId:Pa,parentSpanId:Fu,parentSampled:ku,...Dn,metadata:{...Dn.metadata,dynamicSamplingContext:_c},trimEnd:!0}}else To={trimEnd:!0,...Dn};const pr=li?li(To):To;pr.metadata=pr.name!==To.name?{...pr.metadata,source:"custom"}:pr.metadata,Ce=pr.name,be=function rl(N){return N.attributes&&N.attributes[Xi]||N.data&&N.data[Xi]||N.metadata&&N.metadata.source}(pr),!1===pr.sampled&&q&&t.kg.log(`[Tracing] Will not send ${pr.op} transaction because of beforeNavigate.`),q&&t.kg.log(`[Tracing] Starting ${pr.op} transaction on scope`);const{location:ts}=Re,es=Qo(jn,pr,Pi,Ri,!0,{location:ts},mo,yo);return yo&&(Re.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Re.document.readyState)&&es.sendAutoFinishSignal()}),["interactive","complete"].includes(Re.document.readyState)&&es.sendAutoFinishSignal()),es.registerBeforeFinishCallback(bs=>{kt(),function qc(N){const x=ac();if(!x||!Re.performance.getEntries||!ln.Z1)return;q&&t.kg.log("[Tracing] Adding & adjusting spans using Performance API");const lt=Br(ln.Z1),kt=x.getEntries();let Ce,be;const{op:mn,start_timestamp:Dn}=(0,Kn.XU)(N);if(kt.slice(Xc).forEach(jn=>{const li=Br(jn.startTime),Pi=Br(jn.duration);if(!("navigation"===N.op&&Dn&&lt+li<Dn))switch(jn.entryType){case"navigation":(function Ou(N,x,lt){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(kt=>{Ts(N,x,kt,lt)}),Ts(N,x,"secureConnection",lt,"TLS/SSL","connectEnd"),Ts(N,x,"fetch",lt,"cache","domainLookupStart"),Ts(N,x,"domainLookup",lt,"DNS"),function ia(N,x,lt){x.responseEnd&&(yr(N,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:lt+Br(x.requestStart),endTimestamp:lt+Br(x.responseEnd)}),yr(N,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:lt+Br(x.responseStart),endTimestamp:lt+Br(x.responseEnd)}))}(N,x,lt)})(N,jn,lt),Ce=lt+Br(jn.responseStart),be=lt+Br(jn.requestStart);break;case"mark":case"paint":case"measure":{!function tl(N,x,lt,kt,Ce){const be=Ce+lt;yr(N,{description:x.name,endTimestamp:be+kt,op:x.entryType,origin:"auto.resource.browser.metrics",startTimestamp:be})}(N,jn,li,Pi,lt);const Ri=H(),mo=jn.startTime<Ri.firstHiddenTime;"first-paint"===jn.name&&mo&&(q&&t.kg.log("[Measurements] Adding FP"),Pr.fp={value:jn.startTime,unit:"millisecond"}),"first-contentful-paint"===jn.name&&mo&&(q&&t.kg.log("[Measurements] Adding FCP"),Pr.fcp={value:jn.startTime,unit:"millisecond"});break}case"resource":!function Du(N,x,lt,kt,Ce,be){if("xmlhttprequest"===x.initiatorType||"fetch"===x.initiatorType)return;const mn=Fn(lt),Dn={};el(Dn,x,"transferSize","http.response_transfer_size"),el(Dn,x,"encodedBodySize","http.response_content_length"),el(Dn,x,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in x&&(Dn["resource.render_blocking_status"]=x.renderBlockingStatus),mn.protocol&&(Dn["url.scheme"]=mn.protocol.split(":").pop()),mn.host&&(Dn["server.address"]=mn.host),Dn["url.same_origin"]=lt.includes(Re.location.origin);const jn=be+kt,li=jn+Ce;yr(N,{description:lt.replace(Re.location.origin,""),endTimestamp:li,op:x.initiatorType?`resource.${x.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:jn,data:Dn})}(N,jn,jn.name,li,Pi,lt)}}),Xc=Math.max(kt.length-1,0),function qp(N){const x=Re.navigator;if(!x)return;const lt=x.connection;lt&&(lt.effectiveType&&N.setTag("effectiveConnectionType",lt.effectiveType),lt.type&&N.setTag("connectionType",lt.type),Es(lt.rtt)&&(Pr["connection.rtt"]={value:lt.rtt,unit:"millisecond"})),Es(x.deviceMemory)&&N.setTag("deviceMemory",`${x.deviceMemory} GB`),Es(x.hardwareConcurrency)&&N.setTag("hardwareConcurrency",String(x.hardwareConcurrency))}(N),"pageload"===mn){(function bu(N,x,lt,kt){"number"==typeof x&&kt&&(q&&t.kg.log("[Measurements] Adding TTFB"),N.ttfb={value:1e3*Math.max(x-kt,0),unit:"millisecond"},"number"==typeof lt&&lt<=x&&(N["ttfb.requestTime"]={value:1e3*(x-lt),unit:"millisecond"}))})(Pr,Ce,be,Dn),["fcp","fp","lcp"].forEach(li=>{if(!Pr[li]||!Dn||lt>=Dn)return;const Pi=Pr[li].value,Ri=lt+Br(Pi),mo=Math.abs(1e3*(Ri-Dn));q&&t.kg.log(`[Measurements] Normalized ${li} from ${Pi} to ${mo} (${mo-Pi})`),Pr[li].value=mo});const jn=Pr["mark.fid"];jn&&Pr.fid&&(yr(N,{description:"first input delay",endTimestamp:jn.value+Br(Pr.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:jn.value}),delete Pr["mark.fid"]),"fcp"in Pr||delete Pr.cls,Object.keys(Pr).forEach(li=>{!function ee(N,x,lt){const kt=jt();kt&&kt.setMeasurement(N,x,lt)}(li,Pr[li].value,Pr[li].unit)}),function lc(N){ms&&(q&&t.kg.log("[Measurements] Adding LCP Data"),ms.element&&N.setTag("lcp.element",(0,un.Rt)(ms.element)),ms.id&&N.setTag("lcp.id",ms.id),ms.url&&N.setTag("lcp.url",ms.url.trim().slice(0,200)),N.setTag("lcp.size",ms.size)),Ss&&Ss.sources&&(q&&t.kg.log("[Measurements] Adding CLS Data"),Ss.sources.forEach((x,lt)=>N.setTag(`cls.source.${lt+1}`,(0,un.Rt)(x.node))))}(N)}ms=void 0,Ss=void 0,Pr={}}(bs)}),es}return lt.enableLongTask&&function Tu(){hs("longtask",({entries:N})=>{for(const x of N){const lt=jt();if(!lt)return;const kt=Br(ln.Z1+x.startTime),Ce=Br(x.duration);lt.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:kt,endTimestamp:kt+Ce})}})}(),lt._experiments.enableInteractions&&function Ca(){hs("event",({entries:N})=>{for(const x of N){const lt=jt();if(!lt)return;if("click"===x.name){const kt=Br(ln.Z1+x.startTime),Ce=Br(x.duration),be={description:(0,un.Rt)(x.target),op:`ui.interaction.${x.name}`,origin:"auto.ui.browser.metrics",startTimestamp:kt,endTimestamp:kt+Ce},mn=(0,un.iY)(x.target);mn&&(be.attributes={"ui.component_name":mn}),lt.startChild(be)}}})}(),{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(Dn){const jn=Dn.getOptions(),{markBackgroundSpan:li,traceFetch:Pi,traceXHR:Ri,shouldCreateSpanForRequest:mo,enableHTTPTimings:yo,_experiments:To}=lt,pr=jn&&jn.tracePropagationTargets,ts=pr||lt.tracePropagationTargets;q&&x&&pr&&t.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let es,bs=Re.location.href;Dn.on&&(Dn.on("startNavigationSpan",ys=>{es&&(q&&t.kg.log(`[Tracing] Finishing current transaction with op: ${(0,Kn.XU)(es).op}`),es.end()),es=mn({op:"navigation",...ys})}),Dn.on("startPageLoadSpan",ys=>{es&&(q&&t.kg.log(`[Tracing] Finishing current transaction with op: ${(0,Kn.XU)(es).op}`),es.end()),es=mn({op:"pageload",...ys})})),lt.instrumentPageLoad&&Dn.emit&&function ol(N,x){if(!N.emit)return;N.emit("startPageLoadSpan",x);const lt=Yt();lt&&(0,Kn.XU)(lt)}(Dn,{name:Re.location.pathname,startTimestamp:ln.Z1?ln.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Xi]:"url"}}),lt.instrumentNavigation&&Dn.emit&&Gt(({to:ys,from:Pa})=>{void 0===Pa&&bs&&-1!==bs.indexOf(ys)?bs=void 0:Pa!==ys&&(bs=void 0,aa(Dn,{name:Re.location.pathname,origin:"auto.navigation.browser",attributes:{[Xi]:"url"}}))}),li&&function _t(){Re&&Re.document?Re.document.addEventListener("visibilitychange",()=>{const N=jt();if(Re.document.hidden&&N){const x="cancelled",{op:lt,status:kt}=(0,Kn.XU)(N);q&&t.kg.log(`[Tracing] Transaction: ${x} -> since tab moved to the background, op: ${lt}`),kt||N.setStatus(x),N.setTag("visibilitychange","document.hidden"),N.end()}}):q&&t.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),To.enableInteractions&&function Su(N,x,lt){let kt;const Ce=()=>{const{idleTimeout:be,finalTimeout:mn,heartbeatInterval:Dn}=N,jn="ui.action.click",li=jt();if(li&&li.op&&["navigation","pageload"].includes(li.op))return void(q&&t.kg.warn(`[Tracing] Did not create ${jn} transaction because a pageload or navigation transaction is in progress.`));if(kt&&(kt.setFinishReason("interactionInterrupted"),kt.end(),kt=void 0),!x)return void(q&&t.kg.warn(`[Tracing] Did not create ${jn} transaction because _latestRouteName is missing.`));const{location:Pi}=Re,Ri={name:x,op:jn,trimEnd:!0,data:{[Xi]:lt||"url"}};kt=Qo((0,It.Gd)(),Ri,be,mn,!0,{location:Pi},Dn)};["click"].forEach(be=>{addEventListener(be,Ce,{once:!1,capture:!0})})}(lt,Ce,be),xu({traceFetch:Pi,traceXHR:Ri,tracePropagationTargets:ts,shouldCreateSpanForRequest:mo,enableHTTPTimings:yo})},options:lt}};function aa(N,x){if(!N.emit)return;N.emit("startNavigationSpan",x);const lt=Yt();return"navigation"===(lt&&(0,Kn.XU)(lt).op)?lt:void 0}function ba(N){const x=(0,un.qT)(`meta[name=${N}]`);return x?x.getAttribute("content"):void 0}var ws=o(5879),sl=o(9862),$s=o(4190),Au=o(7394),Qs=o(2181),Ds=o(9397);const al=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function cl(N){const x=Object.assign({defaultIntegrations:Ar().filter(lt=>"TryCatch"!==lt.name)},N);eo(x,"angular-ivy"),function ll(){const x=ws.q4F&&ws.q4F.major?parseInt(ws.q4F.major,10):void 0;x&&(x<12&&al&&t.kg.warn(`This Sentry SDK does not officially support Angular ${x}.`,"This SDK only supports Angular 12 and above.","If you're using Angular 10 or 11, please use `@sentry/angular` instead.","Otherwise, please consider upgrading your Angular version."),(0,e.v)("angular",{version:x}))}(),wr(x)}const ca=typeof Zone<"u"&&!!Zone.current;function ul(N){return ca?Zone.root.run(N):N()}function dc(N){if(N instanceof Error)return!0;if(null===N||"object"!=typeof N)return!1;const x=N;return(0,Ut.HD)(x.name)&&(0,Ut.HD)(x.message)&&(void 0===x.stack||(0,Ut.HD)(x.stack))}let pc=(()=>{class N{constructor(lt){this._registeredAfterSendEventHandler=!1,this._options=Object.assign({logErrors:!0},lt)}handleError(lt){const kt=this._extractError(lt)||"Handled unknown error",Ce=ul(()=>e.Tb(kt,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(kt),this._options.showDialog){const be=e.s3();be&&be.on&&!this._registeredAfterSendEventHandler?(be.on("afterSendEvent",mn=>{mn.type||G(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:mn.event_id}))}),this._registeredAfterSendEventHandler=!0):(!be||!be.on)&&G(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:Ce}))}}_extractError(lt){if(this._options.extractor){const kt=this._defaultExtractor.bind(this);return this._options.extractor(lt,kt)}return this._defaultExtractor(lt)}_defaultExtractor(lt){const kt=function Yr(N){return N&&N.ngOriginalError?N.ngOriginalError:N}(lt);return kt instanceof sl.UA?function wu(N){return dc(N.error)?N.error:N.error instanceof ErrorEvent&&N.error.message?N.error.message:"string"==typeof N.error?`Server returned code ${N.status} with body "${N.error}"`:N.message}(kt):"string"==typeof kt||dc(kt)?kt:null}}return N.\u0275fac=function(lt){return new(lt||N)(ws.LFG("errorHandlerOptions"))},N.\u0275prov=ws.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Ru(N){return new pc(N)}const fc="ui.angular.routing",hc="ui.angular.init",Ys="ui.angular";let Rs,xa=!1;function Lu(N={}){return!1!==N.instrumentNavigation&&(Rs=!0,xa=!0),uc(Object.assign(Object.assign({},N),{instrumentNavigation:!1}))}function mc(){return(0,e.nZ)().getTransaction()}let nf=(()=>{class N{constructor(lt){this._router=lt,this.navStart$=this._router.events.pipe((0,Qs.h)(kt=>kt instanceof $s.OD),(0,Ds.b)(kt=>{if(!Rs)return void(al&&t.kg.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const Ce=(0,e.s3)(),be=function si(N){return N.split(/[\?#]/,1)[0]}(kt.url);if(Ce&&xa)return Yt()||aa(Ce,{name:be,origin:"auto.navigation.angular",attributes:{[Xi]:"url"}}),void(this._routingSpan=X({name:`${kt.url}`,op:fc,origin:"auto.ui.angular",tags:Object.assign({"routing.instrumentation":"@sentry/angular",url:be},kt.navigationTrigger&&{navigationTrigger:kt.navigationTrigger})})||null);let mn=mc();mn&&(this._routingSpan=mn.startChild({description:`${kt.url}`,op:fc,origin:"auto.ui.angular",tags:Object.assign({"routing.instrumentation":"@sentry/angular",url:be},kt.navigationTrigger&&{navigationTrigger:kt.navigationTrigger})}))})),this.resEnd$=this._router.events.pipe((0,Qs.h)(kt=>kt instanceof $s.Av),(0,Ds.b)(kt=>{const Ce=function Nu(N){const x=[];let lt=N&&N.firstChild;for(;lt;){const Ce=lt&&lt.routeConfig&&lt.routeConfig.path;if(null==Ce)break;x.push(Ce),lt=lt.firstChild}const kt=x.filter(Ce=>Ce).join("/");return kt?`/${kt}/`:"/"}(kt.state.root),be=mc(),mn=be&&(0,Kn.XU)(be).data||{};be&&"url"===mn[Xi]&&(be.updateName(Ce),be.setAttribute(Xi,"route"),be.setAttribute(wo,`auto.${(0,Kn.XU)(be).op}.angular`))})),this.navEnd$=this._router.events.pipe((0,Qs.h)(kt=>kt instanceof $s.m2||kt instanceof $s.gk||kt instanceof $s.Q3),(0,Ds.b)(()=>{this._routingSpan&&(ul(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._subscription=new Au.w0,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}}return N.\u0275fac=function(lt){return new(lt||N)(ws.LFG($s.F0))},N.\u0275prov=ws.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function rf(){let N;return x=>{const lt=x.prototype.ngOnInit;x.prototype.ngOnInit=function(...Ce){const be=mc();if(be&&(N=be.startChild({description:`<${x.name}>`,op:hc,origin:"auto.ui.angular.trace_class_decorator"})),lt)return lt.apply(this,Ce)};const kt=x.prototype.ngAfterViewInit;x.prototype.ngAfterViewInit=function(...Ce){if(N&&N.end(),kt)return kt.apply(this,Ce)}}}function Xs(){return(N,x,lt)=>{const kt=lt.value;return lt.value=function(...Ce){const be=(0,ln.ph)(),mn=mc();if(mn&&mn.startChild({description:`<${N.constructor.name}>`,endTimestamp:be,op:`${Ys}.${String(x)}`,origin:"auto.ui.angular.trace_method_decorator",startTimestamp:be}),kt)return kt.apply(this,Ce)},lt}}},1870:(Qt,$,o)=>{"use strict";o.d($,{I1:()=>$e,IU:()=>de,PU:()=>wn,PW:()=>Ue,Zh:()=>rn,c4:()=>ne,dw:()=>Hn,hK:()=>Gt,kA:()=>Se,li:()=>ae,lo:()=>Pt,s6:()=>re,yS:()=>Bn});var e=o(5861),t=o(5879),a=o(7398),i=o(3997),g=o(6306),T=o(6232),_=o(8645),m=o(4664),h=o(9773),f=o(932),v=o(2181),C=o(7328),D=o(7921),y=o(8451),E=o(2187),O=o(2527),M=o(4507),U=o(1223),R=o(1297),A=o(9191),S=o(1993),w=o(1393),p=o(6814),L=o(6266),V=o(5929),et=o(2495),tt=o(1534),ht=o(7582),it=o(1977),It=o(5586),st=o(4017);const dt=["tuiCaption",""],St=["*"],bt=["tuiTh",""];function u(Ht,xn){if(1&Ht){const ce=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(ce);const En=t.oxw();return t.KtG(En.updateSorterAndDirection())}),t.GkF(1,4),t._uU(2),t.ALo(3,"async"),t._UZ(4,"tui-icon",5),t.qZA()}if(2&Ht){const ce=t.oxw(),me=t.MAs(2);t.ekj("t-sort_sorted",ce.isCurrent),t.xp6(1),t.Q6J("ngTemplateOutlet",me),t.xp6(1),t.hij(" ",t.lcZ(3,5,ce.table&&ce.table.change$)," "),t.xp6(2),t.Q6J("icon",ce.icon)}}function ut(Ht,xn){1&Ht&&t.Hsn(0)}function Z(Ht,xn){if(1&Ht){const ce=t.EpF();t.TgZ(0,"div",6),t.NdJ("tuiResized",function(En){t.CHM(ce);const _n=t.oxw();return t.KtG(_n.onResized(En))}),t.qZA()}}const I=["tuiTd",""],F=["tuiTr",""];function ot(Ht,xn){if(1&Ht&&(t.TgZ(0,"td",6),t._uU(1),t.qZA()),2&Ht){const ce=xn.ngIf,me=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",ce[me]," ")}}function nt(Ht,xn){if(1&Ht&&(t.YNc(0,ot,2,1,"td",5),t.ALo(1,"async")),2&Ht){const ce=t.oxw(3);t.Q6J("ngIf",t.lcZ(1,1,ce.item$))}}function At(Ht,xn){if(1&Ht&&(t.ynx(0,3),t.YNc(1,nt,2,3,"ng-template",null,4,t.W1O),t.BQk()),2&Ht){const ce=xn.$implicit,me=t.MAs(2),En=t.oxw().ngIf;t.Q6J("ngTemplateOutlet",En[ce]&&En[ce].template||me)}}function Dt(Ht,xn){if(1&Ht&&(t.ynx(0),t.YNc(1,At,3,1,"ng-container",2),t.BQk()),2&Ht){const ce=t.oxw();t.xp6(1),t.Q6J("ngForOf",ce.table.columns)}}function Wt(Ht,xn){1&Ht&&t._UZ(0,"td")}const Nt=["tuiTbody",""];function Rt(Ht,xn){if(1&Ht&&(t.ynx(0),t._uU(1),t.BQk()),2&Ht){const ce=xn.polymorpheusOutlet;t.xp6(1),t.hij(" ",ce," ")}}function Bt(Ht,xn){if(1&Ht){const ce=t.EpF();t.TgZ(0,"tr")(1,"th",1)(2,"button",2),t.NdJ("click",function(){t.CHM(ce);const En=t.oxw();return t.KtG(En.onClick())}),t.TgZ(3,"span",3),t.YNc(4,Rt,2,1,"ng-container",4),t.qZA(),t._UZ(5,"tui-icon",5),t.qZA()()()}if(2&Ht){const ce=t.oxw();t.xp6(1),t.Q6J("colSpan",ce.table.columns.length),t.xp6(3),t.Q6J("polymorpheusOutlet",ce.heading),t.xp6(1),t.Q6J("tuiChevron",ce.open)}}function B(Ht,xn){1&Ht&&(t.ynx(0),t.Hsn(1),t.BQk())}const k=["tuiThGroup",""],yt=function(Ht){return{$implicit:Ht}};function Y(Ht,xn){if(1&Ht&&t.GkF(0,3),2&Ht){const ce=xn.$implicit,me=t.oxw().ngIf,En=t.MAs(3);t.Q6J("ngTemplateOutlet",me[ce]&&me[ce].template||En)("ngTemplateOutletContext",t.VKq(2,yt,ce))}}function xt(Ht,xn){if(1&Ht&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&Ht){const ce=t.oxw().$implicit;t.xp6(1),t.hij(" ",ce.toString()," ")}}function z(Ht,xn){if(1&Ht&&t.YNc(0,xt,2,1,"th",4),2&Ht){const ce=t.oxw(2);t.Q6J("ngIf",!ce.th&&!ce.heads.length)}}function at(Ht,xn){if(1&Ht&&(t.ynx(0),t.YNc(1,Y,1,4,"ng-container",1),t.YNc(2,z,1,1,"ng-template",null,2,t.W1O),t.BQk()),2&Ht){const ce=t.oxw();t.xp6(1),t.Q6J("ngForOf",ce.table.columns)}}let Pt=(()=>{class Ht{static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["caption","tuiCaption",""]],standalone:!0,features:[t.jDz],attrs:dt,ngContentSelectors:St,decls:1,vars:0,template:function(me,En){1&me&&(t.F$t(),t.Hsn(0))},styles:["caption[tuiCaption]{caption-side:bottom;text-align:start;padding:.75rem 0;color:var(--tui-text-secondary)}caption[tuiCaption]>*:not(:first-child){margin-inline-start:.5rem}caption[tuiCaption] tui-pagination:not(:first-child),caption[tuiCaption] tui-pager:not(:first-child){display:inline-flex;vertical-align:middle}\n"],encapsulation:2,changeDetection:0})}}return Ht})(),Gt=(()=>{class Ht{constructor(){this.tuiCell="",this.template=(0,t.f3M)(t.Rgc)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["ng-template","tuiCell",""]],inputs:{tuiCell:"tuiCell"},standalone:!0})}}return Ht})();const Q=(0,y.JN)({sticky:!1,resizable:!1,open:!0,size:"m",direction:1,requiredSort:!1,sortIcons:{asc:"@tui.chevron-up",desc:"@tui.chevron-down",off:"@tui.chevrons-up-down"}});let Ft=(()=>{class Ht{constructor(){this.stuck=(0,S.O4)((0,t.f3M)(E.te).pipe((0,a.U)(ce=>(ce[ce.length-1]?.intersectionRatio??0)<1),(0,i.x)(),(0,w.NA)(),(0,g.K)(()=>T.E)))}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["never"]],hostVars:2,hostBindings:function(me,En){2&me&&t.ekj("_stuck",En.stuck())},standalone:!0,features:[t._Bn([E.te,{provide:E.X$,useValue:[0,1]}])]})}}return Ht})(),le=(()=>{class Ht{static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["ng-component"]],hostAttrs:[1,"tui-table"],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(me,En){},styles:["table[tuiTable]{border-collapse:separate}table[tuiTable] [tuiCell]{padding:0}table[tuiTable] [tuiTitle]{white-space:nowrap}table[tuiTable] [tuiTitle] tui-icon{font-size:1rem}table[tuiTable] [tuiSubtitle]{color:var(--tui-text-secondary)}table[tuiTable] [tuiTh] [tuiCell],table[tuiTable] [tuiTh] [tuiTitle]{font:inherit;color:inherit}\n"],encapsulation:2,changeDetection:0})}}return Ht})(),ne=(()=>{class Ht{constructor(){this.options=(0,t.f3M)(Q),this.cdr=(0,t.f3M)(t.sBO),this.nothing=(0,y.__)(le),this.columns=[],this.direction=this.options.direction,this.directionChange=new t.vpe,this.sorterChange=new t.vpe,this.appearance=(0,t.tdS)("table"),this.size=(0,t.tdS)(this.options.size),this.cleaner=(0,t.tdS)(!1),this.change$=new _.x,this.sorter=()=>0}set sizeSetter(ce){this.size.set(ce)}updateSorterAndDirection(ce){this.sorter===ce?this.updateDirection(1===this.direction?-1:1):(this.updateSorter(ce),this.updateDirection(1))}ngOnChanges(){this.change$.next()}ngAfterViewInit(){this.cdr.detectChanges()}updateSorter(ce){this.sorter=ce||(()=>0),this.sorterChange.emit(this.sorter),this.change$.next()}updateDirection(ce){this.direction=ce,this.directionChange.emit(this.direction),this.change$.next()}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["table","tuiTable",""]],hostVars:1,hostBindings:function(me,En){2&me&&t.uIk("data-size",En.size())},inputs:{columns:"columns",direction:"direction",sizeSetter:["size","sizeSetter"],sorter:"sorter"},outputs:{directionChange:"directionChange",sorterChange:"sorterChange"},standalone:!0,features:[t._Bn([{provide:E.eo,useValue:"10000px 10000px 10000px 0px"},(0,y.Q2)(M.z1,Ht),(0,O.O0)({size:"s"}),(0,U.Es)({size:"m",appearance:"neutral"}),(0,R.Mr)({size:"xxs",appearance:"neutral"}),(0,A.yK)({size:"s",color:"var(--tui-text-action)"})]),t.TTD,t.zW0([Ft])]})}}return Ht})(),Se=(()=>{class Ht{constructor(){this.tuiHead="",this.template=(0,t.f3M)(t.Rgc)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["","tuiHead",""]],inputs:{tuiHead:"tuiHead"},standalone:!0})}}return Ht})(),Pe=(()=>{class Ht{constructor(){this.doc=(0,t.f3M)(p.K0),this.el=(0,V.AG)(),this.tuiResized=(0,w.mL)(this.el,"mousedown").pipe((0,w.mp)(),(0,m.w)(()=>{const{width:ce,right:me}=this.el.closest("th")?.getBoundingClientRect()||L.Jy;return(0,w.mL)(this.doc,"mousemove").pipe((0,i.x)(),(0,a.U)(({clientX:En})=>ce+En-me),(0,h.R)((0,w.mL)(this.doc,"mouseup")))}))}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["","tuiResized",""]],outputs:{tuiResized:"tuiResized"},standalone:!0})}}return Ht})(),Ue=(()=>{class Ht{constructor(){this.options=(0,t.f3M)(Q),this.head=(0,t.f3M)(Se,{optional:!0}),this.width=null,this.table=(0,t.f3M)((0,t.Gpc)(()=>ne),{optional:!0}),this.sorter=this.head?(ce,me)=>(0,y.A2)(ce[this.key],me[this.key]):null,this.resizable=this.options.resizable,this.sticky=this.options.sticky,this.requiredSort=this.options.requiredSort}get key(){if(!this.head)throw new Ee;return this.head.tuiHead}get isCurrent(){return!!this.sorter&&!!this.table&&this.sorter===this.table.sorter}get icon(){return this.isCurrent?1===this.table?.direction?this.options.sortIcons.asc:this.options.sortIcons.desc:this.options.sortIcons.off}updateSorterAndDirection(){const ce=this.requiredSort?this.sorter:null;this.table?.updateSorterAndDirection(this.isCurrentAndDescDirection?ce:this.sorter)}onResized(ce){this.width=ce}get isCurrentAndDescDirection(){return this.sorter===this.table?.sorter&&-1===this.table?.direction}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["th","tuiTh",""]],hostVars:8,hostBindings:function(me,En){2&me&&(t.Udp("min-width",En.width,"px")("width",En.width,"px")("max-width",En.width,"px"),t.ekj("_sticky",En.sticky))},inputs:{sorter:"sorter",resizable:"resizable",sticky:"sticky",requiredSort:"requiredSort"},standalone:!0,features:[t.jDz],attrs:bt,ngContentSelectors:St,decls:4,vars:3,consts:[["type","button","class","t-sort",3,"t-sort_sorted","click",4,"ngIf","ngIfElse"],["content",""],["class","t-bar",3,"tuiResized",4,"ngIf"],["type","button",1,"t-sort",3,"click"],[3,"ngTemplateOutlet"],[1,"t-icon",3,"icon"],[1,"t-bar",3,"tuiResized"]],template:function(me,En){if(1&me&&(t.F$t(),t.YNc(0,u,5,7,"button",0),t.YNc(1,ut,1,0,"ng-template",null,1,t.W1O),t.YNc(3,Z,1,0,"div",2)),2&me){const _n=t.MAs(2);t.Q6J("ngIf",En.sorter&&En.table)("ngIfElse",_n),t.xp6(3),t.Q6J("ngIf",En.resizable)}},dependencies:[p.Ov,p.O5,p.tP,tt.R,Pe],styles:['[_nghost-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;top:0;block-size:var(--tui-height-m);font:var(--tui-font-text-s);text-align:start;font-weight:700;color:var(--tui-text-secondary);background:var(--tui-background-base);cursor:default;padding:0 .75rem;box-sizing:border-box;box-shadow:0 .3125rem #ededed00;border:1px solid var(--tui-border-normal);filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._sticky[_nghost-%COMP%], ._stuck   ._sticky[_nghost-%COMP%]{position:sticky;z-index:30}._sticky[_nghost-%COMP%]:first-child, ._stuck   ._sticky[_nghost-%COMP%]:first-child{left:0}._sticky[_nghost-%COMP%]:after, ._stuck   ._sticky[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;left:100%;bottom:0;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}._stuck   [_nghost-%COMP%]{z-index:20}tr:not(:first-child)[_nghost-%COMP%], tr:not(:first-child)   [_nghost-%COMP%]{border-block-start:none}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:700;padding:0 1rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-text-s);font-weight:700;padding:0 .5rem}thead[tuiThead][_nghost-%COMP%], thead[tuiThead]   [_nghost-%COMP%]{position:sticky}table._stuck._sticky[_nghost-%COMP%]:after, table._stuck   ._sticky[_nghost-%COMP%]:after{opacity:1}thead[tuiThead]._stuck[_nghost-%COMP%], thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #edededb3}[tuiTheme="dark"]._sticky[_nghost-%COMP%]:after, [tuiTheme="dark"]   ._sticky[_nghost-%COMP%]:after{background:#3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%], [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #3c3c3ce6}[tuiTheme="dark"]   thead[tuiThead]._stuck[_nghost-%COMP%]:first-child, [tuiTheme="dark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]:first-child{box-shadow:.0625rem .3125rem #3c3c3ce6}table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-l)}table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-m)}table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-s)}.t-sort[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:inline-flex;flex-direction:inherit;align-items:center;outline:none;font-weight:700;cursor:pointer}.t-sort_sorted[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-sort[_ngcontent-%COMP%]:focus-visible{background:var(--tui-service-selection-background)}.t-sort[_ngcontent-%COMP%]:hover{color:var(--tui-text-primary)}.t-bar[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;bottom:0;right:-1px;inline-size:3px;justify-self:flex-end;border-inline-start:2px solid transparent;background:var(--tui-status-warning);background-clip:content-box;cursor:ew-resize;opacity:0}.t-bar[_ngcontent-%COMP%]:hover, .t-bar[_ngcontent-%COMP%]:active{opacity:1}.t-icon[_ngcontent-%COMP%]{border-width:.25rem}'],changeDetection:0})}}return Ht})();class Ee extends Error{constructor(){super("")}}let de=(()=>{class Ht{constructor(){this.table=(0,t.f3M)(ne),this.th=(0,t.f3M)(Ue),this.sortBy=(0,t.f3M)((0,t.Gpc)(()=>ae)),this.sorter=()=>0}get key(){return this.th.key}ngOnChanges(){this.sortable?(this.sorter=this.match?this.table.sorter:this.sorter,this.th.sorter=this.sorter):this.th.sorter=null}check(){this.match&&this.table.sorter!==this.sorter&&this.table.updateSorter(this.sorter)}get match(){return this.sortBy.tuiSortBy===this.key}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["th","tuiTh","","tuiSortable",""]],inputs:{sortable:["tuiSortable","sortable",et.Ig]},standalone:!0,features:[t.Xq5,t.TTD]})}}return Ht})(),ae=(()=>{class Ht{constructor(){this.sortables=L.Mm,this.table=(0,t.f3M)(ne),this.tuiSortByChange=this.table.sorterChange.pipe((0,f.g)(0),(0,v.h)(()=>!!this.sortables.length),(0,a.U)(ce=>this.getKey(ce))),this.tuiSortBy=null}set sortBy(ce){this.tuiSortBy=ce,this.checkSortables()}checkSortables(){this.sortables.forEach(ce=>ce.check())}getKey(ce){return this.sortables.find(me=>me.sorter===ce)?.key||null}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["table","tuiTable","","tuiSortBy",""]],contentQueries:function(me,En,_n){if(1&me&&t.Suo(_n,de,5),2&me){let Qe;t.iGM(Qe=t.CRH())&&(En.sortables=Qe)}},inputs:{sortBy:["tuiSortBy","sortBy"]},outputs:{tuiSortByChange:"tuiSortByChange"},standalone:!0})}}return Ht})(),$e=(()=>{class Ht{static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275dir=t.lG2({type:Ht,selectors:[["thead","tuiThead",""]],standalone:!0,features:[t._Bn([{provide:E.eo,useValue:"0px 10000px 10000px 10000px"}]),t.zW0([Ft])]})}}return Ht})(),Bn=(()=>{class Ht{constructor(){this.table=(0,t.f3M)(ne)}transform(ce){return this.sort(ce??[],this.table.sorter,this.table.direction)}sort(ce,me,En){return[...ce].sort((_n,Qe)=>En*me(_n,Qe))}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275pipe=t.Yjl({name:"tuiTableSort",type:Ht,pure:!1,standalone:!0})}}return(0,ht.gn)([y.UM],Ht.prototype,"sort",null),Ht})();const Ae=[{provide:ne,deps:[[new t.tp0,ne]],useFactory:Ht=>(Ht.change$.pipe((0,w.NA)(),(0,S.sL)()).subscribe(),Ht)}];let Hn=(()=>{class Ht{static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["th","tuiTd",""],["td","tuiTd",""]],contentQueries:function(me,En,_n){if(1&me&&t.Suo(_n,st.NN,5),2&me){let Qe;t.iGM(Qe=t.CRH())&&(En.control=Qe.first)}},hostVars:2,hostBindings:function(me,En){2&me&&t.ekj("_editable",En.control)},standalone:!0,features:[t.jDz],attrs:I,ngContentSelectors:St,decls:1,vars:0,template:function(me,En){1&me&&(t.F$t(),t.Hsn(0))},styles:['[_nghost-%COMP%]{position:relative;text-align:start;background:var(--tui-background-base);border:1px solid var(--tui-border-normal);border-block-start:none;box-sizing:border-box;filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translateZ(0)}}[_nghost-%COMP%]:first-child{left:0}[_nghost-%COMP%]:not(:first-child){border-inline-start:none}._editable[_nghost-%COMP%]:focus-within{z-index:1}._editable[_nghost-%COMP%]{padding:0!important;vertical-align:top}th[_nghost-%COMP%]{position:sticky;z-index:1}th[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;bottom:0;left:100%;inline-size:.3125rem;pointer-events:none;background:#edededb3;opacity:0}th[_nghost-%COMP%]:focus-within:not(:disabled){z-index:11}[tuiTheme="dark"][_nghost-%COMP%]:after, [tuiTheme="dark"]   [_nghost-%COMP%]:after{background:#3c3c3ce6}table._stuck[_nghost-%COMP%], table._stuck   [_nghost-%COMP%]{z-index:10}table._stuck[_nghost-%COMP%]:last-of-type:after, table._stuck   [_nghost-%COMP%]:last-of-type:after{opacity:1}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{block-size:var(--tui-height-l);font:var(--tui-font-text-m);padding:1rem}table[data-size="m"][_nghost-%COMP%], table[data-size="m"]   [_nghost-%COMP%]{block-size:var(--tui-height-m);font:var(--tui-font-text-s);padding:.75rem}table[data-size="s"][_nghost-%COMP%], table[data-size="s"]   [_nghost-%COMP%]{block-size:var(--tui-height-s);font:var(--tui-font-text-s);padding:.25rem .5rem}td[_nghost-%COMP%]:focus-within{z-index:1}td[_nghost-%COMP%]:not(:focus-within){z-index:0}'],changeDetection:0})}}return Ht})(),rn=(()=>{class Ht{constructor(){this.cells=L.Mm,this.body=(0,t.f3M)((0,t.Gpc)(()=>re)),this.contentReady$=new C.t(1),this.table=(0,t.f3M)((0,t.Gpc)(()=>ne)),this.cells$=this.contentReady$.pipe((0,m.w)(()=>(0,w.ll)(this.cells)),(0,a.U)(ce=>ce.reduce((me,En)=>({...me,[En.tuiCell]:En}),{}))),this.item$=this.contentReady$.pipe((0,m.w)(()=>(0,w.ll)(this.body.rows)),(0,a.U)(ce=>this.body.data[ce.findIndex(me=>me===this)]))}ngAfterContentInit(){var ce=this;return(0,e.Z)(function*(){yield Promise.resolve(),ce.contentReady$.next(!0)})()}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["tr","tuiTr",""]],contentQueries:function(me,En,_n){if(1&me&&t.Suo(_n,Gt,4),2&me){let Qe;t.iGM(Qe=t.CRH())&&(En.cells=Qe)}},standalone:!0,features:[t._Bn([Ae]),t.jDz],attrs:F,decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["dummy",""],[3,"ngTemplateOutlet",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["plain",""],["tuiTd","",4,"ngIf"],["tuiTd",""]],template:function(me,En){if(1&me&&(t.YNc(0,Dt,2,1,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Wt,1,0,"ng-template",null,1,t.W1O)),2&me){const _n=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,En.cells$))("ngIfElse",_n)}},dependencies:[p.Ov,p.sg,p.O5,p.tP,Hn],encapsulation:2,changeDetection:0})}}return Ht})(),re=(()=>{class Ht{constructor(){this.options=(0,t.f3M)(Q),this.table=(0,t.f3M)((0,t.Gpc)(()=>ne)),this.rows=L.Mm,this.data=[],this.open=this.options.open,this.openChange=new t.vpe}onClick(){this.open=!this.open,this.openChange.emit(this.open)}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["tbody","tuiTbody",""]],contentQueries:function(me,En,_n){if(1&me&&t.Suo(_n,rn,4),2&me){let Qe;t.iGM(Qe=t.CRH())&&(En.rows=Qe)}},inputs:{data:"data",heading:"heading",open:"open"},outputs:{openChange:"openChange"},standalone:!0,features:[t._Bn(Ae),t.jDz],attrs:Nt,ngContentSelectors:St,decls:2,vars:2,consts:[[4,"ngIf"],[1,"t-heading",3,"colSpan"],["type","button",1,"t-expand",3,"click"],[1,"t-name"],[4,"polymorpheusOutlet"],[1,"t-chevron",3,"tuiChevron"]],template:function(me,En){1&me&&(t.F$t(),t.YNc(0,Bt,6,3,"tr",0),t.YNc(1,B,2,0,"ng-container",0)),2&me&&(t.Q6J("ngIf",En.heading),t.xp6(1),t.Q6J("ngIf",En.open))},dependencies:[p.O5,It.s$,it.H,tt.R],styles:['[_nghost-%COMP%]{border-color:var(--tui-border-normal)}[_nghost-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit}.t-expand[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:flex;inline-size:100%;block-size:100%;align-items:center;box-sizing:border-box;outline:none;font-weight:700;cursor:pointer;border-color:inherit}.t-expand[_ngcontent-%COMP%]:focus-visible   .t-name[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}.t-expand[_ngcontent-%COMP%]:before, .t-expand[_ngcontent-%COMP%]:after{content:"";position:sticky;block-size:100%;border-inline-start:1px solid;border-color:inherit}.t-expand[_ngcontent-%COMP%]:before{left:0}.t-expand[_ngcontent-%COMP%]:after{right:0}.t-heading[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;block-size:var(--tui-height-m);font:var(--tui-font-text-s);padding:0;background:var(--tui-background-neutral-1);border-block-end:1px solid var(--tui-border-normal);border-color:inherit}.t-heading[_ngcontent-%COMP%]:hover{background:var(--tui-background-neutral-1-hover)}table[data-size="l"][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);block-size:var(--tui-height-l)}.t-name[_ngcontent-%COMP%]{position:sticky;left:.75rem;display:inline-block}table[data-size="l"][_nghost-%COMP%]   .t-name[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-name[_ngcontent-%COMP%]{left:1rem}.t-chevron[_ngcontent-%COMP%]{position:sticky;right:.75rem;margin:0 .6875rem 0 auto}'],changeDetection:0})}}return Ht})(),wn=(()=>{class Ht{constructor(){this.heads=L.Mm,this.heads$=null,this.table=(0,t.f3M)((0,t.Gpc)(()=>ne))}ngAfterContentInit(){this.heads$=this.heads.changes.pipe((0,D.O)(null),(0,a.U)(()=>this.heads.reduce((ce,me)=>({...ce,[me.tuiHead]:me}),{})))}static{this.\u0275fac=function(me){return new(me||Ht)}}static{this.\u0275cmp=t.Xpm({type:Ht,selectors:[["tr","tuiThGroup",""]],contentQueries:function(me,En,_n){if(1&me&&(t.Suo(_n,Ue,5),t.Suo(_n,Se,4)),2&me){let Qe;t.iGM(Qe=t.CRH())&&(En.th=Qe.first),t.iGM(Qe=t.CRH())&&(En.heads=Qe)}},standalone:!0,features:[t._Bn([Ae]),t.jDz],attrs:k,ngContentSelectors:St,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["plain",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tuiTh","",4,"ngIf"],["tuiTh",""]],template:function(me,En){1&me&&(t.F$t(),t.Hsn(0),t.YNc(1,at,4,1,"ng-container",0),t.ALo(2,"async")),2&me&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,En.heads$)))},dependencies:[p.Ov,p.sg,p.O5,p.tP,Ue],encapsulation:2,changeDetection:0})}}return Ht})()},764:(Qt,$,o)=>{"use strict";o.d($,{V2:()=>O,XI:()=>U,hw:()=>R,wC:()=>M});var e=o(5879),t=o(6266),a=o(8451),i=o(6223),g=o(1870),T=o(7328),_=o(4664),m=o(2737),h=o(7921),f=o(7398),v=o(3019),C=o(4911),D=o(6232),y=o(3997);class E{}let O=(()=>{class S extends E{constructor(){super(...arguments),this.filter=t.oN}static{this.\u0275fac=function(){let p;return function(V){return(p||(p=e.n5z(S)))(V||S)}}()}static{this.\u0275dir=e.lG2({type:S,selectors:[["","tuiGenericFilter",""]],inputs:{filter:["tuiGenericFilter","filter"]},standalone:!0,features:[e._Bn([(0,a.Q2)(E,S)]),e.qOj]})}}return S})(),M=(()=>{class S{constructor(){this.refresh$=new T.t(1),this.filters=[]}register(p){this.filters=this.filters.concat(p),this.update()}unregister(p){this.filters=this.filters.filter(L=>L!==p),this.update()}filter(p){return this.refresh$.pipe((0,_.w)(m.y),(0,h.O)(null),(0,f.U)(()=>p.filter(L=>this.check(L))))}check(p){return this.filters.every(L=>L.filter(p))}update(){this.refresh$.next((0,v.T)(...this.filters.map(({refresh$:p})=>p)))}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275dir=e.lG2({type:S,selectors:[["","tuiTableFilters",""]],standalone:!0})}}return S})(),U=(()=>{class S{constructor(){this.head=(0,e.f3M)(g.kA,{optional:!0}),this.delegate=(0,e.f3M)(E),this.control=(0,e.f3M)(i.a5),this.filters=(0,e.f3M)(M),this.refresh$=(0,C.P)(()=>(0,v.T)(this.control.valueChanges||D.E,this.control.statusChanges?.pipe((0,y.x)())||D.E))}ngOnInit(){this.filters.register(this)}ngOnDestroy(){this.filters.unregister(this)}filter(p){const{disabled:L,value:V}=this.control;return!!L||!this.key||this.delegate.filter(p[this.key],V)}get key(){return this.tuiTableFilter||this.head?.tuiHead}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275dir=e.lG2({type:S,selectors:[["","tuiTableFilter",""]],inputs:{tuiTableFilter:"tuiTableFilter"},standalone:!0})}}return S})(),R=(()=>{class S{constructor(){this.filters=(0,e.f3M)(M)}transform(p){return this.filters.filter(p)}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275pipe=e.Yjl({name:"tuiTableFilters",type:S,pure:!0,standalone:!0})}}return S})()},4017:(Qt,$,o)=>{"use strict";o.d($,{Bb:()=>p,NN:()=>A,R4:()=>U,T8:()=>et,oL:()=>w,wB:()=>S,ze:()=>L});var e=o(7582),t=o(5879),a=o(1993),i=o(6223),g=o(6266),T=o(385),_=o(8451),m=o(8645),h=o(932),f=o(7921),v=o(7398),C=o(2181),D=o(3997),y=o(4664),E=o(3019),O=o(6232);const M=["viewContainer"];class U{}const R={self:!0,optional:!0};let A=(()=>{class tt{constructor(){this.fallback=(0,t.f3M)(T.tp,R),this.refresh$=new m.x,this.pseudoInvalid=(0,t.tdS)(null),this.internal=(0,t.tdS)(this.fallback),this.control=(0,t.f3M)(i.a5,{self:!0}),this.cdr=(0,t.f3M)(t.sBO),this.transformer=(0,t.f3M)(U,R),this.value=(0,t.Flj)(()=>this.internal()??this.fallback),this.readOnly=(0,t.tdS)(!1),this.touched=(0,t.tdS)(!1),this.status=(0,t.tdS)(void 0),this.disabled=(0,t.Flj)(()=>"DISABLED"===this.status()),this.interactive=(0,t.Flj)(()=>!this.disabled()&&!this.readOnly()),this.invalid=(0,t.Flj)(()=>null!==this.pseudoInvalid()?!!this.pseudoInvalid()&&this.interactive():this.interactive()&&this.touched()&&"INVALID"===this.status()),this.mode=(0,t.Flj)(()=>this.readOnly()?"readonly":this.invalid()?"invalid":"valid"),this.onTouched=g.iD,this.onChange=g.iD,this.control.valueAccessor=this,this.refresh$.pipe((0,h.g)(0),(0,f.O)(null),(0,v.U)(()=>this.control.control),(0,C.h)(Boolean),(0,D.x)(),(0,y.w)(it=>(0,E.T)(it.valueChanges,it.statusChanges,it.events||O.E).pipe((0,f.O)(null))),(0,a.sL)()).subscribe(()=>this.update())}set readOnlySetter(it){this.readOnly.set(it)}set invalidSetter(it){this.pseudoInvalid.set(it)}registerOnChange(it){this.refresh$.next(),this.onChange=It=>{It!==this.internal()&&(it(this.toControlValue(It)),this.internal.set(It),this.update())}}registerOnTouched(it){this.onTouched=()=>{it(),this.update()}}setDisabledState(){this.update()}writeValue(it){this.internal.set(this.fromControlValue(this.control instanceof i.On?this.control.model:it)),this.update()}fromControlValue(it){return this.transformer?this.transformer.fromControlValue(it):it}toControlValue(it){return this.transformer?this.transformer.toControlValue(it):it}update(){this.status.set(this.control.control?.status),this.touched.set(!!this.control.control?.touched),this.cdr.markForCheck()}static{this.\u0275fac=function(It){return new(It||tt)}}static{this.\u0275dir=t.lG2({type:tt,inputs:{readOnlySetter:["readOnly","readOnlySetter"],invalidSetter:["invalid","invalidSetter"]}})}}return(0,e.gn)([_.UM],tt.prototype,"fromControlValue",null),(0,e.gn)([_.UM],tt.prototype,"toControlValue",null),tt})();function S(tt){return(0,_.Q2)(A,tt)}let w=(()=>{class tt{constructor(){this.injector=(0,t.f3M)(t.gxx),this.nothing=(0,t.f3M)(p).attach(this)}addComponentChild(it){const It=it.createInjector(this.injector),st=this.vcr.createComponent(it.component,{injector:It});return st.changeDetectorRef.detectChanges(),st}addTemplateChild(it,It){return this.vcr.createEmbeddedView(it,It)}static{this.\u0275fac=function(It){return new(It||tt)}}static{this.\u0275dir=t.lG2({type:tt,viewQuery:function(It,st){if(1&It&&t.Gf(M,5,t.s_b),2&It){let dt;t.iGM(dt=t.CRH())&&(st.vcr=dt.first)}}})}}return tt})(),p=(()=>{class tt{attach(it){this.host=it}add(it){return this.safeHost.addComponentChild(it)}remove({hostView:it}){this.removeTemplate(it)}addTemplate(it,It){return this.safeHost.addTemplateChild(it,It)}removeTemplate(it){it.destroyed||it.destroy()}get safeHost(){if(!this.host)throw new V;return this.host}static{this.\u0275fac=function(It){return new(It||tt)}}static{this.\u0275prov=t.Yz7({token:tt,factory:tt.\u0275fac})}}return tt})();function L(tt){return(0,_.Q2)(p,tt)}class V extends Error{constructor(){super("")}}class et{constructor(ht,it={}){this.message=ht,this.context=it}}},6266:(Qt,$,o)=>{"use strict";o.d($,{F:()=>U,Jy:()=>T,LQ:()=>f,LZ:()=>i,Lw:()=>O,Mm:()=>a,bg:()=>C,em:()=>p,f$:()=>M,fv:()=>w,iD:()=>g,kU:()=>L,oN:()=>m,tD:()=>_,tU:()=>ht,zy:()=>v});var e=o(5879);const t={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},a=new e.n_E,i=[],g=()=>{},T={...t,toJSON:()=>t},_=()=>!1,m=()=>!0,f=(st,dt,St=String)=>St(st).toLowerCase().includes(dt.toLowerCase()),v=(st,dt,St=String)=>St(st).toLowerCase()===dt.toLowerCase(),C=(st,dt)=>st===dt||function h(st,dt){return Array.isArray(st)&&Array.isArray(dt)&&!st.length&&!dt.length}(st,dt),O={acceptNode:st=>"ownerSVGElement"in st?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},M="\xa0",U="\u2013",w="-",p="\u2212",L="+",ht="\u200b"},4098:(Qt,$,o)=>{"use strict";o.d($,{F4:()=>et,FZ:()=>p,Ix:()=>U,K1:()=>dt,Lr:()=>L,NA:()=>i,Oy:()=>St,TU:()=>ht,VR:()=>st,Yz:()=>bt,cO:()=>C,dt:()=>It,ek:()=>w,hV:()=>a,mH:()=>y,nN:()=>v,qD:()=>u,ql:()=>tt});var e=o(6266),t=o(6456);function a(ut,Z,I){return I&&I<ut?I:Z&&Z>ut?Z:ut}const i=7,_=12,v=0,C=9999,y=`${e.f$}${e.F}${e.f$}`,U=24,R=6e4,A=60*R,S=A*U,w=10,p=2*w+y.length,L={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};class et{constructor(Z){this.year=Z}static isValidYear(Z){return Number.isInteger(Z)&&(0,t.wf)(Z,v,C+1)}static isLeapYear(Z){return Z%400==0||Z%4==0&&Z%100!=0}static getAbsoluteLeapYears(Z){return Math.ceil(Z/400)+(Math.ceil(Z/4)-Math.ceil(Z/100))}static lengthBetween(Z,I){return I.year-Z.year}static normalizeYearPart(Z){return(0,t.G1)(Z,v,C)}get formattedYear(){return String(this.year).padStart(4,"0")}get isLeapYear(){return et.isLeapYear(this.year)}get absoluteLeapYears(){return et.getAbsoluteLeapYears(this.year)}yearBefore({year:Z}){return this.year<Z}yearSameOrBefore({year:Z}){return this.year<=Z}yearSame({year:Z}){return this.year===Z}yearSameOrAfter({year:Z}){return this.year>=Z}yearAfter({year:Z}){return this.year>Z}append({year:Z=0}){return new et(this.year+Z)}toString(){return this.formattedYear}valueOf(){return this.year}[Symbol.toPrimitive](Z){return Date.prototype[Symbol.toPrimitive].call(this,Z)}toJSON(){return this.formattedYear}}class tt extends et{constructor(Z,I){super(Z),this.month=I}static isValidMonth(Z,I){return et.isValidYear(Z)&&tt.isValidMonthPart(I)}static getMonthDaysCount(Z,I){switch(Z){case 3:case 5:case 10:case 8:return 30;case 1:return I?29:28;default:return 31}}static currentLocal(){const Z=new Date;return new tt(Z.getFullYear(),Z.getMonth())}static currentUtc(){const Z=new Date;return new tt(Z.getUTCFullYear(),Z.getUTCMonth())}static lengthBetween(Z,I){return I.month+12*I.year-(Z.month+12*Z.year)}static normalizeMonthPart(Z){return(0,t.G1)(Z,0,11)}static isValidMonthPart(Z){return Number.isInteger(Z)&&(0,t.wf)(Z,0,12)}get formattedMonthPart(){return String(this.month+1).padStart(2,"0")}get daysCount(){return tt.getMonthDaysCount(this.month,this.isLeapYear)}monthBefore(Z){return this.yearBefore(Z)||this.yearSame(Z)&&this.month<Z.month}monthSameOrBefore(Z){return this.yearBefore(Z)||this.yearSame(Z)&&this.month<=Z.month}monthSame(Z){return this.yearSame(Z)&&this.month===Z.month}monthSameOrAfter(Z){return this.yearAfter(Z)||this.yearSame(Z)&&this.month>=Z.month}monthAfter(Z){return this.yearAfter(Z)||this.yearSame(Z)&&this.month>Z.month}append({year:Z=0,month:I=0}){const F=(this.year+Z)*_+this.month+I;return new tt(Math.floor(F/_),F%_)}toString(){return`${this.formattedMonthPart}.${this.formattedYear}`}valueOf(){return this.toLocalNativeDate().valueOf()}toJSON(){return`${super.toJSON()}-${this.formattedMonthPart}`}toLocalNativeDate(){return new Date(this.year,this.month)}toUtcNativeDate(){return new Date(Date.UTC(this.year,this.month))}}class ht extends tt{constructor(Z,I,F){super(Z,I),this.day=F}static fromLocalNativeDate(Z){return new ht(Z.getFullYear(),Z.getMonth(),Z.getDate())}static fromUtcNativeDate(Z){return new ht(Z.getUTCFullYear(),Z.getUTCMonth(),Z.getUTCDate())}static isValidDay(Z,I,F){return tt.isValidMonth(Z,I)&&Number.isInteger(F)&&(0,t.wf)(F,1,tt.getMonthDaysCount(I,et.isLeapYear(Z))+1)}static currentLocal(){const Z=new Date,I=Z.getFullYear(),F=Z.getMonth(),ot=Z.getDate();return new ht(I,F,ot)}static currentUtc(){const Z=new Date,I=Z.getUTCFullYear(),F=Z.getUTCMonth(),ot=Z.getUTCDate();return new ht(I,F,ot)}static normalizeOf(Z,I,F){const ot=et.normalizeYearPart(Z),nt=tt.normalizeMonthPart(I),At=ht.normalizeDayPart(F,nt,ot);return new ht(ot,nt,At)}static lengthBetween(Z,I){return Math.round((I.toLocalNativeDate().getTime()-Z.toLocalNativeDate().getTime())/864e5)}static parseRawDateString(Z,I="DMY"){switch(I){case"MDY":return{day:parseInt(Z.slice(3,5),10),month:parseInt(Z.slice(0,2),10)-1,year:parseInt(Z.slice(6,10),10)};case"YMD":return{day:parseInt(Z.slice(8,10),10),month:parseInt(Z.slice(5,7),10)-1,year:parseInt(Z.slice(0,4),10)};default:return{day:parseInt(Z.slice(0,2),10),month:parseInt(Z.slice(3,5),10)-1,year:parseInt(Z.slice(6,10),10)}}}static normalizeParse(Z,I="DMY"){const{day:F,month:ot,year:nt}=this.parseRawDateString(Z,I);return ht.normalizeOf(nt,ot,F)}static jsonParse(Z){const{day:I,month:F,year:ot}=this.parseRawDateString(Z,"YMD");if(!tt.isValidMonth(ot,F)||!Number.isInteger(I)||!(0,t.wf)(I,1,tt.getMonthDaysCount(F,et.isLeapYear(ot))+1))throw new it(ot,F,I);return new ht(ot,F,I)}static normalizeDayPart(Z,I,F){const ot=tt.getMonthDaysCount(I,et.isLeapYear(F));return(0,t.G1)(Z,1,ot)}get formattedDayPart(){return String(this.day).padStart(2,"0")}get isWeekend(){const Z=this.dayOfWeek(!1);return Z===L.Saturday||Z===L.Sunday}dayOfWeek(Z=!0){const I=Z?this.toLocalNativeDate().getDay()-1:this.toLocalNativeDate().getDay();return I<0?6:I}dayBefore(Z){return this.monthBefore(Z)||this.monthSame(Z)&&this.day<Z.day}daySameOrBefore(Z){return this.monthBefore(Z)||this.monthSame(Z)&&this.day<=Z.day}daySame(Z){return this.monthSame(Z)&&this.day===Z.day}daySameOrAfter(Z){return this.monthAfter(Z)||this.monthSame(Z)&&this.day>=Z.day}dayAfter(Z){return this.monthAfter(Z)||this.monthSame(Z)&&this.day>Z.day}dayLimit(Z,I){return null!==Z&&this.dayBefore(Z)?Z:null!==I&&this.dayAfter(I)?I:this}append({year:Z=0,month:I=0,day:F=0}){const ot=(this.year+Z)*_+this.month+I;let nt=Math.floor(ot/_),At=ot%_,Dt=Math.min(this.day,tt.getMonthDaysCount(At,et.isLeapYear(nt)))+F;for(;Dt>tt.getMonthDaysCount(At,et.isLeapYear(nt));)Dt-=tt.getMonthDaysCount(At,et.isLeapYear(nt)),11===At?(nt++,At=0):At++;for(;Dt<1;)0===At?(nt--,At=11):At--,Dt+=tt.getMonthDaysCount(At,et.isLeapYear(nt));return new ht(nt,At,Dt)}getFormattedDay(Z,I){const F=this.formattedDayPart,ot=this.formattedMonthPart,nt=this.formattedYear;switch(Z){case"MDY":return`${ot}${I}${F}${I}${nt}`;case"YMD":return`${nt}${I}${ot}${I}${F}`;default:return`${F}${I}${ot}${I}${nt}`}}toString(Z="DMY",I="."){return this.getFormattedDay(Z,I)}toJSON(){return`${super.toJSON()}-${this.formattedDayPart}`}toLocalNativeDate(){return new Date(this.year,this.month,this.day)}toUtcNativeDate(){return new Date(Date.UTC(this.year,this.month,this.day))}}class it extends Error{constructor(Z,I,F){super("")}}class It{constructor(Z,I){this.from=Z,this.to=I}static sort(Z,I){return Z.monthSameOrBefore(I)?new It(Z,I):new It(I,Z)}get isSingleMonth(){return this.from.monthSame(this.to)}monthSame(Z){return this.from.monthSame(Z.from)&&this.to.monthSame(Z.to)}toString(){return`${this.from}${y}${this.to}`}}class st extends It{constructor(Z,I){super(Z,I),this.from=Z,this.to=I}static sort(Z,I){return Z.daySameOrBefore(I)?new st(Z,I):new st(I,Z)}static normalizeParse(Z,I="DMY"){const F=ht.normalizeParse(Z.slice(0,w),I);return Z.length<p?new st(F,F):st.sort(F,ht.normalizeParse(Z.slice(w+y.length),I))}get isSingleDay(){return this.from.daySame(this.to)}daySame(Z){return this.from.daySame(Z.from)&&this.to.daySame(Z.to)}dayLimit(Z,I){return new st(this.from.dayLimit(Z,I),this.to.dayLimit(Z,I))}getFormattedDayRange(Z,I){const F=this.from.getFormattedDay(Z,I),ot=this.to.getFormattedDay(Z,I);return`${F}${y}${ot}`}toString(Z="DMY",I="."){return this.getFormattedDayRange(Z,I)}}const dt=new ht(v,0,1),St=new ht(C,11,31),bt=new ht(2099,11,31);class u{constructor(Z,I,F=0,ot=0){this.hours=Z,this.minutes=I,this.seconds=F,this.ms=ot}static isValidTime(Z,I,F=0,ot=0){return Number.isInteger(Z)&&(0,t.wf)(Z,0,U)&&Number.isInteger(I)&&(0,t.wf)(I,0,60)&&Number.isInteger(F)&&(0,t.wf)(F,0,60)&&Number.isInteger(ot)&&(0,t.wf)(ot,0,1e3)}static current(){return u.fromAbsoluteMilliseconds(Date.now()%S)}static currentLocal(){const Z=new Date;return u.fromAbsoluteMilliseconds((Date.now()-Z.getTimezoneOffset()*R)%S)}static fromAbsoluteMilliseconds(Z){const I=Math.floor(Z/A),F=Math.floor(Z%A/R),ot=Math.floor(Z%A%R/1e3)||0,nt=Math.floor(Z%A%R%1e3)||0;return new u(I,F,ot,nt)}static fromString(Z){const I=this.parseHours(Z),F=Number(Z.slice(3,5))||0,ot=Number(Z.slice(6,8))||0,nt=Number(Z.slice(9,12))||0;return new u(I,F,ot,nt)}static fromLocalNativeDate(Z){return new u(Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds())}static parseMeridiemPeriod(Z){return/[AP]M/.exec(Z.toUpperCase().replaceAll(/\W/g,""))?.[0]||null}static parseHours(Z){const I=Number(Z.slice(0,2)),F=this.parseMeridiemPeriod(Z);return F?12===I?"AM"===F?0:12:"PM"===F?I+12:I:I}shift({hours:Z=0,minutes:I=0,seconds:F=0,ms:ot=0}){const nt=(1e3+this.ms+ot%1e3)%1e3,Dt=(ot<0?Math.ceil(ot/1e3):Math.floor(ot/1e3))+F,Wt=(60+this.seconds+Dt%60)%60,Rt=(Dt<0?Math.ceil(Dt/60):Math.floor(Dt/60))+I,Bt=(60+this.minutes+Rt%60)%60,k=(Rt<0?Math.ceil(Rt/60):Math.floor(Rt/60))+Z;return new u((24+this.hours+k%24)%24,Bt,Wt,nt)}toString(Z){const I=Z?.startsWith("HH:MM:SS.MSS")||!Z&&this.ms>0,F=I||Z?.startsWith("HH:MM:SS")||!Z&&this.seconds>0,{hours:ot=this.hours,meridiem:nt=""}=Z?.includes("AA")?this.toTwelveHour(this.hours):{};return`${this.formatTime(ot)}:${this.formatTime(this.minutes)}${F?`:${this.formatTime(this.seconds)}`:""}${I?`.${this.formatTime(this.ms,3)}`:""}${nt&&`${e.f$}${nt}`}`}valueOf(){return this.toAbsoluteMilliseconds()}[Symbol.toPrimitive](Z){return Date.prototype[Symbol.toPrimitive].call(this,Z)}toAbsoluteMilliseconds(){return this.hours*A+this.minutes*R+1e3*this.seconds+this.ms}formatTime(Z,I=2){return String(Z).padStart(I,"0")}toTwelveHour(Z){const I=Z>=12?"PM":"AM";return 0===Z||12===Z?{meridiem:I,hours:12}:{meridiem:I,hours:Z%12}}}},7331:(Qt,$,o)=>{"use strict";o.d($,{d:()=>D});var e=o(7582),t=o(5879),a=o(6223),i=o(1393),g=o(385),T=o(5929),_=o(8451),m=o(7398),h=o(7921),f=o(3997),v=o(836),C=o(9397);let D=(()=>{class y{constructor(){this.control=(0,t.f3M)(a.a5,{self:!0,optional:!0}),this.active$=(0,t.f3M)(g.wk),this.zone=(0,t.f3M)(t.R0b),this.el=(0,T.AG)(),this.tuiActiveZoneParent=null,this.subActiveZones=[],this.directParentActiveZone=(0,t.f3M)(y,{skipSelf:!0,optional:!0}),this.tuiActiveZoneChange=this.active$.pipe((0,m.U)(O=>!!O&&this.contains(O)),(0,h.O)(!1),(0,f.x)(),(0,v.T)(1),(0,C.b)(O=>{!O&&"function"==typeof this.control?.valueAccessor.onTouched&&this.control.valueAccessor.onTouched()}),(0,i.Yr)(this.zone)),this.directParentActiveZone?.addSubActiveZone(this)}set tuiActiveZoneParentSetter(O){this.setZone(O)}ngOnDestroy(){this.directParentActiveZone?.removeSubActiveZone(this),this.tuiActiveZoneParent?.removeSubActiveZone(this)}contains(O){return this.el.contains(O)||this.subActiveZones.some((M,U,R)=>R.indexOf(M)===U&&M.contains(O))}setZone(O){this.tuiActiveZoneParent?.removeSubActiveZone(this),O?.addSubActiveZone(this),this.tuiActiveZoneParent=O}addSubActiveZone(O){this.subActiveZones=[...this.subActiveZones,O]}removeSubActiveZone(O){this.subActiveZones=(0,_.WX)(this.subActiveZones,this.subActiveZones.indexOf(O))}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=t.lG2({type:y,selectors:[["","tuiActiveZone","",5,"ng-container"],["","tuiActiveZoneChange","",5,"ng-container"],["","tuiActiveZoneParent","",5,"ng-container"]],hostBindings:function(M,U){1&M&&t.NdJ("mousedown.silent",function(){return 0},!1,t.evT)},inputs:{tuiActiveZoneParentSetter:["tuiActiveZoneParent","tuiActiveZoneParentSetter"]},outputs:{tuiActiveZoneChange:"tuiActiveZoneChange"},exportAs:["tuiActiveZone"],standalone:!0})}}return(0,e.gn)([_.UM],y.prototype,"setZone",null),y})()},7936:(Qt,$,o)=>{"use strict";o.d($,{bi:()=>It});var e=o(2495),t=o(5879),a=o(1993),i=o(5592),g=o(4829),T=o(7728),_=o(8251);var f=o(9080),v=o(8753),C=o(7398),D=o(7234),y=o(8180),E=o(5742),O=o(385),M=o(8451),U=o(5297),R=o(1393);class A{constructor(St,bt){this.el=St,this.options=bt}get element(){return(this.el.nativeElement.tagName.includes("-")?this.el.nativeElement.querySelector(this.options.query):this.el.nativeElement)||this.el.nativeElement}get isTextFieldElement(){return this.element.matches(this.options.query)}}class p extends A{constructor(St,bt,u,ut){super(St,ut),this.animationFrame$=bt,this.zone=u}setFocus(){this.isTextFieldElement?function m(...dt){return 1===(dt=(0,T.k)(dt)).length?(0,g.Xf)(dt[0]):new i.y(function h(dt){return St=>{let bt=[];for(let u=0;bt&&!St.closed&&u<dt.length;u++)bt.push((0,g.Xf)(dt[u]).subscribe((0,_.x)(St,ut=>{if(bt){for(let Z=0;Z<bt.length;Z++)Z!==u&&bt[Z].unsubscribe();bt=null}St.next(ut)})))}}(dt))}((0,f.H)(this.options.delay||1e3),this.animationFrame$.pipe((0,v.p)(100,(0,R.de)(this.zone)),(0,C.U)(()=>this.element.closest(".ng-animating")),(0,D.n)(Boolean),(0,y.q)(1))).subscribe(()=>this.element.focus({preventScroll:this.options.preventScroll})):this.element.focus({preventScroll:!0})}}const L=["type","inputMode","autocomplete","accept","min","max","step","pattern","size","maxlength"];class V extends A{constructor(St,bt,u,ut,Z){super(St,Z),this.renderer=bt,this.zone=u,this.win=ut}setFocus(){this.isTextFieldElement?this.zone.runOutsideAngular(()=>this.iosWebkitAutofocus()):this.element.focus({preventScroll:!0})}iosWebkitAutofocus(){const St=this.makeFakeInput(),bt=this.getDurationTimeBeforeFocus();let u=0,ut=0;const Z=()=>St.focus({preventScroll:!0}),I=()=>{clearTimeout(u),u=this.win.setTimeout(()=>{clearTimeout(ut),St.removeEventListener("blur",Z),St.removeEventListener("focus",I),ut=this.win.setTimeout(()=>{this.element.focus({preventScroll:this.options.preventScroll}),St.remove()},bt)})};St.addEventListener("blur",Z,{once:!0}),St.addEventListener("focus",I),this.insideDialog()?this.win.document.body.appendChild(St):this.element.parentElement?.appendChild(St),St.focus({preventScroll:!0})}makeFakeInput(){const St=this.renderer.createElement("input"),bt=this.element.getBoundingClientRect();return this.patchFakeInputFromFocusableElement(St),St.style.height=(0,M.O9)(bt.height),St.style.width=(0,M.O9)(bt.width/2),St.style.position="fixed",St.style.zIndex="-99999999",St.style.caretColor="transparent",St.style.border="none",St.style.outline="none",St.style.color="transparent",St.style.background="transparent",St.style.cursor="none",St.style.fontSize=(0,M.O9)(16),St.style.top=(0,M.O9)(bt.top),St.style.left=(0,M.O9)(bt.left),St}getDurationTimeBeforeFocus(){return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue("--tui-duration"))||0}insideDialog(){return!!this.element.closest("tui-dialog")}patchFakeInputFromFocusableElement(St){L.forEach(bt=>{const u=this.element.getAttribute(bt);(0,M.Pc)(u)&&St.setAttribute(bt,u)})}}const[et,tt]=(0,U.j)({delay:NaN,query:"input, textarea, select, [contenteditable]",preventScroll:!1}),ht=(0,M.JN)(),it=[{provide:ht,deps:[t.SBq,E.wS,t.Qsj,t.R0b,E.Az,O.FA,et],useFactory:(dt,St,bt,u,ut,Z,I)=>Z?new V(dt,bt,u,ut,I):new p(dt,St,u,I)}];let It=(()=>{class dt{constructor(){this.handler=(0,t.f3M)(ht),this.options=(0,t.f3M)(et),this.destroyRef=(0,t.f3M)(t.ktI)}ngAfterViewInit(){this.autoFocus&&this.focus()}focus(){Number.isNaN(this.options.delay)?Promise.resolve().then(()=>this.handler.setFocus()):(0,f.H)(this.options.delay).pipe((0,a.sL)(this.destroyRef)).subscribe(()=>this.handler.setFocus())}static{this.\u0275fac=function(u){return new(u||dt)}}static{this.\u0275dir=t.lG2({type:dt,selectors:[["","tuiAutoFocus",""]],inputs:{autoFocus:["tuiAutoFocus","autoFocus",e.Ig]},standalone:!0,features:[t._Bn(it),t.Xq5]})}}return dt})()},1888:(Qt,$,o)=>{"use strict";o.d($,{et:()=>D,gs:()=>v});var e=o(5879),t=o(6266),a=o(1393),i=o(5929),g=o(5592),T=o(3019),_=o(7398),m=o(2181),h=o(3997);function f({currentTarget:y,relatedTarget:E}){return!(0,i.ve)(E)||!(0,i.ve)(y)||!y.contains(E)}let v=(()=>{class y extends g.y{constructor(){super(O=>this.stream$.subscribe(O)),this.el=(0,i.AG)(),this.zone=(0,e.f3M)(e.R0b),this.stream$=(0,T.T)((0,a.mL)(this.el,"mouseenter").pipe((0,_.U)(t.oN)),(0,a.mL)(this.el,"mouseleave").pipe((0,_.U)(t.tD)),(0,a.mL)(this.el,"mouseout").pipe((0,m.h)(f),(0,_.U)(t.tD))).pipe((0,h.x)(),(0,a.Yr)(this.zone))}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac})}}return y})(),D=(()=>{class y{constructor(){this.tuiHoveredChange=(0,e.f3M)(v)}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=e.lG2({type:y,selectors:[["","tuiHoveredChange",""]],outputs:{tuiHoveredChange:"tuiHoveredChange"},standalone:!0,features:[e._Bn([v])]})}}return y})()},8442:(Qt,$,o)=>{"use strict";o.d($,{W:()=>t});var e=o(5879);let t=(()=>{class a{static{this.\u0275fac=function(T){return new(T||a)}}static{this.\u0275dir=e.lG2({type:a,selectors:[["","tuiItem",""]],standalone:!0})}}return a})()},8767:(Qt,$,o)=>{"use strict";o.d($,{i:()=>a});var e=o(5879);class t{constructor(g){this.internalDirectiveInstance=g}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}}let a=(()=>{class i{constructor(){(0,e.f3M)(e.s_b).createEmbeddedView((0,e.f3M)(e.Rgc),new t(this))}static ngTemplateContextGuard(T,_){return!0}static{this.\u0275fac=function(_){return new(_||i)}}static{this.\u0275dir=e.lG2({type:i,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"},standalone:!0})}}return i})()},7242:(Qt,$,o)=>{"use strict";o.d($,{k:()=>_});var e=o(5879),t=o(6223),a=o(1393),i=o(5929),g=o(8451),T=o(9080);let _=(()=>{class m{constructor(){this.destroyRef=(0,e.f3M)(e.ktI),this.zone=(0,e.f3M)(e.R0b),this.el=(0,i.AG)(),this.tuiNativeValidator="Invalid"}validate(f){return this.control=f,(0,T.H)(0).pipe((0,a.fL)(this.zone),(0,a.Wo)(this.destroyRef)).subscribe(()=>this.handleValidation()),null}handleValidation(){this.el.setCustomValidity?.(this.control?.touched&&this.control?.invalid?this.tuiNativeValidator:"")}static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275dir=e.lG2({type:m,selectors:[["","tuiNativeValidator",""]],hostBindings:function(v,C){1&v&&e.NdJ("focusout",function(){return C.handleValidation()})},inputs:{tuiNativeValidator:"tuiNativeValidator"},standalone:!0,features:[e._Bn([(0,g.Q2)(t.Cf,m,!0)])]})}}return m})()},721:(Qt,$,o)=>{"use strict";o.d($,{Q:()=>D});var e=o(5879),t=o(7331),a=o(1393),i=o(5592),g=o(8753),T=o(7398),_=o(7921),m=o(3997),h=o(8645),f=o(5742),v=o(5929);let C=(()=>{class y extends i.y{constructor(){super(O=>this.obscured$.subscribe(O)),this.el=(0,v.AG)(),this.obscured$=(0,e.f3M)(f.wS).pipe((0,g.p)(100,(0,a.de)()),(0,T.U)(()=>(0,v.PU)(this.el)),(0,_.O)(null),(0,m.x)(),(0,a.Yr)())}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac})}}return y})(),D=(()=>{class y{constructor(){this.activeZone=(0,e.f3M)(t.d,{optional:!0}),this.enabled$=new h.x,this.obscured$=(0,e.f3M)(C,{self:!0}).pipe((0,T.U)(O=>!!O?.every(M=>!this.activeZone?.contains(M)))),this.tuiObscured=this.enabled$.pipe((0,a.Xd)(()=>this.obscured$))}set tuiObscuredEnabled(O){this.enabled$.next(O)}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=e.lG2({type:y,selectors:[["","tuiObscured",""]],inputs:{tuiObscuredEnabled:"tuiObscuredEnabled"},outputs:{tuiObscured:"tuiObscured"},standalone:!0,features:[e._Bn([C])]})}}return y})()},8653:(Qt,$,o)=>{"use strict";o.d($,{y:()=>g});var e=o(5879),t=o(6223),a=o(6266),i=o(8451);let g=(()=>{class T{constructor(){this.onChange=a.iD,this.tuiValidator=t.kI.nullValidator}validate(m){return this.tuiValidator(m)}registerOnValidatorChange(m){this.onChange=m}ngOnChanges(){this.onChange()}ngOnDestroy(){this.tuiValidator=t.kI.nullValidator,this.onChange()}static{this.\u0275fac=function(h){return new(h||T)}}static{this.\u0275dir=e.lG2({type:T,selectors:[["","tuiValidator",""]],inputs:{tuiValidator:"tuiValidator"},standalone:!0,features:[e._Bn([(0,i.Q2)(t.Cf,T,!0)]),e.TTD]})}}return T})()},7912:(Qt,$,o)=>{"use strict";o.d($,{T:()=>h});var e=o(5879),t=o(6223),a=o(8645),i=o(3997),g=o(4664),T=o(2737),m=o(6232);let h=(()=>{class f{constructor(){this.container=(0,e.f3M)(t.gN,{optional:!0}),this.control=(0,e.f3M)(t.a5,{optional:!0}),this.refresh$=new a.x,this.tuiValueChanges=this.refresh$.pipe((0,i.x)(),function _(){return(0,g.w)(T.y)}(),(0,i.x)())}ngDoCheck(){this.refresh$.next(this.control?.valueChanges||this.container?.valueChanges||m.E)}static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275dir=e.lG2({type:f,selectors:[["","tuiValueChanges",""]],outputs:{tuiValueChanges:"tuiValueChanges"},standalone:!0})}}return f})()},1393:(Qt,$,o)=>{"use strict";o.d($,{Ao:()=>dt,EK:()=>U,LC:()=>It,NA:()=>st,Wo:()=>it,Xd:()=>L,Yr:()=>bt,de:()=>ut,fL:()=>St,ll:()=>tt,mL:()=>R,mp:()=>w,pt:()=>ht});var e=o(5592),t=o(7921),a=o(2438),i=o(9397),g=o(8407),T=o(4664),_=o(6232),m=o(7398),h=o(9773),f=o(4366),v=o(6306),C=o(3572),D=o(2381),y=o(6321),E=o(8451),O=o(1993),M=o(5879);function U(I){return new e.y(F=>I?.valueChanges?.pipe((0,t.O)(I.value)).subscribe(F))}function R(I,F,ot={}){return(0,a.R)(I,F,ot)}function w(){return(0,i.b)(I=>I.preventDefault())}function L(I,F=Boolean){return(0,g.z)((0,T.w)(ot=>F(ot)?I(ot):_.E))}function tt(I){return I.changes.pipe((0,t.O)(null),(0,m.U)(()=>(0,E.gD)(I)))}function ht(I){return R(I===I.ownerDocument.documentElement?I.ownerDocument:I,"scroll")}function it(I){return(0,g.z)((0,h.R)(f.C.pipe((0,O.sL)(I),(0,v.K)(()=>_.E),(0,C.d)(null))))}const It={now:D.N.now.bind(D.N),schedule:(I,F,ot)=>D.N.schedule(function(nt){return(0,M.rg0)(()=>I.call(this,nt))},F,ot)};function st(I=(0,M.f3M)(M.sBO)){return(0,i.b)(()=>I.markForCheck())}function dt(I=(0,M.f3M)(M.R0b)){return F=>new e.y(ot=>F.subscribe({next:nt=>I.run(()=>ot.next(nt)),error:nt=>I.run(()=>ot.error(nt)),complete:()=>I.run(()=>ot.complete())}))}function St(I=(0,M.f3M)(M.R0b)){return F=>new e.y(ot=>I.runOutsideAngular(()=>F.subscribe(ot)))}function bt(I=(0,M.f3M)(M.R0b)){return(0,g.z)(St(I),dt(I))}class u{constructor(F,ot=y.z){this.zoneConditionFn=F,this.scheduler=ot}now(){return this.scheduler.now()}schedule(...F){return this.zoneConditionFn(()=>this.scheduler.schedule(...F))}}function ut(I=(0,M.f3M)(M.R0b),F=y.z){return new u(I.runOutsideAngular.bind(I),F)}},1603:(Qt,$,o)=>{"use strict";o.d($,{c:()=>t});var e=o(5879);let t=(()=>{class a{transform(g,T,..._){return T(g,..._)}static{this.\u0275fac=function(T){return new(T||a)}}static{this.\u0275pipe=e.Yjl({name:"tuiMapper",type:a,pure:!0,standalone:!0})}}return a})()},5533:(Qt,$,o)=>{"use strict";o.d($,{IS:()=>A,FY:()=>V,$z:()=>R});var e=o(5879),t=o(8451),a=o(5586),i=o(5592),g=o(2096),T=o(4911),_=o(4664),m=o(7398),h=o(9773),f=o(9080),v=o(34),D=o(9397),y=o(5742),E=o(1393),O=o(6456),M=o(6593);let U=(()=>{class ht{static{this.autoId=0}generate(){return`tui_${ht.autoId++}${Date.now()}`}static{this.\u0275fac=function(st){return new(st||ht)}}static{this.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"})}}return ht})();function R(){return(0,e.f3M)(U).generate()}let A=(()=>{class ht{constructor(It,st,dt={}){this.options=dt,this.id=(0,e.f3M)(U),this.component=new a.Al(st),this.items$=(0,e.f3M)(It)}open(It,st={}){return new i.y(dt=>{const St={...this.options,...st,content:It,$implicit:dt,component:this.component,createdAt:Date.now(),id:this.id.generate(),completeWith:bt=>{dt.next(bt),dt.complete()}};return this.items$.next([...this.items$.value,St]),()=>{this.items$.next(this.items$.value.filter(bt=>bt!==St))}})}static{this.\u0275fac=function(st){e.$Z()}}static{this.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})();function p(ht){return"scrollX"in ht?ht.scrollX:ht.scrollLeft}let V=(()=>{class ht{constructor(){this.performanceRef=(0,e.f3M)(y.$q),this.animationFrame$=(0,e.f3M)(y.wS),this.zone=(0,e.f3M)(e.R0b)}scroll$(It,st,dt=p(It),St=300){const bt=function L(ht){return"scrollY"in ht?ht.scrollY:ht.scrollTop}(It),u=p(It),ut=st-bt,Z=dt-u;return(St?(0,T.P)(()=>(0,g.of)(this.performanceRef.now())).pipe((0,_.w)(F=>this.animationFrame$.pipe((0,m.U)(ot=>ot-F))),(0,m.U)(F=>(0,t.Xg)((0,O.Ki)(F/St,0,1))),(0,m.U)(F=>[bt+ut*F,u+Z*F]),(0,h.R)((0,f.H)(St,(0,E.de)(this.zone))),function C(...ht){return it=>(0,v.z)(it,(0,g.of)(...ht))}([st,dt])):(0,g.of)([st,dt])).pipe((0,D.b)(([F,ot])=>{It.scrollTo?.(ot,F)}))}static{this.\u0275fac=function(st){return new(st||ht)}}static{this.\u0275prov=e.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"root"})}}return ht})();(0,t.N1)(()=>(0,e.f3M)(M.h_).getTag('name="theme-color"')?.content??"")},385:(Qt,$,o)=>{"use strict";o.d($,{FA:()=>ut,fL:()=>u,fM:()=>Bt,ff:()=>F,gL:()=>ot,i0:()=>Rt,jF:()=>I,tp:()=>Wt,wk:()=>st});var e=o(6814),t=o(5879),a=o(5742),i=o(1393),g=o(8451),T=o(5929),_=o(9298),m=o(5619),h=o(4664),f=o(9080),v=o(7398),C=o(7921),D=o(3020),y=o(3019),E=o(2181),O=o(9773),M=o(7997),U=o(2460),R=o(2096),A=o(8180),S=o(3997),w=o(2438),p=o(7081),L=o(6108),V=o(1993),et=o(5136),tt=o(6266);const ht=(0,g.N1)(()=>{const B={onRemovalComplete:()=>{}},k=new m.X(null),yt=(0,t.f3M)(L.Th,{optional:!0})||B,{onRemovalComplete:Y=B.onRemovalComplete}=yt;return yt.onRemovalComplete=(xt,z)=>{k.next(xt),Y.call(yt,xt,z)},k.pipe((0,h.w)(xt=>(0,f.H)(0).pipe((0,v.U)(()=>null),(0,C.O)(xt))),(0,D.B)())});function it(B,k=null){return(0,T.Wf)(B).activeElement!==B&&!B.matches(":disabled")&&!k?.contains(B)&&(0,_._h)(B)}const st=(0,g.N1)(()=>{const B=(0,t.f3M)(ht),k=(0,t.f3M)(a.Az),yt=(0,t.f3M)(e.K0),Y=(0,t.f3M)(t.R0b),xt=(0,i.mL)(k,"focusout",{capture:!0}),z=(0,i.mL)(k,"focusin",{capture:!0}),at=(0,i.mL)(k,"blur"),Pt=(0,i.mL)(k,"mousedown"),Gt=(0,i.mL)(k,"mouseup");return(0,y.T)(xt.pipe((0,O.R)(Pt),(0,M.r)({delay:()=>Gt}),(0,U.M)(B),(0,E.h)(([De,Ut])=>it((0,T.mA)(De),Ut)),(0,v.U)(([{relatedTarget:De}])=>De)),at.pipe((0,v.U)(()=>yt.activeElement),(0,E.h)(De=>!!De?.matches("iframe"))),z.pipe((0,h.w)(De=>{const Ut=(0,T.mA)(De),Q=(0,T.Wf)(Ut);return Q===yt?(0,R.of)(Ut):function It(B){return(0,y.T)((0,i.mL)(B,"focusin").pipe((0,v.U)(({target:k})=>k)),(0,i.mL)(B,"focusout").pipe((0,E.h)(({target:k,relatedTarget:yt})=>!!yt&&it(k)),(0,v.U)(({relatedTarget:k})=>k)))}(Q).pipe((0,C.O)(Ut))})),Pt.pipe((0,h.w)(De=>{const Ut=(0,T.mA)(De);return yt.activeElement&&yt.activeElement!==yt.body?xt.pipe((0,A.q)(1),(0,v.U)(()=>Ut),(0,O.R)((0,f.H)(0,(0,i.de)(Y)))):(0,R.of)(Ut)}))).pipe((0,S.x)(),(0,D.B)())}),St=((0,g.N1)(()=>(0,t.f3M)(e.K0).querySelector("base")?.href??""),/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series([46])0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/),bt=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \-/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ /])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/,u=(0,g.N1)(()=>St.test((0,t.f3M)(a.zU).toLowerCase())||bt.test((0,t.f3M)(a.zU).slice(0,4).toLowerCase())),ut=(0,g.N1)(()=>(0,et.s)((0,t.f3M)(a.uA))),Z=(0,g.N1)(()=>(0,t.f3M)(u)&&!(0,t.f3M)(ut)),I=(0,g.N1)(()=>!!(0,t.f3M)(a.Az)?.webkitConvertPointFromNodeToPage),F=(0,g.N1)(()=>(0,t.f3M)(ut)?"ios":(0,t.f3M)(Z)?"android":"web"),ot=(0,g.N1)(()=>{const B=(0,t.f3M)(a.Az).matchMedia("(pointer: coarse)");return(0,V.O4)((0,w.R)(B,"change").pipe((0,v.U)(()=>B.matches)),{initialValue:B.matches})}),nt=(0,g.N1)(()=>!!(0,t.f3M)(a.Az).Cypress),At=(0,g.N1)(tt.tD),Wt=((0,g.N1)(()=>(0,t.f3M)(nt)||(0,t.f3M)(At)),(0,g.JN)(null)),Rt=(0,g.N1)(()=>(0,e.NF)((0,t.f3M)(t.Lbi))?new Range:{}),Bt=(0,g.N1)(()=>{const B=(0,t.f3M)(a.Az);return(0,i.mL)(B,"resize").pipe((0,C.O)(null),(0,v.U)(()=>{const k=Math.max(B.document.documentElement.clientWidth||0,B.innerWidth||0,B.visualViewport?.width||0),yt=Math.max(B.document.documentElement.clientHeight||0,B.innerHeight||0,B.visualViewport?.height||0),Y={width:k,height:yt,top:0,left:0,right:k,bottom:yt,x:0,y:0};return{...Y,toJSON:()=>JSON.stringify(Y)}}),(0,p.d)({bufferSize:1,refCount:!0}))})},5297:(Qt,$,o)=>{"use strict";o.d($,{j:()=>t});var e=o(8451);function t(a){const i=(0,e.JN)(a);return[i,g=>(0,e.vK)(i,g,a)]}},5929:(Qt,$,o)=>{"use strict";o.d($,{AG:()=>A,Hn:()=>w,Ls:()=>g,Mq:()=>S,Nn:()=>y,PP:()=>i,PU:()=>O,UP:()=>et,Wf:()=>E,YX:()=>M,dD:()=>V,dW:()=>h,mA:()=>C,qY:()=>_,ve:()=>m,wq:()=>f});var e=o(6456),t=o(8451),a=o(5879);function i(tt,ht){try{return tt.contains(ht)||!!(ht.compareDocumentPosition(tt)&Node.DOCUMENT_POSITION_PRECEDING)}catch{return!1}}function g(tt){return tt.matches("input")}function _(tt){return g(tt)||function T(tt){return tt.matches("textarea")}(tt)}function m(tt){return!!tt&&"nodeType"in tt&&tt.nodeType===Node.ELEMENT_NODE}function h(tt){const ht=tt?.ownerDocument.defaultView;return!!tt&&!!ht&&tt instanceof ht.HTMLElement}function f(tt){return tt.nodeType===Node.TEXT_NODE}function C(tt){return tt.composedPath()[0]}const D="text/plain";function y(tt,ht=D){return"clipboardData"in tt&&null!==tt.clipboardData?tt.clipboardData.getData(ht)||tt.clipboardData.getData(D):tt.target.ownerDocument.defaultView.clipboardData.getData("text")}function E(tt){return"getRootNode"in tt&&tt.isConnected?tt.getRootNode():tt.ownerDocument}function O(tt){const{ownerDocument:ht}=tt;if(!ht?.defaultView||!tt.getBoundingClientRect)return null;const{innerWidth:it,innerHeight:It}=ht.defaultView,st=E(tt),dt=tt.getBoundingClientRect();if(0===dt.width&&0===dt.height)return null;const St=(0,e.Ki)(Math.round(dt.left)+2,0,it),bt=(0,e.Ki)(Math.round(dt.top)+2,0,It),u=(0,e.Ki)(Math.round(dt.right)-2,0,it),ut=(0,e.Ki)(Math.round(dt.bottom)-2,0,It),Z=(0,e.Ki)(Math.round(dt.left+dt.width/2),0,it),I=(0,e.Ki)(Math.round(dt.top+dt.height/2),0,It),ot=[st.elementFromPoint(Z,bt),st.elementFromPoint(Z,ut),st.elementFromPoint(St,I),st.elementFromPoint(u,I)].filter(t.Pc);if(!ot.length)return[];const nt=ot.filter(At=>!tt.contains(At)&&!At.contains(tt));return 4===nt.length?nt:null}function M(tt,ht){let{offsetTop:it,offsetLeft:It,offsetParent:st}=ht;for(;h(st)&&st!==tt;)it+=st.offsetTop,It+=st.offsetLeft,st=st.offsetParent;return{offsetTop:it,offsetLeft:It}}function A(){return(0,a.f3M)(a.SBq).nativeElement}function S({target:tt,currentTarget:ht}){return tt===ht}function w(tt){return _(tt)&&!tt.readOnly||!!tt.isContentEditable}function V(tt=0,ht=0){const it={x:tt,y:ht,left:tt,right:tt,top:ht,bottom:ht,width:0,height:0};return{...it,toJSON:()=>it}}function et(tt){return"explicitOriginalTarget"in tt?tt?.explicitOriginalTarget!==tt.target:"pointerId"in tt?-1===tt.pointerId:"detail"in tt&&"webkitForce"in tt&&0===tt?.detail}},9298:(Qt,$,o)=>{"use strict";o.d($,{BW:()=>y,V8:()=>E,VR:()=>M,_h:()=>D,dT:()=>C,gN:()=>v,hp:()=>f,ie:()=>h,zb:()=>O});var e=o(5929),t=o(1993),a=o(6266),i=o(1393),g=o(3019),T=o(2438),_=o(7398),m=o(3093);function h({activeElement:U}){if(!U?.shadowRoot)return U;let R=U.shadowRoot.activeElement;for(;R?.shadowRoot;)R=R.shadowRoot.activeElement;return R}function f(U){const R=h(U);(0,e.dW)(R)&&R.blur()}function v(U){return(0,t.O4)((0,g.T)((0,T.R)(U,"focusin").pipe((0,_.U)(a.oN)),(0,T.R)(U,"focusout").pipe((0,_.U)(a.tD))).pipe((0,m.Q)(i.LC)),{initialValue:!1})}function C(U){if(U.hasAttribute("disabled")||"-1"===U.getAttribute("tabIndex"))return!1;if((0,e.dW)(U)&&U.isContentEditable||"0"===U.getAttribute("tabIndex"))return!0;switch(U.tagName){case"A":case"LINK":return U.hasAttribute("href");case"AUDIO":case"VIDEO":return U.hasAttribute("controls");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;case"INPUT":return"hidden"!==U.getAttribute("type");default:return!1}}function D(U){return!U.hasAttribute("disabled")&&("-1"===U.getAttribute("tabIndex")||C(U))}function y({initial:U,root:R,previous:A=!1,keyboard:S=!0}){if(!R.ownerDocument)return null;const w=S?C:D,p=R.ownerDocument.createTreeWalker(R,NodeFilter.SHOW_ELEMENT,a.Lw);p.currentNode=U;do{if((0,e.dW)(p.currentNode)&&(U=p.currentNode),(0,e.dW)(U)&&w(U))return U}while(A?p.previousNode():p.nextNode());return null}function E(U){return!!U?.ownerDocument&&h(U.ownerDocument)===U&&U.ownerDocument.hasFocus()}function O(U){const R=U?.ownerDocument&&h(U.ownerDocument);return!!R&&U.contains(R)&&!!U.ownerDocument?.hasFocus()}function M(U,R,A){for(U+=A;U>=0&&U<R.length;){if(R[U]?.focus(),E(R[U]))return;U+=A}}},6456:(Qt,$,o)=>{"use strict";function e(M,U,R){return Math.min(R,Math.max(U,M))}function t(M,U,R){return M>=U&&M<R}function a(M,U,R){return Number.isNaN(M)||M<=U?U:M>=R?R:Math.round(M)}o.d($,{FG:()=>_,G1:()=>a,HW:()=>y,Ki:()=>e,h0:()=>C,qy:()=>v,wf:()=>t});const g=292;function T(M,U,R){if(M===1/0)return M;U=Math.min(U,g);const[A,S=""]=`${M}`.split("e"),p=`${R(+`${A}e${Number(S)+U}`)}e`.split("e");return+`${p[0]}e${Number(p[1])-U}`}function _(M,U=0){return T(M,U,Math.round)}function v(M,U=0){return Number.isSafeInteger(Math.trunc(M*10**U))}function C({value:M,precision:U,method:R}){switch(R){case"ceil":return function m(M,U=0){return T(M,U,Math.ceil)}(M,U);case"floor":return function h(M,U=0){return T(M,U,Math.floor)}(M,U);case"round":return _(M,U);default:return function f(M,U=0){return T(M,U,Math.trunc)}(M,U)}}function y(M){return M?1:0}},8451:(Qt,$,o)=>{"use strict";o.d($,{A2:()=>C,Aj:()=>v,Hh:()=>i,J$:()=>V,JN:()=>h,N1:()=>f,O9:()=>dt,Pc:()=>w,Q2:()=>et,UM:()=>It,Vx:()=>D,WX:()=>a,Xg:()=>O,Yl:()=>T,Yw:()=>L,__:()=>u,dt:()=>A,gD:()=>U,jp:()=>g,vK:()=>tt});var e=o(6223),t=o(5879);function a(ut,Z){return ut.slice(0,Math.max(Z,0)).concat(ut.slice(Math.max(Z+1,0)))}function i(ut,Z){return ut.length===Z.length&&ut.every((I,F)=>I===Z[F])}function g(ut,Z){const I=ut.indexOf(Z);return-1===I?[...ut,Z]:a(ut,I)}const T=(ut,Z)=>ut.replaceAll(/[^0-9A-Za-z\u0410-\u042f\u0430-\u044f]/gi,Z);function h(ut){return f(()=>ut)}function f(ut){return ut?new t.OlP("",{factory:ut}):new t.OlP("")}function v(ut){return"string"==typeof ut}function C(ut,Z){return ut===Z?0:v(ut)&&v(Z)?ut.localeCompare(Z):ut>Z?1:-1}function D(ut,Z,I,F={self:!0}){const ot=(0,t.$Zp)(I)?I:(0,t.tdS)(I),nt=(0,t.f3M)(ut,F),At=nt[`${Z.toString()}Change`],Nt=parseInt(t.q4F.major,10)>=19?{}:{allowSignalWrites:!0};let Rt;return(0,t.cEC)(()=>{const Bt=ot();Rt!==Bt&&((0,t.$Zp)(nt[Z])?nt[Z].set(Bt):nt[Z]=Bt,nt.ngOnChanges?.({}),At?.emit?.(Bt),Rt=Bt)},Nt),ot}function O(ut){return ut<.5?2*ut*ut:(4-2*ut)*ut-1}function U(ut){let Z=[];return ut.find((I,F,ot)=>(Z=ot,!0)),Z}function A(ut){return"number"==typeof ut}function w(ut){return null!=ut}function L(ut){ut instanceof e.Oe&&ut.controls.forEach(Z=>{L(Z)}),ut instanceof e.cw&&Object.values(ut.controls).forEach(Z=>{L(Z)}),ut.markAsTouched(),ut.updateValueAndValidity()}function V(ut,Z,I){return null===ut?null===Z:null!==Z&&I(ut,Z)}function et(ut,Z,I=!1){return{provide:ut,useExisting:Z,multi:I}}function tt(ut,Z,I){return{provide:ut,useFactory:()=>({...(0,t.f3M)(ut,{optional:!0,skipSelf:!0})||I,...(0,t.f3M)(Z,{optional:!0})||Z})}}function it(ut,Z,I=!0){return function(){const ot=ut.call(this);return Object.defineProperty(this,Z,{enumerable:I,value:ot}),ot}}function It(ut,Z,I){if("function"==typeof ut){const Wt=Z;if("getter"===Wt.kind)return it(ut,Wt.name);if("method"===Wt.kind)return function ht(ut){let F,Z=[],I=!1;return function(...nt){return I&&Z.length===nt.length&&nt.every((Dt,Wt)=>Dt===Z[Wt])||(Z=nt,F=ut.apply(this,nt),I=!0),F}}(ut);throw new st}const{get:F,enumerable:ot,value:nt}=I,At=Z;if(F)return{configurable:!0,enumerable:ot,get:it(F,At,ot)};if("function"!=typeof nt)throw new st;const Dt=nt;return{configurable:!0,enumerable:ot,get(){let Rt,Wt=[],Nt=!1;const Bt=(...B)=>(Nt&&Wt.length===B.length&&B.every((yt,Y)=>yt===Wt[Y])||(Wt=B,Rt=Dt.apply(this,B),Nt=!0),Rt);return Object.defineProperty(this,At,{configurable:!0,value:Bt}),Bt}}}class st extends Error{constructor(){super("")}}function dt(ut){return`${ut}px`}const bt=f(()=>{const ut=new Map;return(0,t.f3M)(t.ktI).onDestroy(()=>ut.forEach(Z=>Z.destroy())),ut});function u(ut){const Z=(0,t.f3M)(bt),I=(0,t.f3M)(t.lqb);Z.has(ut)||Z.set(ut,(0,t.LMc)(ut,{environmentInjector:I}))}},375:(Qt,$,o)=>{"use strict";o.d($,{B_:()=>g,Gw:()=>A,Hp:()=>_,QF:()=>C,X9:()=>V,eu:()=>m,gI:()=>M,i9:()=>O,y4:()=>f});var e=o(6825);const t="{{duration}}ms ease-in-out",a={params:{duration:300}},i=300,g=(0,e.X$)("tuiParentAnimation",[(0,e.eR)(":leave",[(0,e.IO)(":scope > *",[(0,e.pV)()],{optional:!0})])]),_=((0,e.X$)("tuiParentStop",[(0,e.eR)(":enter",[])]),(0,e.X$)("tuiHost",[(0,e.eR)(":enter",[(0,e.oB)({overflow:"clip"}),(0,e.IO)(":scope > *",[(0,e.pV)()],{optional:!0})]),(0,e.eR)(":leave",[(0,e.IO)(":scope > *",[(0,e.pV)()],{optional:!0})])])),m=(0,e.X$)("tuiHeightCollapse",[(0,e.eR)(":enter",[(0,e.oB)({height:0}),(0,e.jt)(t,(0,e.oB)({height:"*"}))],a),(0,e.eR)(":leave",[(0,e.oB)({height:"*"}),(0,e.jt)(t,(0,e.oB)({height:0}))],a)]),f=((0,e.X$)("tuiHeightCollapseList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({height:0}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({height:"*"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({height:"*"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({height:0}))])],{optional:!0})],a)]),(0,e.X$)("tuiWidthCollapse",[(0,e.eR)(":enter",[(0,e.oB)({width:0}),(0,e.jt)(t,(0,e.oB)({width:"*"}))],a),(0,e.eR)(":leave",[(0,e.oB)({width:"*"}),(0,e.jt)(t,(0,e.oB)({width:0}))],a)])),C=((0,e.X$)("tuiWidthCollapseList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({width:0}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({width:"*"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({width:"*"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({width:0}))])],{optional:!0})],a)]),(0,e.X$)("tuiFadeIn",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)(t,(0,e.oB)({opacity:1}))],a),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)(t,(0,e.oB)({opacity:0}))],a)])),O=((0,e.X$)("tuiFadeInList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({opacity:0}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({opacity:1}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({opacity:1}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({opacity:0}))])],{optional:!0})],a)]),(0,e.X$)("tuiFadeInTop",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateY(-{{start}}px)",opacity:0}),(0,e.jt)(t,(0,e.oB)({transform:"translateY({{end}})",opacity:1}))],{params:{end:0,start:10,duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translateY({{end}})",opacity:1}),(0,e.jt)(t,(0,e.oB)({transform:"translateY(-{{start}}px)",opacity:0}))],{params:{end:0,start:10,duration:300}})]),(0,e.X$)("tuiFadeInBottom",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateY({{start}}px)",opacity:0}),(0,e.jt)(t,(0,e.oB)({transform:"translateY({{end}})",opacity:1}))],{params:{end:0,start:10,duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translateY({{end}})",opacity:1}),(0,e.jt)(t,(0,e.oB)({transform:"translateY({{start}}px)",opacity:0}))],{params:{end:0,start:10,duration:300}})]),(0,e.X$)("tuiDropdownAnimation",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateY(-{{start}}px)",opacity:0}),(0,e.jt)(t,(0,e.oB)({transform:"translateY({{end}})",opacity:1}))],{params:{end:0,start:10,duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translateY({{end}})",opacity:1}),(0,e.jt)(t,(0,e.oB)({transform:"translateY(-{{start}}px)",opacity:0}))],{params:{end:0,start:10,duration:300}})])),M=(0,e.X$)("tuiScaleIn",[(0,e.eR)(":enter",[(0,e.oB)({transform:"scale({{start}})"}),(0,e.jt)("{{duration}}ms {{easing}}",(0,e.oB)({transform:"scale({{end}})"}))],{params:{end:1,start:0,duration:300,easing:"ease-in-out"}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"scale({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"scale({{start}})"}))],{params:{end:1,start:0,duration:300}})]),A=((0,e.X$)("tuiPop",[(0,e.eR)(":enter",[(0,e.oB)({transform:"scale({{start}})"}),(0,e.jt)(t,(0,e.oB)({transform:"scale({{middle}})"})),(0,e.jt)(t,(0,e.oB)({transform:"scale({{end}})"}))],{params:{end:1,middle:1.1,start:0,duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"scale({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"scale({{middle}})"})),(0,e.jt)(t,(0,e.oB)({transform:"scale({{start}})"}))],{params:{end:1,middle:1.1,start:0,duration:300}})]),(0,e.X$)("tuiScaleInList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({transform:"scale({{start}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"scale({{end}})"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({transform:"scale({{end}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"scale({{start}})"}))])],{optional:!0})],{params:{end:1,start:0,duration:300}})]),(0,e.X$)("tuiSlideIn",[(0,e.eR)("* => left",[(0,e.oB)({transform:"translateX(-{{start}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX({{end}})"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)("left => *",[(0,e.oB)({transform:"translateX({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX(-{{start}})"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)("* => right",[(0,e.oB)({transform:"translateX({{start}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX({{end}})"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)("right => *",[(0,e.oB)({transform:"translateX({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX({{start}})"}))],{params:{end:0,start:"100%",duration:300}})])),V=((0,e.X$)("tuiSlideInLeft",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateX(-{{start}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX({{end}})"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translateX({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX(-{{start}})"}))],{params:{end:0,start:"100%",duration:300}})]),(0,e.X$)("tuiSlideInLeftList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({transform:"translateX(-{{start}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateX({{end}})"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({transform:"translateX({{end}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateX(-{{start}})"}))])],{optional:!0})],{params:{end:0,start:"100%",duration:300}})]),(0,e.X$)("tuiSlideInRight",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateX({{start}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX({{end}})"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translateX({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateX({{start}})"}))],{params:{end:0,start:"100%",duration:300}})]),(0,e.X$)("tuiSlideInRightList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({transform:"translateX({{start}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateX({{end}})"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({transform:"translateX({{end}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateX({{start}})"}))])],{optional:!0})],{params:{end:0,start:"100%",duration:300}})]),(0,e.X$)("tuiSlideInTop",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translate3d(0,{{start}},0)",pointerEvents:"none"}),(0,e.jt)(t,(0,e.oB)({transform:"translate3d(0,{{end}},0)"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translate3d(0,{{end}},0)"}),(0,e.jt)(t,(0,e.oB)({transform:"translate3d(0,{{start}},0)"}))],{params:{end:0,start:"100%",duration:300}})]));(0,e.X$)("tuiSlideInTopList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({transform:"translateY({{start}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateY({{end}})"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({transform:"translateY({{end}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateY({{start}})"}))])],{optional:!0})],{params:{end:0,start:"100%",duration:300}})]),(0,e.X$)("tuiSlideInBottom",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateY(-{{start}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateY({{end}})"}))],{params:{end:0,start:"100%",duration:300}}),(0,e.eR)(":leave",[(0,e.oB)({transform:"translateY({{end}})"}),(0,e.jt)(t,(0,e.oB)({transform:"translateY(-{{start}})"}))],{params:{end:0,start:"100%",duration:300}})]),(0,e.X$)("tuiSlideInBottomList",[(0,e.eR)("* => *",[(0,e.IO)(":enter",[(0,e.oB)({transform:"translateY(-{{start}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateY({{end}})"}))])],{optional:!0}),(0,e.IO)(":leave",[(0,e.oB)({transform:"translateY({{end}})"}),(0,e.EY)(i,[(0,e.jt)(t,(0,e.oB)({transform:"translateY(-{{start}})"}))])],{optional:!0})],{params:{end:0,start:"100%",duration:300}})])},5710:(Qt,$,o)=>{"use strict";o.d($,{Fe:()=>M,Ic:()=>E,O4:()=>h,P7:()=>y,UK:()=>R,Wk:()=>D,Zy:()=>v,ei:()=>C,kk:()=>U,qz:()=>A,uG:()=>m});var e=o(5879),t=o(8451),a=o(1993),i=o(5592),g=o(3019),T=o(3997);class _{}class m extends _{}class h extends _{}function f(S,w,p){return{provide:S,deps:[[new e.tp0,new e.FiY,S],p],useFactory:v(w)}}function v(S){return(w,p)=>w?.find?.(L=>L!==p&&L.type===S)||p}function C(S,w){return f(m,S,w)}function D(S,w){return f(h,S,w)}function y(S){return(0,t.Q2)(m,S,!0)}function E(S){return(0,t.Q2)(h,S,!0)}class O{}function M(S){return(0,t.Q2)(O,S,!0)}class U extends i.y{}function R(S){return(0,t.Q2)(U,S,!0)}let A=(()=>{class S{constructor(){this.destroyRef=(0,e.f3M)(e.ktI),this.drivers=(0,e.f3M)(U,{self:!0,optional:!0})||[],this.vehicles=(0,e.f3M)(O,{self:!0,optional:!0})}ngAfterViewInit(){const p=this.vehicles?.find(({type:L})=>L===this.type);(0,g.T)(...this.drivers.filter(({type:L})=>L===this.type)).pipe((0,T.x)(),(0,a.sL)(this.destroyRef)).subscribe(L=>{p?.toggle(L)})}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275dir=e.lG2({type:S})}}return S})()},3597:(Qt,$,o)=>{"use strict";o.d($,{Nx:()=>u,J9:()=>ot,Jp:()=>At});var e=o(6814),t=o(5879),a=o(1993),i=o(5929),g=o(375),T=o(2527),_=o(5551),m=o(8451);let h=(()=>{class Dt{static{this.\u0275fac=function(Rt){return new(Rt||Dt)}}static{this.\u0275cmp=t.Xpm({type:Dt,selectors:[["ng-component"]],hostAttrs:[1,"tui-title"],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(Rt,Bt){},styles:["[tuiTitle]{position:relative;display:flex;min-inline-size:0;flex-direction:column;text-align:start;gap:.25rem;margin:0;font:var(--tui-font-text-ui-m)}[tuiTitle][data-size=s]{gap:.125rem;font:var(--tui-font-text-s)}[tuiTitle][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-xs)}[tuiTitle][data-size=m]{gap:.125rem;font:var(--tui-font-heading-5)}[tuiTitle][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-m)}[tuiTitle][data-size=l]{gap:.5rem;font:var(--tui-font-heading-3)}[tuiTitle][data-size=l] [tuiSubtitle]{font:var(--tui-font-text-m)}[tuiSubtitle]{font:var(--tui-font-text-ui-s)}\n"],encapsulation:2,changeDetection:0})}}return Dt})(),f=(()=>{class Dt{constructor(){this.nothing=(0,m.__)(h),this.size=""}static{this.\u0275fac=function(Rt){return new(Rt||Dt)}}static{this.\u0275dir=t.lG2({type:Dt,selectors:[["","tuiTitle",""]],hostAttrs:["tuiTitle",""],hostVars:1,hostBindings:function(Rt,Bt){2&Rt&&t.uIk("data-size",Bt.size||null)},inputs:{size:["tuiTitle","size"]},standalone:!0})}}return Dt})();var v=o(2701),C=o(8797),D=o(5586),y=o(5619),E=o(2572),O=o(2096),M=o(7398),U=o(4664),R=o(9080),A=o(6232),S=o(9773),w=o(2438),p=o(7997),L=o(2737),V=o(385),et=o(5533),tt=o(1603);function ht(Dt,Wt){if(1&Dt&&(t.ynx(0),t._uU(1),t.BQk()),2&Dt){const Nt=Wt.polymorpheusOutlet;t.xp6(1),t.hij(" ",Nt," ")}}function it(Dt,Wt){1&Dt&&t._UZ(0,"span",6),2&Dt&&t.Q6J("innerHTML",Wt.polymorpheusOutlet,t.oJD)}function It(Dt,Wt){if(1&Dt){const Nt=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(Nt);const Bt=t.oxw();return t.KtG(Bt.item.$implicit.complete())}),t._uU(1),t.qZA()}if(2&Dt){const Nt=t.oxw();t.Q6J("iconStart",Nt.icons.close),t.xp6(1),t.hij(" ",Nt.close()," ")}}function st(Dt,Wt){if(1&Dt&&(t.GkF(0,3),t.ALo(1,"tuiMapper")),2&Dt){const Nt=Wt.$implicit,Rt=t.oxw(2);t.Q6J("ngComponentOutlet",Nt.component.component)("ngComponentOutletInjector",t.xi3(1,2,Nt,Rt.mapper))}}function dt(Dt,Wt){if(1&Dt&&(t.TgZ(0,"div",1),t.YNc(1,st,2,5,"ng-container",2),t.qZA()),2&Dt){const Nt=Wt.$implicit;t.Q6J("@tuiParentAnimation",void 0),t.xp6(1),t.Q6J("ngForOf",Nt)}}const St={autoClose:3e3,label:"",closeable:!0,data:void 0},bt=(0,m.N1)(()=>({...St,...(0,t.f3M)(_.Ln)})),u=(0,m.N1)(()=>(0,t.f3M)(V.fL)?"1rem 1rem 0 auto":"2rem 3rem 0 auto"),ut=(0,m.JN)(new y.X([])),Z=(0,m.N1)(()=>(0,E.a)([(0,O.of)(new Map),(0,t.f3M)(ut)]).pipe((0,M.U)(([Dt,Wt])=>(Dt.forEach((Nt,Rt)=>Dt.set(Rt,[])),Wt.forEach(Nt=>{const Rt=Nt.component.component,Bt=Dt.get(Rt)||[];Dt.set(Rt,[...Bt,Nt])}),Array.from(Dt.values())))));let F=(()=>{class Dt{constructor(){this.el=(0,i.AG)(),this.icons=(0,t.f3M)(v.Gs),this.options=(0,C.qS)((0,t.f3M)(v.ZW)),this.close=(0,a.O4)((0,t.f3M)(v.U0)),this.position=(0,t.f3M)(u),this.item=(0,D.FQ)(),this.animation=this.position.endsWith("auto")?{...this.options,value:"right"}:{...this.options,value:"left"},this.sub=(0,O.of)("function"==typeof this.item.autoClose?this.item.autoClose(this.item.appearance):this.item.autoClose).pipe((0,U.w)(Nt=>Nt?(0,R.H)(Nt):A.E),(0,S.R)((0,w.R)(this.el,"mouseenter")),(0,p.r)({delay:()=>(0,w.R)(this.el,"mouseleave")}),(0,a.sL)()).subscribe(()=>this.item.$implicit.complete())}static{this.\u0275fac=function(Rt){return new(Rt||Dt)}}static{this.\u0275cmp=t.Xpm({type:Dt,selectors:[["tui-alert"]],hostAttrs:["role","alert"],hostVars:5,hostBindings:function(Rt,Bt){2&Rt&&(t.d8E("@tuiFadeIn",Bt.options)("@tuiSlideIn",Bt.animation)("@tuiHeightCollapse",Bt.animation),t.Udp("margin",Bt.position))},standalone:!0,features:[t.jDz],decls:6,vars:9,consts:[["size","m",3,"appearance","icon"],["tuiTitle",""],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiSubtitle",""],[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiIconButton","","type","button",3,"iconStart","click",4,"ngIf"],[3,"innerHTML"],["tuiIconButton","","type","button",3,"iconStart","click"]],template:function(Rt,Bt){1&Rt&&(t.TgZ(0,"tui-notification",0)(1,"span",1),t.YNc(2,ht,2,1,"ng-container",2),t.TgZ(3,"span",3),t.YNc(4,it,1,1,"span",4),t.qZA()(),t.YNc(5,It,2,2,"button",5),t.qZA()),2&Rt&&(t.ekj("t-closeable",Bt.item.closeable),t.Q6J("appearance",Bt.item.appearance)("icon",Bt.item.icon),t.xp6(2),t.Q6J("polymorpheusOutlet",Bt.item.label)("polymorpheusOutletContext",Bt.item),t.xp6(2),t.Q6J("polymorpheusOutlet",Bt.item.content)("polymorpheusOutletContext",Bt.item),t.xp6(1),t.Q6J("ngIf",Bt.item.closeable))},dependencies:[e.O5,D.s$,T.xG,_.tK,f],styles:["[_nghost-%COMP%]{display:block;inline-size:18rem;flex-shrink:0;word-break:break-word;background:var(--tui-background-base);border-radius:var(--tui-radius-m);box-shadow:var(--tui-shadow-medium)}[_nghost-%COMP%]:not(:first-child){margin-top:.75rem!important}[_nghost-%COMP%]:not(:last-child){margin-bottom:0!important}.t-closeable[_ngcontent-%COMP%]{padding-inline-end:2.5rem}"],data:{animation:[g.QF,g.Gw,g.eu]},changeDetection:0})}}return Dt})(),ot=(()=>{class Dt extends et.IS{static{this.\u0275fac=function(){let Nt;return function(Bt){return(Nt||(Nt=t.n5z(Dt)))(Bt||Dt)}}()}static{this.\u0275prov=t.Yz7({token:Dt,factory:function(){return new Dt(ut,F,(0,t.f3M)(bt))},providedIn:"root"})}}return Dt})(),At=(()=>{class Dt{constructor(){this.injector=(0,t.f3M)(t.gxx),this.alerts$=(0,t.f3M)(Z),this.trackBy=L.y,this.mapper=Nt=>t.zs3.create({providers:[{provide:D.yf,useValue:Nt}],parent:this.injector})}static{this.\u0275fac=function(Rt){return new(Rt||Dt)}}static{this.\u0275cmp=t.Xpm({type:Dt,selectors:[["tui-alerts"]],standalone:!0,features:[t.jDz],decls:2,vars:4,consts:[["class","t-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],[1,"t-wrapper"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(Rt,Bt){1&Rt&&(t.YNc(0,dt,2,2,"div",0),t.ALo(1,"async")),2&Rt&&t.Q6J("ngForOf",t.lcZ(1,2,Bt.alerts$))("ngForTrackBy",Bt.trackBy)},dependencies:[e.ez,e.$G,e.sg,e.Ov,tt.c],styles:["tui-alerts>.t-wrapper{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column;pointer-events:none}tui-alerts>.t-wrapper>*{pointer-events:auto}\n"],encapsulation:2,data:{animation:[g.B_]}})}}return Dt})()},2527:(Qt,$,o)=>{"use strict";o.d($,{Gm:()=>_,O0:()=>m,xG:()=>f});var e=o(5879),t=o(8451),a=o(47),i=o(5738),g=o(5297);const[_,m]=(0,g.j)({appearance:"primary",size:"l"});let h=(()=>{class v{static{this.\u0275fac=function(y){return new(y||v)}}static{this.\u0275cmp=e.Xpm({type:v,selectors:[["ng-component"]],hostAttrs:[1,"tui-button"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(y,E){},styles:['[tuiButton],[tuiIconButton]{--t-size: var(--tui-height-l);--t-radius: var(--tui-radius-l);--t-gap: .25rem;--t-padding: 0 1.25rem;--t-margin: -.25rem;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, var(--t-0, 0rem)) - 2 * var(--t-margin, 0rem));block-size:var(--t-size);justify-content:center;border-radius:var(--t-radius);padding:var(--t-padding);-webkit-user-select:none;user-select:none;cursor:pointer;font:var(--tui-font-text-m);font-weight:700}[tuiButton]>img,[tuiIconButton]>img,[tuiButton]>tui-svg,[tuiIconButton]>tui-svg,[tuiButton]>tui-icon,[tuiIconButton]>tui-icon,[tuiButton]>tui-avatar,[tuiIconButton]>tui-avatar,[tuiButton]>tui-badge,[tuiIconButton]>tui-badge,[tuiButton]>[tuiBadge],[tuiIconButton]>[tuiBadge],[tuiButton]>[tuiRadio],[tuiIconButton]>[tuiRadio],[tuiButton]>[tuiSwitch],[tuiIconButton]>[tuiSwitch],[tuiButton]>[tuiCheckbox],[tuiIconButton]>[tuiCheckbox],[tuiButton][tuiIcons]:before,[tuiIconButton][tuiIcons]:before,[tuiButton][tuiIcons]:after,[tuiIconButton][tuiIcons]:after{margin:var(--t-margin)}[tuiButton]>.t-loader,[tuiIconButton]>.t-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}[tuiButton]>.t-loader .t-text,[tuiIconButton]>.t-loader .t-text{position:absolute}[tuiButton][data-size=xs],[tuiIconButton][data-size=xs]{--t-size: var(--tui-height-xs);--t-radius: var(--tui-radius-xs);--t-gap: .125rem;--t-padding: 0 .375rem;--t-margin: -.125rem;font:var(--tui-font-text-s)}[tuiButton][data-size=xs] tui-svg,[tuiIconButton][data-size=xs] tui-svg,[tuiButton][data-size=xs] tui-icon,[tuiIconButton][data-size=xs] tui-icon,[tuiButton][data-size=xs]:before,[tuiIconButton][data-size=xs]:before{font-size:1rem}[tuiButton][data-size=s],[tuiIconButton][data-size=s]{--t-size: var(--tui-height-s);--t-radius: var(--tui-radius-s);--t-gap: .125rem;--t-padding: 0 .625rem;--t-margin: -.125rem;font:var(--tui-font-text-s)}[tuiButton][data-size=s] tui-svg,[tuiIconButton][data-size=s] tui-svg,[tuiButton][data-size=s] tui-icon,[tuiIconButton][data-size=s] tui-icon,[tuiButton][data-size=s]:not([tuiIconButton][data-appearance=icon]):not([tuiIconButton][data-appearance=link]):before,[tuiIconButton][data-size=s]:not([tuiIconButton][data-appearance=icon]):not([tuiIconButton][data-appearance=link]):before{font-size:1rem}[tuiButton][data-size=m],[tuiIconButton][data-size=m]{--t-size: var(--tui-height-m);--t-radius: var(--tui-radius-m);--t-gap: .125rem;--t-padding: 0 1rem;--t-margin: -.375rem;font:var(--tui-font-text-m);font-weight:700}[tuiButton][data-size=m]:after,[tuiIconButton][data-size=m]:after{margin-inline-end:-.125rem}[tuiButton]._loading,[tuiIconButton]._loading{--tui-disabled-opacity: 1;-webkit-text-fill-color:transparent}[tuiButton]._loading>*,[tuiIconButton]._loading>*,[tuiButton]._loading:before,[tuiIconButton]._loading:before,[tuiButton]._loading:after,[tuiIconButton]._loading:after{opacity:0}[tuiButton]._loading>.t-loader,[tuiIconButton]._loading>.t-loader{opacity:1}[tuiButton][tuiIcons]:after,[tuiIconButton][tuiIcons]:after{font-size:1rem}[tuiButton][tuiButtonVertical],[tuiIconButton][tuiButtonVertical]{--t-line-height: 1rem;--t-margin: var(--t-0, 0rem) !important;flex-direction:column;flex-shrink:1;block-size:auto;padding:.75rem;gap:.375rem;min-inline-size:5rem;white-space:pre-line;font:var(--tui-font-text-ui-s)}[tuiButton][tuiButtonVertical]>*,[tuiIconButton][tuiButtonVertical]>*{max-block-size:calc(var(--t-line-height) * 2)}[tuiIconButton]{gap:0;inline-size:var(--t-size);font-size:0!important;padding:0}[tuiIconButton][data-size=l]:after{margin:0}[tuiIconButton][tuiIconButton][style*="--t-icon-start:"]:after{display:none}\n'],encapsulation:2,changeDetection:0})}}return v})(),f=(()=>{class v{constructor(){this.options=(0,e.f3M)(_),this.nothing=(0,t.__)(h),this.size=this.options.size}static{this.\u0275fac=function(y){return new(y||v)}}static{this.\u0275dir=e.lG2({type:v,selectors:[["a","tuiButton",""],["button","tuiButton",""],["a","tuiIconButton",""],["button","tuiIconButton",""]],hostVars:1,hostBindings:function(y,E){2&y&&e.uIk("data-size",E.size)},inputs:{size:"size"},standalone:!0,features:[e._Bn([(0,a.mS)(_)]),e.zW0([a.$y,i.M])]})}}return v})()},8679:(Qt,$,o)=>{"use strict";o.d($,{XU:()=>yt,u8:()=>k});var e=o(6814),t=o(5879),a=o(6266),i=o(4098),g=o(1603),T=o(8451),_=o(1564),m=o(7582),h=o(1888),f=o(8767),v=o(6456);class D{constructor(xt){this.$implicit=xt}}let y=(()=>{class Y{constructor(){this.viewContainer=(0,t.f3M)(t.s_b),this.templateRef=(0,t.f3M)(t.Rgc)}set tuiRepeatTimesOf(z){const at=Math.floor((0,v.Ki)(z,0,65536)),{length:Pt}=this.viewContainer;z<Pt?this.removeContainers(Pt-z):this.addContainers(at)}addContainers(z){for(let at=this.viewContainer.length;at<z;at++)this.viewContainer.createEmbeddedView(this.templateRef,new D(at))}removeContainers(z){for(let at=0;at<z;at++)this.viewContainer.remove()}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275dir=t.lG2({type:Y,selectors:[["","tuiRepeatTimes","","tuiRepeatTimesOf",""]],inputs:{tuiRepeatTimesOf:"tuiRepeatTimesOf"},standalone:!0})}}return Y})();var E=o(2701);const M=({month:Y,rowIndex:xt,colIndex:z,firstDayOfWeek:at})=>{let Pt=xt*i.NA+z-((Y,xt)=>{const z=new Date(Y.year,Y.month,1).getDay();return z>=xt?z-xt:i.NA-(xt-z)})(Y,at)+1;return Pt>Y.daysCount&&(Pt-=Y.daysCount,Y=Y.append({month:1})),Pt<=0&&(Pt=(Y=Y.append({month:-1})).daysCount+Pt),new i.TU(Y.year,Y.month,Pt)};let R=(()=>{class Y{constructor(){this.firstDayOfWeek=(0,t.f3M)(E.Sy),this.currentMonth=null,this.currentSheet=[]}transform(z,at=!1){if(this.currentMonth?.monthSame(z))return this.currentSheet;const Pt=[];for(let Gt=0;Gt<6;Gt++){const De=[];for(let Ut=0;Ut<i.NA;Ut++){const Q=M({month:z,rowIndex:Gt,colIndex:Ut,firstDayOfWeek:this.firstDayOfWeek}),Ft=(le,ne=z)=>le.year>ne.year||le.month>ne.month;if(!((le,ne=z)=>le.year<ne.year||le.month<ne.month)(Q)||at){if(Ft(Q)&&!at)break;De.push(Q)}}Pt.push(De)}return this.currentSheet=Pt.filter(Gt=>Gt.length),this.currentMonth=z,this.currentSheet}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275pipe=t.Yjl({name:"tuiCalendarSheet",type:Y,pure:!0,standalone:!0})}}return Y})();var A=o(7398);function S(Y){const xt=Y.length-1;return[Y[xt]||"",...Y.slice(0,xt)]}let w=(()=>{class Y{constructor(){this.firstDayOfWeekIndex=(0,t.f3M)(E.Sy)}transform(z){return z.pipe((0,A.U)(S),(0,A.U)(at=>[...at.slice(this.firstDayOfWeekIndex),...at.slice(0,this.firstDayOfWeekIndex)]))}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275pipe=t.Yjl({name:"tuiOrderWeekDays",type:Y,pure:!0,standalone:!0})}}return Y})();var p=o(3513),L=o(5505),V=o(2527);function et(Y,xt){if(1&Y){const z=t.EpF();t.ynx(0),t.TgZ(1,"button",1),t.NdJ("click",function(){t.CHM(z);const Pt=t.oxw();return t.KtG(Pt.onLeftClick())}),t._uU(2),t.qZA(),t.TgZ(3,"span",2),t.Hsn(4),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){t.CHM(z);const Pt=t.oxw();return t.KtG(Pt.onRightClick())}),t._uU(6),t.qZA(),t.BQk()}if(2&Y){const z=xt.ngIf,at=t.oxw();t.xp6(1),t.ekj("t-hidden",at.leftComputedDisabled),t.Q6J("iconStart",at.icons.decrement)("tabIndex",at.focusable?0:-1),t.xp6(1),t.hij(" ",z[0]," "),t.xp6(3),t.ekj("t-hidden",at.rightComputedDisabled),t.Q6J("iconStart",at.icons.increment)("tabIndex",at.focusable?0:-1),t.xp6(1),t.hij(" ",z[1]," ")}}const tt=["*"];let ht=(()=>{class Y{constructor(){this.icons=(0,t.f3M)(E.oC),this.spinTexts$=(0,t.f3M)(E.U4),this.focusable=!0,this.disabled=!1,this.leftDisabled=!1,this.rightDisabled=!1,this.leftClick=new t.vpe,this.rightClick=new t.vpe}onLeftClick(){this.leftComputedDisabled||this.leftClick.emit()}onRightClick(){this.rightComputedDisabled||this.rightClick.emit()}get leftComputedDisabled(){return this.disabled||this.leftDisabled}get rightComputedDisabled(){return this.disabled||this.rightDisabled}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275cmp=t.Xpm({type:Y,selectors:[["tui-spin-button"]],hostBindings:function(at,Pt){1&at&&t.NdJ("mousedown.silent.prevent",function(){return 0})("keydown.arrowLeft.prevent",function(){return Pt.onLeftClick()})("keydown.arrowRight.prevent",function(){return Pt.onRightClick()})},inputs:{focusable:"focusable",disabled:"disabled",leftDisabled:"leftDisabled",rightDisabled:"rightDisabled"},outputs:{leftClick:"leftClick",rightClick:"rightClick"},standalone:!0,features:[t.jDz],ngContentSelectors:tt,decls:2,vars:3,consts:[[4,"ngIf"],["appearance","flat","automation-id","tui-spin-button__left","size","xs","tuiIconButton","","type","button",3,"iconStart","tabIndex","click"],[1,"t-content","t-calendar-title"],["appearance","flat","automation-id","tui-spin-button__right","size","xs","tuiIconButton","","type","button",3,"iconStart","tabIndex","click"]],template:function(at,Pt){1&at&&(t.F$t(),t.YNc(0,et,7,10,"ng-container",0),t.ALo(1,"async")),2&at&&t.Q6J("ngIf",t.lcZ(1,1,Pt.spinTexts$))},dependencies:[e.Ov,e.O5,V.xG],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;font:var(--tui-font-text-l);text-align:center;font-weight:700}.t-hidden[_ngcontent-%COMP%]{visibility:hidden}.t-content[_ngcontent-%COMP%]{padding:0 .5rem}"],changeDetection:0})}}return Y})();function it(Y,xt){1&Y&&t._UZ(0,"div",3),2&Y&&t.Q6J("textContent",xt.$implicit)}function It(Y,xt){if(1&Y&&t._UZ(0,"div",11),2&Y){const z=t.oxw().ngIf;t.Udp("background",(null==z?null:z[1])||"")}}function st(Y,xt){if(1&Y&&(t.TgZ(0,"div",10),t._UZ(1,"div",11),t.YNc(2,It,1,2,"div",12),t.qZA()),2&Y){const z=xt.ngIf;t.xp6(1),t.Udp("background",null==z?null:z[0]),t.xp6(1),t.Q6J("ngIf",z.length>1)}}const dt=function(Y,xt,z,at,Pt){return[Y,xt,z,at,Pt]};function St(Y,xt){if(1&Y){const z=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(z);const Pt=t.oxw().tuiLet,Gt=t.oxw(4);return t.KtG(Gt.onItemClick(Pt))})("tuiHoveredChange",function(Pt){t.CHM(z);const Gt=t.oxw().tuiLet,De=t.oxw(4);return t.KtG(De.onItemHovered(Pt&&Gt))}),t.ALo(1,"tuiMapper"),t._uU(2),t.YNc(3,st,3,3,"div",9),t.ALo(4,"tuiMapper"),t.qZA()}if(2&Y){const z=t.oxw().tuiLet,at=t.oxw(4);t.ekj("t-cell_disabled",at.disabledItemHandler(z))("t-cell_today",at.itemIsToday(z))("t-cell_unavailable",at.itemIsUnavailable(z)),t.uIk("data-range",at.getItemRange(z))("data-type",t.xi3(1,10,z,at.dayTypeHandler)),t.xp6(2),t.hij(" ",z.day," "),t.xp6(1),t.Q6J("ngIf",t.G7q(4,13,t.qbA(19,dt,z,at.toMarkers,at.itemIsToday(z),at.getItemRange(z),at.markerHandler)))}}function bt(Y,xt){if(1&Y&&(t.ynx(0),t.YNc(1,St,5,25,"div",7),t.BQk()),2&Y){const z=xt.tuiLet,at=t.oxw(4);t.xp6(1),t.Q6J("ngIf",z&&(!at.itemIsUnavailable(z)||at.showAdjacent))}}function u(Y,xt){if(1&Y&&(t.ynx(0),t.YNc(1,bt,2,1,"ng-container",2),t.BQk()),2&Y){const z=xt.$implicit,at=t.oxw().$implicit,Pt=t.oxw().tuiLet;t.xp6(1),t.Q6J("tuiLet",null==Pt[at]?null:Pt[at][z])}}function ut(Y,xt){if(1&Y&&(t.TgZ(0,"div",5),t.YNc(1,u,2,1,"ng-container",6),t.qZA()),2&Y){const z=xt.$implicit,at=t.oxw().tuiLet;t.xp6(1),t.Q6J("tuiRepeatTimesOf",(null==at[z]?null:at[z].length)||0)}}function Z(Y,xt){if(1&Y&&(t.TgZ(0,"div"),t.YNc(1,ut,2,1,"div",4),t.qZA()),2&Y){const z=xt.tuiLet;t.xp6(1),t.Q6J("tuiRepeatTimesOf",z.length)}}function I(Y,xt){if(1&Y&&(t.ynx(0),t._uU(1),t.BQk()),2&Y){const z=t.oxw();t.xp6(1),t.hij(" ",z.value.formattedYear," ")}}function F(Y,xt){if(1&Y){const z=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(z);const Pt=t.oxw();return t.KtG(Pt.onYearClick())}),t._uU(1),t.qZA()}if(2&Y){const z=t.oxw();t.xp6(1),t.hij(" ",z.value.formattedYear," ")}}function ot(Y,xt){if(1&Y){const z=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){const Gt=t.CHM(z).tuiLet,De=t.oxw(3);return t.KtG(De.yearClick.emit(Gt))})("tuiHoveredChange",function(Pt){const De=t.CHM(z).tuiLet,Ut=t.oxw(3);return t.KtG(Ut.onItemHovered(Pt,De))}),t._uU(1),t.qZA()}if(2&Y){const z=xt.tuiLet,at=t.oxw(3);t.ekj("t-cell_disabled",at.isDisabled(z))("t-cell_today",at.itemIsToday(z)),t.Q6J("tuiScrollIntoView",at.scrollItemIntoView(z)),t.uIk("data-range",at.getItemRange(z)),t.xp6(1),t.hij(" ",z," ")}}function nt(Y,xt){if(1&Y&&(t.ynx(0),t.YNc(1,ot,2,7,"div",3),t.BQk()),2&Y){const z=xt.$implicit,at=t.oxw().$implicit,Pt=t.oxw();t.xp6(1),t.Q6J("tuiLet",Pt.getItem(at,z))}}function At(Y,xt){1&Y&&(t.TgZ(0,"div",1),t.YNc(1,nt,2,1,"ng-container",2),t.qZA()),2&Y&&(t.xp6(1),t.Q6J("tuiRepeatTimesOf",4))}function Dt(Y,xt){if(1&Y){const z=t.EpF();t.TgZ(0,"tui-scrollbar",2)(1,"tui-calendar-year",3),t.NdJ("yearClick",function(Pt){t.CHM(z);const Gt=t.oxw();return t.KtG(Gt.onPickerYearClick(Pt))}),t.qZA()()}if(2&Y){const z=t.oxw();t.xp6(1),t.Q6J("initialItem",z.month.year)("max",z.computedMax.year)("min",z.computedMin.year)("value",z.value)}}function Wt(Y,xt){if(1&Y){const z=t.EpF();t.TgZ(0,"tui-calendar-spin",4),t.NdJ("valueChange",function(Pt){t.CHM(z);const Gt=t.oxw();return t.KtG(Gt.onPaginationValueChange(Pt))})("yearClick",function(){t.CHM(z);const Pt=t.oxw();return t.KtG(Pt.onPaginationYearClick())}),t.qZA(),t.TgZ(1,"tui-calendar-sheet",5),t.NdJ("dayClick",function(Pt){t.CHM(z);const Gt=t.oxw();return t.KtG(Gt.onDayClick(Pt))})("hoveredItemChange",function(Pt){t.CHM(z);const Gt=t.oxw();return t.KtG(Gt.onHoveredItemChange(Pt))}),t.ALo(2,"tuiMapper"),t.qZA()}if(2&Y){const z=t.oxw();t.Q6J("max",z.computedMaxViewedMonth)("min",z.computedMinViewedMonth)("value",z.month),t.xp6(1),t.Q6J("disabledItemHandler",t.gM2(2,9,z.disabledItemHandler,z.disabledItemHandlerMapper,z.computedMin,z.computedMax))("hoveredItem",z.hoveredItem)("markerHandler",z.markerHandler)("month",z.month)("showAdjacent",z.showAdjacent)("value",z.value)}}let Nt=(()=>{class Y{constructor(){this.today=i.TU.currentLocal(),this.unorderedWeekDays$=(0,t.f3M)(E.P),this.dayTypeHandler=(0,t.f3M)(E.rJ),this.month=i.ql.currentLocal(),this.disabledItemHandler=a.tD,this.markerHandler=null,this.value=null,this.hoveredItem=null,this.showAdjacent=!0,this.hoveredItemChange=new t.vpe,this.dayClick=new t.vpe,this.toMarkers=(z,at,Pt,Gt)=>{if(at||["active","end","start"].includes(Pt||""))return null;const De=Gt?.(z);return De?.length?De:null}}itemIsInterval(z){const{value:at,hoveredItem:Pt}=this;if(!(at instanceof i.VR))return!1;if(!at.isSingleDay)return at.from.daySameOrBefore(z)&&at.to.dayAfter(z);if(null===Pt)return!1;const Gt=i.VR.sort(at.from,Pt);return Gt.from.daySameOrBefore(z)&&Gt.to.dayAfter(z)}onItemHovered(z){this.updateHoveredItem(z||null)}getItemRange(z){const{value:at,hoveredItem:Pt}=this;if(at instanceof i.TU)return at.daySame(z)?"active":null;if(!(at&&at instanceof i.VR))return at?.find(De=>De.daySame(z))?"active":null;const Gt=this.getRange(at,Pt);return at.isSingleDay&&Gt.isSingleDay&&at.from.daySame(z)?"active":Gt.from.daySame(z)?"start":Gt.to.daySame(z)?"end":Gt.from.dayBefore(z)&&Gt.to.dayAfter(z)?"middle":null}get isSingleDayRange(){return this.value instanceof i.VR&&this.value.isSingleDay}itemIsToday(z){return this.today.daySame(z)}itemIsUnavailable(z){return!this.month.monthSame(z)}onItemClick(z){this.rangeHasDisabledDay(z)||this.dayClick.emit(z)}getRange(z,at){return z.isSingleDay?i.VR.sort(z.from,at??z.to):z}updateHoveredItem(z){(0,T.J$)(this.hoveredItem,z,(at,Pt)=>at.daySame(Pt))||(this.hoveredItem=z,this.hoveredItemChange.emit(z))}rangeHasDisabledDay(z){if(this.value instanceof i.VR){const at=this.getRange(this.value,z);for(const Pt=at.from.toUtcNativeDate();Pt<=at.to.toUtcNativeDate();Pt.setDate(Pt.getDate()+1)){const Gt=i.TU.fromLocalNativeDate(Pt);if(this.disabledItemHandler(Gt))return!0}}return!1}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275cmp=t.Xpm({type:Y,selectors:[["tui-calendar-sheet"]],hostVars:2,hostBindings:function(at,Pt){2&at&&t.ekj("_picking",Pt.isSingleDayRange)},inputs:{month:"month",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",value:"value",hoveredItem:"hoveredItem",showAdjacent:"showAdjacent"},outputs:{hoveredItemChange:"hoveredItemChange",dayClick:"dayClick"},standalone:!0,features:[t.jDz],decls:6,vars:9,consts:[[1,"t-row","t-row_weekday"],["class","t-cell",3,"textContent",4,"ngFor","ngForOf"],[4,"tuiLet"],[1,"t-cell",3,"textContent"],["automation-id","tui-calendar-sheet__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-sheet__row",1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-sheet__cell","class","t-cell",3,"t-cell_disabled","t-cell_today","t-cell_unavailable","click","tuiHoveredChange",4,"ngIf"],["automation-id","tui-calendar-sheet__cell",1,"t-cell",3,"click","tuiHoveredChange"],["class","t-dots",4,"ngIf"],[1,"t-dots"],[1,"t-dot"],["class","t-dot",3,"background",4,"ngIf"]],template:function(at,Pt){1&at&&(t.TgZ(0,"div",0),t.YNc(1,it,1,1,"div",1),t.ALo(2,"async"),t.ALo(3,"tuiOrderWeekDays"),t.qZA(),t.YNc(4,Z,2,1,"div",2),t.ALo(5,"tuiCalendarSheet")),2&at&&(t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,t.lcZ(3,4,Pt.unorderedWeekDays$))),t.xp6(3),t.Q6J("tuiLet",t.xi3(5,6,Pt.month,!0)))},dependencies:[e.ez,e.sg,e.O5,e.Ov,R,h.et,f.i,g.c,w,y],styles:['.t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>\') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>\') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-start-start-radius:0;border-end-start-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-start-end-radius:0;border-end-end-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}.t-cell[_ngcontent-%COMP%]{inline-size:2.25rem}[data-type=weekday][_ngcontent-%COMP%]{color:var(--tui-text-primary)}[data-type=weekend][_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-row[_ngcontent-%COMP%]{justify-content:flex-start}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row_weekday[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none}.t-cell_unavailable[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}.t-dots[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;justify-content:center;margin-top:-.5rem;padding-bottom:.25rem}.t-dot[_ngcontent-%COMP%]{display:inline-block;inline-size:.25rem;block-size:.25rem;border-radius:100%;margin:0 .0625rem}'],changeDetection:0})}}return(0,m.gn)([T.UM],Y.prototype,"getRange",null),Y})(),Rt=(()=>{class Y{constructor(){this.value=i.ql.currentLocal(),this.min=i.K1,this.max=i.Oy,this.valueChange=new t.vpe,this.yearClick=new t.vpe}onYearClick(){this.yearClick.next(this.value)}append(z){const at=this.value.append(z);this.min.monthSameOrAfter(at)?this.updateValue(this.min):this.updateValue(this.max.monthSameOrBefore(at)?this.max:at)}updateValue(z){this.value.monthSame(z)||(this.value=z,this.valueChange.emit(z))}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275cmp=t.Xpm({type:Y,selectors:[["tui-calendar-spin"]],inputs:{value:"value",min:"min",max:"max"},outputs:{valueChange:"valueChange",yearClick:"yearClick"},standalone:!0,features:[t.jDz],decls:7,vars:10,consts:[[3,"focusable","leftDisabled","rightDisabled","leftClick","rightClick"],[4,"ngIf","ngIfElse"],["button",""],["id","year-btn","automation-id","tui-primitive-year-month-pagination__year-button","tabIndex","-1","tuiLink","","type","button",3,"click"]],template:function(at,Pt){if(1&at&&(t.TgZ(0,"tui-spin-button",0),t.NdJ("leftClick",function(){return Pt.append({month:-1})})("rightClick",function(){return Pt.append({month:1})}),t._uU(1),t.ALo(2,"async"),t.ALo(3,"tuiMonth"),t.YNc(4,I,2,1,"ng-container",1),t.YNc(5,F,2,1,"ng-template",null,2,t.W1O),t.qZA()),2&at){const Gt=t.MAs(6);t.Q6J("focusable",!1)("leftDisabled",Pt.value.monthSameOrBefore(Pt.min))("rightDisabled",Pt.value.monthSameOrAfter(Pt.max)),t.xp6(1),t.hij(" ",t.lcZ(2,6,t.lcZ(3,8,Pt.value))," "),t.xp6(3),t.Q6J("ngIf",Pt.min.year===Pt.max.year)("ngIfElse",Gt)}},dependencies:[e.Ov,e.O5,L.lI,p.$,ht],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}return Y})(),k=(()=>{class Y{constructor(){this.hoveredItem=null,this.currentYear=i.ql.currentLocal().year,this.value=null,this.initialItem=this.currentYear,this.min=i.nN,this.max=i.cO,this.disabledItemHandler=a.tD,this.yearClick=new t.vpe}isDisabled(z){return this.max&&this.max<z||this.min&&this.min>z||this.disabledItemHandler(z)}getItemRange(z){const{value:at,hoveredItem:Pt}=this;if(at instanceof i.F4)return at.year===z?"active":null;if((0,T.dt)(at))return at===z?"active":null;if(!(at instanceof i.dt))return at?.find(Q=>Q.year===z)?"active":null;const Gt=this.isSingle?Pt:null,De=Math.min(at.from.year,Gt??at.to.year),Ut=Math.max(at.from.year,Gt??at.to.year);return De===Ut&&at.from.year===at.to.year&&De===z?"active":De===z?"start":Ut===z?"end":De<z&&z<Ut?"middle":null}onItemHovered(z,at){this.updateHoveredItem(z,at)}get isSingle(){return this.value instanceof i.dt?this.value.from.monthSame(this.value.to):this.value instanceof i.VR&&this.value.isSingleDay}get rows(){return Math.ceil((this.calculatedMax-this.calculatedMin)/4)}scrollItemIntoView(z){return this.initialItem===z}getItem(z,at){return 4*z+at+this.calculatedMin}itemIsToday(z){return this.currentYear===z}get calculatedMin(){const z=this.initialItem-100,at=this.min??i.nN;return at>z?at:z}get calculatedMax(){const z=this.initialItem+100,at=this.max??i.cO;return at<z?at+1:z}updateHoveredItem(z,at){this.hoveredItem=z?at:null}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275cmp=t.Xpm({type:Y,selectors:[["tui-calendar-year"]],hostVars:2,hostBindings:function(at,Pt){2&at&&t.ekj("_picking",Pt.isSingle)},inputs:{value:"value",initialItem:"initialItem",min:"min",max:"max",disabledItemHandler:"disabledItemHandler"},outputs:{yearClick:"yearClick"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["automation-id","tui-calendar-year__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-year__row",1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-year__cell","class","t-cell",3,"t-cell_disabled","t-cell_today","tuiScrollIntoView","click","tuiHoveredChange",4,"tuiLet"],["automation-id","tui-calendar-year__cell",1,"t-cell",3,"tuiScrollIntoView","click","tuiHoveredChange"]],template:function(at,Pt){1&at&&t.YNc(0,At,2,1,"div",0),2&at&&t.Q6J("tuiRepeatTimesOf",Pt.rows)},dependencies:[h.et,f.i,y,_._H],styles:['.t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>\') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>\') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-start-start-radius:0;border-end-start-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-start-end-radius:0;border-end-end-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}[_nghost-%COMP%]{display:block;inline-size:16rem}.t-cell[_ngcontent-%COMP%]{inline-size:4rem;border-block-start-width:.5rem;border-block-end-width:.5rem}'],changeDetection:0})}}return Y})(),yt=(()=>{class Y{constructor(){this.day=null,this.view="month",this.month=i.ql.currentLocal(),this.disabledItemHandler=a.tD,this.min=i.K1,this.max=i.Oy,this.minViewedMonth=i.K1,this.maxViewedMonth=i.Oy,this.hoveredItem=null,this.showAdjacent=!0,this.markerHandler=null,this.dayClick=new t.vpe,this.monthChange=new t.vpe,this.hoveredItemChange=new t.vpe,this.disabledItemHandlerMapper=(z,at,Pt)=>Gt=>Gt.dayBefore(at)||Gt.dayAfter(Pt)||z(Gt)}set value(z){this.day=z,this.showAdjacent&&z instanceof i.TU&&z.daySameOrBefore(i.Yz)&&(this.month=z)}set initialView(z){this.view=z}get value(){return this.day}onPaginationValueChange(z){this.updateViewedMonth(z)}onDayClick(z){this.dayClick.emit(z)}onHoveredItemChange(z){this.updateHoveredDay(z)}get computedMin(){return this.min??i.K1}get computedMax(){return this.max??i.Oy}get computedMinViewedMonth(){const z=this.computedMin,at=this.minViewedMonth??i.K1;return at.monthSameOrAfter(z)?at:z}get computedMaxViewedMonth(){const z=this.computedMax,at=this.maxViewedMonth??i.Oy;return at.monthSameOrBefore(z)?at:z}get isInYearView(){return"year"===this.view}onPaginationYearClick(){this.view="year"}onPickerYearClick(z){this.view="month",this.updateViewedMonth(new i.ql(z,this.month.month))}updateViewedMonth(z){this.month.monthSame(z)||(this.month=z,this.monthChange.emit(z))}updateHoveredDay(z){(0,T.J$)(this.hoveredItem,z,(at,Pt)=>at.daySame(Pt))||(this.hoveredItem=z,this.hoveredItemChange.emit(z))}static{this.\u0275fac=function(at){return new(at||Y)}}static{this.\u0275cmp=t.Xpm({type:Y,selectors:[["tui-calendar"]],inputs:{month:"month",disabledItemHandler:"disabledItemHandler",min:"min",max:"max",minViewedMonth:"minViewedMonth",maxViewedMonth:"maxViewedMonth",hoveredItem:"hoveredItem",showAdjacent:"showAdjacent",markerHandler:"markerHandler",value:"value",initialView:"initialView"},outputs:{dayClick:"dayClick",monthChange:"monthChange",hoveredItemChange:"hoveredItemChange"},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["automation-id","tui-calendar__scrollbar","class","t-scrollbar",4,"ngIf","ngIfElse"],["calendar",""],["automation-id","tui-calendar__scrollbar",1,"t-scrollbar"],["automation-id","tui-calendar__year",3,"initialItem","max","min","value","yearClick"],["automation-id","tui-calendar__pagination",1,"t-pagination",3,"max","min","value","valueChange","yearClick"],["automation-id","tui-calendar__calendar",3,"disabledItemHandler","hoveredItem","markerHandler","month","showAdjacent","value","dayClick","hoveredItemChange"]],template:function(at,Pt){if(1&at&&(t.YNc(0,Dt,2,4,"tui-scrollbar",0),t.YNc(1,Wt,3,14,"ng-template",null,1,t.W1O)),2&at){const Gt=t.MAs(2);t.Q6J("ngIf",Pt.isInYearView)("ngIfElse",Gt)}},dependencies:[e.O5,Nt,Rt,k,g.c,_.D1],styles:["[_nghost-%COMP%]{display:block;min-block-size:18.25rem;inline-size:15.75rem;padding:1rem 1.125rem;box-sizing:content-box}.t-scrollbar[_ngcontent-%COMP%]{block-size:18.25rem;inline-size:16.875rem}.t-pagination[_ngcontent-%COMP%]{margin-bottom:1rem}"],changeDetection:0})}}return Y})()},1018:(Qt,$,o)=>{"use strict";o.d($,{Cc:()=>L,N1:()=>et,P7:()=>p,RB:()=>V,bH:()=>ht,c4:()=>St,gX:()=>st,lt:()=>it,oE:()=>tt,qi:()=>It});var e=o(6814),t=o(5879),a=o(1993),i=o(6266),g=o(1393),T=o(5929),_=o(9298),m=o(8451),h=o(2701),f=o(5586),v=o(9080),C=o(385),D=o(334),y=o(5738);const E=["tuiOption",""];function O(u,ut){if(1&u&&(t.ynx(0),t._uU(1),t.BQk()),2&u){const Z=ut.polymorpheusOutlet;t.xp6(1),t.hij(" ",Z," ")}}function M(u,ut){1&u&&t.Hsn(0)}const U=function(u){return{$implicit:u}},R=["*"];function A(u,ut){if(1&u&&(t.ynx(0),t._uU(1),t.BQk()),2&u){const Z=ut.polymorpheusOutlet;t.xp6(1),t.hij(" ",Z," ")}}function S(u,ut){if(1&u&&(t.TgZ(0,"div",1),t.YNc(1,A,2,1,"ng-container",2),t.qZA()),2&u){const Z=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",Z.emptyContent||Z.fallback())}}const w=(0,m.JN)();function p(u){return{provide:w,useValue:u}}const L=(0,m.JN)();function V(u){return(0,m.Q2)(L,u)}const et=(0,m.JN)();function tt(u){return(0,m.Q2)(et,u)}let ht=(()=>{class u{constructor(){this.isMobile=(0,t.f3M)(C.fL),this.el=(0,T.AG)(),this.dataList=(0,t.f3M)((0,t.Gpc)(()=>It),{optional:!0}),this.host=(0,t.f3M)(et,{optional:!0}),this.content=(0,t.f3M)(w,{optional:!0}),this.dropdown=(0,t.f3M)(D.td,{self:!0,optional:!0})?.ref,this.disabled=!1}ngOnDestroy(){this.dataList?.handleFocusLossIfNecessary(this.el)}onClick(){this.host?.handleOption&&void 0!==this.value&&this.host.handleOption(this.value)}onMouseMove(){!this.isMobile&&!(0,_.V8)(this.el)&&this.dataList&&this.el.focus({preventScroll:!0})}static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["button","tuiOption",""],["a","tuiOption",""],["label","tuiOption",""]],hostAttrs:["type","button","role","option"],hostVars:3,hostBindings:function(I,F){1&I&&t.NdJ("click",function(){return F.onClick()})("mousemove.silent",function(){return F.onMouseMove()}),2&I&&(t.uIk("disabled",F.disabled||null),t.ekj("_with-dropdown",null==F.dropdown?null:F.dropdown()))},inputs:{disabled:"disabled",value:"value"},standalone:!0,features:[t.jDz,t.zW0([y.M])],attrs:E,ngContentSelectors:R,decls:3,vars:4,consts:[[4,"polymorpheusOutlet","polymorpheusOutletContext"],["t",""]],template:function(I,F){if(1&I&&(t.F$t(),t.YNc(0,O,2,1,"ng-container",0),t.YNc(1,M,1,0,"ng-template",null,1,t.W1O)),2&I){const ot=t.MAs(2);t.Q6J("polymorpheusOutlet",F.content||ot)("polymorpheusOutletContext",t.VKq(2,U,ot))}},dependencies:[f.s$],encapsulation:2,changeDetection:0})}}return u})();function it(){const ut=(0,t.f3M)(et,{optional:!0})?.size;return ut&&["s","m","l"].includes(ut)?ut:"l"}let It=(()=>{class u{constructor(){this.options=i.Mm,this.ngZone=(0,t.f3M)(t.R0b),this.destroyRef=(0,t.f3M)(t.ktI),this.el=(0,T.AG)(),this.cdr=(0,t.f3M)(t.sBO),this.fallback=(0,a.O4)((0,t.f3M)(h.PH)),this.empty=(0,t.tdS)(!1),this.size=it()}onKeyDownArrow(Z,I){const{elements:F}=this;(0,_.VR)(F.indexOf(Z),F,I)}handleFocusLossIfNecessary(Z=this.el){(0,_.zb)(Z)&&this.origin?.focus({preventScroll:!0})}ngAfterContentChecked(){(0,v.H)(0).pipe((0,g.fL)(this.ngZone),(0,g.Wo)(this.destroyRef)).subscribe(()=>{this.empty.set(!this.elements.length),this.cdr.detectChanges()})}getOptions(Z=!1){return this.options.filter(({disabled:I})=>Z||!I).map(({value:I})=>I).filter(m.Pc)}onFocusIn(Z,I){!I.contains(Z)&&!this.origin&&(this.origin=Z)}get elements(){return Array.from(this.el.querySelectorAll("a,button,input"))}static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["tui-data-list"]],contentQueries:function(I,F,ot){if(1&I&&t.Suo(ot,ht,5),2&I){let nt;t.iGM(nt=t.CRH())&&(F.options=nt)}},hostAttrs:["role","listbox"],hostVars:1,hostBindings:function(I,F){1&I&&t.NdJ("focusin",function(nt){return F.onFocusIn(nt.relatedTarget,nt.currentTarget)})("mousedown.prevent",function(){return 0})("wheel.silent.passive",function(){return F.handleFocusLossIfNecessary()})("mouseleave",function(nt){return F.handleFocusLossIfNecessary(nt.target)})("keydown.tab",function(){return F.handleFocusLossIfNecessary()})("keydown.shift.tab",function(){return F.handleFocusLossIfNecessary()})("keydown.arrowDown.prevent",function(nt){return F.onKeyDownArrow(nt.target,1)})("keydown.arrowUp.prevent",function(nt){return F.onKeyDownArrow(nt.target,-1)}),2&I&&t.uIk("data-size",F.size)},inputs:{emptyContent:"emptyContent",size:"size"},standalone:!0,features:[t._Bn([V(u)]),t.jDz],ngContentSelectors:R,decls:2,vars:1,consts:[["class","t-empty",4,"ngIf"],[1,"t-empty"],[4,"polymorpheusOutlet"]],template:function(I,F){1&I&&(t.F$t(),t.Hsn(0),t.YNc(1,S,2,1,"div",0)),2&I&&(t.xp6(1),t.Q6J("ngIf",F.empty()))},dependencies:[e.O5,f.s$],styles:['tui-data-list{--tui-data-list-padding: .25rem;--tui-data-list-margin: .0625rem;display:flex;font:var(--tui-font-text-m);flex-direction:column;padding:calc(var(--tui-data-list-padding) - var(--tui-data-list-margin)) var(--tui-data-list-padding);color:var(--tui-text-tertiary)}tui-data-list:focus-within .t-trap{display:none}tui-data-list:focus-within [tuiOption]._with-dropdown:not(:focus){background-color:transparent}tui-data-list[data-size=s]{--tui-data-list-margin: var(--t-0, 0rem)}tui-data-list[data-size=s]>.t-empty,tui-data-list[data-size=s] [tuiOption]{font:var(--tui-font-text-s);min-block-size:2rem;padding:.3125rem .5rem}tui-data-list[data-size=s]>.t-empty:before,tui-data-list[data-size=s] [tuiOption]:before{font-size:1rem}tui-data-list[data-size=m]>.t-empty,tui-data-list[data-size=m] [tuiOption]{font:var(--tui-font-text-s);min-block-size:2.5rem;padding:.375rem .5rem}tui-data-list[data-size=l]{--tui-data-list-padding: .375rem;--tui-data-list-margin: .125rem}tui-data-list[data-size=l]>.t-empty,tui-data-list[data-size=l] [tuiOption]{font:var(--tui-font-text-m);min-block-size:2.75rem;padding:.375rem .625rem}tui-data-list>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0}tui-data-list [tuiOption]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;justify-content:space-between;text-align:start;color:var(--tui-text-primary);border-radius:var(--tui-radius-s);outline:none;cursor:pointer;background-clip:padding-box}tui-data-list [tuiOption]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}tui-data-list [tuiOption]:hover,tui-data-list [tuiOption]:focus-within,tui-data-list [tuiOption]._with-dropdown{background-color:var(--tui-background-neutral-1)}tui-data-list [tuiOption]:before{margin-inline-end:.5rem}tui-data-list [tuiOption]:after{font-size:1rem;margin:0 -.75rem 0 auto;border-left:.5rem solid;border-right:.5rem solid}tui-opt-group{position:relative;display:flex;font:var(--tui-font-text-xs);color:var(--tui-text-secondary);flex-direction:column;line-height:1rem}tui-data-list[data-size=l] tui-opt-group{font:var(--tui-font-text-s);line-height:1.25rem}tui-data-list[data-size=l] tui-opt-group:before{padding-left:.625rem;padding-right:.625rem}tui-data-list[data-size=l] tui-opt-group:after{left:.625rem;right:.625rem}tui-opt-group:empty:before,tui-opt-group:empty:after{display:none}tui-opt-group:before{content:attr(data-label);padding:var(--tui-data-list-padding) .5rem var(--tui-data-list-padding);margin:var(--tui-data-list-margin) 0;white-space:normal;word-break:break-word}tui-opt-group:after{position:absolute;left:.5rem;right:.5rem;top:var(--tui-data-list-padding);block-size:1px;background:var(--tui-border-normal)}tui-opt-group:not(:empty)~tui-opt-group:before{padding-top:calc(.75rem + var(--tui-data-list-padding))}tui-opt-group:not(:empty)~tui-opt-group[data-label=""]:before,tui-opt-group:not(:empty)~tui-opt-group:not([data-label]):before{padding:var(--tui-data-list-padding) 0}tui-opt-group:not(:empty)~tui-opt-group:after{content:""}tui-opt-group[data-label=""]:before,tui-opt-group:not([data-label]):before{padding:0;margin:0}\n'],encapsulation:2,changeDetection:0})}}return u})(),st=(()=>{class u{static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275dir=t.lG2({type:u,selectors:[["ng-template","tuiDataList",""]],standalone:!0})}}return u})(),St=(()=>{class u{static{this.\u0275fac=function(I){return new(I||u)}}static{this.\u0275dir=t.lG2({type:u,selectors:[["tui-opt-group"]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(I,F){2&I&&t.uIk("data-label",F.label)},inputs:{label:"label"},standalone:!0})}}return u})()},4728:(Qt,$,o)=>{"use strict";o.d($,{qY:()=>I,a4:()=>Wt,RO:()=>B,r4:()=>Y,q6:()=>yt});var e=o(6814),t=o(5879),a=o(1993),i=o(6266),g=o(7936),T=o(375),_=o(2527),m=o(940),h=o(2701),f=o(8926),v=o(8797),C=o(5586),D=o(5619),y=o(6232),E=o(5592),O=o(3019),M=o(2181),U=o(4664),R=o(8180),A=o(7398),S=o(7258),w=o(2096),p=o(8645),L=o(8451),V=o(5742),et=o(1393),tt=o(5929),ht=o(5533),it=o(9298);let It=(()=>{class xt{constructor(){this.doc=(0,t.f3M)(e.K0),this.el=(0,tt.AG)(),this.activeElement=null,this.initialized=!1,Promise.resolve().then(()=>{this.initialized=!0,this.activeElement=(0,it.ie)(this.doc),this.el.focus()})}ngOnDestroy(){(0,it.hp)(this.doc),Promise.resolve().then(()=>{(0,tt.dW)(this.activeElement)&&this.activeElement.focus()})}onFocusIn(at){const Pt=this.el.firstElementChild;!(0,tt.PP)(this.el,at)&&Pt&&(0,it.BW)({initial:Pt,root:this.el})?.focus()}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275dir=t.lG2({type:xt,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(Pt,Gt){1&Pt&&t.NdJ("focusin.silent",function(Ut){return Gt.initialized&&Gt.onFocusIn(Ut.target)},!1,t.Jf7)},standalone:!0})}}return xt})();var st=o(1564);function dt(xt,z){if(1&xt&&(t.ynx(0),t._uU(1),t.BQk()),2&xt){const at=z.polymorpheusOutlet;t.xp6(1),t.hij(" ",at," ")}}function St(xt,z){if(1&xt&&(t.TgZ(0,"header",6),t.YNc(1,dt,2,1,"ng-container",3),t.qZA()),2&xt){const at=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",at.header)("polymorpheusOutletContext",at.context)}}function bt(xt,z){if(1&xt){const at=t.EpF();t.ynx(0),t._UZ(1,"div",7),t.TgZ(2,"div",8)(3,"button",9),t.NdJ("click",function(){t.CHM(at);const Gt=t.oxw();return t.KtG(Gt.context.$implicit.complete())}),t._uU(4),t.qZA()(),t.BQk()}if(2&xt){const at=z.polymorpheusOutlet,Pt=t.oxw();t.xp6(1),t.Q6J("innerHTML",at,t.oJD),t.xp6(3),t.hij(" ",(null==Pt.context.data?null:Pt.context.data.button)||"OK"," ")}}function u(xt,z){if(1&xt){const at=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(at);const Gt=t.oxw();return t.KtG(Gt.close$.next())})("mousedown.prevent.silent",function(){return 0}),t._uU(1),t.ALo(2,"async"),t.qZA()}if(2&xt){const at=t.oxw();t.Udp("border-radius",100,"%"),t.Q6J("appearance",at.isMobile()?"icon":"neutral")("iconStart",at.icons.close)("size",at.isMobile()?"xs":"s"),t.xp6(1),t.hij(" ",t.lcZ(2,6,at.closeWord$),"\n")}}function ut(xt,z){1&xt&&t.GkF(0)}function Z(xt,z){if(1&xt&&(t.TgZ(0,"section",2),t.YNc(1,ut,1,0,"ng-container",3),t._UZ(2,"tui-scroll-controls",4),t.qZA()),2&xt){const at=z.$implicit;t.Q6J("@tuiHost",void 0),t.uIk("aria-labelledby",at.id),t.xp6(1),t.Q6J("polymorpheusOutlet",at.component)("polymorpheusOutletContext",at)}}const I=(0,L.JN)(new D.X([])),ot=(0,L.JN)(y.E),nt=(0,L.JN)({appearance:"",size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:"",data:void 0});let Wt=(()=>{class xt extends E.y{constructor(){super(at=>(0,O.T)(this.esc$,this.mousedown$).subscribe(at)),this.win=(0,t.f3M)(V.Az),this.doc=(0,t.f3M)(e.K0),this.el=(0,tt.AG)(),this.esc$=(0,et.mL)(this.doc,"keydown").pipe((0,M.h)(at=>{const Pt=(0,tt.mA)(at);return"Escape"===at.key&&!at.defaultPrevented&&(this.el.contains(Pt)||this.isOutside(Pt))})),this.mousedown$=(0,et.mL)(this.doc,"mousedown").pipe((0,M.h)(at=>(0,f.ic)(this.win)-at.clientX>17&&this.isOutside((0,tt.mA)(at))),(0,U.w)(()=>(0,et.mL)(this.doc,"mouseup").pipe((0,R.q)(1),(0,A.U)(tt.mA),(0,M.h)(at=>this.isOutside(at)))))}isOutside(at){return(0,tt.ve)(at)&&(!(0,tt.PP)(this.el,at)||at===this.el)}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275prov=t.Yz7({token:xt,factory:xt.\u0275fac})}}return xt})();const Nt=new Error("Required dialog was dismissed");function Rt(xt){return(0,S.b)(xt)?xt:(0,w.of)(xt)}let Bt=(()=>{class xt{constructor(){this.speed=(0,t.f3M)(h.ZW),this.animation={value:"",params:{start:"40px",duration:(0,v.cZ)(this.speed)}},this.fullscreenAnimation={value:"",params:{start:"100vh",duration:(0,v.cZ)(this.speed)}},this.close$=new p.x,this.context=(0,C.FQ)(),this.closeWord$=(0,t.f3M)(h.U0),this.icons=(0,t.f3M)(h.Gs),this.slideInTop=(0,t.Flj)(()=>"fullscreen"===this.size||"page"===this.size||this.isMobile()?this.fullscreenAnimation:this.animation),this.isMobile=(0,a.O4)((0,t.f3M)(m.zE).pipe((0,A.U)(at=>"mobile"===at))),(0,O.T)(this.close$.pipe((0,U.w)(()=>Rt(this.context.closeable))),(0,t.f3M)(Wt).pipe((0,U.w)(()=>Rt(this.context.dismissible))),(0,t.f3M)(ot).pipe((0,A.U)(i.oN))).pipe((0,M.h)(Boolean),(0,a.sL)()).subscribe(()=>{this.close()})}get size(){return this.context.size}get header(){return this.context.header}close(){this.context.required?this.context.$implicit.error(Nt):this.context.$implicit.complete()}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275cmp=t.Xpm({type:xt,selectors:[["tui-dialog"]],hostVars:6,hostBindings:function(Pt,Gt){2&Pt&&(t.uIk("data-appearance",Gt.context.appearance)("data-size",Gt.size),t.d8E("@tuiSlideInTop",Gt.slideInTop())("@tuiFadeIn",Gt.slideInTop()),t.ekj("_centered",Gt.header))},standalone:!0,features:[t._Bn([Wt]),t.jDz],decls:7,vars:8,consts:[["class","t-header",4,"ngIf"],[1,"t-content"],[1,"t-heading",3,"id","textContent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-filler"],["automation-id","tui-dialog__close","tuiIconButton","","type","button","class","t-close",3,"appearance","iconStart","size","border-radius","click","mousedown.prevent.silent",4,"ngIf"],[1,"t-header"],[3,"innerHTML"],[1,"t-buttons"],["size","m","tuiAutoFocus","","tuiButton","","type","button",3,"click"],["automation-id","tui-dialog__close","tuiIconButton","","type","button",1,"t-close",3,"appearance","iconStart","size","click","mousedown.prevent.silent"]],template:function(Pt,Gt){1&Pt&&(t.YNc(0,St,2,2,"header",0),t.TgZ(1,"div",1),t._UZ(2,"h2",2),t.TgZ(3,"section"),t.YNc(4,bt,5,2,"ng-container",3),t.qZA()(),t._UZ(5,"div",4),t.YNc(6,u,3,8,"button",5)),2&Pt&&(t.Q6J("ngIf",Gt.header),t.xp6(2),t.ekj("t-heading_closable",Gt.context.closeable),t.Q6J("id",Gt.context.id)("textContent",Gt.context.label),t.xp6(2),t.Q6J("polymorpheusOutlet",Gt.context.content)("polymorpheusOutletContext",Gt.context),t.xp6(2),t.Q6J("ngIf",Gt.context.closeable))},dependencies:[e.Ov,e.O5,C.s$,g.bi,_.xG],styles:['[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-m);flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1.5rem;border:2.5rem solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";border-radius:inherit;pointer-events:none;box-shadow:var(--tui-shadow-popup)}[data-size=auto][_nghost-%COMP%]{inline-size:auto}[data-size=s][_nghost-%COMP%]{inline-size:30rem}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[data-size=s][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-5)}[data-size=m][_nghost-%COMP%]{inline-size:42.5rem}[data-size=l][_nghost-%COMP%]{inline-size:55rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{min-inline-size:100vw;min-block-size:100%;border-radius:0;border:none;background:var(--tui-background-elevation-1);box-shadow:0 4rem var(--tui-background-elevation-1)}[data-size=fullscreen][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:3rem calc(50vw - 22.5rem)}[data-size=fullscreen][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-3)}._centered[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]{min-inline-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0;border:none;margin:auto 0 0}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-heading-5)}[data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0}.t-heading[_ngcontent-%COMP%]{margin:0 0 .5rem;overflow-wrap:break-word;font:var(--tui-font-heading-4)}.t-heading_closable[_ngcontent-%COMP%]{padding-inline-end:2rem}.t-heading[_ngcontent-%COMP%]:empty{display:none}.t-header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}[data-size=fullscreen][_nghost-%COMP%]   tui-root._mobile[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{flex:1}.t-content[_ngcontent-%COMP%]{border-radius:inherit;padding:1.75rem;background:var(--tui-background-elevation-1)}.t-content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.t-filler[_ngcontent-%COMP%]{flex-grow:1}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:1rem;right:1rem}.t-buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:end}'],data:{animation:[T.X9,T.QF]}})}}return xt})(),B=(()=>{class xt extends ht.IS{static{this.\u0275fac=function(){let at;return function(Gt){return(at||(at=t.n5z(xt)))(Gt||xt)}}()}static{this.\u0275prov=t.Yz7({token:xt,factory:function(){return new xt(I,Bt,(0,t.f3M)(nt))},providedIn:"root"})}}return xt})();function yt(xt,z){const at=(0,t.f3M)(B),Pt=(0,t.f3M)(t.gxx);return Gt=>at.open(new C.Al(xt,Pt),{...z,data:Gt})}let Y=(()=>{class xt{constructor(){this.el=(0,tt.AG)(),this.dialogs=(0,a.O4)((0,t.f3M)(I),{initialValue:[]})}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275cmp=t.Xpm({type:xt,selectors:[["tui-dialogs"]],hostBindings:function(Pt,Gt){1&Pt&&t.NdJ("keydown.silent",function(){return Gt.el.scrollTop=Gt.el.scrollHeight/2})},standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[1,"t-overlay"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","","class","t-dialog",4,"ngFor","ngForOf"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-scrollbars"]],template:function(Pt,Gt){1&Pt&&(t._UZ(0,"div",0),t.YNc(1,Z,3,4,"section",1)),2&Pt&&(t.ekj("t-overlay_visible",Gt.dialogs().length),t.xp6(1),t.Q6J("ngForOf",Gt.dialogs()))},dependencies:[e.sg,C.s$,It,st.bl,st.pS],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;scrollbar-width:none;-ms-overflow-style:none;pointer-events:none;overflow:hidden;overscroll-behavior:none}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:has(section){pointer-events:auto;overflow:auto}[_nghost-%COMP%]:before{content:"";display:block;block-size:1000%}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{transition-property:filter;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;scrollbar-width:none;-ms-overflow-style:none;position:fixed;top:0;left:0;bottom:0;right:0;display:flex;block-size:100%;align-items:flex-start;outline:none;overflow:auto}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-overlay.ng-animating[_ngcontent-%COMP%], .t-dialog.ng-animating[_ngcontent-%COMP%]{overflow:clip}.t-dialog[_ngcontent-%COMP%]{position:sticky;overscroll-behavior:none;filter:brightness(.25)}.t-overlay[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;background:var(--tui-service-backdrop);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none);opacity:0;transition-timing-function:ease-in}.t-overlay_visible[_ngcontent-%COMP%]{opacity:1;transition-timing-function:ease-out}.t-dialog[_ngcontent-%COMP%]:last-child{pointer-events:auto;filter:none}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0;color:#747474}'],data:{animation:[T.Hp]}})}}return xt})()},232:(Qt,$,o)=>{"use strict";o.d($,{e:()=>D});var e=o(6814),t=o(5879),a=o(1993),i=o(4017),g=o(8451),T=o(375),_=o(2701),m=o(8797),h=o(5586);function f(y,E){if(1&y&&(t.ynx(0),t._uU(1),t.BQk()),2&y){const O=E.polymorpheusOutlet;t.xp6(1),t.hij(" ",O," ")}}const v=function(){return{}};function C(y,E){if(1&y&&(t.TgZ(0,"div",1),t.YNc(1,f,2,1,"ng-container",2),t.qZA()),2&y){const O=t.oxw();t.Q6J("@tuiFadeIn",O.options)("@tuiHeightCollapse",O.options),t.xp6(1),t.Q6J("polymorpheusOutlet",O.error.message||O.default())("polymorpheusOutletContext",O.error.context||t.DdM(4,v))}}let D=(()=>{class y{constructor(){this.options=(0,m.qS)((0,t.f3M)(_.ZW)),this.error=null,this.visible=!0,this.default=(0,a.O4)((0,t.f3M)(_.PL))}set errorSetter(O){this.error=(0,g.Aj)(O)?new i.T8(O):O}onAnimation(O){this.visible=O}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275cmp=t.Xpm({type:y,selectors:[["tui-error"]],hostBindings:function(M,U){1&M&&t.NdJ("animationcancel.self",function(){return U.onAnimation(!1)})("animationstart.self",function(){return U.onAnimation(!0)})},inputs:{errorSetter:["error","errorSetter"]},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["automation-id","tui-error__text","class","t-message-text",4,"ngIf"],["automation-id","tui-error__text",1,"t-message-text"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(M,U){1&M&&t.YNc(0,C,2,5,"div",0),2&M&&t.Q6J("ngIf",U.error&&U.visible)},dependencies:[e.O5,h.s$],styles:['[_nghost-%COMP%]{display:block;font:var(--tui-font-text-s);color:var(--tui-text-negative);overflow-wrap:break-word;animation:tuiPresent 1s infinite}.t-message-text[_ngcontent-%COMP%]{white-space:pre-line}.t-message-text[_ngcontent-%COMP%]:before{content:"";line-height:1.5rem;vertical-align:bottom}'],data:{animation:[T.eu,T.QF]},changeDetection:0})}}return y})()},2354:(Qt,$,o)=>{"use strict";o.d($,{P8:()=>y,SV:()=>E,d0:()=>v});var e=o(6814),t=o(5879),a=o(1993),i=o(375),g=o(6669),T=o(9080);const _=["wrapper"];function m(M,U){if(1&M&&(t.TgZ(0,"tui-loader",4),t.GkF(1,5),t.qZA()),2&M){const R=t.oxw(2);t.Q6J("overlay",!0)("showLoader",R.loading),t.xp6(1),t.Q6J("ngTemplateOutlet",R.content)}}function h(M,U){if(1&M&&(t.ynx(0),t.Hsn(1),t.YNc(2,m,2,3,"tui-loader",3),t.BQk()),2&M){const R=t.oxw();t.xp6(2),t.Q6J("ngIf",R.async)("ngIfElse",R.content)}}const f=["*"];let v=(()=>{class M{static{this.\u0275fac=function(A){return new(A||M)}}static{this.\u0275dir=t.lG2({type:M,selectors:[["","tuiExpandContent",""]],standalone:!0})}}return M})();const y="tui-expand-loaded";let E=(()=>{class M{constructor(){this.cdr=(0,t.f3M)(t.sBO),this.destroyRef=(0,t.f3M)(t.ktI),this.state=0,this.content=null,this.expanded=null,this.async=!1}set expandedSetter(R){if(null!==this.expanded)return 0!==this.state?(this.expanded=R,void(this.state=3)):(this.expanded=R,void this.retrigger(this.async&&R?1:3));this.expanded=R}get contentVisible(){return this.expanded||0!==this.state}get overflow(){return 0!==this.state}get loading(){return!!this.expanded&&this.async&&1===this.state}get height(){const{expanded:R,state:A,contentWrapper:S}=this;return R&&2===A||!R&&3===A?0:S&&(!R&&2===A||R&&3===A)?S.nativeElement.offsetHeight:S&&R&&1===A?Math.max(S.nativeElement.offsetHeight,48):null}onTransitionEnd({propertyName:R,pseudoElement:A}){"opacity"===R&&!A&&3===this.state&&(this.state=0)}onExpandLoaded(R){R.stopPropagation(),1===this.state&&this.retrigger(3)}retrigger(R){this.state=2,(0,T.H)(0).pipe((0,a.sL)(this.destroyRef)).subscribe(()=>{2===this.state&&(this.state=R,this.cdr.markForCheck())})}static{this.\u0275fac=function(A){return new(A||M)}}static{this.\u0275cmp=t.Xpm({type:M,selectors:[["tui-expand"]],contentQueries:function(A,S,w){if(1&A&&t.Suo(w,v,5,t.Rgc),2&A){let p;t.iGM(p=t.CRH())&&(S.content=p.first)}},viewQuery:function(A,S){if(1&A&&t.Gf(_,5),2&A){let w;t.iGM(w=t.CRH())&&(S.contentWrapper=w.first)}},hostVars:9,hostBindings:function(A,S){1&A&&t.NdJ("transitionend.self",function(p){return S.onTransitionEnd(p)})("tui-expand-loaded",function(p){return S.onExpandLoaded(p)}),2&A&&(t.uIk("aria-expanded",S.expanded),t.Udp("height",S.height,"px"),t.ekj("_loading",S.loading)("_overflow",S.overflow)("_expanded",S.expanded))},inputs:{async:"async",expandedSetter:["expanded","expandedSetter"]},standalone:!0,features:[t.jDz],ngContentSelectors:f,decls:3,vars:3,consts:[[1,"t-wrapper"],["wrapper",""],[4,"ngIf"],["size","l",3,"overlay","showLoader",4,"ngIf","ngIfElse"],["size","l",3,"overlay","showLoader"],[3,"ngTemplateOutlet"]],template:function(A,S){1&A&&(t.F$t(),t.TgZ(0,"div",0,1),t.YNc(2,h,3,2,"ng-container",2),t.qZA()),2&A&&(t.Q6J("@tuiParentAnimation",void 0)("@.disabled",S.overflow),t.xp6(2),t.Q6J("ngIf",S.contentVisible))},dependencies:[e.O5,e.tP,g.A6],styles:['[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:"";display:table}'],data:{animation:[i.B_]},changeDetection:0})}}return M})()},1534:(Qt,$,o)=>{"use strict";o.d($,{R:()=>a,v:()=>i});var e=o(5879),t=o(2701);let a=(()=>{class g{constructor(){this.resolver=(0,t.Ps)(),this.backgroundSrc=(0,e.tdS)(null),this.iconSrc=(0,e.tdS)(this.resolve((0,e.f3M)(t.Hd,{self:!0,optional:!0})||(0,e.f3M)(t.u_,{self:!0,optional:!0})))}set icon(_){this.iconSrc.set(this.resolve(_))}set background(_){this.backgroundSrc.set(this.resolve(_))}resolve(_){return _?`url(${this.resolver(_)})`:null}static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275cmp=e.Xpm({type:g,selectors:[["tui-icon"]],hostVars:4,hostBindings:function(m,h){2&m&&e.Udp("--t-icon",h.iconSrc()||"url()")("--t-icon-bg",h.backgroundSrc())},inputs:{icon:"icon",background:"background"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(m,h){},styles:['tui-icon{position:relative;display:inline-block;inline-size:1em;block-size:1em;font-size:1.5rem;flex-shrink:0;border:0 solid transparent;vertical-align:middle;box-sizing:border-box;-webkit-mask:var(--t-icon-bg) no-repeat center / contain;mask:var(--t-icon-bg) no-repeat center / contain}@media (hover: hover) and (pointer: fine){tui-icon[data-appearance=icon]:hover{color:var(--tui-text-secondary)}}tui-icon:after,tui-icon[tuiIcons]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;-webkit-mask:var(--t-icon) no-repeat center / contain;mask:var(--t-icon) no-repeat center / contain;background:currentColor}\n'],encapsulation:2,changeDetection:0})}}return g})(),i=(()=>{class g{constructor(){this.transform=(0,t.Ps)()}static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275pipe=e.Yjl({name:"tuiIcon",type:g,pure:!0,standalone:!0})}}return g})()},8158:(Qt,$,o)=>{"use strict";o.d($,{T:()=>T});var e=o(5879),t=o(5929),a=o(8451),i=o(1018);let g=(()=>{class _{static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],hostAttrs:[1,"tui-label"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(f,v){},styles:["[tuiLabel]{display:flex;gap:.25rem;flex-direction:column;font:var(--tui-font-text-s);color:var(--tui-text-primary)}[tuiLabel]:not([data-orientation=vertical]){flex-direction:row;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;font:var(--tui-font-text-m)}[tuiLabel]:has(tui-textfield),[tuiLabel]:has(tui-primitive-textfield),[tuiLabel]:has(tui-textarea){flex-direction:column!important;inline-size:auto!important;font:var(--tui-font-text-s)!important}[tuiLabel] input[type=checkbox],[tuiLabel] input[type=radio]{margin-inline-end:.5rem}[tuiLabel] input[type=checkbox][data-size=s],[tuiLabel] input[type=radio][data-size=s]{margin-inline-end:.25rem;margin-top:.125rem}[tuiLabel] small{font:var(--tui-font-text-s)}[tuiLabel] [tuiTitle]{margin-top:.125rem}[tuiLabel] [tuiSubtitle]{color:var(--tui-text-secondary)}\n"],encapsulation:2,changeDetection:0})}}return _})(),T=(()=>{class _{constructor(){this.el=(0,t.AG)(),this.nothing=(0,a.__)(g),this.parent=(0,e.f3M)((0,e.Gpc)(()=>i.N1),{optional:!0})}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275dir=e.lG2({type:_,selectors:[["label","tuiLabel",""]],contentQueries:function(f,v,C){if(1&f&&e.Suo(C,i.N1,5),2&f){let D;e.iGM(D=e.CRH())&&(v.textfield=D.first)}},hostVars:2,hostBindings:function(f,v){2&f&&e.uIk("for",v.el.htmlFor||(null==v.parent?null:v.parent.id))("data-orientation",v.textfield?"vertical":"horizontal")},standalone:!0})}}return _})()},5505:(Qt,$,o)=>{"use strict";o.d($,{S9:()=>_,lI:()=>h});var e=o(5879),t=o(8451),a=o(47),i=o(5738);const g={appearance:"action",pseudo:!1},T=(0,t.JN)(g);function _(f){return(0,t.vK)(T,f,g)}let m=(()=>{class f{static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275cmp=e.Xpm({type:f,selectors:[["ng-component"]],hostAttrs:[1,"tui-link"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(D,y){},styles:['[tuiLink]{--tui-text-tertiary: var(--tui-text-secondary);padding:0;background:transparent;border:none;cursor:pointer;font:inherit;color:inherit;-webkit-text-decoration:none dashed currentColor;text-decoration:none dashed currentColor;text-underline-offset:.2em;text-decoration-thickness:.7px;text-decoration-color:color-mix(in lch,currentColor,transparent)}[tuiLink]:hover{--tui-text-secondary: var(--tui-text-primary)}[tuiLink]:before{margin-inline-end:.25rem}[tuiLink]:after{margin-inline-start:.25rem}[tuiLink][tuiIcons]:before,[tuiLink][tuiIcons]:after{content:"\\2060";padding:calc(var(--tui-icon-size, 1rem) / 2);vertical-align:super;font-size:0;line-height:0;box-sizing:border-box}[tuiLink]:focus-visible:not([data-focus=false]){outline:none;background:var(--tui-service-selection-background);background:color-mix(in lch,currentColor 12%,transparent)}[tuiLink][data-focus=true]{outline:none;background:var(--tui-service-selection-background);background:color-mix(in lch,currentColor 12%,transparent)}[tuiLink][tuiWrapper]:not(._focused):has(:focus-visible),[tuiLink][tuiWrapper]._focused{outline:none;background:var(--tui-service-selection-background);background:color-mix(in lch,currentColor 12%,transparent)}\n'],encapsulation:2,changeDetection:0})}}return f})(),h=(()=>{class f{constructor(){this.nothing=(0,t.__)(m),this.pseudo=(0,e.f3M)(T).pseudo}static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275dir=e.lG2({type:f,selectors:[["a","tuiLink",""],["button","tuiLink",""]],hostAttrs:["tuiLink",""],hostVars:2,hostBindings:function(D,y){2&D&&e.Udp("text-decoration-line",y.pseudo?"underline":null)},inputs:{pseudo:"pseudo"},standalone:!0,features:[e._Bn([(0,a.mS)(T)]),e.zW0([a.$y,i.M])]})}}return f})()},6669:(Qt,$,o)=>{"use strict";o.d($,{A6:()=>A});var e=o(6814),t=o(5879),a=o(385),h=o(5929),f=o(8797),v=o(5586),C=o(8451);function D(S,w){if(1&S&&(t.ynx(0),t._uU(1),t.BQk()),2&S){const p=w.polymorpheusOutlet;t.xp6(1),t.hij(" ",p," ")}}function y(S,w){if(1&S&&(t.O4$(),t.kcU(),t.TgZ(0,"div",6),t.YNc(1,D,2,1,"ng-container",7),t.qZA()),2&S){const p=t.oxw(2);t.ekj("t-text_horizontal",p.isHorizontal),t.xp6(1),t.Q6J("polymorpheusOutlet",p.textContent)}}function E(S,w){if(1&S&&(t.TgZ(0,"div",2),t.O4$(),t.TgZ(1,"svg",3),t._UZ(2,"circle",4),t.qZA(),t.YNc(3,y,2,3,"div",5),t.qZA()),2&S){const p=t.oxw();t.ekj("t-loader_horizontal",p.isHorizontal)("t-loader_inherit-color",p.inheritColor),t.xp6(3),t.Q6J("ngIf",p.textContent)}}const O=["*"],U=(0,C.JN)({size:"m",inheritColor:!1,overlay:!1});let A=(()=>{class S{constructor(){this.isIOS=(0,t.f3M)(a.FA),this.options=(0,t.f3M)(U),this.isApple=function m({ownerDocument:S}){const w=S?.defaultView,p=void 0!==w.safari&&"[object SafariRemoteNotification]"===w.safari?.pushNotification?.toString(),L=!!w.navigator?.vendor?.includes("Apple")&&!w.navigator?.userAgent?.includes("CriOS")&&!w.navigator?.userAgent?.includes("FxiOS");return p||L}((0,h.AG)())||this.isIOS,this.size=this.options.size,this.inheritColor=this.options.inheritColor,this.overlay=this.options.overlay,this.loading=!0}get isHorizontal(){return!(0,f.R9)(this.size)}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275cmp=t.Xpm({type:S,selectors:[["tui-loader"]],hostVars:3,hostBindings:function(L,V){2&L&&(t.uIk("data-size",V.size),t.ekj("_loading",V.loading))},inputs:{size:"size",inheritColor:"inheritColor",overlay:"overlay",textContent:"textContent",loading:["showLoader","loading"]},standalone:!0,features:[t.jDz],ngContentSelectors:O,decls:3,vars:7,consts:[[1,"t-content",3,"disabled"],["class","t-loader",3,"t-loader_horizontal","t-loader_inherit-color",4,"ngIf"],[1,"t-loader"],["automation-id","tui-loader__loader","focusable","false","height","100%","width","100%",1,"t-icon"],["cx","50%","cy","50%",1,"t-circle"],["automation-id","tui-loader__text","class","t-text",3,"t-text_horizontal",4,"ngIf"],["automation-id","tui-loader__text",1,"t-text"],[4,"polymorpheusOutlet"]],template:function(L,V){1&L&&(t.F$t(),t.TgZ(0,"fieldset",0),t.Hsn(1),t.qZA(),t.YNc(2,E,4,5,"div",1)),2&L&&(t.ekj("t-content_has-overlay",V.overlay&&V.loading)("t-content_loading",V.loading),t.Q6J("disabled",V.loading&&!V.isApple),t.uIk("inert",V.loading||null),t.xp6(2),t.Q6J("ngIf",V.loading))},dependencies:[e.O5,v.s$],styles:["[_nghost-%COMP%]{position:relative;display:flex;min-inline-size:1.5rem;--tui-thickness: calc(var(--t-diameter) / 12)}._loading[_nghost-%COMP%]{overflow:hidden}[data-size=xs][_nghost-%COMP%]{--t-diameter: .75em}[data-size=s][_nghost-%COMP%]{--t-diameter: 1em}[data-size=m][_nghost-%COMP%]{--t-diameter: 1.5em}[data-size=l][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 5em}.t-content[_ngcontent-%COMP%]{z-index:0;min-inline-size:100%;block-size:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-inline-size:100%;min-block-size:var(--t-diameter);flex-shrink:0;align-self:center;color:var(--tui-text-primary);stroke:var(--tui-background-accent-1);animation:tuiFadeIn var(--tui-duration);font-size:1rem}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--tui-font-text-s);margin-top:1rem;color:inherit;max-inline-size:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(-90deg)}50%{transform:rotate(-90deg) rotate(1turn)}to{transform:rotate(-90deg) rotate(3turn)}}.t-icon[_ngcontent-%COMP%]{display:block;inline-size:var(--t-diameter);block-size:var(--t-diameter);margin:.25rem calc(var(--t-diameter) / -2);border-radius:100%;overflow:hidden;animation:_ngcontent-%COMP%_tuiLoaderRotate 4s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}50%{stroke-dashoffset:calc(.05 * calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness))))}to{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}}.t-circle[_ngcontent-%COMP%]{r:calc(var(--t-diameter) / 2 - var(--tui-thickness));stroke-dasharray:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)));fill:none;stroke:inherit;stroke-width:max(var(--tui-thickness),1.5px);animation:_ngcontent-%COMP%_tuiLoaderDashOffset 4s linear infinite}"],changeDetection:0})}}return S})()},5551:(Qt,$,o)=>{"use strict";o.d($,{Ln:()=>f,tK:()=>D});var e=o(5879),t=o(8451),a=o(2527),i=o(5505),g=o(47),T=o(5738),_=o(5297);const m={info:"@tui.info",positive:"@tui.circle-check",negative:"@tui.circle-x",warning:"@tui.circle-alert",neutral:"@tui.info",success:"@tui.circle-check",error:"@tui.circle-x"},h={appearance:"info",icon:y=>m[y]??"",size:"l"},[f,v]=(0,_.j)(h);let C=(()=>{class y{static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275cmp=e.Xpm({type:y,selectors:[["ng-component"]],hostAttrs:[1,"tui-notification"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(M,U){},styles:['tui-notification,[tuiNotification]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;position:relative;display:block;max-block-size:100%;color:var(--tui-text-primary);padding:1rem;font:var(--tui-font-text-m);line-height:1.5rem;border-radius:var(--tui-radius-l);box-sizing:border-box;text-align:start;text-decoration:none;border-inline-start:var(--t-left) solid transparent;border-inline-end:var(--t-right) solid transparent;--t-left: 0;--t-right: 0}tui-notification[style*="--t-icon-start:"],[tuiNotification][style*="--t-icon-start:"]{--t-left: 2rem}tui-notification[style*="--t-icon-end:"],[tuiNotification][style*="--t-icon-end:"]{--t-right: 1.5rem}tui-notification:before,[tuiNotification]:before{position:absolute;left:-1rem}tui-notification:after,[tuiNotification]:after{position:absolute;top:50%;transform:translateY(-50%);right:-.5rem;font-size:1rem;margin:0 -.25rem 0 auto;color:var(--tui-text-tertiary)!important}tui-notification[data-size=s],[tuiNotification][data-size=s]{padding:.375rem .625rem;font:var(--tui-font-text-s);line-height:1.25rem;border-radius:var(--tui-radius-m)}tui-notification[data-size=s][style*="--t-icon-start:"],[tuiNotification][data-size=s][style*="--t-icon-start:"]{--t-left: 1.5rem}tui-notification[data-size=s]:before,[tuiNotification][data-size=s]:before{top:.5rem;left:-.875rem;font-size:1rem}tui-notification[data-size=s]:after,[tuiNotification][data-size=s]:after{right:-.875rem}tui-notification[data-size=s] tui-icon,[tuiNotification][data-size=s] tui-icon{font-size:1rem}tui-notification[data-size=s] [tuiTitle],[tuiNotification][data-size=s] [tuiTitle]{font:var(--tui-font-text-s);font-weight:700}tui-notification[data-size=s] [tuiSubtitle],[tuiNotification][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-s)}tui-notification[data-size=s] [tuiSubtitle]+*,[tuiNotification][data-size=s] [tuiSubtitle]+*{gap:1rem;margin:.375rem 0 .25rem}tui-notification[data-size=s]>[tuiIconButton],[tuiNotification][data-size=s]>[tuiIconButton]{top:0;right:0}tui-notification[data-size=m],[tuiNotification][data-size=m]{padding:.75rem;font:var(--tui-font-text-s);line-height:1.25rem;border-radius:var(--tui-radius-m)}tui-notification[data-size=m][style*="--t-icon-start:"],[tuiNotification][data-size=m][style*="--t-icon-start:"]{--t-left: 1.625rem}tui-notification[data-size=m]:before,[tuiNotification][data-size=m]:before{left:-.875rem;font-size:1.25rem}tui-notification[data-size=m]:after,[tuiNotification][data-size=m]:after{right:-.75rem}tui-notification[data-size=m] tui-icon,[tuiNotification][data-size=m] tui-icon{font-size:1.25rem}tui-notification[data-size=m] [tuiTitle],[tuiNotification][data-size=m] [tuiTitle]{font:var(--tui-font-text-ui-m);font-weight:700}tui-notification[data-size=m] [tuiSubtitle],[tuiNotification][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-s)}tui-notification[data-size=m] [tuiSubtitle]+*,[tuiNotification][data-size=m] [tuiSubtitle]+*{gap:1rem;margin:.625rem 0 .25rem}tui-notification[data-size=m]>[tuiIconButton],[tuiNotification][data-size=m]>[tuiIconButton]{top:.375rem;right:.5rem}tui-notification [tuiTitle],[tuiNotification] [tuiTitle]{gap:.125rem;font:var(--tui-font-text-ui-l);font-weight:700}tui-notification [tuiSubtitle],[tuiNotification] [tuiSubtitle]{font:var(--tui-font-text-m)}tui-notification [tuiSubtitle]+*,[tuiNotification] [tuiSubtitle]+*{display:flex;align-items:center;gap:1.25rem;margin-top:.625rem;font:var(--tui-font-text-s)}tui-notification>[tuiIconButton],[tuiNotification]>[tuiIconButton]{position:absolute;top:.75rem;right:.75rem;box-shadow:none!important;background:transparent!important}[tuiNotification]{cursor:pointer}\n'],encapsulation:2,changeDetection:0})}}return y})(),D=(()=>{class y{constructor(){this.options=(0,e.f3M)(f),this.nothing=(0,t.__)(C),this.icons=(0,e.f3M)(T.p),this.appearance=this.options.appearance,this.icon=this.options.icon,this.size=this.options.size}ngOnInit(){this.refresh()}ngOnChanges(){this.refresh()}refresh(){this.icons.iconStart=(0,t.Aj)(this.icon)?this.icon:this.icon(this.appearance)}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=e.lG2({type:y,selectors:[["tui-notification"],["a","tuiNotification",""],["button","tuiNotification",""]],hostVars:1,hostBindings:function(M,U){2&M&&e.uIk("data-size",U.size)},inputs:{appearance:"appearance",icon:"icon",size:"size"},standalone:!0,features:[e._Bn([(0,g.mS)(f),(0,i.S9)({appearance:"",pseudo:!0}),(0,a.O0)({appearance:"outline-grayscale",size:"s"})]),e.TTD,e.zW0([T.M,g.$y])]})}}return y})()},1564:(Qt,$,o)=>{"use strict";o.d($,{D1:()=>nt,_H:()=>At,av:()=>Z,bC:()=>ut,bl:()=>I,dx:()=>Nt,pS:()=>Wt});var e=o(6814),t=o(5879),a=o(5742),i=o(1393),g=o(375),T=o(2701),_=o(8797),m=o(5592),h=o(3019),f=o(2181),v=o(7398),C=o(4664),D=o(9773),y=o(8753),E=o(7921),O=o(3997),M=o(9080),U=o(1993),R=o(5929),A=o(5297),S=o(385),w=o(8451);function p(Rt,Bt){1&Rt&&t.GkF(0)}function L(Rt,Bt){if(1&Rt&&(t.TgZ(0,"div",5),t.NdJ("mousedown.capture.prevent",function(){return 0}),t._UZ(1,"div",6),t.qZA()),2&Rt){const B=t.oxw().ngIf,k=t.oxw(2);t.ekj("t-bar_has-horizontal",B[1]),t.Q6J("@tuiFadeIn",k.options)}}function V(Rt,Bt){if(1&Rt&&(t.TgZ(0,"div",7),t.NdJ("mousedown.capture.prevent",function(){return 0}),t._UZ(1,"div",8),t.qZA()),2&Rt){const B=t.oxw().ngIf,k=t.oxw(2);t.ekj("t-bar_has-vertical",B[0]),t.Q6J("@tuiFadeIn",k.options)}}function et(Rt,Bt){if(1&Rt&&(t.ynx(0),t.YNc(1,L,2,3,"div",3),t.YNc(2,V,2,3,"div",4),t.BQk()),2&Rt){const B=Bt.ngIf;t.xp6(1),t.Q6J("ngIf",B[0]),t.xp6(1),t.Q6J("ngIf",B[1])}}function tt(Rt,Bt){if(1&Rt&&(t.YNc(0,et,3,2,"ng-container",2),t.ALo(1,"async")),2&Rt){const B=t.oxw();t.Q6J("ngIf",t.lcZ(1,1,B.refresh$))}}function ht(Rt,Bt){if(1&Rt&&t._UZ(0,"tui-scroll-controls",2),2&Rt){const B=t.oxw();t.ekj("t-hover-mode","hover"===B.options.mode)}}const it=["*"];let It=(()=>{class Rt extends m.y{constructor(){super(B=>this.scroll$.subscribe(B)),this.el=(0,R.AG)(),this.element=(0,t.f3M)(T.$_).nativeElement,this.scroll$=(0,h.T)((0,i.mL)(this.el.parentElement,"mousedown").pipe((0,f.h)(({target:B})=>B!==this.el),(0,v.U)(B=>this.getScrolled(B,.5,.5))),(0,i.mL)(this.el,"mousedown").pipe((0,i.fL)(),(0,C.w)(B=>{const{ownerDocument:k}=this.el,yt=this.el.getBoundingClientRect(),Y=function st({clientY:Rt},{top:Bt,height:B}){return(Rt-Bt)/B}(B,yt),xt=function dt({clientX:Rt},{left:Bt,width:B}){return(Rt-Bt)/B}(B,yt);return(0,i.mL)(k,"mousemove").pipe((0,v.U)(z=>this.getScrolled(z,Y,xt)),(0,D.R)((0,i.mL)(k,"mouseup")))})))}getScrolled({clientY:B,clientX:k},yt,Y){const{offsetHeight:xt,offsetWidth:z}=this.el,{top:at,left:Pt,width:Gt,height:De}=this.el.parentElement.getBoundingClientRect();return[(B-at-xt*yt)/(De-xt)*(this.element.scrollHeight-De),(k-Pt-z*Y)/(Gt-z)*(this.element.scrollWidth-Gt)]}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275prov=t.Yz7({token:Rt,factory:Rt.\u0275fac})}}return Rt})(),bt=(()=>{class Rt{constructor(){this.el=(0,t.f3M)(T.$_).nativeElement,this.style=(0,R.AG)().style,this.scrollSub=(0,t.f3M)(It).pipe((0,U.sL)()).subscribe(([B,k])=>{this.el.style.scrollBehavior="auto","horizontal"===this.tuiScrollbar?this.el.scrollLeft=k:this.el.scrollTop=B,this.el.style.scrollBehavior=""}),this.styleSub=(0,h.T)((0,t.f3M)(a.wS).pipe((0,y.p)(100,(0,i.de)())),(0,i.pt)(this.el)).pipe((0,i.fL)(),(0,U.sL)()).subscribe(()=>{const B={scrollTop:this.el.scrollTop,scrollHeight:this.el.scrollHeight,clientHeight:this.el.clientHeight,scrollLeft:this.el.scrollLeft,scrollWidth:this.el.scrollWidth,clientWidth:this.el.clientWidth},k=100*this.getThumb(B)+"%",yt=100*this.getView(B)+"%";"vertical"===this.tuiScrollbar?(this.style.top=k,this.style.height=yt):(this.style.left=k,this.style.width=yt)}),this.tuiScrollbar="vertical"}getScrolled(B){return"vertical"===this.tuiScrollbar?B.scrollTop/(B.scrollHeight-B.clientHeight):B.scrollLeft/(B.scrollWidth-B.clientWidth)}getCompensation(B){return B.clientHeight*B.clientHeight/B.scrollHeight>24&&"vertical"===this.tuiScrollbar||B.clientWidth*B.clientWidth/B.scrollWidth>24&&"horizontal"===this.tuiScrollbar?0:"vertical"===this.tuiScrollbar?24/B.clientHeight:24/B.clientWidth}getThumb(B){const k=this.getCompensation(B)||this.getView(B);return this.getScrolled(B)*(1-k)}getView(B){return"vertical"===this.tuiScrollbar?Math.ceil(B.clientHeight/B.scrollHeight*100)/100:Math.ceil(B.clientWidth/B.scrollWidth*100)/100}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275dir=t.lG2({type:Rt,selectors:[["","tuiScrollbar",""]],inputs:{tuiScrollbar:"tuiScrollbar"},standalone:!0,features:[t._Bn([It])]})}}return Rt})();const[ut,Z]=(0,A.j)({mode:"always"});let I=(()=>{class Rt{constructor(){this.scrollRef=(0,t.f3M)(T.$_).nativeElement,this.nativeScrollbar="native"===(0,t.f3M)(ut).mode,this.options=(0,_.qS)((0,t.f3M)(T.ZW)),this.refresh$=(0,t.f3M)(a.wS).pipe((0,y.p)(300,(0,i.de)()),(0,v.U)(()=>this.scrollbars),(0,E.O)([!1,!1]),(0,O.x)((B,k)=>B[0]===k[0]&&B[1]===k[1]),(0,i.Yr)())}get scrollbars(){const{clientHeight:B,scrollHeight:k,clientWidth:yt,scrollWidth:Y}=this.scrollRef;return[Math.ceil(B/k*100)<100,Math.ceil(yt/Y*100)<100]}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275cmp=t.Xpm({type:Rt,selectors:[["tui-scroll-controls"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["custom",""],[4,"ngIf"],["class","t-bar t-bar_vertical",3,"t-bar_has-horizontal","mousedown.capture.prevent",4,"ngIf"],["class","t-bar t-bar_horizontal",3,"t-bar_has-vertical","mousedown.capture.prevent",4,"ngIf"],[1,"t-bar","t-bar_vertical",3,"mousedown.capture.prevent"],["tuiScrollbar","vertical",1,"t-thumb"],[1,"t-bar","t-bar_horizontal",3,"mousedown.capture.prevent"],["tuiScrollbar","horizontal",1,"t-thumb"]],template:function(k,yt){if(1&k&&(t.YNc(0,p,1,0,"ng-container",0),t.YNc(1,tt,2,3,"ng-template",null,1,t.W1O)),2&k){const Y=t.MAs(2);t.Q6J("ngIf",yt.nativeScrollbar)("ngIfElse",Y)}},dependencies:[e.Ov,e.O5,bt],styles:["[_nghost-%COMP%]{position:sticky;top:0;left:0;z-index:1;min-inline-size:calc(100% - 1px);min-block-size:calc(100% - 1px);max-inline-size:calc(100% - 1px);max-block-size:calc(100% - 1px);float:inline-start;margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto}.t-bar_vertical[_ngcontent-%COMP%]{top:0;inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;block-size:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{transition-property:all;transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;inline-size:.75rem;min-block-size:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;block-size:.75rem;min-inline-size:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{block-size:.875rem}"],data:{animation:[g.QF]},changeDetection:0})}}return Rt})(),nt=(()=>{class Rt{constructor(){this.el=(0,R.AG)(),this.options=(0,t.f3M)(ut),this.isIOS=(0,t.f3M)(S.FA),this.browserScrollRef=new t.SBq(this.el),this.hidden="hidden"===this.options.mode}get delegated(){return this.scrollRef!==this.el||"native"===this.options.mode}get scrollRef(){return this.browserScrollRef.nativeElement}set scrollRef(B){this.browserScrollRef.nativeElement=B}scrollIntoView(B){if(this.delegated)return;const{offsetHeight:k,offsetWidth:yt}=B,{offsetTop:Y,offsetLeft:xt}=(0,R.YX)(this.scrollRef,B),z=Y+k/2-this.scrollRef.clientHeight/2,at=xt+yt/2-this.scrollRef.clientWidth/2;this.scrollRef.scrollTo?.(at,z)}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275cmp=t.Xpm({type:Rt,selectors:[["tui-scrollbar"]],hostVars:2,hostBindings:function(k,yt){1&k&&t.NdJ("tui-scrollable.stop",function(xt){return yt.scrollRef=xt.detail})("tui-scroll-into-view.stop",function(xt){return yt.scrollIntoView(xt.detail)}),2&k&&t.ekj("_native-hidden","native"!==yt.options.mode&&(!yt.isIOS||yt.hidden))},inputs:{hidden:"hidden"},standalone:!0,features:[t._Bn([{provide:T.$_,useFactory:()=>(0,t.f3M)(Rt).browserScrollRef}]),t.jDz],ngContentSelectors:it,decls:3,vars:3,consts:[["class","t-bars",3,"t-hover-mode",4,"ngIf"],[1,"t-content"],[1,"t-bars"]],template:function(k,yt){1&k&&(t.F$t(),t.YNc(0,ht,1,2,"tui-scroll-controls",0),t.TgZ(1,"div",1),t.Hsn(2),t.qZA()),2&k&&(t.Q6J("ngIf",!yt.hidden&&!yt.isIOS&&"native"!==yt.options.mode),t.xp6(1),t.ekj("t-content_delegated",yt.delegated))},dependencies:[e.O5,I],styles:["[_nghost-%COMP%]{position:relative;display:flex;isolation:isolate;overflow:auto}._native-hidden[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}._native-hidden[_nghost-%COMP%]::-webkit-scrollbar, ._native-hidden[_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]   .t-hover-mode[_ngcontent-%COMP%]:not(:active){transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[_nghost-%COMP%]:hover   .t-hover-mode[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:1}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;inline-size:100%;block-size:-webkit-max-content;block-size:max-content}.t-content_delegated[_ngcontent-%COMP%]{block-size:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-primary)}"],changeDetection:0})}}return Rt})(),At=(()=>{class Rt{constructor(){this.el=(0,R.AG)(),this.destroyRef=(0,t.f3M)(t.ktI)}set tuiScrollIntoView(B){B&&(0,M.H)(0).pipe((0,U.sL)(this.destroyRef)).subscribe(()=>{this.el.dispatchEvent(new CustomEvent("tui-scroll-into-view",{bubbles:!0,detail:this.el}))})}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275dir=t.lG2({type:Rt,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"},standalone:!0})}}return Rt})(),Wt=(()=>{class Rt{static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275dir=t.lG2({type:Rt,selectors:[["","tuiScrollRef",""]],standalone:!0,features:[t._Bn([(0,w.Q2)(T.$_,t.SBq)])]})}}return Rt})(),Nt=(()=>{class Rt{constructor(){this.el=(0,R.AG)()}ngOnInit(){this.el.dispatchEvent(new CustomEvent("tui-scrollable",{bubbles:!0,detail:this.el}))}static{this.\u0275fac=function(k){return new(k||Rt)}}static{this.\u0275dir=t.lG2({type:Rt,selectors:[["","tuiScrollable",""]],standalone:!0})}}return Rt})()},4507:(Qt,$,o)=>{"use strict";o.d($,{MB:()=>Nt,bf:()=>Bt,qm:()=>At,z1:()=>ot}),o(5861);var t=o(8158),a=o(6814),i=o(5879),T=(o(5742),o(7242)),_=o(8451),m=o(47),h=o(1993),f=o(6223),v=o(1393),C=o(5929),D=o(3019),y=o(2438),E=o(9080),O=o(4664),M=o(7398),U=o(6918),R=o(5533),A=o(9298),S=o(2527),w=o(1018),p=o(334),L=o(5738),V=o(2701),et=o(5586);const tt=["vcr"];function ht(xt,z){if(1&xt){const at=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(at);const Gt=i.oxw();return i.KtG(null==Gt.directive?null:Gt.directive.setValue(null))})("pointerdown.silent.prevent",function(){i.CHM(at);const Gt=i.oxw();return i.KtG(null==Gt.input||null==Gt.input.nativeElement?null:Gt.input.nativeElement.focus())}),i._uU(1),i.qZA()}if(2&xt){const at=i.oxw();i.Q6J("iconStart",at.icons.close),i.xp6(1),i.hij(" ",at.clear()," ")}}function it(xt,z){if(1&xt&&(i.ynx(0),i._uU(1),i.BQk()),2&xt){const at=z.polymorpheusOutlet;i.xp6(1),i.hij(" ",at," ")}}function It(xt,z){if(1&xt&&i._UZ(0,"input",7),2&xt){const at=i.oxw();i.Q6J("value",at.computedFiller())}}const st=[[["input"]],[["select"]],[["label"]],"*",[["tui-icon"]]],dt=function(xt){return{$implicit:xt}},St=["input","select","label","*","tui-icon"],ot=(0,_.JN)({appearance:(0,i.tdS)("textfield"),size:(0,i.tdS)("l"),cleaner:(0,i.tdS)(!0)});let At=(()=>{class xt{constructor(){this.options=(0,i.f3M)(ot,{skipSelf:!0}),this.appearance=(0,i.tdS)(this.options.appearance()),this.size=(0,i.tdS)(this.options.size()),this.cleaner=(0,i.tdS)(this.options.cleaner())}set tuiTextfieldAppearance(at){this.appearance.set(at)}set tuiTextfieldSize(at){this.size.set(at)}set tuiTextfieldCleaner(at){this.cleaner.set(at)}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275dir=i.lG2({type:xt,selectors:[["","tuiTextfieldAppearance",""],["","tuiTextfieldSize",""],["","tuiTextfieldCleaner",""]],inputs:{tuiTextfieldAppearance:"tuiTextfieldAppearance",tuiTextfieldSize:"tuiTextfieldSize",tuiTextfieldCleaner:"tuiTextfieldCleaner"},standalone:!0,features:[i._Bn([(0,_.Q2)(ot,xt)])]})}}return xt})(),Dt=(()=>{class xt{static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275dir=i.lG2({type:xt,selectors:[["ng-template","tuiTextfieldDropdown",""]],standalone:!0})}}return xt})(),Wt=(()=>{class xt{constructor(){this.dropdown=(0,p.Br)(null)}set template(at){this.dropdown.set(at)}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275dir=i.lG2({type:xt,contentQueries:function(Pt,Gt,De){if(1&Pt&&i.Suo(De,Dt,5,i.Rgc),2&Pt){let Ut;i.iGM(Ut=i.CRH())&&(Gt.template=Ut.first)}},standalone:!0})}}return xt})(),Nt=(()=>{class xt{constructor(){this.filler=(0,i.tdS)(""),this.autoId=(0,R.$z)(),this.el=(0,C.AG)(),this.open=(0,p.is)(),this.focusedIn=(0,A.gN)((0,C.AG)()),this.icons=(0,i.f3M)(V.Gs),this.clear=(0,h.O4)((0,i.f3M)(V.bh)),this.computedFiller=(0,i.Flj)(()=>{const at=this.directive?.nativeValue()||"",Pt=at+this.filler().slice(at.length);return Pt.length>at.length?Pt:""}),this.showFiller=(0,i.Flj)(()=>this.focused()&&!!this.computedFiller()&&(!!this.directive?.nativeValue()||!this.input?.nativeElement.placeholder)),this.stringify=String,this.focused=(0,i.Flj)(()=>this.open()||this.focusedIn()),this.options=(0,i.f3M)(ot)}set fillerSetter(at){this.filler.set(at)}get id(){return this.input?.nativeElement.id||this.autoId}get size(){return this.options.size()}handleOption(at){this.directive?.setValue(at),this.open.set(!1)}get hasLabel(){return!!this.label?.nativeElement?.childNodes.length}onResize({contentRect:at}){this.el.style.setProperty("--t-side",(0,_.O9)(at.width))}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275cmp=i.Xpm({type:xt,selectors:[["tui-textfield"]],contentQueries:function(Pt,Gt,De){if(1&Pt&&(i.Suo(De,Bt,5),i.Suo(De,t.T,5,i.SBq),i.Suo(De,f.a5,5),i.Suo(De,Bt,7,i.SBq)),2&Pt){let Ut;i.iGM(Ut=i.CRH())&&(Gt.directive=Ut.first),i.iGM(Ut=i.CRH())&&(Gt.label=Ut.first),i.iGM(Ut=i.CRH())&&(Gt.control=Ut.first),i.iGM(Ut=i.CRH())&&(Gt.input=Ut.first)}},viewQuery:function(Pt,Gt){if(1&Pt&&i.Gf(tt,7,i.s_b),2&Pt){let De;i.iGM(De=i.CRH())&&(Gt.vcr=De.first)}},hostVars:7,hostBindings:function(Pt,Gt){2&Pt&&(i.uIk("data-size",Gt.options.size()),i.ekj("_with-label",Gt.hasLabel)("_with-template",Gt.content)("_disabled",null==Gt.input?null:Gt.input.nativeElement.disabled))},inputs:{stringify:"stringify",content:"content",fillerSetter:["filler","fillerSetter"]},standalone:!0,features:[i._Bn([(0,S.O0)({size:"xs",appearance:"icon"}),(0,w.oE)(xt)]),i.jDz,i.zW0([p.a6,p.td,p.r8,Wt,L.M])],ngContentSelectors:St,decls:12,vars:6,consts:[[1,"t-content",3,"mousedown.prevent","waResizeObserver"],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button","class","t-clear",3,"iconStart","click","pointerdown.silent.prevent",4,"ngIf"],["vcr",""],[1,"t-template"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["aria-hidden","true","disabled","","class","t-filler",3,"value",4,"ngIf"],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",1,"t-clear",3,"iconStart","click","pointerdown.silent.prevent"],["aria-hidden","true","disabled","",1,"t-filler",3,"value"]],template:function(Pt,Gt){1&Pt&&(i.F$t(st),i.Hsn(0),i.Hsn(1,1),i.Hsn(2,2),i.TgZ(3,"span",0),i.NdJ("mousedown.prevent",function(){return null==Gt.input||null==Gt.input.nativeElement?null:Gt.input.nativeElement.focus()})("waResizeObserver",function(Ut){return Ut[0]&&Gt.onResize(Ut[0])}),i.Hsn(4,3),i.YNc(5,ht,2,2,"button",1),i.GkF(6,null,2),i.Hsn(8,4),i.qZA(),i.TgZ(9,"span",3),i.YNc(10,it,2,1,"ng-container",4),i.qZA(),i.YNc(11,It,1,1,"input",5)),2&Pt&&(i.xp6(5),i.Q6J("ngIf",Gt.options.cleaner()),i.xp6(5),i.Q6J("polymorpheusOutlet",Gt.content)("polymorpheusOutletContext",i.VKq(4,dt,null==Gt.control?null:Gt.control.value)),i.xp6(1),i.Q6J("ngIf",Gt.showFiller()))},dependencies:[a.O5,et.s$,S.xG,U.wh],styles:['tui-textfield{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--t-height: var(--tui-height-l);--t-padding: var(--tui-padding-l);position:relative;display:flex;align-items:center;pointer-events:none;cursor:pointer;block-size:var(--t-height);color:var(--tui-text-tertiary);padding:0 var(--t-padding);border-radius:var(--tui-radius-l);font:var(--tui-font-text-m);box-sizing:border-box}tui-textfield[style*="--t-icon-start:"]{--t-left: 2.25rem}tui-textfield[style*="--t-icon-end:"]{--t-right: 2.25rem}tui-textfield:after{margin-inline-start:.25rem}tui-textfield input,tui-textfield select{font:var(--tui-font-text-m)}tui-textfield[data-size=s]{--t-height: var(--tui-height-s);--t-padding: var(--tui-padding-s);border-radius:var(--tui-radius-m);font:var(--tui-font-text-s)}tui-textfield[data-size=s][style*="--t-icon-start:"]{--t-left: 1.25rem}tui-textfield[data-size=s][style*="--t-icon-end:"]{--t-right: 1.25rem}tui-textfield[data-size=s]:before{margin:0 .5rem 0 -.125rem;font-size:1rem}tui-textfield[data-size=s]:after{margin:0 -.175rem 0 .575rem;font-size:1rem}tui-textfield[data-size=s] input,tui-textfield[data-size=s] select{font:var(--tui-font-text-s)}tui-textfield[data-size=s] .t-content{gap:0;margin-inline-end:-.325rem}tui-textfield[data-size=m]{--t-height: var(--tui-height-m);--t-padding: var(--tui-padding-m);border-radius:var(--tui-radius-m);font:var(--tui-font-text-s)}tui-textfield[data-size=m][style*="--t-icon-start:"]{--t-left: 1.75rem}tui-textfield[data-size=m][style*="--t-icon-end:"]{--t-right: 1.75rem}tui-textfield[data-size=m]:before{margin:0 .375rem 0 -.125rem}tui-textfield[data-size=m]:after{margin:0 -.125rem 0 .5rem}tui-textfield[data-size=m] input,tui-textfield[data-size=m] select{font:var(--tui-font-text-s)}tui-textfield[data-size=m] .t-content{margin-inline-end:-.125rem}tui-textfield:hover{color:var(--tui-text-secondary)}tui-textfield:hover:has(input:read-only),tui-textfield:hover:has(select[data-mode~=readonly]){color:var(--tui-text-tertiary)}tui-textfield:before{z-index:1;margin-inline-end:.75rem}tui-textfield:has(:disabled:not(.t-filler,button,option)):before,tui-textfield:has(:disabled:not(.t-filler,button,option)):after,tui-textfield:has(:disabled:not(.t-filler,button,option)) .t-template{opacity:var(--tui-disabled-opacity)}tui-textfield._disabled:before,tui-textfield._disabled:after,tui-textfield._disabled .t-template{opacity:var(--tui-disabled-opacity)}tui-textfield:has(label:not(:empty)) .t-template,tui-textfield:has(label:not(:empty)) input:defined,tui-textfield:has(label:not(:empty)) select:defined{padding-top:calc(var(--t-height) / 3)}tui-textfield:has(label:not(:empty)) .t-template::placeholder,tui-textfield:has(label:not(:empty)) input:defined::placeholder,tui-textfield:has(label:not(:empty)) select:defined::placeholder,tui-textfield:has(label:not(:empty)) .t-template._empty,tui-textfield:has(label:not(:empty)) input:defined._empty,tui-textfield:has(label:not(:empty)) select:defined._empty{color:transparent}tui-textfield._with-label .t-template,tui-textfield._with-label input:defined,tui-textfield._with-label select:defined{padding-top:calc(var(--t-height) / 3)}tui-textfield._with-label .t-template::placeholder,tui-textfield._with-label input:defined::placeholder,tui-textfield._with-label select:defined::placeholder,tui-textfield._with-label .t-template._empty,tui-textfield._with-label input:defined._empty,tui-textfield._with-label select:defined._empty{color:transparent}tui-textfield .t-template,tui-textfield input:defined,tui-textfield select:defined{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;-webkit-appearance:none;appearance:none;box-sizing:border-box;border-radius:inherit;padding:inherit;border:none;text-indent:var(--t-left, 0);padding-inline-end:calc(var(--t-right, var(--t-0, 0rem)) + var(--t-side) + var(--t-padding))}tui-textfield .t-template{display:flex;align-items:center}tui-textfield._with-template select{color:transparent!important}tui-textfield input:defined,tui-textfield select:defined{pointer-events:auto;background:transparent}tui-textfield input:defined:read-only~.t-filler,tui-textfield select:defined:read-only~.t-filler{display:none}tui-textfield input:defined:disabled~label,tui-textfield select:defined:disabled~label,tui-textfield input:defined:disabled~.t-content,tui-textfield select:defined:disabled~.t-content{opacity:var(--tui-disabled-opacity)}tui-textfield input:defined:disabled~label>tui-icon,tui-textfield select:defined:disabled~label>tui-icon,tui-textfield input:defined:disabled~.t-content>tui-icon,tui-textfield select:defined:disabled~.t-content>tui-icon{display:none}tui-textfield input:defined:-webkit-autofill~label,tui-textfield select:defined:-webkit-autofill~label,tui-textfield input:defined:not(._empty):not(:placeholder-shown)~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown)~label{font-size:.83em;transform:translateY(-.7em)}tui-textfield input:defined:-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield select:defined:-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield input:defined:not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield input:defined:-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield select:defined:-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield input:defined:not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label{color:var(--tui-text-negative)}tui-textfield input:defined:-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield select:defined:-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield input:defined:not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield select:defined:not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear{display:flex}tui-textfield input:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield input:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty{color:var(--tui-text-tertiary)}tui-textfield input:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label{color:var(--tui-text-primary)!important;font-size:.83em;transform:translateY(-.7em)}tui-textfield input:defined:not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield input:defined:not([data-mode~=readonly])[data-focus=true]._empty,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]._empty{color:var(--tui-text-tertiary)}tui-textfield input:defined:not([data-mode~=readonly])[data-focus=true]~label,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]~label{color:var(--tui-text-primary)!important;font-size:.83em;transform:translateY(-.7em)}tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]._focused._empty,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused._empty{color:var(--tui-text-tertiary)}tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield input:defined:not([data-mode~=readonly])[tuiWrapper]._focused~label,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused~label{color:var(--tui-text-primary)!important;font-size:.83em;transform:translateY(-.7em)}@supports (-webkit-touch-callout: none){tui-textfield input:defined._ios-fix,tui-textfield select:defined._ios-fix{position:fixed;left:1000rem}}tui-textfield label:not([data-orientation=vertical]){transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:block;flex:1;font-size:inherit}tui-textfield label:defined,tui-textfield input:defined::placeholder,tui-textfield select:defined._empty{color:var(--tui-text-secondary)}tui-textfield select:not([data-mode~=readonly]){cursor:pointer}tui-textfield button,tui-textfield a{pointer-events:auto}tui-textfield .t-content{display:flex;align-items:center;gap:.25rem;margin-inline-start:auto;isolation:isolate;border-radius:inherit}tui-textfield .t-content>tui-icon{pointer-events:auto}tui-textfield .t-clear{display:none;pointer-events:auto}tui-textfield .t-filler:defined{pointer-events:none;background:none;color:var(--tui-text-tertiary);opacity:1}tui-textfield [tuiFluidTypography]{font-weight:700}\n'],encapsulation:2,changeDetection:0})}}return xt})(),Rt=(()=>{class xt{constructor(){this.focused=(0,i.tdS)(null),this.control=(0,i.f3M)(f.a5,{optional:!0}),this.a=(0,m.IB)((0,i.f3M)(ot).appearance),this.s=(0,m.kE)(null),this.m=(0,m.Vy)(this.mode),this.f=(0,m.Cv)((0,i.Flj)(()=>this.focused()??this.textfield.focused())),this.el=(0,C.AG)(),this.textfield=(0,i.f3M)(Nt),this.readOnly=!1,this.invalid=null,this.nativeValue=(0,h.O4)((0,D.T)((0,y.R)(this.el,"input"),(0,E.H)(0).pipe((0,O.w)(()=>(0,v.EK)(this.control)))).pipe((0,M.U)(()=>this.el.value)),{initialValue:this.el.value})}set focusedSetter(at){this.focused.set(at)}set stateSetter(at){this.s.set(at)}get mode(){return this.readOnly?"readonly":!1===this.invalid?"valid":this.invalid?"invalid":null}ngOnChanges(){this.m.set(this.mode)}setValue(at){this.el.focus(),this.el.select(),null==at?this.el.ownerDocument.execCommand("delete"):this.el.ownerDocument.execCommand("insertText",!1,this.textfield.stringify(at))}static{this.\u0275fac=function(Pt){return new(Pt||xt)}}static{this.\u0275dir=i.lG2({type:xt,inputs:{readOnly:"readOnly",invalid:"invalid",focusedSetter:["focused","focusedSetter"],stateSetter:["state","stateSetter"]},features:[i.TTD]})}}return xt})(),Bt=(()=>{class xt extends Rt{static{this.\u0275fac=function(){let at;return function(Gt){return(at||(at=i.n5z(xt)))(Gt||xt)}}()}static{this.\u0275dir=i.lG2({type:xt,selectors:[["input","tuiTextfield","",3,"tuiInputCard","",3,"tuiInputExpire","",3,"tuiInputCVC",""]],hostVars:4,hostBindings:function(Pt,Gt){1&Pt&&i.NdJ("input",function(){return 0})("focusin",function(){return 0})("focusout",function(){return 0}),2&Pt&&(i.Ikx("id",Gt.textfield.id)("readOnly",Gt.readOnly),i.ekj("_empty",""===Gt.el.value))},standalone:!0,features:[i.qOj,i.zW0([T.k,m.Nm])]})}}return xt})()},47:(Qt,$,o)=>{"use strict";o.d($,{$y:()=>D,Cv:()=>v,IB:()=>h,Nm:()=>m,Vy:()=>C,kE:()=>f,mS:()=>T});var e=o(8451),t=o(5879),a=o(5929);const g=(0,e.JN)({appearance:""});function T(y){return(0,e.Q2)(g,y)}let _=(()=>{class y{static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275cmp=t.Xpm({type:y,selectors:[["ng-component"]],hostAttrs:[1,"tui-appearance"],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(M,U){},styles:["[tuiAppearance]{transition-property:color,background,opacity,box-shadow,border;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;-webkit-appearance:none;appearance:none;outline:.125rem solid transparent;outline-offset:-.125rem}[tuiAppearance].tui-appearance-initializing{transition:none!important}[tuiAppearance]:focus-visible:not([data-focus=false]){outline-color:var(--tui-border-focus)}[tuiAppearance][data-focus=true]{outline-color:var(--tui-border-focus)}[tuiAppearance][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][tuiWrapper]._focused{outline-color:var(--tui-border-focus)}[tuiAppearance]:disabled:not([data-state]),[tuiAppearance][data-state=disabled]{pointer-events:none;opacity:var(--tui-disabled-opacity)}[tuiAppearance][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][tuiWrapper][data-state=disabled]{pointer-events:none;opacity:var(--tui-disabled-opacity)}\n"],encapsulation:2,changeDetection:0})}}return y})(),m=(()=>{class y{constructor(){this.el=(0,a.AG)(),this.nothing=(0,e.__)(_),this.modes=(0,t.Flj)((O=this.mode())=>!O||(0,e.Aj)(O)?O:O.join(" ")),this.appearance=(0,t.tdS)((0,t.f3M)(g).appearance),this.state=(0,t.tdS)(null),this.focus=(0,t.tdS)(null),this.mode=(0,t.tdS)(null),(0,t.T8G)(()=>{this.el.classList.toggle("tui-appearance-initializing",!!this.el.offsetWidth&&!1)})}set tuiAppearance(O){this.appearance.set(O)}set tuiAppearanceState(O){this.state.set(O)}set tuiAppearanceFocus(O){this.focus.set(O)}set tuiAppearanceMode(O){this.mode.set(O)}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=t.lG2({type:y,selectors:[["","tuiAppearance",""]],hostAttrs:["tuiAppearance","",1,"tui-appearance-initializing"],hostVars:4,hostBindings:function(M,U){2&M&&t.uIk("data-appearance",U.appearance())("data-state",U.state())("data-focus",U.focus())("data-mode",U.modes())},inputs:{tuiAppearance:"tuiAppearance",tuiAppearanceState:"tuiAppearanceState",tuiAppearanceFocus:"tuiAppearanceFocus",tuiAppearanceMode:"tuiAppearanceMode"},standalone:!0})}}return y})();function h(y){return(0,e.Vx)(m,"appearance",y)}function f(y){return(0,e.Vx)(m,"state",y)}function v(y){return(0,e.Vx)(m,"focus",y)}function C(y){return(0,e.Vx)(m,"mode",y)}let D=(()=>{class y{static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=t.lG2({type:y,standalone:!0,features:[t.zW0([{directive:m,inputs:["tuiAppearance","appearance","tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]}])]})}}return y})()},334:(Qt,$,o)=>{"use strict";o.d($,{Bb:()=>ne,Br:()=>$e,Ek:()=>z,JY:()=>Hn,WH:()=>Bt,a6:()=>Ae,fx:()=>xt,gy:()=>Pe,is:()=>Bn,nS:()=>Se,nT:()=>Gt,o:()=>Ge,r8:()=>rn,td:()=>Pt});var e=o(5879),t=o(1993),a=o(5742),i=o(7331),g=o(5929),T=o(6456),_=o(8451),m=o(375),h=o(5710),f=o(1564),v=o(940),C=o(2701),D=o(8797),y=o(8926),E=o(5586),O=o(5619),M=o(8645),U=o(8753),R=o(812),A=o(7398),S=o(3019),w=o(2181),p=o(2438),L=o(4664),V=o(932),et=o(7921),tt=o(9773),ht=o(3997),it=o(2096),It=o(9397),st=o(3020),St=(o(2572),o(7582)),bt=o(1393),u=o(4017),ut=o(6266),I=(o(385),o(1255)),F=o(6814),ot=o(721),nt=o(9298);function At(re,wn){if(1&re&&(e.TgZ(0,"div",2),e._uU(1),e.qZA()),2&re){const oe=wn.polymorpheusOutlet;e.xp6(1),e.hij(" ",oe," ")}}const Dt=function(re){return{$implicit:re}},Wt=["tuiDropdownHost"];let Nt=(()=>{class re extends O.X{constructor(){super(!1),this.type="dropdown"}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275prov=e.Yz7({token:re,factory:re.\u0275fac})}}return re})(),Rt=(()=>{class re extends h.qz{constructor(){super(...arguments),this.type="dropdown"}static{this.\u0275fac=function(){let oe;return function(xn){return(oe||(oe=e.n5z(re)))(xn||re)}}()}static{this.\u0275dir=e.lG2({type:re,standalone:!0,features:[e.qOj]})}}return re})();const Bt=(0,_.N1)(()=>Gt),B=(0,_.JN)();let k=(()=>{class re extends u.Bb{static{this.\u0275fac=function(){let oe;return function(xn){return(oe||(oe=e.n5z(re)))(xn||re)}}()}static{this.\u0275prov=e.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();const yt={align:"left",direction:null,limitWidth:"auto",maxHeight:400,minHeight:80,offset:4,appearance:""},Y=(0,_.JN)(yt),xt=re=>({provide:Y,deps:[[new e.FiY,new e.PiD,z],[new e.FiY,new e.tp0,Y]],useFactory:(0,D.lp)(re,yt)});let z=(()=>{class re{constructor(){this.options=(0,e.f3M)(Y,{skipSelf:!0}),this.align=this.options.align,this.appearance=this.options.appearance,this.direction=this.options.direction,this.limitWidth=this.options.limitWidth,this.minHeight=this.options.minHeight,this.maxHeight=this.options.maxHeight,this.offset=this.options.offset}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,selectors:[["","tuiDropdownAlign",""],["","tuiDropdownAppearance",""],["","tuiDropdownDirection",""],["","tuiDropdownLimitWidth",""],["","tuiDropdownMinHeight",""],["","tuiDropdownMaxHeight",""],["","tuiDropdownOffset",""]],inputs:{align:["tuiDropdownAlign","align"],appearance:["tuiDropdownAppearance","appearance"],direction:["tuiDropdownDirection","direction"],limitWidth:["tuiDropdownLimitWidth","limitWidth"],minHeight:["tuiDropdownMinHeight","minHeight"],maxHeight:["tuiDropdownMaxHeight","maxHeight"],offset:["tuiDropdownOffset","offset"]},standalone:!0,features:[e._Bn([(0,_.Q2)(Y,re)])]})}}return re})(),at=(()=>{class re extends h.uG{constructor(){super(...arguments),this.options=(0,e.f3M)(Y),this.viewport=(0,e.f3M)(C.EO),this.directionChange=new e.vpe,this.type="dropdown",this.accessor=(0,h.Zy)("dropdown")((0,e.f3M)(h.O4),(0,e.f3M)(Pt,{optional:!0}))}emitDirection(oe){this.directionChange.emit(oe)}getPosition({width:oe,height:Ht}){!oe&&!Ht&&(this.previous=void 0);const xn=this.accessor?.getClientRect()??ut.Jy,ce=this.viewport.getClientRect(),{minHeight:me,align:En,direction:_n,offset:Qe,limitWidth:xe}=this.options,je={top:ce.top-Qe,bottom:ce.bottom+Qe,right:ce.right-Qe,left:ce.left+Qe},ke=this.previous||_n||"bottom",we={top:xn.top-2*Qe-je.top,bottom:je.bottom-xn.bottom-2*Qe},Ke=Math.max(xn.right-("fixed"===xe?xn.width:oe),Qe),qe=xn.left+oe<je.right?xn.left:Ke,kn={top:xn.top-Qe-Ht,bottom:xn.bottom+Qe,right:Math.max(je.left,Ke),center:xn.left+xn.width/2+oe/2<je.right?xn.left+xn.width/2-oe/2:Ke,left:Math.max(je.left,qe)},ui=we.top>we.bottom?"top":"bottom";return we[ke]>me&&_n||we[ke]>Ht?(this.emitDirection(ke),[kn[ke],kn[En]]):(this.previous=ui,this.emitDirection(ui),[kn[ui],kn[En]])}static{this.\u0275fac=function(){let oe;return function(xn){return(oe||(oe=e.n5z(re)))(xn||re)}}()}static{this.\u0275dir=e.lG2({type:re,outputs:{directionChange:"tuiDropdownDirectionChange"},standalone:!0,features:[e.qOj]})}}return(0,St.gn)([_.UM],re.prototype,"emitDirection",null),re})(),Pt=(()=>{class re{constructor(){this.refresh$=new M.x,this.service=(0,e.f3M)(k),this.cdr=(0,e.f3M)(e.sBO),this.sub=this.refresh$.pipe((0,U.p)(0,(0,bt.de)()),(0,t.sL)()).subscribe(()=>{this.ref()?.changeDetectorRef.detectChanges(),this.ref()?.changeDetectorRef.markForCheck()}),this.el=(0,g.AG)(),this.type="dropdown",this.component=new E.Al((0,e.f3M)(Bt),(0,e.f3M)(e.gxx)),this.ref=(0,e.tdS)(null)}set tuiDropdown(oe){this.content=oe instanceof e.Rgc?new E.GL(oe,this.cdr):oe}get position(){return(0,y.qK)(this.el)?"fixed":"absolute"}ngAfterViewChecked(){this.refresh$.next()}ngOnChanges(){this.content||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(oe){const Ht=this.ref();oe&&this.content&&!Ht?this.ref.set(this.service.add(this.component)):!oe&&Ht&&(this.ref.set(null),this.service.remove(Ht))}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,selectors:[["","tuiDropdown","",5,"ng-container",5,"ng-template"]],inputs:{tuiDropdown:"tuiDropdown"},exportAs:["tuiDropdown"],standalone:!0,features:[e._Bn([(0,h.Ic)(re),(0,h.Fe)(re)]),e.TTD,e.zW0([Rt,{directive:at,outputs:["tuiDropdownDirectionChange","tuiDropdownDirectionChange"]}])]})}}return(0,St.gn)([_.UM],re.prototype,"position",null),re})(),Gt=(()=>{class re{constructor(){this.el=(0,g.AG)(),this.accessor=(0,e.f3M)(h.O4),this.win=(0,e.f3M)(a.Az),this.vvs=(0,e.f3M)(v.Lp),this.animation=(0,D.qS)((0,e.f3M)(C.ZW)),this.options=(0,e.f3M)(Y),this.directive=(0,e.f3M)(Pt),this.context=(0,e.f3M)(B,{optional:!0}),this.theme=this.directive.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),this.sub=(0,e.f3M)(v.KG).pipe((0,R.o)(()=>this.directive.el.isConnected&&!!this.directive.el.offsetParent),(0,A.U)(oe=>"fixed"===this.directive.position?this.vvs.correct(oe):oe),(0,A.U)(([oe,Ht])=>this.getStyles(oe,Ht)),(0,t.sL)()).subscribe({next:oe=>Object.assign(this.el.style,oe),complete:()=>this.close?.()}),this.close=()=>this.directive.toggle(!1)}getStyles(oe,Ht){const{right:xn}=this.el.getBoundingClientRect(),{maxHeight:ce,minHeight:me,offset:En,limitWidth:_n}=this.options,{innerHeight:Qe}=this.win,xe=this.el.offsetParent?.getBoundingClientRect(),{position:je}=this.directive,ke=this.accessor.getClientRect(),we="fixed"===je?0:-(xe?.left||0),Ne="fixed"===je?0:-(xe?.top||0);oe+=Ne,Ht+=we;const Ke=xn<=ke.left||Ht>=ke.right,kn=Ht<ke.right&&xn>ke.left&&oe<Ne+2*En?ke.top-2*En:Ne+Qe-oe-En;return{position:je,top:(0,_.O9)(Math.round(Math.max(oe,Ne+En))),left:(0,_.O9)(Math.round(Ht)),maxHeight:(0,_.O9)(Ke?ce:Math.round((0,T.Ki)(kn,me,ce))),width:"fixed"===_n?(0,_.O9)(Math.round(ke.width)):"",minWidth:"min"===_n?(0,_.O9)(Math.round(ke.width)):""}}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275cmp=e.Xpm({type:re,selectors:[["tui-dropdown"]],hostVars:3,hostBindings:function(Ht,xn){2&Ht&&(e.uIk("data-appearance",xn.options.appearance)("tuiTheme",xn.theme),e.d8E("@tuiDropdownAnimation",xn.animation))},standalone:!0,features:[e._Bn([v.KG,(0,h.ei)("dropdown",at),(0,h.Wk)("dropdown",Pt)]),e.jDz,e.zW0([i.d])],decls:2,vars:4,consts:[[1,"t-scroll"],["class","t-primitive",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-primitive"]],template:function(Ht,xn){1&Ht&&(e.TgZ(0,"tui-scrollbar",0),e.YNc(1,At,2,1,"div",1),e.qZA()),2&Ht&&(e.xp6(1),e.Q6J("polymorpheusOutlet",xn.directive.content)("polymorpheusOutletContext",e.VKq(2,Dt,xn.close)))},dependencies:[E.s$,f.D1],styles:["[_nghost-%COMP%]{position:absolute;display:flex;box-shadow:var(--tui-shadow-medium);color:var(--tui-text-primary);background:var(--tui-background-elevation-3);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-border-normal);box-sizing:border-box;max-inline-size:calc(100% - 8px);isolation:isolate;pointer-events:auto}.ng-animating[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}.t-scroll[_ngcontent-%COMP%]{flex-grow:1;max-inline-size:100%;inline-size:-webkit-max-content;inline-size:max-content;overscroll-behavior:none}.t-primitive[_ngcontent-%COMP%]{padding:1rem}"],data:{animation:[m.i9]}})}}return re})();const Ot=(0,_.JN)({showDelay:200,hideDelay:500});function le(re){return"key"in re&&"escape"===re.key.toLowerCase()&&this.tuiDropdownEnabled&&!!this.tuiDropdownOpen&&!this.dropdown()?.nextElementSibling}let ne=(()=>{class re{constructor(){this.directive=(0,e.f3M)(Pt),this.el=(0,g.AG)(),this.obscured=(0,e.f3M)(ot.Q),this.dropdown=(0,e.Flj)(()=>this.directive.ref()?.location.nativeElement),this.sub=(0,S.T)(this.obscured.tuiObscured.pipe((0,w.h)(Boolean)),(0,e.f3M)(i.d).tuiActiveZoneChange.pipe((0,w.h)(oe=>!oe)),(0,p.R)(this.el,"focusin").pipe((0,A.U)(g.mA),(0,w.h)(oe=>!this.host.contains(oe)||!this.directive.ref()))).pipe((0,bt.NA)(),(0,t.sL)()).subscribe(()=>this.toggle(!1)),this.tuiDropdownEnabled=!0,this.tuiDropdownOpen=!1,this.tuiDropdownOpenChange=new e.vpe,this.driver=(0,e.f3M)(Nt)}ngOnChanges(){this.update(!!this.tuiDropdownOpen)}toggle(oe){this.focused&&!oe&&this.host.focus({preventScroll:!0}),this.update(oe)}onEsc(oe){oe.preventDefault(),this.toggle(!1)}onClick(oe){!this.editable&&this.host.contains(oe)&&this.update(!this.tuiDropdownOpen)}onArrow(oe,Ht){!(0,g.ve)(oe.target)||!this.host.contains(oe.target)||!this.tuiDropdownEnabled||(oe.preventDefault(),this.focusDropdown(Ht))}onKeydown({key:oe,target:Ht,defaultPrevented:xn}){!xn&&(0,D.kL)(oe)&&this.editable&&this.focused&&(0,g.dW)(Ht)&&!(0,g.Hn)(Ht)&&this.host.focus({preventScroll:!0})}get host(){const oe=this.dropdownHost?.nativeElement||this.el,Ht=(0,nt.dT)(oe)?oe:(0,nt.BW)({initial:oe,root:this.el});return this.dropdownHost?.nativeElement||Ht||this.el}get editable(){return(0,g.Hn)(this.host)}get focused(){return(0,nt.zb)(this.host)||(0,nt.zb)(this.dropdown())}update(oe){if(oe&&!this.tuiDropdownEnabled)return this.drive();this.tuiDropdownOpen=oe,this.tuiDropdownOpenChange.emit(oe),this.drive()}drive(oe=!!this.tuiDropdownOpen&&this.tuiDropdownEnabled){this.obscured.tuiObscuredEnabled=oe,this.driver.next(oe)}focusDropdown(oe){const Ht=this.dropdown();if(!Ht)return void this.update(!0);const ce=Ht.appendChild(this.el.ownerDocument.createElement("div")),En=(0,nt.BW)({initial:oe?ce:Ht,previous:oe,root:Ht});ce.remove(),En?.focus()}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,selectors:[["","tuiDropdown","","tuiDropdownOpen",""],["","tuiDropdown","","tuiDropdownOpenChange",""]],contentQueries:function(Ht,xn,ce){if(1&Ht&&e.Suo(ce,Wt,5,e.SBq),2&Ht){let me;e.iGM(me=e.CRH())&&(xn.dropdownHost=me.first)}},hostBindings:function(Ht,xn){1&Ht&&e.NdJ("click",function(me){return xn.onClick(me.target)})("keydown.arrowDown",function(me){return xn.onArrow(me,!1)})("keydown.arrowUp",function(me){return xn.onArrow(me,!0)})("keydown.silent.capture",function(me){return xn.onEsc(me)},!1,e.evT)("keydown.silent",function(me){return xn.onKeydown(me)},!1,e.evT)},inputs:{tuiDropdownEnabled:"tuiDropdownEnabled",tuiDropdownOpen:"tuiDropdownOpen"},outputs:{tuiDropdownOpenChange:"tuiDropdownOpenChange"},standalone:!0,features:[e._Bn([Nt,(0,h.UK)(Nt)]),e.TTD,e.zW0([ot.Q,{directive:i.d,inputs:["tuiActiveZoneParent","tuiActiveZoneParent"],outputs:["tuiActiveZoneChange","tuiActiveZoneChange"]}])]})}}return(0,St.gn)([(0,I.uX)(le)],re.prototype,"onEsc",null),re})(),Ge=(()=>{class re extends h.kk{constructor(){super(oe=>this.stream$.subscribe(oe)),this.el=(0,g.AG)(),this.doc=(0,e.f3M)(F.K0),this.options=(0,e.f3M)(Ot),this.activeZone=(0,e.f3M)(i.d),this.open=(0,e.f3M)(ne,{optional:!0}),this.dropdownExternalRemoval$=(0,t.Dx)((0,e.f3M)(Pt).ref).pipe((0,w.h)(oe=>!oe&&this.hovered)),this.stream$=(0,S.T)(this.dropdownExternalRemoval$.pipe((0,L.w)(()=>(0,bt.mL)(this.doc,"pointerdown").pipe((0,A.U)(g.mA),(0,V.g)(this.hideDelay),(0,et.O)(null),(0,tt.R)((0,p.R)(this.doc,"mouseover"))))),(0,bt.mL)(this.doc,"mouseover").pipe((0,A.U)(g.mA)),(0,bt.mL)(this.doc,"mouseout").pipe((0,A.U)(oe=>oe.relatedTarget))).pipe((0,A.U)(oe=>(0,g.ve)(oe)&&this.isHovered(oe)),(0,ht.x)(),(0,L.w)(oe=>(0,it.of)(oe).pipe((0,V.g)(oe?this.showDelay:this.hideDelay))),(0,bt.Yr)(),(0,It.b)(oe=>{this.hovered=oe,this.open?.toggle(oe)}),(0,st.B)()),this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.hovered=!1,this.type="dropdown"}onClick(oe){this.hovered&&this.open&&oe.preventDefault()}isHovered(oe){const xn=(this.dropdownHost?.nativeElement||this.el).contains(oe),ce=!this.el.contains(oe)&&this.activeZone.contains(oe);return xn||ce}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,selectors:[["","tuiDropdownHover",""]],contentQueries:function(Ht,xn,ce){if(1&Ht&&e.Suo(ce,Wt,5,e.SBq),2&Ht){let me;e.iGM(me=e.CRH())&&(xn.dropdownHost=me.first)}},hostBindings:function(Ht,xn){1&Ht&&e.NdJ("click.capture",function(me){return xn.onClick(me)})},inputs:{showDelay:["tuiDropdownShowDelay","showDelay"],hideDelay:["tuiDropdownHideDelay","hideDelay"]},standalone:!0,features:[e._Bn([i.d,(0,h.UK)(re)]),e.qOj]})}}return re})(),Se=(()=>{class re{constructor(){this.driver=(0,e.f3M)(Nt),this.tuiDropdownManual=!1}ngOnChanges(){this.driver.next(!!this.tuiDropdownManual)}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,selectors:[["","tuiDropdownManual",""]],inputs:{tuiDropdownManual:"tuiDropdownManual"},standalone:!0,features:[e._Bn([Nt,(0,h.UK)(Nt)]),e.TTD]})}}return re})(),Pe=(()=>{class re{constructor(){this.openStateSub=new M.x,this.tuiDropdownOpenChange=this.openStateSub.pipe((0,ht.x)())}set tuiDropdownOpen(oe){this.emitOpenChange(oe)}emitOpenChange(oe){this.openStateSub.next(oe)}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,selectors:[["","tuiDropdownOpen","",3,"tuiDropdown",""],["","tuiDropdownOpenChange","",3,"tuiDropdown",""]],inputs:{tuiDropdownOpen:"tuiDropdownOpen"},outputs:{tuiDropdownOpenChange:"tuiDropdownOpenChange"},standalone:!0})}}return re})();function $e(re){return(0,_.Vx)(Pt,"tuiDropdown",re,{})}function Bn(){const re=(0,_.Vx)(ne,"tuiDropdownOpen",!1,{});return(0,e.f3M)(ne).tuiDropdownOpenChange.pipe((0,t.sL)()).subscribe(wn=>re.set(wn)),re}let Ae=(()=>{class re{constructor(){(0,D.lp)({limitWidth:"fixed"},yt)((0,e.f3M)(Y,{self:!0,optional:!0}),null)}static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,standalone:!0,features:[e._Bn([xt({})])]})}}return re})(),Hn=(()=>{class re extends u.oL{static{this.\u0275fac=function(){let oe;return function(xn){return(oe||(oe=e.n5z(re)))(xn||re)}}()}static{this.\u0275cmp=e.Xpm({type:re,selectors:[["tui-dropdowns"]],standalone:!0,features:[e._Bn([(0,u.ze)(k)]),e.qOj,e.jDz],decls:2,vars:0,consts:[["viewContainer",""]],template:function(Ht,xn){1&Ht&&e.GkF(0,null,0)},encapsulation:2,changeDetection:0})}}return re})(),rn=(()=>{class re{static{this.\u0275fac=function(Ht){return new(Ht||re)}}static{this.\u0275dir=e.lG2({type:re,standalone:!0,features:[e.zW0([{directive:ne,inputs:["tuiDropdownOpen","open"],outputs:["tuiDropdownOpenChange","openChange"]}])]})}}return re})()},9485:(Qt,$,o)=>{"use strict";o.d($,{hM:()=>_,vJ:()=>g});var e=o(5879),t=o(8451);const a={size:"l",collapsed:!1,rounded:!0,orientation:"horizontal"},i=(0,t.JN)(a);function g(m){return(0,t.vK)(i,m,a)}let T=(()=>{class m{static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275cmp=e.Xpm({type:m,selectors:[["ng-component"]],hostAttrs:[1,"tui-group"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(v,C){},styles:["[tuiGroup]{position:relative;display:flex;isolation:isolate;--t-group-radius: var(--tui-radius-l);--t-group-margin: -1px;--t-group-clip: inset(-1rem 1px -1rem -1rem)}[tuiGroup]>*{z-index:1;flex:1 1 0;min-inline-size:0}[tuiGroup]>*:disabled,[tuiGroup]>*._disabled{z-index:0}[tuiGroup]>*:invalid:not([data-mode]),[tuiGroup]>*[data-mode~=invalid]{z-index:2;--t-group-clip: none}[tuiGroup]>*:has(:invalid:not([data-mode])),[tuiGroup]>*:has([data-mode~=invalid]){z-index:2;--t-group-clip: none}[tuiGroup]>*:focus-within{z-index:3;--t-group-clip: none}[tuiGroup]>*:has([data-focus=true]){z-index:3;--t-group-clip: none}[tuiGroup]>*:checked:not([data-mode]),[tuiGroup]>*[data-mode~=checked]{z-index:4;--t-group-clip: none}[tuiGroup]>*:has([tuiBlock]:checked){z-index:4;--t-group-clip: none}[tuiGroup]>*:not(:last-child){margin-inline-end:var(--t-group-margin);clip-path:var(--t-group-clip)}[tuiGroup]>*:nth-child(n){border-radius:0}[tuiGroup]>*:first-child{border-top-left-radius:var(--t-group-radius);border-bottom-left-radius:var(--t-group-radius)}[tuiGroup]>*:last-child{border-top-right-radius:var(--t-group-radius);border-bottom-right-radius:var(--t-group-radius)}[tuiGroup][data-size=s],[tuiGroup][data-size=m]{--t-group-radius: var(--tui-radius-m)}[tuiGroup][data-orientation=vertical]{display:inline-flex;flex-direction:column;--t-group-clip: inset(-1rem -1rem 1px -1rem)}[tuiGroup][data-orientation=vertical]>*{min-block-size:auto;flex:0 0 auto}[tuiGroup][data-orientation=vertical]>*:not(:last-child){margin-inline-end:0;margin-block-end:var(--t-group-margin)}[tuiGroup][data-orientation=vertical]>*:first-child{border-radius:var(--t-group-radius) var(--t-group-radius) 0 0}[tuiGroup][data-orientation=vertical]>*:last-child{border-radius:0 0 var(--t-group-radius) var(--t-group-radius)}[tuiGroup][data-orientation=vertical]>*:only-child{border-radius:var(--t-group-radius)}.tui-group{position:relative;display:flex;isolation:isolate;--t-group-radius: var(--tui-radius-m)}.tui-group>*{flex:1 1 0;min-inline-size:0}.tui-group>*:not(:last-child){margin-right:.125rem}.tui-group.tui-group>*:nth-child(n){border-radius:0}.tui-group_radius_large{--t-group-radius: var(--tui-radius-l)}.tui-group_collapsed>*{z-index:1}.tui-group_collapsed>*:not(:last-child){margin:0 -1px 0 0}.tui-group_collapsed>*._readonly,.tui-group_collapsed>*._disabled,.tui-group_collapsed>*._readonly:hover,.tui-group_collapsed>*._disabled:hover{z-index:0}.tui-group_collapsed>*._invalid{z-index:2}.tui-group_collapsed>*._invalid:hover,.tui-group_collapsed>*._invalid._hovered,.tui-group_collapsed>*._invalid._pressed{z-index:4}.tui-group_collapsed>*:hover,.tui-group_collapsed>*._hovered,.tui-group_collapsed>*._pressed{z-index:3}.tui-group_collapsed>*._hosted_dropdown_focused,.tui-group_collapsed>*._focus-visible,.tui-group_collapsed>*._focused.ng-touched,.tui-group_collapsed>*._focused.ng-untouched{z-index:5}.tui-group_collapsed>*._active,.tui-group_collapsed>*[data-appearance=whiteblock-active]{z-index:6}.tui-group_collapsed>*:has([tuiBlock]:checked){z-index:6}.tui-group_collapsed>*._focus-visible._focused,.tui-group_collapsed>*._focus-visible._active,.tui-group_collapsed>*._focus-visible[data-appearance=whiteblock-active]{z-index:7}.tui-group_orientation_vertical{display:inline-flex;flex-direction:column}.tui-group_orientation_vertical>*{min-block-size:auto;flex:0 0 auto}.tui-group_orientation_vertical>*:not(:last-child){margin-right:0;margin-bottom:.125rem}.tui-group_orientation_vertical.tui-group_collapsed>*:not(:last-child){margin:0 0 -1px}.tui-group_rounded.tui-group_orientation_horizontal>*:first-child{border-top-left-radius:var(--t-group-radius);border-bottom-left-radius:var(--t-group-radius)}.tui-group_rounded.tui-group_orientation_horizontal>*:last-child{border-top-right-radius:var(--t-group-radius);border-bottom-right-radius:var(--t-group-radius)}.tui-group_rounded.tui-group_orientation_vertical>*:first-child{border-top-left-radius:var(--t-group-radius);border-top-right-radius:var(--t-group-radius)}.tui-group_rounded.tui-group_orientation_vertical>*:last-child{border-bottom-left-radius:var(--t-group-radius);border-bottom-right-radius:var(--t-group-radius)}.tui-group__auto-width-item{min-inline-size:auto;flex:0 0 auto}.tui-group__inherit-item{border-radius:inherit!important}\n"],encapsulation:2,changeDetection:0})}}return m})(),_=(()=>{class m{constructor(){this.options=(0,e.f3M)(i),this.nothing=(0,t.__)(T),this.orientation=this.options.orientation,this.collapsed=this.options.collapsed,this.rounded=this.options.rounded,this.size=this.options.size}static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275dir=e.lG2({type:m,selectors:[["","tuiGroup","",5,"ng-container"]],hostAttrs:["tuiGroup","","role","group"],hostVars:8,hostBindings:function(v,C){2&v&&(e.uIk("data-orientation",C.orientation)("data-size",C.size),e.Udp("--t-group-radius",C.rounded?null:0)("--t-group-margin",C.collapsed?null:.125,"rem")("--t-group-clip",C.collapsed?null:0))},inputs:{orientation:"orientation",collapsed:"collapsed",rounded:"rounded",size:"size"},standalone:!0})}}return m})()},6201:(Qt,$,o)=>{"use strict";o.d($,{C6:()=>ne,D:()=>Ut,H3:()=>k,Hr:()=>xt,UI:()=>Ue,Z0:()=>ae,bZ:()=>Y,eW:()=>Se,jv:()=>Ge,lv:()=>Ee,y7:()=>Wt});var e=o(7582),t=o(5879),a=o(1993),i=o(6266),g=o(1888),T=o(385),_=o(5929),m=o(6456),h=o(8451),f=o(375),v=o(5710),C=o(940),D=o(2701),y=o(8797),E=o(5586),O=o(5619),M=o(8645),U=o(3019),R=o(4664),A=o(2096),S=o(932),w=o(9773),p=o(7997),L=o(2181),V=o(7398),et=o(9397),tt=o(812),ht=o(3997),it=o(2438),It=o(6111),st=o(9080),dt=o(7921),St=o(836),bt=o(7331),u=o(6814),ut=o(1393),Z=o(9298);function I($e,Bn){1&$e&&t.GkF(0)}function F($e,Bn){1&$e&&t._UZ(0,"span",1),2&$e&&t.Q6J("innerHTML",Bn.polymorpheusOutlet,t.oJD)}const ot=["*"];function nt($e,Bn){1&$e&&t.GkF(0)}const At=function($e){return{$implicit:$e}};function Dt($e,Bn){if(1&$e&&(t.TgZ(0,"div",1),t.YNc(1,nt,1,0,"ng-container",2),t.qZA()),2&$e){const Ae=Bn.$implicit;t.Q6J("@tuiParentAnimation",void 0)("tuiActiveZoneParent",Ae.activeZone||null),t.xp6(1),t.Q6J("polymorpheusOutlet",Ae.component)("polymorpheusOutletContext",t.VKq(4,At,Ae))}}const Wt=(0,h.N1)(()=>Ge);let Nt=(()=>{class $e extends O.X{constructor(){super([])}add(Ae){this.next(this.value.concat(Ae))}remove(Ae){this.value.includes(Ae)&&this.next(this.value.filter(Hn=>Hn!==Ae))}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275prov=t.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"})}}return $e})(),Rt=(()=>{class $e extends v.qz{constructor(){super(...arguments),this.type="hint"}static{this.\u0275fac=function(){let Ae;return function(rn){return(Ae||(Ae=t.n5z($e)))(rn||$e)}}()}static{this.\u0275dir=t.lG2({type:$e,standalone:!0,features:[t.qOj]})}}return $e})();const Bt=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],k=(0,h.JN)({direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"});let Y=(()=>{class $e{constructor(){this.options=(0,t.f3M)(k,{skipSelf:!0}),this.direction=this.options.direction,this.appearance=this.options.appearance,this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.icon=this.options.icon,this.change$=new M.x}ngOnChanges(){this.change$.next()}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275dir=t.lG2({type:$e,selectors:[["","tuiHintContent",""]],inputs:{content:["tuiHintContent","content"],direction:["tuiHintDirection","direction"],appearance:["tuiHintAppearance","appearance"],showDelay:["tuiHintShowDelay","showDelay"],hideDelay:["tuiHintHideDelay","hideDelay"]},standalone:!0,features:[t._Bn([(0,h.Q2)(k,$e)]),t.TTD]})}}return $e})(),xt=(()=>{class $e extends v.kk{constructor(){super(Ae=>this.stream$.subscribe(Ae)),this.isMobile=(0,t.f3M)(T.fL),this.el=(0,_.AG)(),this.hovered$=(0,t.f3M)(g.gs),this.options=(0,t.f3M)(k),this.visible=!1,this.toggle$=new M.x,this.stream$=(0,U.T)(this.toggle$.pipe((0,R.w)(Ae=>this.isMobile?(0,A.of)(Ae):(0,A.of)(Ae).pipe((0,S.g)(Ae?0:this.tuiHintHideDelay))),(0,w.R)(this.hovered$),(0,p.r)()),this.hovered$.pipe((0,R.w)(Ae=>this.isMobile?(0,A.of)(Ae):(0,A.of)(Ae).pipe((0,S.g)(Ae?this.tuiHintShowDelay:this.tuiHintHideDelay))),(0,w.R)(this.toggle$),(0,p.r)())).pipe((0,L.h)(()=>this.enabled),(0,V.U)(Ae=>Ae&&(this.el.hasAttribute("tuiHintPointer")||!(0,y.mn)(this.el))),(0,et.b)(Ae=>{this.visible=Ae})),this.parent=(0,t.f3M)($e,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(Ae=!this.visible){this.toggle$.next(Ae),this.parent?.toggle(Ae)}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275dir=t.lG2({type:$e,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],standalone:!0,features:[t._Bn([(0,v.UK)($e),g.gs]),t.qOj]})}}return $e})(),De=(()=>{class $e extends v.uG{constructor(){super(...arguments),this.offset=(0,t.f3M)(T.fL)?16:8,this.viewport=(0,t.f3M)(D.EO),this.accessor=(0,v.Zy)("hint")((0,t.f3M)(v.O4),(0,t.f3M)(Ut)),this.points=Bt.reduce((Ae,Hn)=>({...Ae,[Hn]:[0,0]}),{}),this.direction=(0,t.f3M)(k).direction,this.directionChange=new t.vpe,this.type="hint"}emitDirection(Ae){this.directionChange.emit(Ae)}getPosition(Ae,Hn){const rn=Hn?.clientWidth??Ae.width,re=Hn?.clientHeight??Ae.height,wn=this.accessor.getClientRect()??i.Jy,oe=wn.left+wn.width/2,Ht=wn.top+wn.height/2;this.points["top-left"][0]=wn.top-re-this.offset,this.points["top-left"][1]=oe-rn+24,this.points.top[0]=this.points["top-left"][0],this.points.top[1]=oe-rn/2,this.points["top-right"][0]=this.points["top-left"][0],this.points["top-right"][1]=oe-24,this.points["bottom-left"][0]=wn.bottom+this.offset,this.points["bottom-left"][1]=this.points["top-left"][1],this.points.bottom[0]=this.points["bottom-left"][0],this.points.bottom[1]=this.points.top[1],this.points["bottom-right"][0]=this.points["bottom-left"][0],this.points["bottom-right"][1]=this.points["top-right"][1],this.points["left-top"][0]=Ht-re+24,this.points["left-top"][1]=wn.left-rn-this.offset,this.points.left[0]=Ht-re/2,this.points.left[1]=this.points["left-top"][1],this.points["left-bottom"][0]=Ht-24,this.points["left-bottom"][1]=this.points["left-top"][1],this.points["right-top"][0]=this.points["left-top"][0],this.points["right-top"][1]=wn.right+this.offset,this.points.right[0]=this.points.left[0],this.points.right[1]=this.points["right-top"][1],this.points["right-bottom"][0]=this.points["left-bottom"][0],this.points["right-bottom"][1]=this.points["right-top"][1];const me=(Array.isArray(this.direction)?this.direction:[this.direction]).concat(Bt).find(En=>this.checkPosition(this.points[En],rn,re));return this.emitDirection(me||this.fallback),this.points[me||this.fallback]}get fallback(){return this.points.top[0]>this.viewport.getClientRect().bottom-this.points.bottom[0]?"top":"bottom"}checkPosition([Ae,Hn],rn,re){const wn=this.viewport.getClientRect();return Ae>8&&Hn>8&&Ae+re<wn.bottom-8&&Hn+rn<wn.right-8}static{this.\u0275fac=function(){let Ae;return function(rn){return(Ae||(Ae=t.n5z($e)))(rn||$e)}}()}static{this.\u0275dir=t.lG2({type:$e,inputs:{direction:["tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},standalone:!0,features:[t.qOj]})}}return(0,e.gn)([h.UM],$e.prototype,"emitDirection",null),$e})(),Ut=(()=>{class $e{constructor(){this.service=(0,t.f3M)(Nt),this.appearance=(0,t.f3M)(k).appearance,this.content=(0,t.tdS)(null),this.component=(0,t.f3M)(E.Al),this.el=(0,_.AG)(),this.activeZone=(0,t.f3M)(bt.d,{optional:!0}),this.type="hint"}set tuiHint(Ae){this.content.set(Ae),Ae||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(Ae){Ae&&this.content()?this.service.add(this):this.service.remove(this)}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275dir=t.lG2({type:$e,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:["tuiHintContext","context"],appearance:["tuiHintAppearance","appearance"],tuiHint:"tuiHint"},standalone:!0,features:[t._Bn([(0,v.Ic)($e),(0,v.Fe)($e),{provide:E.Al,deps:[Wt,t.gxx],useClass:E.Al}]),t.zW0([Rt,{directive:xt,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:De,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}])]})}}return $e})(),Q=(()=>{class $e extends xt{constructor(){super(...arguments),this.currentRect=i.Jy}getClientRect(){return this.currentRect}onMove({clientX:Ae,clientY:Hn}){this.currentRect=(0,_.dD)(Ae,Hn)}static{this.\u0275fac=function(){let Ae;return function(rn){return(Ae||(Ae=t.n5z($e)))(rn||$e)}}()}static{this.\u0275dir=t.lG2({type:$e,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(Hn,rn){1&Hn&&t.NdJ("mousemove.silent",function(wn){return rn.onMove(wn)})},standalone:!0,features:[t._Bn([(0,v.Ic)($e),(0,v.UK)($e)]),t.qOj]})}}return $e})(),Ot=(()=>{class $e{constructor(){this.context=(0,E.FQ)()}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275cmp=t.Xpm({type:$e,selectors:[["ng-component"]],hostVars:1,hostBindings:function(Hn,rn){2&Hn&&t.d8E("@tuiParentAnimation",void 0)},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(Hn,rn){1&Hn&&t.YNc(0,I,1,0,"ng-container",0),2&Hn&&t.Q6J("polymorpheusOutlet",rn.context.$implicit.content())},dependencies:[E.s$],encapsulation:2,data:{animation:[f.B_]},changeDetection:0})}}return $e})();const ne=[C.KG,g.gs,(0,v.ei)("hint",De),(0,v.Wk)("hint",Ut)];let Ge=(()=>{class $e{constructor(){this.el=(0,_.AG)(),this.hover=(0,t.f3M)(xt),this.vvs=(0,t.f3M)(C.Lp),this.viewport=(0,t.f3M)(D.EO),this.desktop={value:"",params:{end:1,start:1}},this.options=(0,y.qS)((0,t.f3M)(D.ZW),"cubic-bezier(0.35, 1.3, 0.25, 1)"),this.pointer=(0,t.f3M)(Q,{optional:!0}),this.accessor=(0,t.f3M)(v.O4),this.hint=(0,E.FQ)().$implicit,this.isMobile=(0,t.f3M)(T.fL),this.content=this.hint.component.component===Ot?(0,t.tdS)(""):this.hint.content,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),(0,t.f3M)(C.KG).pipe((0,tt.o)(()=>this.hint.el.isConnected),(0,V.U)(Ae=>this.vvs.correct(Ae)),(0,a.sL)()).subscribe({next:([Ae,Hn])=>this.update(Ae,Hn),complete:()=>this.hover.toggle(!1)}),(0,t.f3M)(g.gs).pipe((0,a.sL)()).subscribe(Ae=>this.hover.toggle(Ae))}onClick(Ae){(!Ae.closest("tui-hint")&&!this.hint.el.contains(Ae)||(0,y.mn)(this.hint.el))&&this.hover.toggle(!1)}apply(Ae,Hn,rn,re){this.el.style.top=Ae,this.el.style.left=Hn,this.el.style.setProperty("--top",`${rn}%`),this.el.style.setProperty("--left",`${re}%`),this.el.style.setProperty("--rotate",re&&100!==Math.ceil(re)?"0deg":"90deg")}update(Ae,Hn){const{clientHeight:rn,clientWidth:re}=this.el,wn=this.accessor.getClientRect(),oe=this.viewport.getClientRect();if(wn===i.Jy||!rn||!re)return;const Ht=(0,m.Ki)(Hn,8,oe.width-re-8),[xn,ce]=this.vvs.correct([wn.top+wn.height/2-Ae,wn.left+wn.width/2-Ht]);this.apply((0,h.O9)(Math.round(Ae)),(0,h.O9)(Math.round(Ht)),Math.round((0,m.Ki)(xn,0,rn)/rn*100),Math.round((0,m.Ki)(ce,0,re)/re*100))}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275cmp=t.Xpm({type:$e,selectors:[["tui-hint"]],hostVars:8,hostBindings:function(Hn,rn){1&Hn&&t.NdJ("click",function(wn){return rn.onClick(wn.target)},!1,t.evT),2&Hn&&(t.uIk("data-appearance",rn.appearance)("tuiTheme",rn.appearance),t.d8E("@tuiScaleIn",rn.isMobile?rn.options:rn.desktop)("@tuiFadeIn",rn.options),t.ekj("_untouchable",rn.pointer)("_mobile",rn.isMobile))},standalone:!0,features:[t._Bn(ne),t.jDz],ngContentSelectors:ot,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(Hn,rn){1&Hn&&(t.F$t(),t.Hsn(0),t.YNc(1,F,1,1,"span",0)),2&Hn&&(t.xp6(1),t.Q6J("polymorpheusOutlet",rn.content())("polymorpheusOutletContext",rn.hint.context))},dependencies:[E.s$],styles:['[_nghost-%COMP%]{position:absolute;max-inline-size:18rem;padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--left) var(--top)}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--top);left:var(--left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url(\'data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>\');mask-image:url(\'data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>\');transform:translate(-50%,-50%) rotate(var(--rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>\');mask-image:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>\')}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-accent-opposite-hover);color:var(--tui-background-base);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}'],data:{animation:[f.QF,f.gI]},changeDetection:0})}}return(0,e.gn)([h.UM],$e.prototype,"apply",null),$e})(),Se=(()=>{class $e extends v.kk{constructor(){super(Ae=>this.stream$.subscribe(Ae)),this.doc=(0,t.f3M)(u.K0),this.el=(0,_.AG)(),this.zone=(0,t.f3M)(t.R0b),this.id$=new O.X(""),this.stream$=this.id$.pipe((0,ht.x)(),(0,ut.Xd)(()=>(0,it.R)(this.doc,"keydown",{capture:!0}),h.Pc),(0,R.w)(()=>this.focused?(0,A.of)(!1):(0,U.T)((0,ut.mL)(this.doc,"keyup"),(0,ut.mL)(this.element,"blur")).pipe((0,V.U)(()=>this.focused))),(0,It.D)(Ae=>Ae?(0,st.H)(1e3,(0,ut.de)(this.zone)):(0,A.of)(null)),(0,dt.O)(!1),(0,ht.x)(),(0,St.T)(1),(0,ut.Yr)()),this.type="hint"}set tuiHintDescribe(Ae){this.id$.next(Ae||"")}get element(){return this.doc.getElementById(this.id$.value||"")||this.el}get focused(){return(0,Z.V8)(this.element)}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275dir=t.lG2({type:$e,selectors:[["","tuiHintDescribe",""]],inputs:{tuiHintDescribe:"tuiHintDescribe"},standalone:!0,features:[t._Bn([(0,v.UK)($e)]),t.qOj]})}}return(0,e.gn)([h.UM],$e.prototype,"element",null),$e})(),Ue=(()=>{class $e extends v.kk{constructor(){super(Ae=>this.stream$.subscribe(Ae)),this.hover=(0,t.f3M)(xt),this.stream$=new O.X(!1),this.tuiHintManual=!1,this.type="hint",this.hover.enabled=!1}ngOnChanges(){this.stream$.next(this.tuiHintManual)}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275dir=t.lG2({type:$e,selectors:[["","tuiHint","","tuiHintManual",""]],inputs:{tuiHintManual:"tuiHintManual"},standalone:!0,features:[t._Bn([(0,v.UK)($e)]),t.qOj,t.TTD]})}}return $e})(),Ee=(()=>{class $e{constructor(){this.hint=(0,t.f3M)(Ut)}onMouseEnter({scrollWidth:Ae,clientWidth:Hn,textContent:rn}){this.hint.tuiHint=Ae>Hn?rn:""}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275dir=t.lG2({type:$e,selectors:[["","tuiHintOverflow",""]],hostBindings:function(Hn,rn){1&Hn&&t.NdJ("mouseenter",function(wn){return rn.onMouseEnter(wn.currentTarget)})},standalone:!0,features:[t.zW0([{directive:Ut,inputs:["tuiHintAppearance","tuiHintAppearance"]}])]})}}return $e})(),ae=(()=>{class $e{constructor(){this.hints$=(0,t.f3M)(Nt),this.destroyRef=(0,t.f3M)(t.ktI),this.cdr=(0,t.f3M)(t.sBO),this.hints=[]}ngOnInit(){this.hints$.pipe((0,a.sL)(this.destroyRef)).subscribe(Ae=>{this.hints=Ae,this.cdr.detectChanges()})}static{this.\u0275fac=function(Hn){return new(Hn||$e)}}static{this.\u0275cmp=t.Xpm({type:$e,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["role","tooltip",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(Hn,rn){1&Hn&&t.YNc(0,Dt,2,6,"div",0),2&Hn&&t.Q6J("ngForOf",rn.hints)},dependencies:[u.sg,E.s$,bt.d],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;block-size:0}"],data:{animation:[f.B_]}})}}return $e})()},5738:(Qt,$,o)=>{"use strict";o.d($,{M:()=>T,p:()=>g});var e=o(5879),t=o(8451),a=o(2701);let i=(()=>{class _{static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],hostAttrs:[1,"tui-icons"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(f,v){},styles:['[tuiIcons]{--t-icon-start: none;--t-icon-end: none}[tuiIcons]:before,[tuiIcons]:after{content:"";display:var(--t-icon-start);inline-size:1em;block-size:1em;line-height:1em;font-size:1.5rem;flex-shrink:0;background:currentColor;-webkit-mask:var(--t-icon-start) no-repeat center / contain;mask:var(--t-icon-start) no-repeat center / contain}[tuiIcons]:after{display:var(--t-icon-end);-webkit-mask:var(--t-icon-end) no-repeat center / contain;mask:var(--t-icon-end) no-repeat center / contain}\n'],encapsulation:2,changeDetection:0})}}return _})(),g=(()=>{class _{constructor(){this.nothing=(0,t.__)(i),this.resolver=(0,a.Ps)(),this.iconStart=(0,e.f3M)(a.Hd,{self:!0,optional:!0})||"",this.iconEnd=(0,e.f3M)(a.u_,{self:!0,optional:!0})||""}static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275dir=e.lG2({type:_,hostAttrs:["tuiIcons",""],hostVars:4,hostBindings:function(f,v){2&f&&e.Udp("--t-icon-start",v.iconStart?"url("+v.resolver(v.iconStart)+")":null)("--t-icon-end",v.iconEnd?"url("+v.resolver(v.iconEnd)+")":null)},inputs:{iconStart:"iconStart",iconEnd:"iconEnd"},standalone:!0})}}return _})(),T=(()=>{class _{static{this.\u0275fac=function(f){return new(f||_)}}static{this.\u0275dir=e.lG2({type:_,standalone:!0,features:[e.zW0([{directive:g,inputs:["iconStart","iconStart","iconEnd","iconEnd"]}])]})}}return _})()},3513:(Qt,$,o)=>{"use strict";o.d($,{$:()=>i});var e=o(5879),t=o(2701),a=o(7398);let i=(()=>{class g{constructor(){this.months$=(0,e.f3M)(t.$R)}transform({month:_}){return this.months$.pipe((0,a.U)(m=>m[_]||m[0]))}static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275pipe=e.Yjl({name:"tuiMonth",type:g,pure:!0,standalone:!0})}}return g})()},940:(Qt,$,o)=>{"use strict";o.d($,{KG:()=>U,Lp:()=>R,zE:()=>E});var e=o(5879),t=o(1393),a=o(385),i=o(2701),g=o(5592),T=o(7398),_=o(3997),m=o(7081),h=o(7921),f=o(4716),v=o(5742),C=o(6266),D=o(5929),y=o(5710);let E=(()=>{class A extends g.y{constructor(){super(w=>this.stream$.subscribe(w)),this.media=(0,e.f3M)(i.J_),this.sorted=Object.values(this.media).sort((w,p)=>w-p),this.invert=Object.keys(this.media).reduce((w,p)=>({...w,[this.media[p]]:p}),{}),this.stream$=(0,e.f3M)(a.fM).pipe((0,T.U)(({width:w})=>this.sorted.find(p=>p>w)),(0,T.U)(w=>this.invert[w||this.sorted[this.sorted.length-1]||0]),(0,_.x)(),(0,t.Yr)(),(0,m.d)({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),U=(()=>{class A extends g.y{constructor(){const w=(0,e.f3M)(v.wS),p=(0,e.f3M)(e.R0b);super(L=>w.pipe((0,h.O)(null),(0,T.U)(()=>this.accessor.getPosition(this.el.getBoundingClientRect(),this.el)),(0,t.fL)(p),(0,f.x)(()=>this.accessor.getPosition(C.Jy))).subscribe(L)),this.el=(0,D.AG)(),this.accessor=(0,e.f3M)(y.uG)}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac})}}return A})(),R=(()=>{class A{constructor(){this.isWebkit=(0,e.f3M)(a.jF),this.win=(0,e.f3M)(v.Az)}correct(w){return this.isWebkit?[w[0]+(this.win.visualViewport?.offsetTop??0),w[1]+(this.win.visualViewport?.offsetLeft??0)]:w}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})()},2701:(Qt,$,o)=>{"use strict";o.d($,{$R:()=>dt,$_:()=>xt,EO:()=>Gt,Gs:()=>w,HO:()=>yt,Hd:()=>F,J_:()=>B,Jl:()=>k,P:()=>I,PH:()=>u,PL:()=>ut,P_:()=>ht,Ps:()=>Rt,Sy:()=>st,TK:()=>M,U0:()=>St,U4:()=>Z,ZD:()=>tt,ZW:()=>U,bh:()=>bt,iS:()=>z,oC:()=>at,r2:()=>Pt,rJ:()=>It,uY:()=>Wt,u_:()=>ot});var e=o(5879),t=o(8451),a=o(6814),i=o(1993),g=o(5742),T=o(2438),_=o(2181),m=o(2096),h=o(3019),f=o(4664),v=o(9773),C=o(3020),D=o(4098),y=o(6813),E=o(6266),O=o(1393);const M=(0,t.N1)(()=>(0,e.f3M)(a.K0).defaultView?.matchMedia?.("(prefers-reduced-motion: reduce)").matches??!1),U=(0,t.N1)(()=>(0,e.f3M)(M)?0:1),R=(0,t.JN)("assets/taiga-ui/icons"),w=(0,t.JN)({check:"@tui.check",close:"@tui.x",error:"@tui.circle-alert",more:"@tui.chevron-right",search:"@tui.search",ellipsis:"@tui.ellipsis"}),V=(0,t.JN)("tuiDark"),tt=((0,t.N1)(()=>{let Ut=!0;const Q=(0,e.f3M)(g.dk),Ot=(0,e.f3M)(V),Ft=Q.getItem(Ot),le=(0,e.f3M)(g.Az).matchMedia("(prefers-color-scheme: dark)"),ne=(0,e.tdS)(!!((Ft&&JSON.parse(Ft))??le.matches));return(0,T.R)(le,"change").pipe((0,_.h)(()=>!Q.getItem(Ot)),(0,i.sL)()).subscribe(()=>{Ut=!0,ne.set(le.matches)}),(0,e.cEC)(()=>{const Ge=String(ne());Ut?Ut=!1:Q.setItem(Ot,Ge)}),Object.assign(ne,{reset:()=>{Q.removeItem(Ot),Ut=!0,ne.set(le.matches)}})}),{mode:"DMY",separator:"."}),ht=(0,t.JN)((0,m.of)(tt)),It=(0,t.JN)(Ut=>Ut.isWeekend?"weekend":"weekday"),st=(0,t.JN)(D.Lr.Monday),dt=(0,t.N1)((0,y.vv)("months")),St=(0,t.N1)((0,y.vv)("close")),bt=(0,t.N1)((0,y.vv)("clear")),u=(0,t.N1)((0,y.vv)("nothingFoundMessage")),ut=(0,t.N1)((0,y.vv)("defaultErrorMessage")),Z=(0,t.N1)((0,y.vv)("spinTexts")),I=(0,t.N1)((0,y.vv)("shortWeekDays")),F=(0,t.JN)(""),ot=(0,t.JN)(""),nt=(0,t.JN)({}),Wt=(0,t.N1)(()=>{const Ut=(0,e.f3M)(R);return Q=>`${Ut}/${Q.replace("@tui.","").split(".").join("/")}.svg`});function Rt(){const Ut=(0,e.f3M)(nt),Q=(0,e.f3M)(Wt);return Ot=>!Ot||Ot.includes("/")?Ot:Ut[Ot]??Q(Ot)}const B=(0,t.JN)({mobile:768,desktopSmall:1024,desktopLarge:1280}),k={precision:NaN,decimalSeparator:".",thousandSeparator:E.f$,rounding:"truncate",decimalMode:"pad"},yt=(0,t.JN)((0,m.of)(k)),xt=(0,t.N1)(()=>new e.SBq((0,e.f3M)(a.K0).documentElement)),z=(0,t.N1)(()=>{const Ut=(0,e.f3M)(a.K0);return(0,h.T)((0,O.mL)(Ut,"selectionchange"),(0,O.mL)(Ut,"mouseup"),(0,O.mL)(Ut,"mousedown").pipe((0,f.w)(()=>(0,O.mL)(Ut,"mousemove").pipe((0,v.R)((0,O.mL)(Ut,"mouseup"))))),(0,O.mL)(Ut,"keydown"),(0,O.mL)(Ut,"keyup")).pipe((0,C.B)())}),at=(0,t.JN)({decrement:"@tui.chevron-left",increment:"@tui.chevron-right"}),Pt=(0,t.JN)("Taiga UI"),Gt=(0,t.N1)(()=>{const Ut=(0,e.f3M)(g.Az);return{type:"viewport",getClientRect(){const Q={top:0,left:0,right:Ut.innerWidth,bottom:Ut.innerHeight,width:Ut.innerWidth,height:Ut.innerHeight,x:0,y:0};return{...Q,toJSON:()=>JSON.stringify(Q)}}}})},8926:(Qt,$,o)=>{"use strict";o.d($,{DI:()=>T,ic:()=>g,qK:()=>t});var e=o(6266);function t(_){return!!_&&(function a(_){return"fixed"===_.ownerDocument.defaultView?.getComputedStyle(_).getPropertyValue("position")}(_)||t(_.parentElement))}function g({document:_,innerWidth:m}){return Math.max(_.documentElement.clientWidth||0,m||0)}function T(_){const m=_.cloneRange(),{startContainer:h,startOffset:f,endContainer:v,endOffset:C}=m,{ownerDocument:D}=h;if(!D)return m;const y=D.createTreeWalker(D.body,NodeFilter.SHOW_TEXT,e.Lw);y.currentNode=h;do{const E=y.currentNode,O=E.textContent||"",M=E===h?O.slice(0,Math.max(0,f+1)):O,U=Math.max(M.lastIndexOf(" "),M.lastIndexOf(e.f$),M.lastIndexOf(e.tU))+1;if(m.setStart(E,0),U){m.setStart(E,U);break}}while(y.previousNode());y.currentNode=v;do{const E=y.currentNode,O=E.textContent||"",M=E===v?O.slice(C+1):O,U=[M.indexOf(" "),M.indexOf(e.f$),M.indexOf(e.tU)].reduce((R,A)=>-1===R||-1===A?Math.max(R,A):Math.min(R,A),-1);if(m.setEnd(E,O.length),-1!==U){m.setEnd(E,U+O.length-M.length);break}}while(y.nextNode());return m}},1862:(Qt,$,o)=>{"use strict";o.d($,{lx:()=>_,sn:()=>m});var e=o(6266),t=o(6456),a=o(2701),i=o(8451);function _(h,f={}){const{precision:v,decimalSeparator:C,thousandSeparator:D,decimalMode:y,rounding:E}={...a.Jl,decimalMode:"always",precision:1/0,...f},O=Number.isFinite(v)?(0,t.h0)({value:h,precision:v,method:E}):h,M=String(Math.floor(Math.abs(O)));let U=function T(h,f){const[,v=""]=function g(h){const f=String(h),[v,C]=f.split("e-");let D=f;if(C){const[,y=""]=v?.split(".")??[],E=Number(C)+(y?.length||0);D=h.toFixed(E)}return D}(h).split(".");return(0,i.dt)(f)?v.slice(0,Math.max(0,f)):v}(O,v);const R=Number(U)>0;if(Number.isFinite(v))if("always"===y||R&&"pad"===y){const p=Math.max(v-U.length,0);U=`${U}${"0".repeat(p)}`}else U=U.replace(/0*$/,"");const A=M.length%3;let w=(h<0?e.fv:"")+M.charAt(0);for(let p=1;p<M.length;p++)p%3===A&&M.length>3&&(w+=D),w+=M.charAt(p);return U?w+C+U:w}function m(h){if(""===h)return"";let f=0;for(let y=0;y<h.length;y++)f=h.charCodeAt(y)+((f<<5)-f),f&=f;return`hsl(${f%360},${60+f%5}%,${80+f%5}%)`}},8797:(Qt,$,o)=>{"use strict";o.d($,{R9:()=>_,cZ:()=>f,kL:()=>a,lp:()=>g,mn:()=>i,qS:()=>h});var e=o(5929);const t=["Spacebar","Backspace","Delete","ArrowLeft","ArrowRight","Left","Right","End","Home"];function a(v=""){return 1===v.length||t.includes(v)}function i(v,C="tui-hints"){return!!(0,e.PU)(v)?.some(D=>!D.closest(C))}function g(v,C){return(D,y)=>{const E=D||{...y||C};return Object.keys(v).forEach(O=>{E[O]=v[O]}),E}}const T={xxs:0,xs:1,s:2,m:3,l:4,xl:5,xxl:6};function _(v,C="s"){return T[v]>T[C]}const m=300;function h(v,C){return{value:"",params:{duration:f(v),easing:C}}}function f(v){return v&&m/v}},1255:(Qt,$,o)=>{"use strict";o.d($,{J0:()=>L,UC:()=>O,uX:()=>et});var e=o(6593),t=o(6814),a=o(5879);class i extends CustomEvent{constructor(it,{clientX:It,clientY:st,...dt}){super(it,{...dt,detail:{clientX:It,clientY:st}})}}const _=typeof navigator>"u"?null:navigator;class f{supports(it){return this.regExp.test(it)}getDelay(it){const It=this.regExp.exec(it);if(!It?.groups)throw new Error(`Invalid event: ${it}`);const{time:st,units:dt}=It.groups;switch(dt){case"ms":return Number(st);case"s":return 1e3*Number(st);default:throw new Error(`Invalid event: ${it}`)}}unwrap(it){return it.replace(this.regExp,"")}}class C{supports(it){return it.includes(this.modifier)}unwrap(it){return it.split(".").filter(It=>!this.modifier.includes(It)).join(".")}}const D=new a.OlP("",{factory:()=>{const ht=(0,a.f3M)(t.K0);return it=>"body"===it?ht.body:ht.defaultView[it]||ht.createElement("div")}});let y=(()=>{class ht extends C{constructor(){super(...arguments),this.handler=(0,a.f3M)(D),this.modifier=">"}addEventListener(It,st,dt){return this.manager.addEventListener(this.handler(st.split(">")[0]),st.split(">")?.[1]??"",dt)}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),E=(()=>{class ht extends C{constructor(){super(...arguments),this.modifier="capture.once.passive"}supports(It){return It.includes(".")&&!this.unwrap(It).includes(".")}addEventListener(It,st,dt){const St=this.unwrap(st),bt=st.includes(".capture");return It.addEventListener(St,dt,{capture:bt,once:st.includes(".once"),passive:st.includes(".passive")}),()=>It.removeEventListener(St,dt,{capture:bt})}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),O=(()=>{class ht extends C{constructor(){super(...arguments),this.modifier=".prevent"}addEventListener(It,st,dt){return this.manager.addEventListener(It,this.unwrap(st),St=>{St.preventDefault(),dt(St)})}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),M=(()=>{class ht extends C{constructor(){super(...arguments),this.modifier="resize"}supports(It){return"resize"===It}addEventListener(It,st,dt){if(typeof ResizeObserver>"u"||!(It instanceof Element))return It.addEventListener(st,dt),()=>It.removeEventListener(st,dt);const St=new ResizeObserver(dt);return St.observe(It),()=>St.disconnect()}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),U=(()=>{class ht extends C{constructor(){super(...arguments),this.modifier=".self"}addEventListener(It,st,dt){return this.manager.addEventListener(It,this.unwrap(st),St=>{St.target===St.currentTarget&&dt(St)})}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),R=(()=>{class ht extends C{constructor(){super(...arguments),this.modifier=".silent"}addEventListener(It,st,dt){return ht.ngZone=this.manager.getZone(),ht.ngZone.runOutsideAngular(()=>this.manager.addEventListener(It,this.unwrap(st),dt))}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),A=(()=>{class ht extends C{constructor(){super(...arguments),this.modifier=".stop"}addEventListener(It,st,dt){return this.manager.addEventListener(It,this.unwrap(st),St=>{St.stopPropagation(),dt(St)})}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})();const L=[R,(()=>{class ht extends R{constructor(){super(...arguments),this.modifier=".zoneless"}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=a.n5z(ht)))(dt||ht)}}()}static{this.\u0275prov=a.Yz7({token:ht,factory:ht.\u0275fac})}}return ht})(),U,y,E,O,M,A,class h{constructor(){this.isIOS=!!_&&(({userAgent:ht,maxTouchPoints:it})=>/ipad|iphone|ipod/i.test(ht)||/^((?!chrome|android).)*safari/i.test(ht)&&it>1)(_)}addEventListener(it,It,st){const dt=this.isIOS?this.listenTouchEvents(it):this.listenContextmenuEvent(it);return it.addEventListener("longtap",st),()=>{dt(),it.removeEventListener("longtap",st)}}supports(it){return"longtap"===it}listenContextmenuEvent(it){return this.manager.addEventListener(it,"contextmenu.prevent.stop",({clientX:It,clientY:st})=>{this.dispatchLongtapEvent(it,It,st)})}listenTouchEvents(it){let It=null,st=null;const dt=()=>{clearTimeout(It),st=null,It=null},St=this.manager.addEventListener(it,"touchstart.zoneless.passive",({touches:Z})=>{const I=Z[0];if(!I)return;const{clientX:F,clientY:ot}=I;st={clientX:F,clientY:ot},It=setTimeout(()=>{this.dispatchLongtapEvent(it,F,ot),dt()},700)}),bt=this.manager.addEventListener(it,"touchmove.zoneless.passive",({touches:Z})=>{const I=Z[0];if(!I||!st)return;const{clientX:F,clientY:ot}=I;Math.hypot(F-st.clientX,ot-st.clientY)<=15||dt()}),u=this.manager.addEventListener(it,"touchcancel.zoneless.passive",dt),ut=this.manager.addEventListener(it,"touchend.zoneless.passive",dt);return()=>{St(),bt(),u(),ut()}}dispatchLongtapEvent(it,It,st){it.dispatchEvent(new i("longtap",{clientX:It,clientY:st,bubbles:!1,cancelable:!1,composed:!1}))}},class v extends f{constructor(){super(...arguments),this.regExp=/\.debounce~(?<time>\d+)(?<units>ms|s)/}addEventListener(it,It,st){let dt;const St=this.manager.addEventListener(it,this.unwrap(It),bt=>{clearTimeout(dt),dt=setTimeout(()=>{st(bt)},this.getDelay(It))});return()=>{clearTimeout(dt),St()}}},class S extends f{constructor(){super(...arguments),this.regExp=/\.throttle~(?<time>\d+)(?<units>ms|s)/}addEventListener(it,It,st){let dt;const St=this.manager.addEventListener(it,this.unwrap(It),bt=>{void 0===dt&&(st(bt),dt=setTimeout(()=>{dt=void 0},this.getDelay(It)))});return()=>{clearTimeout(dt),St()}}}].map(ht=>({provide:e.s3,multi:!0,useClass:ht}));function et(ht){return(it,It,st)=>{const{value:dt}=st;st.value=function(...St){ht.apply(this,St)&&(R.ngZone?R.ngZone.run(()=>dt.apply(this,St)):dt.apply(this,St))}}}},7235:(Qt,$,o)=>{"use strict";o.d($,{Co:()=>C});var e=o(5879),t=o(8451);const h={name:"english",months:["January","February","March","April","May","June","July","August","September","October","November","December"],close:"Close",clear:"Clear",nothingFoundMessage:"Nothing found",defaultErrorMessage:"Value is invalid",spinTexts:["Previous","Next"],shortWeekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],countries:{AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua & Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AR:"Argentina",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia & Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"St. Barth\xe9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo - Kinshasa",CF:"Central African Republic",CG:"Congo - Brazzaville",CH:"Switzerland",CI:"C\xf4te d\u2019Ivoire",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IN:"India",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KM:"Comoros",KN:"St. Kitts & Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"St. Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"St. Martin",MG:"Madagascar",MK:"North Macedonia",ML:"Mali",MM:"Myanmar (Burma)",MN:"Mongolia",MO:"Macao",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xe9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"St. Helena",SI:"Slovenia",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",ST:"S\xe3o Tom\xe9 & Pr\xedncipe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks & Caicos Islands",TD:"Chad",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"T\xfcrkiye",TT:"Trinidad & Tobago",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VC:"St. Vincent & Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",AC:"Ascension Island",AS:"American Samoa",AX:"\xc5land Islands",CC:"Cocos (Keeling) Islands",CK:"Cook Islands",CX:"Christmas Island",EH:"Western Sahara",FO:"Faroe Islands",GG:"Guernsey",GU:"Guam",IM:"Isle of Man",JE:"Jersey",IO:"British Indian Ocean Territory",KI:"Kiribati",MH:"Marshall Islands",MP:"Northern Mariana Islands",NF:"Norfolk Island",NR:"Nauru",NU:"Niue",PM:"Saint Pierre and Miquelon",PR:"Puerto Rico",PS:"Palestine",SJ:"Svalbard and Jan Mayen",SS:"South Sudan",TA:"Tristan da Cunha",TK:"Tokelau",TV:"Tuvalu",VA:"Holy See",VI:"Virgin Islands",WF:"Wallis and Futuna"},cancel:"Cancel",done:"Done",more:"More",otherDate:"Other date...",showAll:"Show all",hide:"Hide",mobileCalendarTexts:["Choose day","Choose range","Choose days"],range:["from","to"],countTexts:["Plus","Minus"],time:{"HH:MM":"HH:MM","HH:MM AA":"HH:MM AA","HH:MM:SS":"HH:MM:SS","HH:MM:SS AA":"HH:MM:SS AA","HH:MM:SS.MSS":"HH:MM:SS.MSS","HH:MM:SS.MSS AA":"HH:MM:SS.MSS AA"},dateTexts:{DMY:"dd.mm.yyyy",MDY:"mm.dd.yyyy",YMD:"yyyy.mm.dd"},digitalInformationUnits:["B","KiB","MiB"],passwordTexts:["Show password","Hide password"],copyTexts:["Copy","Copied"],shortCalendarMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pagination:["Previous page","Next page"],fileTexts:{loadingError:"Upload failed",preview:"Preview",remove:"Remove"},inputFileTexts:{defaultLabelSingle:"or drop\xa0it\xa0here",defaultLabelMultiple:"or drop\xa0them\xa0here",defaultLinkSingle:"Choose a file",defaultLinkMultiple:"Choose files",maxSizeRejectionReason:"File is larger than",formatRejectionReason:"Wrong file type",drop:"Drop file here",dropMultiple:"Drop files here"},multiSelectTexts:{all:"Select all",none:"Select none"},confirm:{yes:"Yes",no:"No"},previewTexts:{rotate:"Rotate"},zoomTexts:{zoomOut:"Zoom out",zoomIn:"Zoom in",reset:"Reset"},phoneSearch:"Type country or code",showHideText:"Show/Hide",paginationTexts:{pages:"Pages",linesPerPage:"Lines per page",of:"of"},cardNumber:["Number","Card number"],cardExpiry:["Expires","Valid through"],colorSelectorModeNames:["Solid color","Gradient"],toolbarTools:{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"Font size",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"Highlight color",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript",insertTable:"Insert table",insertGroup:"Insert group",hiliteGroup:"Hilite group",removeGroup:"Remove group",insertAnchor:"Insert anchor",mergeCells:"Merge cells",splitCells:"Split cells",rowsColumnsManaging:"Managing rows and columns",cellColor:"Cell color",setDetails:"Details",removeDetails:"Remove details"},editorEditLink:{urlExample:"example.com",anchorExample:"anchor"},editorTableCommands:[["Insert column before","Insert column after"],["Insert row before","Insert row after"],["Delete column","Delete row"]],editorCodeOptions:["Code in the text","Code in block"],editorFontOptions:{small:"Small",large:"Large",normal:"Normal",title:"Title",subtitle:"Subtitle"}};var f=o(2096);const v=(0,t.N1)(()=>h),C=(0,t.N1)(()=>(0,f.of)((0,e.f3M)(v)));(0,t.JN)(),(0,t.JN)("tuiLanguage")},6813:(Qt,$,o)=>{"use strict";o.d($,{vv:()=>i});var e=o(5879),t=o(7235),a=o(7398);function i(v){return()=>(0,e.f3M)(t.Co).pipe((0,a.U)(C=>C[v]))}},3588:(Qt,$,o)=>{"use strict";o.d($,{nV:()=>O,ug:()=>E});var e=o(6814),t=o(5879),a=o(8451),i=o(1534),g=o(47);function T(S,w){if(1&S&&t._UZ(0,"img",5),2&S){const p=t.oxw();t.Q6J("src",p.value,t.LSH)}}function _(S,w){if(1&S&&t._UZ(0,"tui-icon",6),2&S){const p=t.oxw();t.Q6J("icon",p.value.toString())}}function m(S,w){if(1&S&&(t.ynx(0),t._uU(1),t.BQk()),2&S){const p=t.oxw();t.xp6(1),t.Oqu(p.value)}}function h(S,w){1&S&&(t.ynx(0),t.Hsn(1),t.BQk())}const f=["*"],D={appearance:"",round:!0,size:"l"},y=(0,a.JN)(D);function E(S){return(0,a.vK)(y,S,D)}let O=(()=>{class S{constructor(){this.options=(0,t.f3M)(y),this.size=this.options.size,this.round=this.options.round}get value(){return this.src||""}get svg(){return(0,a.Aj)(this.value)&&this.value.endsWith(".svg")}get type(){return this.value&&!(0,a.Aj)(this.value)?"img":this.value.startsWith("@tui.")?"icon":this.value.length>0&&this.value.length<3?"text":this.value.length?"img":"content"}static{this.\u0275fac=function(L){return new(L||S)}}static{this.\u0275cmp=t.Xpm({type:S,selectors:[["tui-avatar"],["button","tuiAvatar",""],["a","tuiAvatar",""]],hostVars:6,hostBindings:function(L,V){2&L&&(t.uIk("data-size",V.size)("data-type",V.type),t.ekj("_round",V.round)("_svg",V.svg))},inputs:{size:"size",round:"round",src:"src"},standalone:!0,features:[t._Bn([(0,g.mS)(y)]),t.jDz,t.zW0([g.$y])],ngContentSelectors:f,decls:5,vars:4,consts:[[3,"ngSwitch"],["alt","","loading","lazy",3,"src",4,"ngSwitchCase"],[3,"icon",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["alt","","loading","lazy",3,"src"],[3,"icon"]],template:function(L,V){1&L&&(t.F$t(),t.ynx(0,0),t.YNc(1,T,1,1,"img",1),t.YNc(2,_,1,1,"tui-icon",2),t.YNc(3,m,2,1,"ng-container",3),t.YNc(4,h,2,0,"ng-container",4),t.BQk()),2&L&&(t.Q6J("ngSwitch",V.type),t.xp6(1),t.Q6J("ngSwitchCase","img"),t.xp6(1),t.Q6J("ngSwitchCase","icon"),t.xp6(1),t.Q6J("ngSwitchCase","text"))},dependencies:[e.RF,e.n9,e.ED,i.R],styles:['[_nghost-%COMP%]{--t-size: 3.5rem;--t-radius: .75rem;position:relative;display:inline-flex;flex-shrink:0;inline-size:var(--t-size);block-size:var(--t-size);align-items:center;justify-content:center;white-space:nowrap;border-radius:var(--t-radius);border:none;background:var(--tui-background-neutral-1);color:var(--tui-text-secondary);vertical-align:middle;box-sizing:border-box;padding:.25rem;opacity:.999}[data-size=xs][_nghost-%COMP%]{--t-size: var(--tui-height-xs);--t-radius: .5rem;font:var(--tui-font-text-xs);font-weight:700}[data-size=xs][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-size:.5625rem}[data-size=s][_nghost-%COMP%]{--t-size: var(--tui-height-s);--t-radius: .5rem;font:var(--tui-font-text-s);font-weight:700}[data-size=s][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-xs);font-weight:700}[data-size=m][_nghost-%COMP%]{--t-size: calc(var(--tui-height-m) - .25rem);--t-radius: .75rem;font:var(--tui-font-text-l);font-weight:700}[data-size=m][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-weight:700}[data-size=l][_nghost-%COMP%]{--t-size: var(--tui-height-l);--t-radius: .75rem;font:var(--tui-font-heading-5)}[data-size=l][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-l);font-weight:700}[data-size=xl][_nghost-%COMP%]{--t-size: 5rem;--t-radius: .75rem;font:var(--tui-font-heading-3)}[data-size=xl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-4)}[data-size=xxl][_nghost-%COMP%]{--t-size: 6rem;--t-radius: 1rem;font:var(--tui-font-heading-3)}[data-size=xxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-size=xxxl][_nghost-%COMP%]{--t-size: 8rem;--t-radius: 1.25rem;font:var(--tui-font-heading-2)}[data-size=xxxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-type=img][_nghost-%COMP%]:not(._svg){background:transparent}[data-type=icon][_nghost-%COMP%]:before{content:""}._round[_nghost-%COMP%]{--t-radius: calc(var(--t-size) / 2)}._svg[_nghost-%COMP%]   img[_ngcontent-%COMP%]{padding:20%;object-fit:contain}[_nghost-%COMP%]   tui-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);inline-size:60%;block-size:60%}[_nghost-%COMP%]     img, [_nghost-%COMP%]     picture, [_nghost-%COMP%]     video{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;object-fit:cover;box-sizing:border-box;border-radius:inherit}'],changeDetection:0})}}return S})()},1223:(Qt,$,o)=>{"use strict";o.d($,{Cb:()=>h,Es:()=>_});var e=o(5879),t=o(8451),a=o(47),i=o(5738);const g={appearance:"",size:"l"},T=(0,t.JN)(g);function _(f){return(0,t.vK)(T,f,g)}let m=(()=>{class f{static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275cmp=e.Xpm({type:f,selectors:[["ng-component"]],hostAttrs:[1,"tui-badge"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(D,y){},styles:['tui-badge,[tuiBadge]{--t-icon-size: 1rem;--t-padding: 0 .5rem;--t-size: var(--tui-height-xs);--t-margin: -.25rem;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, var(--t-0, 0rem)) - 2 * var(--t-margin, 0rem));border-radius:6rem;background:#959595;color:var(--tui-background-base);padding:var(--t-padding);block-size:var(--t-size);min-inline-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;font:var(--tui-font-text-s)}tui-badge>img,[tuiBadge]>img,tui-badge>tui-svg,[tuiBadge]>tui-svg,tui-badge>tui-icon,[tuiBadge]>tui-icon,tui-badge>tui-avatar,[tuiBadge]>tui-avatar,tui-badge>tui-badge,[tuiBadge]>tui-badge,tui-badge>[tuiBadge],[tuiBadge]>[tuiBadge],tui-badge>[tuiRadio],[tuiBadge]>[tuiRadio],tui-badge>[tuiSwitch],[tuiBadge]>[tuiSwitch],tui-badge>[tuiCheckbox],[tuiBadge]>[tuiCheckbox],tui-badge[tuiIcons]:before,[tuiBadge][tuiIcons]:before,tui-badge[tuiIcons]:after,[tuiBadge][tuiIcons]:after{margin:var(--t-margin)}tui-badge[tuiStatus]:before,[tuiBadge][tuiStatus]:before{inline-size:.375rem;block-size:.375rem;margin-inline-end:-.25rem}tui-badge>tui-icon,[tuiBadge]>tui-icon,tui-badge[tuiIcons]:before,[tuiBadge][tuiIcons]:before,tui-badge[tuiIcons]:after,[tuiBadge][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-badge[data-appearance=error],[tuiBadge][data-appearance=error],tui-badge[data-appearance=negative],[tuiBadge][data-appearance=negative]{--t-status: var(--tui-status-negative)}tui-badge[data-appearance=success],[tuiBadge][data-appearance=success],tui-badge[data-appearance=positive],[tuiBadge][data-appearance=positive]{--t-status: var(--tui-status-positive)}tui-badge[data-appearance=warning],[tuiBadge][data-appearance=warning]{--t-status: var(--tui-status-warning)}tui-badge[data-appearance=info],[tuiBadge][data-appearance=info]{--t-status: var(--tui-status-info)}tui-badge[data-appearance=neutral],[tuiBadge][data-appearance=neutral]{--t-status: var(--tui-status-neutral)}tui-badge[tuiStatus][data-appearance=error]:before,[tuiBadge][tuiStatus][data-appearance=error]:before,tui-badge[tuiStatus][data-appearance=success]:before,[tuiBadge][tuiStatus][data-appearance=success]:before,tui-badge[tuiStatus][data-appearance=negative]:before,[tuiBadge][tuiStatus][data-appearance=negative]:before,tui-badge[tuiStatus][data-appearance=positive]:before,[tuiBadge][tuiStatus][data-appearance=positive]:before,tui-badge[tuiStatus][data-appearance=warning]:before,[tuiBadge][tuiStatus][data-appearance=warning]:before,tui-badge[tuiStatus][data-appearance=info]:before,[tuiBadge][tuiStatus][data-appearance=info]:before,tui-badge[tuiStatus][data-appearance=neutral]:before,[tuiBadge][tuiStatus][data-appearance=neutral]:before{content:"";display:block;margin:0}tui-badge[data-size=s],[tuiBadge][data-size=s]{--t-padding: 0 .3125rem;--t-size: 1rem;--t-icon-size: .625rem;--t-margin: -.125rem;font:var(--tui-font-text-xs)}tui-badge[data-size=s][tuiStatus]:before,[tuiBadge][data-size=s][tuiStatus]:before{inline-size:.25rem;block-size:.25rem;margin-inline-end:-.125rem}tui-badge[data-size=m],[tuiBadge][data-size=m]{--t-padding: 0 .375rem;--t-size: 1.25rem;--t-icon-size: .75rem;--t-margin: -.125rem}tui-badge[data-size=xl],[tuiBadge][data-size=xl]{--t-margin: -.25rem;--t-padding: 0 .75rem;--t-size: var(--tui-height-s);font:var(--tui-font-text-m)}tui-badge[data-size=xl][tuiStatus]:before,[tuiBadge][data-size=xl][tuiStatus]:before{inline-size:.5rem;block-size:.5rem;margin-inline-end:-.125rem}tui-badge[tuiAppearance][data-appearance=error],[tuiBadge][tuiAppearance][data-appearance=error],tui-badge[tuiAppearance][data-appearance=success],[tuiBadge][tuiAppearance][data-appearance=success],tui-badge[tuiAppearance][data-appearance=negative],[tuiBadge][tuiAppearance][data-appearance=negative],tui-badge[tuiAppearance][data-appearance=positive],[tuiBadge][tuiAppearance][data-appearance=positive],tui-badge[tuiAppearance][data-appearance=warning],[tuiBadge][tuiAppearance][data-appearance=warning],tui-badge[tuiAppearance][data-appearance=info],[tuiBadge][tuiAppearance][data-appearance=info],tui-badge[tuiAppearance][data-appearance=neutral],[tuiBadge][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}img[tuiBadge]{padding:0;inline-size:var(--t-size)}tui-icon[tuiBadge]{--t-margin: 0 !important;-webkit-mask:none;mask:none;block-size:var(--t-size);inline-size:var(--t-size)}tui-icon[tuiBadge][data-size=s]:after{-webkit-mask-size:.625rem;mask-size:.625rem}tui-icon[tuiBadge][data-size=m]:after{-webkit-mask-size:.75rem;mask-size:.75rem}tui-icon[tuiBadge][data-size=l]:after,tui-icon[tuiBadge][data-size=xl]:after{-webkit-mask-size:1rem;mask-size:1rem}\n'],encapsulation:2,changeDetection:0})}}return f})(),h=(()=>{class f{constructor(){this.nothing=(0,t.__)(m),this.size=(0,e.f3M)(T).size}static{this.\u0275fac=function(D){return new(D||f)}}static{this.\u0275dir=e.lG2({type:f,selectors:[["tui-badge"],["","tuiBadge",""]],hostVars:1,hostBindings:function(D,y){2&D&&e.uIk("data-size",y.size)},inputs:{size:"size"},standalone:!0,features:[e._Bn([(0,a.mS)(T)]),e.zW0([a.$y,i.M])]})}}return f})()},6939:(Qt,$,o)=>{"use strict";o.d($,{BC:()=>C});var e=o(5879),t=o(6223),a=o(7242),i=o(8451),g=o(47),T=o(5738),_=o(3588);const h=(0,i.JN)({appearance:"outline-grayscale",size:"l"});let v=(()=>{class D{static{this.\u0275fac=function(O){return new(O||D)}}static{this.\u0275cmp=e.Xpm({type:D,selectors:[["ng-component"]],hostAttrs:[1,"tui-block"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(O,M){},styles:['[tuiBlock]{--t-height: var(--tui-height-l);--t-radius: var(--tui-radius-l);position:relative;display:inline-flex;gap:.75rem;color:var(--tui-text-primary);border-radius:var(--t-radius);min-block-size:var(--t-height);margin:0;box-sizing:border-box;cursor:pointer;overflow:hidden;font:var(--tui-font-text-m);padding:var(--tui-padding-l)}[tuiBlock][data-size=s]{gap:.5rem;font:var(--tui-font-text-ui-s);padding:.5rem;--t-height: var(--tui-height-s);--t-radius: var(--tui-radius-m)}[tuiBlock][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-ui-xs)}[tuiBlock][data-size=s] [tuiTooltip]{margin:0 .125rem}[tuiBlock][data-size=m]{gap:.625rem;font:var(--tui-font-text-ui-m);padding:var(--tui-padding-m);--t-height: var(--tui-height-m);--t-radius: var(--tui-radius-m)}[tuiBlock][data-size=m] input:not([tuiBlock]){margin:.125rem}[tuiBlock][data-size=m] [tuiTooltip]{margin:.125rem}[tuiBlock]._disabled{pointer-events:none;opacity:var(--tui-disabled-opacity)}[tuiBlock]._disabled :focus{visibility:hidden}[tuiBlock][data-appearance=""]{justify-content:center}[tuiBlock] input[tuiBlock]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;min-block-size:0;pointer-events:none;border-radius:inherit}[tuiBlock] tui-avatar{margin:-.25rem}[tuiBlock] [tuiTitle]{flex:1;gap:0;font:inherit;color:var(--tui-text-primary)}[tuiBlock] [tuiSubtitle]{color:var(--tui-text-secondary)}[tuiBlock] [tuiTooltip]{vertical-align:bottom;margin:.25rem;font-size:1rem;border:none}\n'],encapsulation:2,changeDetection:0})}}return D})(),C=(()=>{class D{constructor(){this.nothing=(0,i.__)(v),this.size=(0,e.f3M)(h).size}static{this.\u0275fac=function(O){return new(O||D)}}static{this.\u0275dir=e.lG2({type:D,selectors:[["label","tuiBlock",""],["input","tuiBlock",""]],contentQueries:function(O,M,U){if(1&O&&e.Suo(U,t.a5,5),2&O){let R;e.iGM(R=e.CRH())&&(M.control=R.first)}},hostAttrs:["tuiBlock",""],hostVars:3,hostBindings:function(O,M){2&O&&(e.uIk("data-size",M.size||"l"),e.ekj("_disabled",!(null==M.control||!M.control.disabled)))},inputs:{size:["tuiBlock","size"]},standalone:!0,features:[e._Bn([(0,g.mS)(h),(0,_.ug)({size:"s"})]),e.zW0([a.k,g.$y,T.M])]})}}return D})()},5820:(Qt,$,o)=>{"use strict";o.d($,{R:()=>m});var e=o(5879),t=o(8451),a=o(2527),i=o(6669),g=o(8797);const T=["tuiButton","","loading",""],_=["*"];let m=(()=>{class h{constructor(){this.options=(0,e.f3M)(a.Gm),this.size=this.options.size,this.loading=!1}get loaderSize(){return(0,g.R9)(this.size)?"m":"s"}get label(){return(0,t.Aj)(this.loading)?this.loading:""}onClick(v){this.loading&&v.stopPropagation()}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275cmp=e.Xpm({type:h,selectors:[["","tuiButton","","loading",""],["","tuiIconButton","","loading",""]],hostVars:3,hostBindings:function(C,D){1&C&&e.NdJ("click.capture",function(E){return D.onClick(E)}),2&C&&(e.uIk("aria-disabled",D.loading),e.ekj("_loading",D.loading))},inputs:{size:"size",loading:"loading"},standalone:!0,features:[e.jDz],attrs:T,ngContentSelectors:_,decls:2,vars:4,consts:[["aria-live","polite","role","status",1,"t-loader",3,"inheritColor","showLoader","size","textContent"]],template:function(C,D){1&C&&(e.F$t(),e.Hsn(0),e._UZ(1,"tui-loader",0)),2&C&&(e.xp6(1),e.Q6J("inheritColor",!0)("showLoader",!!D.loading)("size",D.loaderSize)("textContent",D.label))},dependencies:[i.A6],encapsulation:2,changeDetection:0})}}return h})()},4767:(Qt,$,o)=>{"use strict";o.d($,{im:()=>D,u3:()=>y});var e=o(5879),t=o(1993),a=o(6223),i=o(7242),g=o(1393),T=o(5929),_=o(8451),m=o(47),h=o(2701);const f=["type","checkbox","tuiCheckbox",""],v={size:"m",appearance:E=>E.checked||E.indeterminate?"primary":"outline-grayscale",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},C=(0,_.JN)(v);function D(E){return(0,_.vK)(C,E,v)}let y=(()=>{class E{constructor(){this.appearance=(0,e.f3M)(m.Nm),this.options=(0,e.f3M)(C),this.resolver=(0,h.Ps)(),this.destroyRef=(0,e.f3M)(e.ktI),this.el=(0,T.AG)(),this.size=this.options.size,this.control=(0,e.f3M)(a.a5,{optional:!0,self:!0})}ngOnInit(){this.control?.valueChanges&&(0,g.EK)(this.control).pipe((0,t.sL)(this.destroyRef)).subscribe(M=>{this.el.indeterminate=null===(this.control instanceof a.On&&null===M?this.control.model:M)})}ngDoCheck(){this.appearance.tuiAppearance=(0,_.Aj)(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}getIcon(M){const U=this.options.icons[M],R=(0,_.Aj)(U)?U:U(this.size);return R&&`url(${this.resolver(R)})`}static{this.\u0275fac=function(U){return new(U||E)}}static{this.\u0275cmp=e.Xpm({type:E,selectors:[["input","type","checkbox","tuiCheckbox",""]],hostVars:8,hostBindings:function(U,R){2&U&&(e.Ikx("disabled",!R.control||R.control.disabled),e.uIk("data-size",R.size),e.Udp("--t-checked-icon",R.getIcon("checked"))("--t-indeterminate-icon",R.getIcon("indeterminate")),e.ekj("_readonly",!R.control))},inputs:{size:"size"},standalone:!0,features:[e.jDz,e.zW0([{directive:m.Nm,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus"]},i.k])],attrs:f,decls:0,vars:0,template:function(U,R){},styles:['[tuiCheckbox]{--t-size: 1.5rem;--t-radius: var(--tui-radius-s);inline-size:var(--t-size);block-size:var(--t-size);border-radius:var(--t-radius);cursor:pointer;margin:0;flex-shrink:0}[tuiCheckbox]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";background:currentColor;-webkit-mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>\') center / 100%;mask:url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>\') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}[tuiCheckbox]:disabled._readonly{opacity:1}[tuiCheckbox]:checked:before,[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);transform:scale(1);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out,-webkit-mask 0s ease-in-out}[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-indeterminate-icon);mask-image:var(--t-indeterminate-icon)}[tuiCheckbox][data-size=s]{--t-size: 1rem;--t-radius: var(--tui-radius-xs)}\n'],encapsulation:2,changeDetection:0})}}return E})()},1297:(Qt,$,o)=>{"use strict";o.d($,{Mr:()=>v,Xt:()=>D});var e=o(5879),t=o(8451),a=o(2527),i=o(47),g=o(5738),T=o(3588),_=o(4767),m=o(5375);const h={appearance:"neutral",size:"s"},f=(0,t.JN)(h);function v(y){return(0,t.vK)(f,y,h)}let C=(()=>{class y{static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275cmp=e.Xpm({type:y,selectors:[["ng-component"]],hostAttrs:[1,"tui-chip"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(M,U){},styles:["tui-chip,[tuiChip]{--t-gap: .125rem;--t-margin: -.125rem;--t-icon-size: 1rem;--t-padding: 0 .625rem;--t-size: var(--tui-height-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, var(--t-0, 0rem)) - 2 * var(--t-margin, 0rem));font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);padding:var(--t-padding);block-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate}tui-chip>img,[tuiChip]>img,tui-chip>tui-svg,[tuiChip]>tui-svg,tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip>tui-avatar,[tuiChip]>tui-avatar,tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge],tui-chip>[tuiRadio],[tuiChip]>[tuiRadio],tui-chip>[tuiSwitch],[tuiChip]>[tuiSwitch],tui-chip>[tuiCheckbox],[tuiChip]>[tuiCheckbox],tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{margin:var(--t-margin)}tui-chip:-webkit-any(a,button,select,textarea,input,label),[tuiChip]:-webkit-any(a,button,select,textarea,input,label){cursor:pointer}tui-chip:-moz-any(a,button,select,textarea,input,label),[tuiChip]:-moz-any(a,button,select,textarea,input,label){cursor:pointer}tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-chip>[tuiIconButton],[tuiChip]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=xxs],[tuiChip][data-size=xxs]{--t-gap: var(--t-0, 0rem);--t-padding: 0 .25rem;--t-size: 1rem;--t-icon-size: .75rem;font:var(--tui-font-text-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xxs]>[tuiIconButton],[tuiChip][data-size=xxs]>[tuiIconButton]{margin:-.5rem;transform:scale(.75)}tui-chip[data-size=xs],[tuiChip][data-size=xs]{--t-padding: 0 .375rem;--t-size: var(--tui-height-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xs]>[tuiIconButton],[tuiChip][data-size=xs]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=m],[tuiChip][data-size=m]{--t-margin: -.375rem;--t-icon-size: 1.5rem;--t-padding: 0 1rem;--t-size: var(--tui-height-m);font:var(--tui-font-text-m)}tui-chip[data-size=m]>[tuiIconButton],[tuiChip][data-size=m]>[tuiIconButton]{margin:-.75rem}tui-chip>img,[tuiChip]>img,tui-chip tui-avatar,[tuiChip] tui-avatar{inline-size:1.5rem;margin-inline-start:-.375rem}tui-chip>input[tuiChip],[tuiChip]>input[tuiChip]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;z-index:-1;margin:0}tui-chip[tuiAppearance][data-appearance=error],[tuiChip][tuiAppearance][data-appearance=error],tui-chip[tuiAppearance][data-appearance=success],[tuiChip][tuiAppearance][data-appearance=success],tui-chip[tuiAppearance][data-appearance=negative],[tuiChip][tuiAppearance][data-appearance=negative],tui-chip[tuiAppearance][data-appearance=positive],[tuiChip][tuiAppearance][data-appearance=positive],tui-chip[tuiAppearance][data-appearance=warning],[tuiChip][tuiAppearance][data-appearance=warning],tui-chip[tuiAppearance][data-appearance=info],[tuiChip][tuiAppearance][data-appearance=info],tui-chip[tuiAppearance][data-appearance=neutral],[tuiChip][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}\n"],encapsulation:2,changeDetection:0})}}return y})(),D=(()=>{class y{constructor(){this.options=(0,e.f3M)(f),this.nothing=(0,t.__)(C),this.size=this.options.size}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=e.lG2({type:y,selectors:[["tui-chip"],["","tuiChip",""]],hostVars:1,hostBindings:function(M,U){2&M&&e.uIk("data-size",U.size)},inputs:{size:"size"},standalone:!0,features:[e._Bn([(0,i.mS)(f),(0,m.wt)({size:"s"}),(0,_.im)({size:"s"}),(0,T.ug)({size:"xs"}),(0,a.O0)({size:"xs",appearance:"icon"})]),e.zW0([i.$y,g.M])]})}}return y})()},2198:(Qt,$,o)=>{"use strict";o.d($,{k2:()=>v});var e=o(6814),t=o(5879),a=o(7936),i=o(385),g=o(2527),T=o(5086),_=o(5586);function m(D,y){1&D&&t._UZ(0,"div",2),2&D&&t.Q6J("innerHTML",y.polymorpheusOutlet,t.oJD)}function h(D,y){if(1&D){const E=t.EpF();t.TgZ(0,"div",3)(1,"button",4),t.NdJ("click",function(){t.CHM(E);const M=t.oxw();return t.KtG(M.context.completeWith(!1))}),t._uU(2),t.qZA(),t.TgZ(3,"button",5),t.NdJ("click",function(){t.CHM(E);const M=t.oxw();return t.KtG(M.context.completeWith(!0))}),t._uU(4),t.qZA()()}if(2&D){const E=y.ngIf,O=t.oxw();t.xp6(1),t.Q6J("appearance",O.appearance),t.xp6(1),t.hij(" ",(null==O.context.data?null:O.context.data.no)||E.no," "),t.xp6(1),t.Q6J("appearance",(null==O.context.data?null:O.context.data.appearance)||"primary"),t.xp6(1),t.hij(" ",(null==O.context.data?null:O.context.data.yes)||E.yes," ")}}const v=new _.Al((()=>{class D{constructor(){this.isMobile=(0,t.f3M)(i.fL),this.words$=(0,t.f3M)(T.Fu),this.context=(0,_.FQ)()}get appearance(){return this.isMobile?"secondary":"flat"}static{this.\u0275fac=function(O){return new(O||D)}}static{this.\u0275cmp=t.Xpm({type:D,selectors:[["tui-confirm"]],standalone:!0,features:[t.jDz],decls:3,vars:4,consts:[["class","t-content",3,"innerHTML",4,"polymorpheusOutlet"],["class","t-buttons",4,"ngIf"],[1,"t-content",3,"innerHTML"],[1,"t-buttons"],["size","m","tuiButton","","type","button",1,"t-button",3,"appearance","click"],["size","m","tuiAutoFocus","","tuiButton","","type","button",1,"t-button",3,"appearance","click"]],template:function(O,M){1&O&&(t.YNc(0,m,1,1,"div",0),t.YNc(1,h,5,4,"div",1),t.ALo(2,"async")),2&O&&(t.Q6J("polymorpheusOutlet",null==M.context.data?null:M.context.data.content),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,M.words$)))},dependencies:[e.ez,e.O5,e.Ov,_.s$,a.bi,g.xG],styles:[".t-content[_ngcontent-%COMP%]:not(:empty){margin-bottom:.875rem}.t-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-wrap:wrap-reverse;margin:.375rem -.375rem -.375rem}.t-button[_ngcontent-%COMP%]{margin:.375rem;white-space:nowrap}tui-root._mobile[_nghost-%COMP%]   .t-button[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-button[_ngcontent-%COMP%]{flex:1;overflow:visible}"],changeDetection:0})}}return D})())},7494:(Qt,$,o)=>{"use strict";o.d($,{Qz:()=>L,eC:()=>p});var e=o(6814),t=o(5879),a=o(5929);let i=(()=>{class et{constructor(){return this.nativeElement=(0,a.AG)(),new t.SBq(this.nativeElement)}static{this.\u0275fac=function(it){return new(it||et)}}static{this.\u0275dir=t.lG2({type:et,selectors:[["","tuiElement",""]],exportAs:["elementRef"],standalone:!0})}}return et})();var g=o(1018),T=o(6669),_=o(5586),m=o(6266),h=o(9298),f=o(8451),v=o(5086);function C(et,tt){if(1&et&&(t.ynx(0),t._uU(1),t.BQk()),2&et){const ht=tt.polymorpheusOutlet;t.xp6(1),t.hij(" ",ht," ")}}function D(et,tt){if(1&et){const ht=t.EpF();t.TgZ(0,"button",4,5),t.NdJ("click",function(){const st=t.CHM(ht).$implicit,dt=t.oxw(2);return t.KtG(dt.itemClick.emit(st))}),t.TgZ(2,"span",6),t.YNc(3,C,2,1,"ng-container",7),t.qZA()()}if(2&et){const ht=tt.$implicit,it=t.MAs(1),It=t.oxw(2);t.Q6J("disabled",It.disabledItemHandler(ht))("value",ht),t.xp6(3),t.Q6J("polymorpheusOutlet",It.itemContent)("polymorpheusOutletContext",It.getContext(ht,it))}}function y(et,tt){if(1&et&&(t.TgZ(0,"tui-data-list",2),t.YNc(1,D,4,4,"button",3),t.qZA()),2&et){const ht=t.oxw();t.Q6J("emptyContent",ht.emptyContent)("size",ht.size),t.xp6(1),t.Q6J("ngForOf",ht.$cast(ht.items))}}function E(et,tt){1&et&&t._UZ(0,"tui-loader",8)}const O=["labels",""];function M(et,tt){if(1&et&&(t.ynx(0),t._uU(1),t.BQk()),2&et){const ht=tt.polymorpheusOutlet;t.xp6(1),t.hij(" ",ht," ")}}function U(et,tt){if(1&et){const ht=t.EpF();t.TgZ(0,"button",6,7),t.NdJ("click",function(){const st=t.CHM(ht).$implicit,dt=t.oxw(3);return t.KtG(dt.itemClick.emit(st))}),t.YNc(2,M,2,1,"ng-container",8),t.qZA()}if(2&et){const ht=tt.$implicit,it=t.MAs(1),It=t.oxw(3);t.Q6J("disabled",It.disabledItemHandler(ht))("value",ht),t.xp6(2),t.Q6J("polymorpheusOutlet",It.itemContent)("polymorpheusOutletContext",It.getContext(ht,it))}}function R(et,tt){if(1&et&&(t.TgZ(0,"tui-opt-group",4),t.YNc(1,U,3,4,"button",5),t.qZA()),2&et){const ht=tt.$implicit,it=tt.index,It=t.oxw(2);t.Q6J("label",It.labels[it]),t.xp6(1),t.Q6J("ngForOf",ht)}}function A(et,tt){if(1&et&&(t.TgZ(0,"tui-data-list",2),t.YNc(1,R,2,2,"tui-opt-group",3),t.qZA()),2&et){const ht=t.oxw();t.Q6J("emptyContent",ht.emptyContent)("size",ht.size),t.xp6(1),t.Q6J("ngForOf",ht.items)}}function S(et,tt){1&et&&t._UZ(0,"tui-loader",9)}let p=(()=>{class et{constructor(){this.itemsHandlers=(0,t.f3M)(v.Ys),this.optionsQuery=m.Mm,this.items=[],this.disabledItemHandler=this.itemsHandlers.disabledItemHandler,this.size=(0,g.lt)(),this.itemClick=new t.vpe,this.itemContent=({$implicit:ht})=>this.itemsHandlers.stringify(ht)}getContext(ht,{nativeElement:it}){return{$implicit:ht,active:(0,h.V8)(it)}}getOptions(ht=!1){return this.optionsQuery.filter(({disabled:it})=>ht||!it).map(({value:it})=>it).filter(f.Pc)}$cast(ht){return ht}static{this.\u0275fac=function(it){return new(it||et)}}static{this.\u0275cmp=t.Xpm({type:et,selectors:[["tui-data-list-wrapper",3,"labels",""]],viewQuery:function(it,It){if(1&it&&t.Gf(g.bH,5),2&it){let st;t.iGM(st=t.CRH())&&(It.optionsQuery=st)}},inputs:{items:"items",disabledItemHandler:"disabledItemHandler",emptyContent:"emptyContent",size:"size",itemContent:"itemContent"},outputs:{itemClick:"itemClick"},standalone:!0,features:[t._Bn([(0,g.RB)(et)]),t.jDz],decls:3,vars:2,consts:[[3,"emptyContent","size",4,"ngIf","ngIfElse"],["loading",""],[3,"emptyContent","size"],["automation-id","tui-data-list-wrapper__option","tuiElement","","tuiOption","","type","button",3,"disabled","value","click",4,"ngFor","ngForOf"],["automation-id","tui-data-list-wrapper__option","tuiElement","","tuiOption","","type","button",3,"disabled","value","click"],["elementRef","elementRef"],[1,"t-content"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-data-list-wrapper__loader",1,"t-loader"]],template:function(it,It){if(1&it&&(t.YNc(0,y,2,3,"tui-data-list",0),t.YNc(1,E,1,0,"ng-template",null,1,t.W1O)),2&it){const st=t.MAs(2);t.Q6J("ngIf",It.items)("ngIfElse",st)}},dependencies:[e.sg,e.O5,_.s$,g.qi,g.bH,i,T.A6],styles:["[_nghost-%COMP%]{display:block}.t-content[_ngcontent-%COMP%]{flex:1;min-inline-size:0}.t-loader[_ngcontent-%COMP%]{margin:.75rem 0}"],changeDetection:0})}}return et})(),L=(()=>{class et extends p{constructor(){super(...arguments),this.labels=[]}static{this.\u0275fac=function(){let ht;return function(It){return(ht||(ht=t.n5z(et)))(It||et)}}()}static{this.\u0275cmp=t.Xpm({type:et,selectors:[["tui-data-list-wrapper","labels",""]],inputs:{labels:"labels"},standalone:!0,features:[t._Bn([(0,g.RB)(et)]),t.qOj,t.jDz],attrs:O,decls:3,vars:2,consts:[[3,"emptyContent","size",4,"ngIf","ngIfElse"],["loading",""],[3,"emptyContent","size"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],["automation-id","tui-data-list-wrapper__option","tuiElement","","tuiOption","","type","button",3,"disabled","value","click",4,"ngFor","ngForOf"],["automation-id","tui-data-list-wrapper__option","tuiElement","","tuiOption","","type","button",3,"disabled","value","click"],["elementRef","elementRef"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-loader"]],template:function(it,It){if(1&it&&(t.YNc(0,A,2,3,"tui-data-list",0),t.YNc(1,S,1,0,"ng-template",null,1,t.W1O)),2&it){const st=t.MAs(2);t.Q6J("ngIf",It.items)("ngIfElse",st)}},dependencies:[e.sg,e.O5,_.s$,g.qi,g.bH,g.c4,i,T.A6],styles:["[_nghost-%COMP%]{display:block}.t-content[_ngcontent-%COMP%]{flex:1;min-inline-size:0}.t-loader[_ngcontent-%COMP%]{margin:.75rem 0}"],changeDetection:0})}}return et})()},5467:(Qt,$,o)=>{"use strict";o.d($,{Ve:()=>it,aL:()=>ht});var e=o(8442),t=o(6814),a=o(5879),i=o(1993),g=o(2071),T=o(6918),_=o(6266),m=o(8645),h=o(5592),f=o(3019),v=o(3620),C=o(7398),D=o(3997),y=o(3020),E=o(1393),O=o(5929),M=o(6456);function U(st,dt){1&st&&a.GkF(0)}function R(st,dt){if(1&st&&a.GkF(0,4),2&st){a.oxw();const St=a.MAs(6);a.Q6J("ngTemplateOutlet",St)}}function A(st,dt){1&st&&a.GkF(0)}function S(st,dt){if(1&st&&(a.TgZ(0,"div",5),a.YNc(1,A,1,0,"ng-container",6),a.qZA()),2&st){const St=dt.$implicit,bt=dt.index,u=a.oxw();a.ekj("t-item_hidden",u.isHidden(bt)),a.xp6(1),a.Q6J("ngTemplateOutlet",St)}}function w(st,dt){if(1&st&&a.GkF(0,4),2&st){a.oxw();const St=a.MAs(6);a.Q6J("ngTemplateOutlet",St)}}const p=function(st){return{$implicit:st}};function L(st,dt){if(1&st&&(a.TgZ(0,"span",5),a.GkF(1,8),a.qZA()),2&st){const St=a.oxw(2);a.xp6(1),a.Q6J("ngTemplateOutlet",St.more||null)("ngTemplateOutletContext",a.VKq(2,p,St.lastIndex()))}}function V(st,dt){if(1&st&&a.YNc(0,L,2,4,"span",7),2&st){const St=a.oxw();a.Q6J("ngIf",!St.isMoreHidden)}}let et=(()=>{class st{constructor(){this.itemsLimit=1/0,this.required=-1,this.side="end",this.change$=new m.x}ngOnChanges(){this.change$.next()}static{this.\u0275fac=function(bt){return new(bt||st)}}static{this.\u0275dir=a.lG2({type:st,inputs:{itemsLimit:"itemsLimit",required:"required",side:"side"},standalone:!0,features:[a.TTD]})}}return st})(),tt=(()=>{class st extends h.y{constructor(){super(St=>this.stream$.subscribe(St)),this.el=(0,O.AG)(),this.directive=(0,a.f3M)(et),this.stream$=(0,f.T)(this.directive.change$,(0,a.f3M)(g.IM,{self:!0}),(0,a.f3M)(T.ax,{self:!0})).pipe((0,v.b)(0,(0,E.de)()),(0,C.U)(()=>this.getOverflowIndex()),(0,D.x)(),(0,E.Yr)(),(0,y.B)())}getOverflowIndex(){const{side:St,itemsLimit:bt}=this.directive,{clientWidth:u,children:ut}=this.el,Z=Array.from(ut,({clientWidth:nt})=>nt),I="start"===St?0:Z.length-1,F="SPAN"===ut[I]?.tagName?Z[I]??0:0,ot=Z.reduce((nt,At)=>nt+At,0)-F;return ot<=u&&bt>=Z.length?"end"===St?bt:0:"start"===St?this.getIndexStart(Z,ot,F):this.getIndexEnd(Z,ot,F)}getIndexStart(St,bt,u){const{required:ut,itemsLimit:Z}=this.directive,{clientWidth:I}=this.el,F=Number.isFinite(Z)?St.length-Z-1:0,ot=St.length-1,nt=-1===ut?ot:ut;for(let At=1;At<ot;At++)if(At!==nt+1&&(bt-=St[At]??0)+u<=I)return(0,M.Ki)(At,nt<F?F+1:F,St.length);return St.length}getIndexEnd(St,bt,u){const{required:ut,itemsLimit:Z}=this.directive,{clientWidth:I}=this.el,F=Z>ut?Z-1:Z-2,nt=-1===ut?0:ut;for(let At=St.length-1-1;At>0;At--)if(At!==nt&&(bt-=St[At]??0)+u<=I)return(0,M.Ki)(At-1,-1,F);return-1}static{this.\u0275fac=function(bt){return new(bt||st)}}static{this.\u0275prov=a.Yz7({token:st,factory:st.\u0275fac})}}return st})(),ht=(()=>{class st{static ngTemplateContextGuard(St,bt){return!0}static{this.\u0275fac=function(bt){return new(bt||st)}}static{this.\u0275dir=a.lG2({type:st,selectors:[["","tuiMore",""]],standalone:!0})}}return st})(),it=(()=>{class st{constructor(){this.items=_.Mm,this.directive=(0,a.f3M)(et),this.lastIndex=(0,i.O4)((0,a.f3M)(tt),{initialValue:0})}get isMoreHidden(){const{side:St}=this.directive;return this.lastIndex()>=this.items.length-1&&"end"===St||!this.lastIndex()&&"start"===St}isHidden(St){const{side:bt,required:u}=this.directive;return St>this.lastIndex()&&St!==u&&"end"===bt||St<this.lastIndex()&&St!==u&&"start"===bt}static{this.\u0275fac=function(bt){return new(bt||st)}}static{this.\u0275cmp=a.Xpm({type:st,selectors:[["tui-items-with-more"]],contentQueries:function(bt,u,ut){if(1&bt&&(a.Suo(ut,ht,5,a.Rgc),a.Suo(ut,e.W,5,a.Rgc)),2&bt){let Z;a.iGM(Z=a.CRH())&&(u.more=Z.first),a.iGM(Z=a.CRH())&&(u.items=Z)}},standalone:!0,features:[a._Bn([g.IM,T.ax,tt,{provide:g.bq,useValue:{childList:!0,characterData:!0,subtree:!0}}]),a.jDz,a.zW0([{directive:et,inputs:["itemsLimit","itemsLimit","required","required","side","side"]}])],decls:7,vars:6,consts:[[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["class","t-item",3,"t-item_hidden",4,"ngFor","ngForOf"],["template",""],[3,"ngTemplateOutlet"],[1,"t-item"],[4,"ngTemplateOutlet"],["class","t-item",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(bt,u){1&bt&&(a.YNc(0,U,1,0,"ng-container",0),a.ALo(1,"async"),a.YNc(2,R,1,1,"ng-container",1),a.YNc(3,S,2,3,"div",2),a.YNc(4,w,1,1,"ng-container",1),a.YNc(5,V,1,1,"ng-template",null,3,a.W1O)),2&bt&&(a.Q6J("ngIf",a.lcZ(1,4,u.items.changes)),a.xp6(2),a.Q6J("ngIf","start"===u.directive.side),a.xp6(1),a.Q6J("ngForOf",u.items),a.xp6(1),a.Q6J("ngIf","end"===u.directive.side))},dependencies:[t.Ov,t.sg,t.O5,t.tP],styles:["[_nghost-%COMP%]{position:relative;display:flex;min-inline-size:0;flex:1;align-items:center;white-space:nowrap}.t-item[_ngcontent-%COMP%]{flex:0 0 auto}.t-item_hidden[_ngcontent-%COMP%]{position:absolute;visibility:hidden}"],changeDetection:0})}}return st})()},2777:(Qt,$,o)=>{"use strict";o.d($,{wK:()=>tt});var e=o(5879),t=o(1993),a=o(1393),i=o(5929),g=o(6201),T=o(5586),_=o(5619),m=o(8645),h=o(9080),f=o(7921),v=o(9384),C=o(4664),D=o(2096),y=o(2181),E=o(7398),O=o(3997),M=o(8451),U=o(375),R=o(5710);function A(ht,it){if(1&ht&&(e.ynx(0),e._uU(1),e.BQk()),2&ht){const It=it.polymorpheusOutlet;e.xp6(1),e.Oqu(It)}}function S(ht,it){if(1&ht&&(e.ynx(0),e._uU(1),e.BQk()),2&ht){const It=it.polymorpheusOutlet;e.xp6(1),e.hij(" ",It," ")}}const p=(0,M.JN)({showHint:!0});let V=(()=>{class ht extends g.jv{get width(){return this.accessor.getClientRect().width}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=e.n5z(ht)))(dt||ht)}}()}static{this.\u0275cmp=e.Xpm({type:ht,selectors:[["ng-component"]],hostVars:2,hostBindings:function(st,dt){2&st&&e.Udp("min-width",dt.width,"px")},standalone:!0,features:[e._Bn(g.C6),e.qOj,e.jDz],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(st,dt){1&st&&e.YNc(0,A,2,1,"ng-container",0),2&st&&e.Q6J("polymorpheusOutlet",dt.content())},dependencies:[T.s$],styles:["[_nghost-%COMP%]{position:absolute;box-shadow:var(--tui-shadow-medium);inline-size:-webkit-min-content;inline-size:min-content;padding:.75rem 1rem;margin-left:calc(-1px - 1rem);margin-top:calc(-1px - .75rem);border-radius:var(--tui-radius-l);box-sizing:content-box;border:1px solid var(--tui-border-normal);background:var(--tui-background-base);color:var(--tui-text-primary);overflow-wrap:break-word}"],data:{animation:[U.QF]},changeDetection:0})}}return ht})(),et=(()=>{class ht extends R.uG{constructor(){super(...arguments),this.accessor=(0,e.f3M)(g.D),this.type="hint"}getPosition(){const{top:It,left:st}=this.accessor.getClientRect();return[It,st]}static{this.\u0275fac=function(){let It;return function(dt){return(It||(It=e.n5z(ht)))(dt||ht)}}()}static{this.\u0275dir=e.lG2({type:ht,selectors:[["","tuiLineClampPosition",""]],standalone:!0,features:[e._Bn([(0,R.P7)(ht)]),e.qOj]})}}return ht})(),tt=(()=>{class ht{constructor(){this.options=(0,e.f3M)(p),this.el=(0,i.AG)(),this.cd=(0,e.f3M)(e.sBO),this.zone=(0,e.f3M)(e.R0b),this.linesLimit$=new _.X(1),this.isOverflown$=new m.x,this.initialized=(0,e.tdS)(!1),this.maxHeight=(0,e.tdS)(0),this.height=(0,e.tdS)(0),this.$=(0,h.H)(0).pipe((0,a.fL)(this.zone),(0,t.sL)()).subscribe(()=>this.initialized.set(!0)),this.lineClamp=(0,t.O4)(this.linesLimit$.pipe((0,f.O)(1),(0,v.G)(),(0,C.w)(([It,st])=>st>=It?(0,D.of)(st):(0,a.mL)(this.el,"transitionend").pipe((0,y.h)(i.Mq),(0,E.U)(()=>st))),(0,t.sL)()),{initialValue:0}),this.lineHeight=24,this.overflownChange=this.isOverflown$.pipe((0,O.x)())}set linesLimit(It){this.linesLimit$.next(It)}ngDoCheck(){this.update(),this.isOverflown$.next(this.overflown)}ngAfterViewInit(){this.initialized.set(!0)}get overflown(){if(!this.outlet)return!1;const{scrollHeight:It,scrollWidth:st}=this.outlet.nativeElement,{clientHeight:dt,clientWidth:St}=this.el;return It-dt>4||st-St>0}get computedContent(){return this.options.showHint&&this.overflown?this.content:""}updateView(){this.cd.detectChanges()}update(){this.outlet&&this.height.set(this.outlet.nativeElement.scrollHeight+4),this.initialized()&&this.maxHeight.set(this.lineHeight*this.linesLimit$.value)}static{this.\u0275fac=function(st){return new(st||ht)}}static{this.\u0275cmp=e.Xpm({type:ht,selectors:[["tui-line-clamp"]],viewQuery:function(st,dt){if(1&st&&e.Gf(g.D,5,e.SBq),2&st){let St;e.iGM(St=e.CRH())&&(dt.outlet=St.first)}},hostVars:6,hostBindings:function(st,dt){1&st&&e.NdJ("transitionend",function(){return dt.updateView()})("mouseenter",function(){return dt.updateView()})("resize",function(){return dt.updateView()}),2&st&&(e.Udp("height",dt.height(),"px")("max-height",dt.maxHeight(),"px"),e.ekj("_initialized",dt.initialized()))},inputs:{lineHeight:"lineHeight",content:"content",linesLimit:"linesLimit"},outputs:{overflownChange:"overflownChange"},standalone:!0,features:[e._Bn([{provide:g.y7,useValue:V}]),e.jDz],decls:2,vars:6,consts:[["tuiLineClampPosition","",1,"t-wrapper",3,"tuiHint"],[4,"polymorpheusOutlet"]],template:function(st,dt){1&st&&(e.TgZ(0,"div",0),e.YNc(1,S,2,1,"ng-container",1),e.qZA()),2&st&&(e.Udp("-webkit-line-clamp",dt.lineClamp())("word-break",dt.lineClamp()>1?"break-word":"break-all"),e.Q6J("tuiHint",dt.computedContent),e.xp6(1),e.Q6J("polymorpheusOutlet",dt.content))},dependencies:[T.s$,g.D,et],styles:["[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}._initialized[_nghost-%COMP%]{transition-property:max-height;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-wrapper[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;overflow-wrap:anywhere}"],changeDetection:0})}}return ht})()},3647:(Qt,$,o)=>{"use strict";o.d($,{CG:()=>M});var e=o(6814),t=o(5879),a=o(375),i=o(2527),g=o(2701),T=o(8797),_=o(5586),m=o(5533),h=o(4728),f=o(8451);function v(R,A){if(1&R&&(t.ynx(0),t._uU(1),t.BQk()),2&R){const S=A.polymorpheusOutlet;t.xp6(1),t.hij(" ",S," ")}}function C(R,A){1&R&&t._UZ(0,"iframe",7),2&R&&t.Q6J("src",A.polymorpheusOutlet,t.uOi)}let D=(()=>{class R{constructor(){this.options=(0,T.qS)((0,t.f3M)(g.ZW)),this.closeWord$=(0,t.f3M)(g.U0),this.icons=(0,t.f3M)(g.Gs),this.context=(0,_.FQ)()}onKeyDownEsc(){this.context.$implicit.complete()}static{this.\u0275fac=function(w){return new(w||R)}}static{this.\u0275cmp=t.Xpm({type:R,selectors:[["tui-pdf-viewer"]],hostVars:2,hostBindings:function(w,p){1&w&&t.NdJ("keydown.esc",function(){return p.onKeyDownEsc()},!1,t.evT),2&w&&t.d8E("@tuiFadeIn",p.options)("@tuiSlideInTop",p.options)},standalone:!0,features:[t.jDz],decls:10,vars:11,consts:[[1,"t-header"],["automation-id","tui-pdf-viewer__label",1,"t-title"],[1,"t-actions"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","","size","s","tuiIconButton","","type","button",1,"t-close",3,"iconStart","click"],[1,"t-content"],["title","pdf","class","t-iframe",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["title","pdf",1,"t-iframe",3,"src"]],template:function(w,p){1&w&&(t.TgZ(0,"header",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,v,2,1,"ng-container",3),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){return p.context.$implicit.complete()}),t._uU(6),t.ALo(7,"async"),t.qZA()(),t.TgZ(8,"section",5),t.YNc(9,C,1,1,"iframe",6),t.qZA()),2&w&&(t.xp6(2),t.hij(" ",p.context.label," "),t.xp6(2),t.Q6J("polymorpheusOutlet",p.context.actions)("polymorpheusOutletContext",p.context),t.xp6(1),t.Udp("border-radius",100,"%"),t.Q6J("iconStart",p.icons.close),t.xp6(1),t.hij(" ",t.lcZ(7,9,p.closeWord$)," "),t.xp6(3),t.Q6J("polymorpheusOutlet",p.context.content)("polymorpheusOutletContext",p.context))},dependencies:[e.Ov,_.s$,i.xG],styles:["[_nghost-%COMP%]{display:block;inline-size:100%;block-size:100%;box-sizing:border-box;color:#fff;background:#333639}.t-header[_ngcontent-%COMP%]{display:flex;align-items:center;block-size:4rem;padding:0 1rem 0 1.5625rem;box-shadow:inset 0 -1px #535659}.t-title[_ngcontent-%COMP%]{margin:0;font:var(--tui-font-text-m);white-space:nowrap;text-overflow:ellipsis;padding-right:.3125rem;overflow:hidden}.t-actions[_ngcontent-%COMP%]{display:flex;margin-left:auto}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-left:.75rem;color:#fff;background:#ffffff52}.t-close[_ngcontent-%COMP%]:hover{background:#fff6}.t-content[_ngcontent-%COMP%]{block-size:calc(100% - 4rem);overflow:hidden}.t-iframe[_ngcontent-%COMP%]{inline-size:100%;block-size:100%}"],data:{animation:[a.X9,a.QF]},changeDetection:0})}}return R})();const E=(0,f.JN)({label:"",actions:"",data:void 0});let M=(()=>{class R extends m.IS{open(S,w={}){return super.open(S,w)}static{this.\u0275fac=function(){let S;return function(p){return(S||(S=t.n5z(R)))(p||R)}}()}static{this.\u0275prov=t.Yz7({token:R,factory:function(){return new R(h.qY,D,(0,t.f3M)(E))},providedIn:"root"})}}return R})()},9191:(Qt,$,o)=>{"use strict";o.d($,{F0:()=>w,JI:()=>V,yK:()=>S});var e=o(5879),a=(o(5929),o(8451));o(1993),o(6918),o(1393),o(5619),o(2572),o(7398),o(3997),o(2096),o(932);const D=["tuiProgressBar",""],y=["tuiProgressLabel",""],E=[[["progress"]],[["tui-progress-circle"]],"*"],O=["progress","tui-progress-circle","*"],R={color:null,size:"m"},A=(0,a.JN)(R);function S(it){return(0,a.vK)(A,it,R)}let w=(()=>{class it{constructor(){this.options=(0,e.f3M)(A),this.color=this.options.color,this.size=this.options.size}static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275cmp=e.Xpm({type:it,selectors:[["progress","tuiProgressBar",""]],hostVars:3,hostBindings:function(dt,St){2&dt&&(e.uIk("data-size",St.size),e.Udp("--tui-progress-color",St.color))},inputs:{color:"color",size:"size"},standalone:!0,features:[e.jDz],attrs:D,decls:0,vars:0,template:function(dt,St){},styles:["@keyframes tuiIndeterminateAnimation{50%{background-position:left}}[tuiProgressBar]{-webkit-appearance:none;appearance:none;border:none;--t-height: .75rem;display:block;inline-size:100%;block-size:var(--t-height);color:var(--tui-background-accent-1);background:var(--tui-background-neutral-1);clip-path:inset(0 .5px round var(--tui-radius-m));overflow:hidden;border-radius:1rem;flex-shrink:0}[tuiProgressBar]::-webkit-progress-value{-webkit-transition:width var(--tui-duration) linear;transition:width var(--tui-duration) linear}[tuiProgressBar]::-webkit-progress-value{background:var(--tui-progress-color, currentColor);border-radius:inherit}[tuiProgressBar]::-moz-progress-bar{background:var(--tui-progress-color, currentColor);border-radius:inherit}[tuiProgressBar][data-size=xxs]{--t-height: .125rem}[tuiProgressBar][data-size=xs]{--t-height: .25rem}[tuiProgressBar][data-size=s]{--t-height: .5rem}[tuiProgressBar][data-size=l]{--t-height: 1rem}[tuiProgressBar][data-size=xl]{--t-height: 1.25rem}[tuiProgressBar][data-size=xxl]{--t-height: 1.5rem}[tuiProgressBar]:indeterminate{background:linear-gradient(to right,var(--tui-background-neutral-1) 0 45%,var(--tui-progress-color, currentColor) 45% 55%,var(--tui-background-neutral-1) 55% 100%) right;background-size:225%;animation:tuiIndeterminateAnimation 3s infinite ease-in-out}[tuiProgressBar]:indeterminate::-webkit-progress-value{background:transparent}[tuiProgressBar]:indeterminate::-moz-progress-bar{background:transparent}[tuiProgressBar]::-webkit-progress-inner-element{border-radius:inherit}[tuiProgressBar]::-webkit-progress-bar{background:transparent;border-radius:inherit}label[tuiProgressLabel] [tuiProgressBar]:not(:first-child){position:absolute;top:0;left:0;inline-size:100%;block-size:100%;background:transparent}\n"],encapsulation:2,changeDetection:0})}}return it})(),V=(()=>{class it{static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275cmp=e.Xpm({type:it,selectors:[["label","tuiProgressLabel",""]],standalone:!0,features:[e.jDz],attrs:y,ngContentSelectors:O,decls:4,vars:0,consts:[[1,"t-label"]],template:function(dt,St){1&dt&&(e.F$t(E),e.Hsn(0),e.Hsn(1,1),e.TgZ(2,"span",0),e.Hsn(3,2),e.qZA())},styles:["[_nghost-%COMP%]{position:relative;display:inline-block;color:var(--tui-text-primary)}.t-label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;font:var(--tui-font-text-s);flex-direction:column;justify-content:center;align-items:center}"],changeDetection:0})}}return it})()},1459:(Qt,$,o)=>{"use strict";o.d($,{Q:()=>D,_M:()=>C});var e=o(5879),t=o(6223),a=o(7242),i=o(5929),g=o(8451),T=o(47),_=o(6266);const m=["type","radio","tuiRadio",""],f=(0,g.JN)({size:"m",appearance:({checked:E})=>E?"primary":"outline-grayscale"});let C=(()=>{class E{constructor(){this.appearance=(0,e.f3M)(T.Nm),this.options=(0,e.f3M)(f),this.el=(0,i.AG)(),this.control=(0,e.f3M)(t.a5,{self:!0,optional:!0}),this.size=this.options.size}ngDoCheck(){this.appearance.tuiAppearance=(0,g.Aj)(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}static{this.\u0275fac=function(U){return new(U||E)}}static{this.\u0275cmp=e.Xpm({type:E,selectors:[["input","type","radio","tuiRadio",""]],hostVars:4,hostBindings:function(U,R){2&U&&(e.Ikx("disabled",!R.control||R.control.disabled),e.uIk("data-size",R.size),e.ekj("_readonly",!R.control))},inputs:{size:"size"},standalone:!0,features:[e.jDz,e.zW0([{directive:T.Nm,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus"]},a.k])],attrs:m,decls:0,vars:0,template:function(U,R){},styles:['[tuiRadio]{--t-size: 1.5rem;transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:var(--t-size);block-size:var(--t-size);cursor:pointer;margin:0;flex-shrink:0;border-radius:100%;color:var(--tui-text-primary-on-accent-1)}[tuiRadio]:disabled._readonly{opacity:1}[tuiRadio]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";border-radius:100%;background:currentColor;transform:scale(0)}[tuiRadio]:checked:before{transform:scale(.5)}[tuiRadio][data-size=s]{--t-size: 1rem}\n'],encapsulation:2,changeDetection:0})}}return E})(),D=(()=>{class E{constructor(){this.identityMatcher=_.bg;const M=(0,e.f3M)(t._),U=M.writeValue.bind(M);M.writeValue=R=>{this.identityMatcher(R,M.value)?U(M.value):U(R)}}static{this.\u0275fac=function(U){return new(U||E)}}static{this.\u0275dir=e.lG2({type:E,selectors:[["input","type","radio","tuiRadio","","identityMatcher",""]],inputs:{identityMatcher:"identityMatcher"},standalone:!0})}}return E})()},8763:(Qt,$,o)=>{"use strict";o.d($,{Z:()=>f});var e=o(5861),t=o(5879),a=o(1993),i=o(4190),g=o(4728),T=o(5586),_=o(2664),m=o(2096),h=o(4664);function f(y,{path:E="",outlet:O="",...M}={}){return{path:E,outlet:O,loadComponent:(U=(0,e.Z)(function*(){return Promise.resolve().then(function(){return D})}),function(){return U.apply(this,arguments)}),data:{dialog:y,backUrl:E.split("/").map(()=>"..").join("/"),isLazy:""===E,dialogOptions:M}};var U}let v=(()=>{class y{constructor(){this.route=(0,t.f3M)(i.gz),this.router=(0,t.f3M)(i.F0),this.injector=(0,t.f3M)(t.gxx),this.initialUrl=this.router.url,this.dialog=(0,t.f3M)(g.RO);const O=this.route.snapshot.data.dialog;(0,_.D)(function C(y){return"function"==typeof y&&!1===Object.getOwnPropertyDescriptor(y,"prototype")?.writable}(O)?(0,m.of)(O):O().then(M=>M.default??M)).pipe((0,h.w)(M=>this.dialog.open(new T.Al(M,this.injector),this.route.snapshot.data.dialogOptions)),(0,a.sL)()).subscribe({complete:()=>this.onDialogClosing()})}get lazyLoadedBackUrl(){return(this.route.parent?.snapshot.url||[]).map(()=>"..").join("/")}onDialogClosing(){this.initialUrl===this.router.url&&this.navigateToParent()}navigateToParent(){this.router.navigate([this.route.snapshot.data.isLazy?this.lazyLoadedBackUrl:this.route.snapshot.data.backUrl],{relativeTo:this.route})}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275cmp=t.Xpm({type:y,selectors:[["tui-routable-dialog"]],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(M,U){},encapsulation:2,changeDetection:0})}}return y})();var D=Object.freeze({__proto__:null,default:v})},5375:(Qt,$,o)=>{"use strict";o.d($,{AE:()=>C,wt:()=>v});var e=o(5879),t=o(6223),a=o(7242),i=o(5929),g=o(8451),T=o(47),_=o(2701);const m=["type","checkbox","tuiSwitch",""],h={showIcons:!0,size:"m",icon:"@tui.check",appearance:D=>D.checked?"primary":"secondary"},f=(0,g.JN)(h);function v(D){return(0,g.vK)(f,D,h)}let C=(()=>{class D{constructor(){this.appearance=(0,e.f3M)(T.Nm),this.resolver=(0,_.Ps)(),this.options=(0,e.f3M)(f),this.el=(0,i.AG)(),this.control=(0,e.f3M)(t.a5,{self:!0,optional:!0}),this.size=this.options.size,this.showIcons=this.options.showIcons}ngDoCheck(){this.appearance.tuiAppearance=this.options.appearance(this.el)}get icon(){const{options:E,resolver:O,size:M}=this,U=(0,g.Aj)(E.icon)?E.icon:E.icon(M);return this.showIcons&&U?`url(${O(U)})`:null}static{this.\u0275fac=function(O){return new(O||D)}}static{this.\u0275cmp=e.Xpm({type:D,selectors:[["input","type","checkbox","tuiSwitch",""]],hostAttrs:["role","switch"],hostVars:6,hostBindings:function(O,M){2&O&&(e.Ikx("disabled",!M.control||M.control.disabled),e.uIk("data-size",M.size),e.Udp("--t-checked-icon",M.icon),e.ekj("_readonly",!M.control))},inputs:{size:"size",showIcons:"showIcons"},standalone:!0,features:[e.jDz,e.zW0([{directive:T.Nm,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus"]},a.k])],attrs:m,decls:0,vars:0,template:function(O,M){},styles:['[tuiSwitch]{transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:3rem;block-size:1.5rem;border-radius:2rem;overflow:hidden;cursor:pointer;margin:0;flex-shrink:0;color:#fff!important}[tuiSwitch][data-size=s]{block-size:1rem;inline-size:2rem}[tuiSwitch][data-size=s]:before{inline-size:1rem;transform:translate(-1rem);-webkit-mask-size:.75rem;mask-size:.75rem}[tuiSwitch][data-size=s]:after{inline-size:1rem;box-shadow:-2.625rem 0 0 .5rem var(--tui-background-base);outline-width:.167rem;transform:scale(.375)}[tuiSwitch][data-size=s]:checked:after{transform:scale(.375) translate(2.625rem)}[tuiSwitch]:checked:before{transform:none}[tuiSwitch]:checked:after{transform:scale(.33333) translate(4.5rem)}[tuiSwitch]:disabled._readonly{opacity:1}[tuiSwitch]:before,[tuiSwitch]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;block-size:100%;inline-size:1.5rem}[tuiSwitch]:before{display:var(--t-checked-icon, none);background:currentColor;-webkit-mask:var(--t-checked-icon) no-repeat center;mask:var(--t-checked-icon) no-repeat center;-webkit-mask-size:1rem;mask-size:1rem;transform:translate(-1.5rem)}[tuiSwitch]:after{right:0;border-radius:100%;transform:scale(.33333);box-shadow:-4.5rem 0 0 .75rem var(--tui-background-base);outline:.375rem solid var(--tui-background-neutral-2-pressed);outline-offset:var(--t-checked-icon, 20rem)}\n'],encapsulation:2,changeDetection:0})}}return D})()},1711:(Qt,$,o)=>{"use strict";o.d($,{u:()=>i});var e=o(5879),t=o(2527),a=o(2701);let i=(()=>{class g{static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275dir=e.lG2({type:g,selectors:[["","tuiIconButton","","tuiButtonClose",""]],hostVars:4,hostBindings:function(m,h){2&m&&e.Udp("--t-radius",100,"%")("--tui-height-s",1.875,"rem")},standalone:!0,features:[e._Bn([(0,t.O0)({appearance:"neutral",size:"s"}),{provide:a.Hd,useFactory:()=>(0,e.f3M)(a.Gs).close}])]})}}return g})()},1977:(Qt,$,o)=>{"use strict";o.d($,{H:()=>m});var e=o(5879),t=o(5929),a=o(8451),i=o(334),g=o(2701);const T=(0,a.JN)("@tui.chevron-down");let _=(()=>{class h{static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275cmp=e.Xpm({type:h,selectors:[["ng-component"]],hostAttrs:[1,"tui-chevron"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(C,D){},styles:["[tuiChevron][tuiIcons]:after,tui-icon[tuiChevron]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:inline-block;cursor:pointer}[tuiChevron][tuiIcons]:after{block-size:1rem}[tuiChevron][tuiIcons]._chevron-rotated:after,tui-icon[tuiChevron]._chevron-rotated:after{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0})}}return h})(),m=(()=>{class h{constructor(){this.el=(0,t.AG)(),this.dropdown=(0,e.f3M)(i.td,{optional:!0}),this.nothing=(0,a.__)(_),this.toggle=(0,e.cEC)(()=>this.el.classList.toggle("_chevron-rotated",this.chevron()||""===this.chevron()&&!!this.dropdown?.ref())),this.chevron=(0,e.tdS)("")}set tuiChevron(v){this.chevron.set(v)}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275dir=e.lG2({type:h,selectors:[["","tuiChevron",""]],hostAttrs:["tuiChevron",""],inputs:{tuiChevron:"tuiChevron"},standalone:!0,features:[e._Bn([(0,a.Q2)(g.u_,T)])]})}}return h})()},9785:(Qt,$,o)=>{"use strict";o.d($,{A:()=>f});var e=o(7582),t=o(5879),a=o(6266),i=o(5929),g=o(8451),T=o(2701),_=o(8797);const m=[{opacity:.06},{opacity:1}];let h=(()=>{class C{static{this.\u0275fac=function(E){return new(E||C)}}static{this.\u0275cmp=t.Xpm({type:C,selectors:[["ng-component"]],hostAttrs:[1,"tui-skeleton-styles"],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(E,O){},styles:["@keyframes tuiSkeleton{0%{opacity:.03}to{opacity:.06}}[tuiSkeleton]._skeleton{color:transparent;background:var(--tui-background-base)!important;box-shadow:none!important;filter:contrast(0) brightness(0);animation:tuiSkeleton ease-in-out 1s infinite alternate;-webkit-user-select:none;user-select:none;pointer-events:none}[tuiSkeleton]._skeleton[data-tui-skeleton]{background:transparent!important}[tuiSkeleton]._skeleton[data-tui-skeleton]:before{content:attr(data-tui-skeleton);background:var(--tui-background-base);font-size:smaller;-webkit-box-decoration-break:clone;box-decoration-break:clone;border-radius:.25rem}[tuiTheme=dark] [tuiSkeleton]._skeleton,[tuiTheme=dark][tuiSkeleton]._skeleton{filter:contrast(0) brightness(0) invert(1)}\n"],encapsulation:2,changeDetection:0})}}return C})(),f=(()=>{class C{constructor(){this.el=(0,i.AG)(),this.duration=2*(0,_.cZ)((0,t.f3M)(T.ZW)),this.nothing=(0,g.__)(h),this.tuiSkeleton=!1}ngOnChanges({tuiSkeleton:y}){this.animation?.cancel(),!y?.currentValue&&!y?.firstChange&&(this.animation=this.el.animate(m,this.duration))}getPlaceholder(y){switch(typeof y){case"number":return Array.from({length:y}).map(()=>a.f$.repeat(function v(){return Math.floor(11*Math.random())+5}())).join(" ");case"string":return y;default:return null}}static{this.\u0275fac=function(E){return new(E||C)}}static{this.\u0275dir=t.lG2({type:C,selectors:[["","tuiSkeleton",""]],hostAttrs:["tuiSkeleton",""],hostVars:3,hostBindings:function(E,O){2&E&&(t.uIk("data-tui-skeleton",O.getPlaceholder(O.tuiSkeleton)),t.ekj("_skeleton",O.tuiSkeleton))},inputs:{tuiSkeleton:"tuiSkeleton"},standalone:!0,features:[t.TTD]})}}return(0,e.gn)([g.UM],C.prototype,"getPlaceholder",null),C})()},5526:(Qt,$,o)=>{"use strict";o.d($,{A:()=>D});var e=o(5879),t=o(7582),a=o(6223),i=o(4017),g=o(8451),T=o(5086),_=o(7398),m=o(2096),h=o(5592);const f={};function v(E,O){return E.pipe((0,_.U)(M=>new i.T8(M||"",O)))}function C(E,O){return(0,m.of)(new i.T8(E||"",O))}let D=(()=>{class E{constructor(){this.order=[],this.parent=(0,e.f3M)(a.a5,{skipSelf:!0,optional:!0}),this.self=(0,e.f3M)(a.a5,{self:!0,optional:!0}),this.container=(0,e.f3M)(a.gN,{optional:!0}),this.validationErrors=(0,e.f3M)(T.Z4),this.self&&!this.self.valueAccessor&&(this.self.valueAccessor=this)}transform(M){return this.order=M,this.computedError}registerOnChange(){}registerOnTouched(){}setDisabledState(){}writeValue(){}get computedError(){return this.invalid&&this.touched&&this.error||(0,m.of)(null)}get error(){const{errorId:M}=this;return M?this.getError(this.controlErrors[M],this.validationErrors[M]):null}get invalid(){return!!this.control?.invalid}get touched(){return!!this.control?.touched}get control(){return this.self?.control||this.parent?.control||this.container?.control}get errorId(){return this.getErrorId(this.order,this.controlErrors)}get controlErrors(){return this.control?.errors||f}getError(M,U){if(M instanceof i.T8)return(0,m.of)(M);if(void 0===U&&(0,g.Aj)(M))return(0,m.of)(new i.T8(M));if(U instanceof h.y)return v(U,M);if(U instanceof Function){const R=U(M);return R instanceof h.y?v(R,M):C(R,M)}return C(U,M)}getErrorId(M,U){const R=M?.find(S=>U[S]),A=Object.keys(U)[0];return R||A||""}static{this.\u0275fac=function(U){return new(U||E)}}static{this.\u0275pipe=e.Yjl({name:"tuiFieldError",type:E,pure:!1,standalone:!0})}}return(0,t.gn)([g.UM],E.prototype,"getError",null),(0,t.gn)([g.UM],E.prototype,"getErrorId",null),E})()},4085:(Qt,$,o)=>{"use strict";o.d($,{Q:()=>t});var e=o(5879);let t=(()=>{class a{transform(g){return({$implicit:T})=>g(T)}static{this.\u0275fac=function(T){return new(T||a)}}static{this.\u0275pipe=e.Yjl({name:"tuiStringifyContent",type:a,pure:!0,standalone:!0})}}return a})()},5086:(Qt,$,o)=>{"use strict";o.d($,{BV:()=>Z,Fu:()=>R,HF:()=>E,LD:()=>O,Mu:()=>M,WB:()=>Wt,Yq:()=>it,Ys:()=>Bt,Z4:()=>at,_V:()=>D,jV:()=>L,px:()=>U,q5:()=>V,qk:()=>u,rV:()=>st,s3:()=>C,ue:()=>w,vk:()=>k,vy:()=>p,xC:()=>yt,zf:()=>It});var e=o(5879),t=o(6223),a=o(1393),i=o(8451),g=o(7398),T=o(2096),_=o(6813),m=o(4098),h=o(6266),f=o(385),v=o(334);const C=(0,i.JN)();function D(Gt){return{provide:C,deps:[[new e.FiY,new e.PiD,t.a5],[new e.FiY,Gt]],useFactory:y}}function y(Gt,De){return Gt?(0,a.EK)(Gt).pipe((0,g.U)(Ut=>De?De?.fromControlValue(Ut):Ut)):(0,T.of)(null)}const E=(0,i.JN)(),O=(0,i.JN)(),M=(0,i.JN)(),U=(0,i.JN)(),R=(0,i.N1)((0,_.vv)("confirm")),w=((0,i.N1)((0,_.vv)("cancel")),(0,i.N1)((0,_.vv)("done")),(0,i.N1)((0,_.vv)("more"))),p=(0,i.N1)((0,_.vv)("hide")),L=(0,i.N1)((0,_.vv)("showAll")),V=(0,i.N1)((0,_.vv)("otherDate")),it=((0,i.N1)((0,_.vv)("mobileCalendarTexts")),(0,i.N1)((0,_.vv)("range")),(0,i.N1)((0,_.vv)("countTexts")),(0,i.N1)((0,_.vv)("time"))),It=(0,i.N1)((0,_.vv)("dateTexts")),st=(0,i.N1)((0,_.vv)("digitalInformationUnits")),u=((0,i.N1)((0,_.vv)("copyTexts")),(0,i.N1)((0,_.vv)("passwordTexts")),(0,i.N1)((0,_.vv)("shortCalendarMonths")),(0,i.N1)((0,_.vv)("fileTexts"))),Z=((0,i.N1)((0,_.vv)("pagination")),(0,i.N1)((0,_.vv)("inputFileTexts"))),Dt=((0,i.N1)((0,_.vv)("multiSelectTexts")),(0,i.N1)((0,_.vv)("countries")),(0,i.N1)((0,_.vv)("previewTexts")),(0,i.N1)((0,_.vv)("zoomTexts")),(0,i.N1)((0,_.vv)("phoneSearch")),{icon:()=>"@tui.calendar",min:m.K1,max:m.Oy,nativePicker:!1}),Wt=(0,i.JN)(Dt),Bt=(0,i.JN)({stringify:String,identityMatcher:h.bg,disabledItemHandler:h.tD}),k=(0,i.JN)(),yt={provide:v.WH,useFactory:()=>(0,e.f3M)(f.fL)&&(0,e.f3M)(k,{optional:!0})||(0,e.f3M)(v.WH,{skipSelf:!0})};(0,i.JN)({rotate:"@tui.rotate-ccw-square",prev:"@tui.arrow-left",next:"@tui.arrow-right",zoomIn:"@tui.plus",zoomOut:"@tui.minus",zoomReset:"@tui.minimize"});const at=(0,i.JN)({})},8422:(Qt,$,o)=>{"use strict";o.d($,{eN:()=>t,fR:()=>a});var e=o(4098);function t(_=0,m=e.Ix,h=[0,30]){const f=[];for(let v=_;v<m;v++)h.forEach(C=>{const D=new e.qD(v,C);f.push(D)});return f}function a(_){return!Array.isArray(_[0])}},5414:(Qt,$,o)=>{"use strict";o.d($,{D1:()=>et,F9:()=>It,M$:()=>p,QJ:()=>tt,Xn:()=>w,m6:()=>ht,rE:()=>st,sC:()=>V,wB:()=>L});var e=o(5879),t=o(5533),a=o(5929),i=o(1018),g=o(5086),T=o(7511),_=o(1993),m=o(6223),h=o(4017),f=o(6266),v=o(8451),C=o(8645),D=o(932),y=o(7921),E=o(7398),O=o(2181),M=o(3997),U=o(4664),R=o(3019),A=o(6232);let w=(()=>{class dt{constructor(){this.autoIdString=`tui_interactive_${dt.autoId++}${Date.now()}`,this.focusVisible=!1,this.pseudoHover=null,this.pseudoActive=null,this.pseudoFocus=null,this.focusable=!0,this.nativeId="",this.focusedChange=new e.vpe,this.focusVisibleChange=new e.vpe}static{this.autoId=0}get computedDisabled(){return this.disabled}get computedFocused(){return!this.computedDisabled&&(this.pseudoFocus??this.focused)}get computedFocusVisible(){return!this.computedDisabled&&(this.pseudoFocus??this.focusVisible)}get computedFocusable(){return!this.computedDisabled&&(this.focusable||this.focused)}get id(){return this.nativeId||this.autoIdString}updateFocused(bt){this.focusedChange.emit(bt)}updateFocusVisible(bt){this.focusVisible!==bt&&(this.focusVisible=bt,this.focusVisibleChange.emit(bt))}static{this.\u0275fac=function(u){return new(u||dt)}}static{this.\u0275dir=e.lG2({type:dt,hostVars:7,hostBindings:function(u,ut){2&u&&(e.uIk("data-focused",ut.pseudoFocus),e.ekj("_disabled",ut.computedDisabled)("_focused",ut.computedFocused)("_focus-visible",ut.computedFocusVisible))},inputs:{pseudoHover:"pseudoHover",pseudoActive:"pseudoActive",pseudoFocus:"pseudoFocus",focusable:"focusable",nativeId:"nativeId"},outputs:{focusedChange:"focusedChange",focusVisibleChange:"focusVisibleChange"}})}}return dt})(),p=(()=>{class dt extends w{constructor(){super(),this.ngControl=(0,e.f3M)(m.a5,{optional:!0}),this.refresh$=new C.x,this.onTouched=f.iD,this.onChange=f.iD,this.fallbackValue=this.getFallbackValue(),this.destroyRef=(0,e.f3M)(e.ktI),this.cdr=(0,e.f3M)(e.sBO),this.valueTransformer=(0,e.f3M)(h.R4,{optional:!0}),this.readOnly=!1,this.pseudoInvalid=null,this.update$=new C.x,this.ngControl&&(this.ngControl.valueAccessor=this)}get computedInvalid(){return this.interactive&&(null!==this.pseudoInvalid?this.pseudoInvalid:this.touched&&this.invalid)}get value(){return this.previousInternalValue??this.fallbackValue}set value(bt){this.updateValue(bt),this.update$.next()}get safeCurrentValue(){return this.rawValue??this.fallbackValue}get invalid(){return this.safeNgControlData(({invalid:bt})=>bt,!1)}get valid(){return this.safeNgControlData(({valid:bt})=>bt,!1)}get touched(){return this.safeNgControlData(({touched:bt})=>bt,!1)}get disabled(){return this.safeNgControlData(({disabled:bt})=>bt,!1)}get interactive(){return!this.readOnly&&!this.computedDisabled}get control(){return this.safeNgControlData(({control:bt})=>bt,null)}get computedName(){return this.controlName?.toString()??null}get controlName(){return this.ngControl?.name?.toString()??null}ngOnInit(){this.refresh$.pipe((0,D.g)(0),(0,y.O)(null),(0,E.U)(()=>this.ngControl?.control),(0,O.h)(v.Pc),(0,M.x)(),(0,U.w)(bt=>(0,R.T)(bt.valueChanges,bt.statusChanges,bt.events||A.E)),(0,_.sL)(this.destroyRef)).subscribe(()=>{this.refreshLocalValue(this.safeCurrentValue)})}checkControlUpdate(){this.cdr.markForCheck()}registerOnChange(bt){this.onChange=u=>{bt(this.toControlValue(u))},this.refresh$.next()}registerOnTouched(bt){this.onTouched=bt}setDisabledState(){this.checkControlUpdate()}writeValue(bt){this.refreshLocalValue(this.fromControlValue(this.ngControl instanceof m.On&&void 0===this.previousInternalValue?this.ngControl.model:bt))}updateFocused(bt){bt||this.controlMarkAsTouched(),super.updateFocused(bt)}updateValue(bt){this.disabled||this.valueIdenticalComparator(this.value,bt)||(this.previousInternalValue=bt,this.controlSetValue(bt))}valueIdenticalComparator(bt,u){return bt===u}get rawValue(){const{ngControl:bt}=this;if(null!==bt)return this.fromControlValue(bt instanceof m.On&&void 0===this.previousInternalValue?bt.viewModel:bt.value)}safeNgControlData(bt,u){return(this.ngControl&&bt(this.ngControl))??u}controlMarkAsTouched(){this.onTouched(),this.checkControlUpdate()}controlSetValue(bt){this.onChange(bt),this.checkControlUpdate()}refreshLocalValue(bt){this.previousInternalValue=bt,this.checkControlUpdate()}fromControlValue(bt){return this.valueTransformer?this.valueTransformer.fromControlValue(bt):bt}toControlValue(bt){return this.valueTransformer?this.valueTransformer.toControlValue(bt):bt}static{this.\u0275fac=function(u){return new(u||dt)}}static{this.\u0275dir=e.lG2({type:dt,hostVars:4,hostBindings:function(u,ut){2&u&&e.ekj("_readonly",ut.readOnly)("_invalid",ut.computedInvalid)},inputs:{readOnly:"readOnly",pseudoInvalid:"pseudoInvalid"},features:[e.qOj]})}}return dt})();function L(dt){return[(0,v.Q2)(p,dt),(0,v.Q2)(h.NN,dt)]}let V=(()=>{class dt{constructor(){this.datalist=null,this.autoId=(0,t.$z)(),this.el=(0,a.AG)(),this.host=(0,e.f3M)(T.S0),this.control=(0,e.f3M)(p),this.itemsHandlers=(0,e.f3M)(g.Ys),this.disabledItemHandler=null,this.placeholder=""}get id(){return this.el.id||this.autoId}get emptyOption(){return!!this.placeholder&&!this.control.value}static{this.\u0275fac=function(u){return new(u||dt)}}static{this.\u0275dir=e.lG2({type:dt,viewQuery:function(u,ut){if(1&u&&e.Gf(i.gX,7,e.Rgc),2&u){let Z;e.iGM(Z=e.CRH())&&(ut.datalist=Z.first)}},hostVars:1,hostBindings:function(u,ut){2&u&&e.Ikx("id",ut.id)},inputs:{disabledItemHandler:"disabledItemHandler",placeholder:"placeholder"}})}}return dt})(),et=(()=>{class dt{constructor(){this.host=(0,e.f3M)(p,{optional:!0})}get readOnly(){return this.host.readOnly}get disabled(){return this.host.computedDisabled}get invalid(){return this.host.computedInvalid}get focusable(){return this.host.computedFocusable}get inputMode(){return"text"}get value(){return this.host.value?.toString()||""}process(bt){}static{this.\u0275fac=function(u){return new(u||dt)}}static{this.\u0275dir=e.lG2({type:dt})}}return dt})(),tt=(()=>{class dt{constructor(){this.change$=new C.x}ngOnChanges(){this.change$.next()}static{this.\u0275fac=function(u){return new(u||dt)}}static{this.\u0275dir=e.lG2({type:dt,features:[e.TTD]})}}return dt})(),ht=(()=>{class dt extends p{clear(){this.value=[]}getFallbackValue(){return[]}static{this.\u0275fac=function(){let bt;return function(ut){return(bt||(bt=e.n5z(dt)))(ut||dt)}}()}static{this.\u0275dir=e.lG2({type:dt,features:[e.qOj]})}}return dt})(),It=(()=>{class dt extends p{getFallbackValue(){return null}static{this.\u0275fac=function(){let bt;return function(ut){return(bt||(bt=e.n5z(dt)))(ut||dt)}}()}static{this.\u0275dir=e.lG2({type:dt,features:[e.qOj]})}}return dt})();class st{constructor(St,bt){this.item=St,this.stringify=bt}toString(){return this.stringify(this.item)}}},1163:(Qt,$,o)=>{"use strict";o.d($,{Ii:()=>U,jj:()=>E});var e=o(6814),t=o(5879),a=o(1534),i=o(334),g=o(8797),T=o(5414),_=o(8293),m=o(5586),h=o(8451);function f(A,S){1&A&&t._UZ(0,"tui-icon",2),2&A&&t.Q6J("icon",S.polymorpheusOutlet)}function v(A,S){1&A&&t.GkF(0)}const D=(0,h.JN)({iconSmall:"@tui.chevron-down",iconLarge:"@tui.chevron-down"});let E=(()=>{class A{constructor(){this.control=(0,t.f3M)(T.M$,{optional:!0}),this.textfieldSize=(0,t.f3M)(_.kI),this.options=(0,t.f3M)(D),this.directive=(0,t.f3M)(i.Bb,{optional:!0})}get rotated(){return this.directive?.tuiDropdownOpen||!!this.control.pseudoOpen||!1}get small(){return!(0,g.R9)(this.textfieldSize.size)}get arrowIcon(){return this.small?this.options.iconSmall:this.options.iconLarge}static{this.\u0275fac=function(p){return new(p||A)}}static{this.\u0275cmp=t.Xpm({type:A,selectors:[["tui-arrow"]],hostVars:4,hostBindings:function(p,L){2&p&&t.ekj("_rotated",L.rotated)("_small",L.small)},standalone:!0,features:[t.jDz],decls:3,vars:4,consts:[[3,"icon",4,"polymorpheusOutlet"],[4,"ngIf"],[3,"icon"]],template:function(p,L){1&p&&(t.YNc(0,f,1,1,"tui-icon",0),t.YNc(1,v,1,0,"ng-container",1),t.ALo(2,"async")),2&p&&(t.Q6J("polymorpheusOutlet",L.arrowIcon),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,null==L.directive?null:L.directive.tuiDropdownOpenChange)))},dependencies:[e.Ov,e.O5,m.s$,a.R],styles:["[_nghost-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;cursor:pointer;pointer-events:none}._rotated[_nghost-%COMP%]{transform:rotate(180deg)}tui-icon[_ngcontent-%COMP%]{border-width:.25rem}"],changeDetection:0})}}return A})();const O=new m.Al(E),U=(0,h.JN)({interactive:O,disabled:O})},6557:(Qt,$,o)=>{"use strict";o.d($,{EH:()=>tt,_p:()=>V,jp:()=>ht,m2:()=>et});var e=o(5879),t=o(6266),a=o(9298),i=o(8451),g=o(1018),T=o(334),_=o(5086),m=o(5414),h=o(1163),f=o(1962),v=o(5200),C=o(343),D=o(8293),y=o(5984),E=o(7511),O=o(6814),M=o(5586);function U(it,It){if(1&it&&(e.ynx(0),e._uU(1),e.BQk()),2&it){const st=It.polymorpheusOutlet;e.xp6(1),e.hij(" ",st," ")}}const R=function(it,It){return{$implicit:it,active:It}};function A(it,It){if(1&it&&(e.TgZ(0,"div",4),e.YNc(1,U,2,1,"ng-container",5),e.qZA()),2&it){const st=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",st.computedContent)("polymorpheusOutletContext",e.WLB(2,R,st.value,st.computedFocused))}}function S(it,It){1&it&&e.GkF(0)}function w(it,It){if(1&it&&(e.TgZ(0,"div",6),e.YNc(1,S,1,0,"ng-container",7),e.qZA()),2&it){const st=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",st.arrow)}}const p=["*",[["input"]]],L=["*","input"];let V=(()=>{class it extends m.F9{constructor(){super(...arguments),this.arrowMode=(0,e.f3M)(h.Ii),this.itemsHandlers=(0,e.f3M)(_.Ys),this.textfieldSize=(0,e.f3M)(D.kI),this.stringify=this.itemsHandlers.stringify,this.strictMatcher=t.zy,this.identityMatcher=this.itemsHandlers.identityMatcher,this.strict=!0,this.search=null,this.searchChange=new e.vpe,this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return(0,a.V8)(this.nativeFocusableElement)||!!this.dropdown?.tuiDropdownOpen}get nativeValue(){return null===this.value?this.search||"":this.stringify(this.value)}checkOption(st){this.isStrictMatch(st)&&(this.value=st,this.updateSearch(null))}handleOption(st){this.focusInput(),this.close(),this.updateSearch(null),this.value=st,this.value&&this.setNativeValue(this.stringify(st))}onValueChange(st){this.updateSearch(st);const dt=this.accessor?.getOptions().find(St=>this.isStrictMatch(St));if(void 0!==dt)return this.value=dt,void this.updateSearch(null);(this.strict||""===this.search)&&(this.value=null),""!==this.search&&(this.open=!0)}toggle(){this.open=!this.open}get arrow(){return this.interactive?this.arrowMode.interactive:this.arrowMode.disabled}get showValueTemplate(){return(0,i.Pc)(this.value)&&!this.focused}get computedContent(){return this.valueContent||this.nativeValue}onActiveZone(st){this.updateFocused(st)}onFieldKeyDownEnter(st){this.open&&st.preventDefault();const dt=this.accessor?.getOptions()||[];1===dt.length&&(this.value=dt[0]??null,this.updateSearch(null),this.close())}isStrictMatch(st){return!!this.search&&!!this.strictMatcher?.(st,this.search,this.stringify)}close(){this.open=!1}updateSearch(st){this.search!==st&&(this.search=st,this.searchChange.emit(st))}setNativeValue(st){this.nativeFocusableElement&&(this.nativeFocusableElement.value=st)}focusInput(st=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:st})}static{this.\u0275fac=function(){let st;return function(St){return(st||(st=e.n5z(it)))(St||it)}}()}static{this.\u0275cmp=e.Xpm({type:it,selectors:[["tui-combo-box"]],contentQueries:function(dt,St,bt){if(1&dt&&(e.Suo(bt,g.Cc,5),e.Suo(bt,g.gX,5,e.Rgc)),2&dt){let u;e.iGM(u=e.CRH())&&(St.accessor=u.first),e.iGM(u=e.CRH())&&(St.datalist=u.first)}},viewQuery:function(dt,St){if(1&dt&&(e.Gf(T.Bb,5),e.Gf(f.yc,5)),2&dt){let bt;e.iGM(bt=e.CRH())&&(St.dropdown=bt.first),e.iGM(bt=e.CRH())&&(St.textfield=bt.first)}},hostVars:1,hostBindings:function(dt,St){2&dt&&e.uIk("data-size",St.size)},inputs:{stringify:"stringify",strictMatcher:"strictMatcher",identityMatcher:"identityMatcher",valueContent:"valueContent",strict:"strict",search:"search"},outputs:{searchChange:"searchChange"},features:[e._Bn([(0,E.FT)(it),(0,g.oE)(it),(0,m.wB)(it),(0,g.P7)(v.Q4)]),e.qOj,e.zW0([T.a6])],ngContentSelectors:L,decls:7,vars:13,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange","tuiActiveZoneChange"],["automation-id","tui-combo-box__textfield",1,"t-textfield",3,"disabled","focusable","invalid","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldIcon","value","click","keydown.enter","valueChange"],["automation-id","tui-combo-box__template","ngProjectAs","tuiContent","class","t-value",5,["tuiContent"],4,"ngIf"],["icon",""],["automation-id","tui-combo-box__template","ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","tuiWrapper","",1,"t-icon"],[4,"polymorpheusOutlet"]],template:function(dt,St){if(1&dt&&(e.F$t(p),e.TgZ(0,"div",0),e.NdJ("tuiDropdownOpenChange",function(u){return St.open=u})("tuiActiveZoneChange",function(u){return St.onActiveZone(u)}),e.TgZ(1,"tui-primitive-textfield",1),e.NdJ("click",function(){return St.toggle()})("keydown.enter",function(u){return St.onFieldKeyDownEnter(u)})("valueChange",function(u){return St.onValueChange(u)}),e.Hsn(2),e.Hsn(3,1,["ngProjectAs","input",5,["input"]]),e.YNc(4,A,2,5,"div",2),e.qZA(),e.YNc(5,w,2,1,"ng-template",null,3,e.W1O),e.qZA()),2&dt){const bt=e.MAs(6);e.Q6J("tuiDropdown",St.datalist||"")("tuiDropdownEnabled",St.interactive&&!!St.datalist)("tuiDropdownOpen",St.open),e.xp6(1),e.Q6J("disabled",St.computedDisabled)("focusable",St.computedFocusable)("invalid",St.computedInvalid)("nativeId",St.nativeId)("pseudoFocus",St.computedFocused)("pseudoHover",St.pseudoHover)("readOnly",St.readOnly)("tuiTextfieldIcon",St.arrow?bt:"")("value",St.nativeValue),e.xp6(3),e.Q6J("ngIf",St.showValueTemplate)}},dependencies:[O.O5,M.s$,f.yc,f.B1,C.o,D.AW,y.C,T.td,T.Bb],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-value[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}"],changeDetection:0})}}return it})(),et=(()=>{class it extends m.D1{get value(){return this.host.nativeValue}onValueChange(st){this.host.onValueChange(st)}static{this.\u0275fac=function(){let st;return function(St){return(st||(st=e.n5z(it)))(St||it)}}()}static{this.\u0275dir=e.lG2({type:it,selectors:[["tui-combo-box"]],features:[e._Bn([(0,E.cp)(it)]),e.qOj]})}}return it})(),tt=(()=>{class it{constructor(){this.comboBox=(0,e.f3M)(V),this.strict=!0}onInput(){!this.strict&&this.comboBox.search&&(this.comboBox.value=this.comboBox.search)}static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275dir=e.lG2({type:it,selectors:[["tui-combo-box","strict",""]],hostBindings:function(dt,St){1&dt&&e.NdJ("input",function(){return St.onInput()})},inputs:{strict:"strict"}})}}return it})(),ht=(()=>{class it{static{this.\u0275fac=function(dt){return new(dt||it)}}static{this.\u0275mod=e.oAB({type:it})}static{this.\u0275inj=e.cJS({imports:[O.ez,f.KW,v.Ig,h.jj,C.W,D.cn,T.nT]})}}return it})()},6805:(Qt,$,o)=>{"use strict";o.d($,{H5:()=>z,dc:()=>at,sR:()=>Pt});var e=o(7582),t=o(5879),a=o(1993),i=o(4413),g=o(1260),T=o(4017),_=o(6266),m=o(4098),h=o(1393),f=o(385),v=o(8451),C=o(1018),D=o(2701),y=o(5086),E=o(5414),O=o(1962),M=o(8293),U=o(754),R=o(5984),A=o(7511),S=o(11),w=o(7398),p=o(6814),L=o(5325),V=o(8767),et=o(5586),tt=o(1603),ht=o(8679),it=o(1534);const It=function(Gt,De,Ut,Q){return[Gt,De,Ut,Q,!1]},st=function(Gt,De,Ut,Q){return[Gt,De,Ut,Q,!0]};function dt(Gt,De){if(1&Gt){const Ut=t.EpF();t.TgZ(0,"tui-calendar",3),t.NdJ("hoveredItemChange",function(Ot){t.CHM(Ut);const Ft=t.oxw();return t.KtG(Ft.hoveredItem=Ot)})("dayClick",function(Ot){t.CHM(Ut);const Ft=t.oxw();return t.KtG(Ft.onDayClick(Ot))})("monthChange",function(Ot){t.CHM(Ut);const Ft=t.oxw();return t.KtG(Ft.onMonthChange(Ot.append({month:-1})))})("mousedown.prevent.silent",function(){return 0}),t.ALo(1,"tuiMapper"),t.ALo(2,"tuiMapper"),t.ALo(3,"tuiMapper"),t.ALo(4,"tuiMapper"),t.qZA()}if(2&Gt){const Ut=t.oxw();t.Q6J("disabledItemHandler",Ut.calculatedDisabledItemHandler)("markerHandler",Ut.markerHandler)("max",t.G7q(1,9,t.l5B(29,It,Ut.max,Ut.capsMapper,Ut.value,Ut.maxLength)))("min",t.G7q(2,15,t.l5B(34,st,Ut.min,Ut.capsMapper,Ut.value,Ut.maxLength)))("minViewedMonth",t.Dn7(3,21,Ut.defaultViewedMonth,Ut.monthOffset,1))("month",t.Dn7(4,25,Ut.defaultViewedMonth,Ut.monthOffset,1))("showAdjacent",!1)("value",Ut.value)("hoveredItem",Ut.hoveredItem)}}function St(Gt,De){if(1&Gt&&t._UZ(0,"tui-icon",8),2&Gt){const Ut=t.oxw(3);t.Udp("font-size",1,"rem"),t.Q6J("icon",Ut.icons.check)}}function bt(Gt,De){if(1&Gt){const Ut=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const Ft=t.CHM(Ut).$implicit,le=t.oxw(2);return t.KtG(le.onItemSelect(Ft))})("mousedown.prevent.silent",function(){return 0}),t._uU(1),t.YNc(2,St,1,3,"tui-icon",7),t.qZA()}if(2&Gt){const Ut=De.$implicit,Q=t.oxw(2);t.uIk("aria-checked",Q.isItemActive(Ut)),t.xp6(1),t.hij(" ",Ut," "),t.xp6(1),t.Q6J("ngIf",Q.isItemActive(Ut))}}const u=function(Gt,De,Ut,Q,Ot,Ft){return[Gt,De,Ut,Q,Ot,Ft]};function ut(Gt,De){if(1&Gt&&(t.TgZ(0,"tui-data-list",4),t.YNc(1,bt,3,3,"button",5),t.ALo(2,"tuiMapper"),t.ALo(3,"async"),t.qZA()),2&Gt){const Ut=t.oxw();t.Udp("flex",1),t.xp6(1),t.Q6J("ngForOf",t.G7q(2,3,t.HTZ(12,u,Ut.items,Ut.mapper,Ut.min,Ut.max,Ut.minLength,t.lcZ(3,10,Ut.otherDateText$))))}}const I=(Gt,De,Ut,Q)=>{if(!De?.isSingleDay||!Ut)return Q?Gt||m.K1:Gt||m.Oy;const Ot=Object.fromEntries(Object.entries(Ut).map(([le,ne])=>[le,-ne])),Ft=De.from.append(Q?Ot:Ut).append({day:Q?1:-1});return Q?Ft.dayBefore(Gt||m.K1)?Gt||m.K1:Ft:Gt&&Ft.dayAfter(Gt)?Gt:Ft};let F=(()=>{class Gt{constructor(){this.selectedPeriod=null,this.previousValue=null,this.hoveredItem=null,this.month=m.ql.currentLocal(),this.otherDateText$=(0,t.f3M)(y.q5),this.icons=(0,t.f3M)(D.Gs),this.capsMapper=I,this.disabledItemHandler=_.tD,this.markerHandler=null,this.items=[],this.min=m.K1,this.max=m.Oy,this.minLength=null,this.maxLength=null,this.value=null,this.item=null,this.valueChange=new t.vpe,this.itemChange=new t.vpe,this.monthOffset=(Ut,Q)=>Ut.append({month:Q}),this.mapper=(Ut,Q,Ot,Ft,le)=>[...Ut.filter(ne=>(null===Ft||ne.range.from.append(Ft).append({day:-1}).daySameOrBefore(ne.range.to))&&(null===Q||ne.range.to.daySameOrAfter(Q))&&(null===Ot||ne.range.from.daySameOrBefore(Ot))),le||""],(0,t.f3M)(y.s3,{optional:!0})?.pipe((0,h.NA)(),(0,a.sL)()).subscribe(Ut=>{this.value=Ut,this.initDefaultViewedMonth()})}set defaultViewedMonth(Ut){this.value||(this.month=Ut)}get defaultViewedMonth(){return this.month}get selectedActivePeriod(){return this.selectedPeriod}set selectedActivePeriod(Ut){this.selectedPeriod=Ut}ngOnChanges(){this.value||this.initDefaultViewedMonth()}ngOnInit(){this.initDefaultViewedMonth()}get calculatedDisabledItemHandler(){return this.calculateDisabledItemHandler(this.disabledItemHandler,this.value,this.minLength)}onEsc(Ut){"Escape"!==Ut.key||!this.value?.isSingleDay||(Ut.stopPropagation(),this.value=this.previousValue)}isItemActive(Ut){const{activePeriod:Q}=this;return(0,v.Aj)(Ut)&&null===Q||Q===Ut||Q?.toString()===Ut.toString()}onItemSelect(Ut){(0,v.Aj)(Ut)?null!==this.activePeriod&&(this.selectedActivePeriod=null,this.updateValue(null),this.itemChange.emit(null)):(this.selectedActivePeriod=Ut,this.updateValue(Ut.range.dayLimit(this.min,this.max)),this.itemChange.emit(Ut)),this.initDefaultViewedMonth()}onMonthChange(Ut){this.month=Ut}onDayClick(Ut){if(this.previousValue=this.value,this.selectedActivePeriod=null,this.value?.isSingleDay){const Q=m.VR.sort(this.value.from,Ut);this.updateValue(Q),this.itemChange.emit(this.findItemByDayRange(Q))}else this.value=new m.VR(Ut,Ut),this.itemChange.emit(this.findItemByDayRange(this.value))}updateValue(Ut){this.value=Ut,this.valueChange.emit(Ut)}get activePeriod(){return this.item??this.selectedActivePeriod??(this.items.find(Ut=>(0,v.J$)(this.value,Ut.range,(Q,Ot)=>Q.from.daySame(Ot.from.dayLimit(this.min,this.max))&&Q.to.daySame(Ot.to.dayLimit(this.min,this.max))))||null)}calculateDisabledItemHandler(Ut,Q,Ot){return((Gt,De,Ut)=>Q=>{if(!De?.isSingleDay||!Ut)return Gt(Q);const Ot=Object.fromEntries(Object.entries(Ut).map(([Ge,Se])=>[Ge,-Se])),Ft=De.from.append(Ot).append({day:1}),le=De.from.append(Ut).append({day:-1});return Ft.dayBefore(Q)&&le.dayAfter(Q)||Gt(Q)})(Ut,Q,Ot)}initDefaultViewedMonth(){this.value?this.month=this.items.length?this.value.to:this.value.from:this.max&&this.month.monthSameOrAfter(this.max)?this.month=this.items.length?this.max:this.max.append({month:-1}):this.min&&this.month.monthSameOrBefore(this.min)&&(this.month=this.min)}findItemByDayRange(Ut){return this.items.find(Q=>Ut.daySame(Q.range))??null}static{this.\u0275fac=function(Q){return new(Q||Gt)}}static{this.\u0275cmp=t.Xpm({type:Gt,selectors:[["tui-calendar-range"]],hostBindings:function(Q,Ot){1&Q&&t.NdJ("keydown.capture",function(le){return Ot.onEsc(le)},!1,t.evT)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength",value:"value",item:"item",defaultViewedMonth:"defaultViewedMonth"},outputs:{valueChange:"valueChange",itemChange:"itemChange"},standalone:!0,features:[t.TTD,t.jDz],decls:7,vars:37,consts:[["automation-id","tui-calendar-range__calendar",1,"t-calendar",3,"disabledItemHandler","markerHandler","max","maxViewedMonth","min","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange","mousedown.prevent.silent"],[3,"disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange","mousedown.prevent.silent",4,"ngIf","ngIfElse"],["presets",""],[3,"disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange","mousedown.prevent.silent"],["automation-id","tui-calendar-range__menu","role","menu"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","type","button",3,"click","mousedown.prevent.silent",4,"ngFor","ngForOf"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","type","button",3,"click","mousedown.prevent.silent"],["automation-id","tui-calendar-range__checkmark",3,"icon","font-size",4,"ngIf"],["automation-id","tui-calendar-range__checkmark",3,"icon"]],template:function(Q,Ot){if(1&Q&&(t.TgZ(0,"tui-calendar",0),t.NdJ("hoveredItemChange",function(le){return Ot.hoveredItem=le})("dayClick",function(le){return Ot.onDayClick(le)})("monthChange",function(le){return Ot.onMonthChange(le)})("mousedown.prevent.silent",function(){return 0}),t.ALo(1,"tuiMapper"),t.ALo(2,"tuiMapper"),t.ALo(3,"tuiMapper"),t.qZA(),t.YNc(4,dt,5,39,"tui-calendar",1),t.YNc(5,ut,4,19,"ng-template",null,2,t.W1O)),2&Q){const Ft=t.MAs(6);t.Q6J("disabledItemHandler",Ot.calculatedDisabledItemHandler)("markerHandler",Ot.markerHandler)("max",t.G7q(1,11,t.l5B(27,It,Ot.max,Ot.capsMapper,Ot.value,Ot.maxLength)))("maxViewedMonth",Ot.items.length?null:t.Dn7(2,17,Ot.defaultViewedMonth,Ot.monthOffset,-1))("min",t.G7q(3,21,t.l5B(32,st,Ot.min,Ot.capsMapper,Ot.value,Ot.maxLength)))("month",Ot.defaultViewedMonth)("showAdjacent",!!Ot.items.length)("value",Ot.value)("hoveredItem",Ot.hoveredItem),t.xp6(4),t.Q6J("ngIf",!Ot.items.length)("ngIfElse",Ft)}},dependencies:[p.Ov,p.sg,p.O5,ht.XU,C.qi,C.bH,it.R,tt.c],styles:["[_nghost-%COMP%]{display:flex;min-inline-size:30rem}.t-calendar[_ngcontent-%COMP%]{border-inline-end:1px solid var(--tui-border-normal)}"],changeDetection:0})}}return(0,e.gn)([v.UM],Gt.prototype,"calculateDisabledItemHandler",null),Gt})();var At=o(47),Dt=o(334);function Wt(Gt,De){if(1&Gt&&(t.ynx(0),t._uU(1),t.BQk()),2&Gt){const Ut=De.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ut," ")}}const Nt=function(Gt){return{$implicit:Gt}};function Rt(Gt,De){if(1&Gt&&(t.TgZ(0,"div",6),t.YNc(1,Wt,2,1,"ng-container",7),t.qZA()),2&Gt){const Ut=t.oxw(2);t.xp6(1),t.Q6J("polymorpheusOutlet",Ut.computedContent)("polymorpheusOutletContext",t.VKq(2,Nt,Ut.value))}}function Bt(Gt,De){if(1&Gt){const Ut=t.EpF();t.TgZ(0,"tui-primitive-textfield",4),t.NdJ("valueChange",function(Ot){t.CHM(Ut);const Ft=t.oxw();return t.KtG(Ft.onValueChange(Ot))}),t.Hsn(1),t.Hsn(2,1,["ngProjectAs","input",5,["input"]]),t.YNc(3,Rt,2,4,"div",5),t.qZA()}if(2&Gt){const Ut=De.tuiLet,Q=t.oxw(),Ot=t.MAs(4);t.Q6J("disabled",Q.computedDisabled)("invalid",Q.computedInvalid)("maskito",Q.computedMask)("nativeId",Q.nativeId)("pseudoActive",Q.pseudoActive)("pseudoFocus",Q.innerPseudoFocused)("pseudoHover",Q.pseudoHover)("readOnly",Q.readOnly)("tuiTextfieldFiller",Q.getComputedRangeFiller(Ut||""))("tuiTextfieldIcon",Q.calendarIcon&&Ot)("value",Q.computedValue),t.xp6(3),t.Q6J("ngIf",Q.showValueTemplate)}}function B(Gt,De){if(1&Gt){const Ut=t.EpF();t.TgZ(0,"tui-icon",9),t.NdJ("click",function(){t.CHM(Ut);const Ot=t.oxw(2);return t.KtG(Ot.onIconClick())}),t.qZA()}if(2&Gt){const Ut=De.polymorpheusOutlet,Q=t.oxw(2);t.ekj("t-icon_small","s"===Q.size)("t-icon",!Q.computedDisabled),t.Q6J("icon",Ut.toString())}}function k(Gt,De){if(1&Gt&&t.YNc(0,B,1,5,"tui-icon",8),2&Gt){const Ut=t.oxw();t.Q6J("polymorpheusOutlet",Ut.calendarIcon)("polymorpheusOutletContext",t.VKq(2,Nt,Ut.size))}}function yt(Gt,De){if(1&Gt){const Ut=t.EpF();t.TgZ(0,"tui-calendar-range",10),t.NdJ("itemChange",function(Ot){t.CHM(Ut);const Ft=t.oxw();return t.KtG(Ft.selectedActivePeriod=Ot)})("valueChange",function(Ot){t.CHM(Ut);const Ft=t.oxw();return t.KtG(Ft.onRangeChange(Ot))}),t.qZA()}if(2&Gt){const Ut=t.oxw();t.Q6J("defaultViewedMonth",Ut.defaultViewedMonth)("disabledItemHandler",Ut.disabledItemHandler)("items",Ut.items)("markerHandler",Ut.markerHandler)("max",Ut.max)("maxLength",Ut.maxLength)("min",Ut.min)("minLength",Ut.minLength)("value",Ut.value)("item",Ut.selectedActivePeriod)}}const Y=["*",[["input"]]],xt=["*","input"];let z=(()=>{class Gt extends E.F9{constructor(){super(...arguments),this.isMobile=(0,t.f3M)(f.fL),this.mobileCalendar=(0,t.f3M)(y.vk,{optional:!0}),this.options=(0,t.f3M)(y.WB),this.textfieldSize=(0,t.f3M)(M.kI),this.nativeValue=(0,t.tdS)(""),this.dateTexts$=(0,t.f3M)(y.zf),this.valueTransformer=(0,t.f3M)(y.LD,{optional:!0}),this.dateFiller$=this.dateTexts$.pipe((0,w.U)(Ut=>(0,v.Yl)(Ut[this.dateFormat.mode],this.dateFormat.separator))),this.dateFormat=D.ZD,this.dateFormat$=(0,t.f3M)(D.P_).pipe((0,h.NA)(this.cdr),(0,a.sL)()).subscribe(Ut=>{this.dateFormat=Ut}),this.selectedActivePeriod=null,this.disabledItemHandler=_.tD,this.markerHandler=null,this.defaultViewedMonth=m.ql.currentLocal(),this.items=[],this.min=this.options.min,this.max=this.options.max,this.minLength=null,this.maxLength=null,this.open=!1}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return!!this.textfield?.focused}get computedExampleText(){return this.items.length&&this.textfield?.nativeFocusableElement?.placeholder||""}get computedValue(){const{value:Ut,nativeValue:Q,activePeriod:Ot}=this;return Ot?String(Ot):Ut?Ut.getFormattedDayRange(this.dateFormat.mode,this.dateFormat.separator):Q()}get size(){return this.textfieldSize.size}onClick(){!this.isMobile&&this.interactive&&this.toggle()}onValueChange(Ut){this.nativeValue.set(Ut),this.control&&this.control.updateValueAndValidity({emitEvent:!1}),!Ut&&!this.mobileCalendar&&this.onOpenChange(!0),this.activePeriod&&this.nativeValue.set(""),this.value=Ut.length!==m.FZ||this.activePeriod?null:m.VR.normalizeParse(Ut,this.dateFormat.mode),this.value||(this.selectedActivePeriod=null)}onRangeChange(Ut){this.toggle(),this.focusInput(),Ut||this.nativeValue.set(""),this.value=Ut}writeValue(Ut){super.writeValue(Ut),this.nativeValue.set(Ut?this.computedValue:""),this.selectedActivePeriod=this.findActivePeriodBy(Ut)}get computedMobile(){return this.isMobile&&!!this.mobileCalendar}get calendarIcon(){return this.options.icon}get computedMask(){return this.activePeriod?i.A_:this.calculateMask(this.dateFormat.mode,this.dateFormat.separator,this.min,this.max,this.minLength,this.maxLength)}get activePeriod(){return this.selectedActivePeriod??this.findActivePeriodBy(this.value)}get showValueTemplate(){return(0,v.Pc)(this.value)&&!this.focused}get computedContent(){return this.activePeriod?.content||this.computedValue}get innerPseudoFocused(){return!1!==this.pseudoFocus&&(!(!this.open&&!this.computedFocused)||null)}getComputedRangeFiller(Ut){return this.activePeriod?"":this.getDateRangeFiller(Ut)}onIconClick(){this.isMobile&&this.interactive&&this.onOpenChange(!0)}onOpenChange(Ut){this.open=Ut}onActiveZone(Ut){this.updateFocused(Ut),!Ut&&!this.itemSelected&&(this.nativeValue().length===m.ek||this.nativeValue().length===m.ek+m.mH.length)&&(this.value=m.VR.normalizeParse(this.nativeValue(),this.dateFormat.mode))}valueIdenticalComparator(Ut,Q){return(0,v.J$)(Ut,Q,(Ot,Ft)=>Ot.daySame(Ft))}get itemSelected(){return-1!==this.items.findIndex(Ut=>String(Ut)===this.nativeValue())}calculateMask(Ut,Q,Ot,Ft,le,ne){return(0,g.n9)({dateSeparator:Q,mode:S.ux[Ut],min:(Ot||m.K1).toLocalNativeDate(),max:(Ft||m.Oy).toLocalNativeDate(),minLength:le||{},maxLength:ne||{}})}toggle(){this.open=!this.open}focusInput(Ut=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:Ut})}getDateRangeFiller(Ut){return`${Ut}${m.mH}${Ut}`}findActivePeriodBy(Ut){return this.items.find(Q=>(0,v.J$)(Ut,Q.range,(Ot,Ft)=>Ot.from.daySame(Ft.from.dayLimit(this.min,this.max))&&Ot.to.daySame(Ft.to.dayLimit(this.min,this.max))))??null}static{this.\u0275fac=function(){let Ut;return function(Ot){return(Ut||(Ut=t.n5z(Gt)))(Ot||Gt)}}()}static{this.\u0275cmp=t.Xpm({type:Gt,selectors:[["tui-input-date-range"]],viewQuery:function(Q,Ot){if(1&Q&&t.Gf(O.yc,5),2&Q){let Ft;t.iGM(Ft=t.CRH())&&(Ot.textfield=Ft.first)}},hostVars:1,hostBindings:function(Q,Ot){1&Q&&t.NdJ("click",function(){return Ot.onClick()}),2&Q&&t.uIk("data-size",Ot.size)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",defaultViewedMonth:"defaultViewedMonth",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength"},features:[t._Bn([(0,A.FT)(Gt),(0,T.wB)(Gt),(0,E.wB)(Gt),(0,y._V)(y.LD),(0,C.oE)(Gt),y.xC]),t.qOj],ngContentSelectors:xt,decls:7,vars:6,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiActiveZoneChange","tuiDropdownOpenChange"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange",4,"tuiLet"],["iconContent",""],["dropdown",""],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","valueChange"],["ngProjectAs","tuiContent","class","t-value",5,["tuiContent"],4,"ngIf"],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"t-icon_small","t-icon","icon","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"icon","click"],[3,"defaultViewedMonth","disabledItemHandler","items","markerHandler","max","maxLength","min","minLength","value","item","itemChange","valueChange"]],template:function(Q,Ot){if(1&Q&&(t.F$t(Y),t.TgZ(0,"div",0),t.NdJ("tuiActiveZoneChange",function(le){return Ot.onActiveZone(le)})("tuiDropdownOpenChange",function(le){return Ot.onOpenChange(le)}),t.YNc(1,Bt,4,12,"tui-primitive-textfield",1),t.ALo(2,"async"),t.YNc(3,k,1,4,"ng-template",null,2,t.W1O),t.YNc(5,yt,1,10,"ng-template",null,3,t.W1O),t.qZA()),2&Q){const Ft=t.MAs(6);t.Q6J("tuiDropdown",Ft)("tuiDropdownEnabled",Ot.interactive)("tuiDropdownOpen",Ot.open&&Ot.interactive),t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,4,Ot.dateFiller$))}},dependencies:[p.O5,L.r,V.i,et.s$,O.yc,O.B1,M.AW,M.kD,F,U.nx,R.C,it.R,At.Nm,Dt.td,Dt.Bb,p.Ov],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border-width:.25rem}.t-value[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}"],changeDetection:0})}}return(0,e.gn)([v.UM],Gt.prototype,"calculateMask",null),Gt})(),at=(()=>{class Gt extends E.D1{get value(){return this.host.computedValue}onValueChange(Ut){this.host.onValueChange(Ut)}process(Ut){Ut.inputMode="numeric"}ngDoCheck(){this.host.nativeFocusableElement&&(this.host.nativeFocusableElement.placeholder=this.host.computedExampleText)}static{this.\u0275fac=function(){let Ut;return function(Ot){return(Ut||(Ut=t.n5z(Gt)))(Ot||Gt)}}()}static{this.\u0275dir=t.lG2({type:Gt,selectors:[["tui-input-date-range"]],features:[t._Bn([(0,A.cp)(Gt)]),t.qOj]})}}return Gt})(),Pt=(()=>{class Gt{static{this.\u0275fac=function(Q){return new(Q||Gt)}}static{this.\u0275mod=t.oAB({type:Gt})}static{this.\u0275inj=t.cJS({imports:[p.ez,O.KW,M.cn,F,U.SC,it.R,Dt.nT]})}}return Gt})()},3175:(Qt,$,o)=>{"use strict";o.d($,{DA:()=>At,c7:()=>I,uF:()=>nt});var e=o(7582),t=o(5879),a=o(1993),i=o(1260),g=o(6266),T=o(4098),_=o(1393),m=o(385),h=o(6456),f=o(8451),v=o(2701),C=o(5086),D=o(5414),y=o(1962),E=o(754),O=o(8293),M=o(5984),U=o(7511),R=o(11),A=o(5619),S=o(2572),w=o(7398),p=o(9080),L=o(6814),V=o(5325),et=o(5586),tt=o(8679),ht=o(1534),it=o(47),It=o(334);function st(Dt,Wt){if(1&Dt&&t._UZ(0,"tui-icon",7),2&Dt){const Nt=Wt.polymorpheusOutlet,Rt=t.oxw(2);t.ekj("t-icon_small","s"===Rt.size)("t-icon",!Rt.computedDisabled),t.Q6J("icon",Nt.toString())}}function dt(Dt,Wt){1&Dt&&t._UZ(0,"input",8)}const St=function(Dt){return{$implicit:Dt}};function bt(Dt,Wt){if(1&Dt&&(t.YNc(0,st,1,5,"tui-icon",5),t.YNc(1,dt,1,0,"input",6)),2&Dt){const Nt=t.oxw();t.Q6J("polymorpheusOutlet",Nt.calendarIcon)("polymorpheusOutletContext",t.VKq(3,St,Nt.size)),t.xp6(1),t.Q6J("ngIf",Nt.showNativePicker)}}function u(Dt,Wt){if(1&Dt){const Nt=t.EpF();t.TgZ(0,"tui-calendar",9),t.NdJ("dayClick",function(Bt){t.CHM(Nt);const B=t.oxw();return t.KtG(B.onDayClick(Bt))})("monthChange",function(Bt){t.CHM(Nt);const B=t.oxw();return t.KtG(B.onMonthChange(Bt))})("mousedown.prevent.silent",function(){return 0}),t.qZA()}if(2&Dt){const Nt=t.oxw();t.Q6J("disabledItemHandler",Nt.disabledItemHandler)("max",Nt.calendarMaxDay)("min",Nt.calendarMinDay)("month",Nt.computedActiveYearMonth)("value",Nt.calendarValue)}}const ut=["*",[["input"]]],Z=["*","input"];let I=(()=>{class Dt extends D.D1{get value(){return this.host.computedValue}get rawValue(){return this.host.value??[null,null]}onValueChange(Nt){this.host.onValueChange(Nt)}writeValue(Nt){this.host.writeValue(Nt)}process(Nt){Nt.inputMode=this.host.timeMode.includes("AA")?"text":"numeric"}static{this.\u0275fac=function(){let Nt;return function(Bt){return(Nt||(Nt=t.n5z(Dt)))(Bt||Dt)}}()}static{this.\u0275dir=t.lG2({type:Dt,selectors:[["tui-input-date-time"]],features:[t._Bn([(0,U.cp)(Dt)]),t.qOj]})}}return Dt})(),F=(()=>{class Dt{constructor(){this.host=(0,t.f3M)(I)}get value(){return this.host.rawValue[0]&&this.host.rawValue[1]?`${this.host.rawValue[0]?.toString("YMD","-")}T${this.host.rawValue[1]?.toString("HH:MM")}`:""}onChange(Nt){if(!Nt)return void this.host.writeValue([null,null]);const Rt=new Date(Nt),Bt=T.TU.fromLocalNativeDate(Rt),B=T.qD.fromLocalNativeDate(Rt);this.host.writeValue([Bt,B])}static{this.\u0275fac=function(Rt){return new(Rt||Dt)}}static{this.\u0275dir=t.lG2({type:Dt,selectors:[["input","tuiDateTime",""]],hostAttrs:["type","datetime-local"],hostVars:2,hostBindings:function(Rt,Bt){1&Rt&&t.NdJ("change.stop",function(k){return Bt.onChange(k.target.value)})("input.stop",function(k){return Bt.onChange(k.target.value)})("click.stop.silent",function(){return 0})("mousedown.stop.silent",function(){return 0}),2&Rt&&t.Ikx("tabIndex",-1)("value",Bt.value)}})}}return Dt})();const ot=", ";let nt=(()=>{class Dt extends D.M${constructor(){super(...arguments),this.options=(0,t.f3M)(C.WB),this.textfieldSize=(0,t.f3M)(O.kI),this.month=null,this.timeMode$=new A.X("HH:MM"),this.nativeValue=(0,t.tdS)(""),this.timeTexts$=(0,t.f3M)(C.Yq),this.dateTexts$=(0,t.f3M)(C.zf),this.valueTransformer=(0,t.f3M)(C.Mu,{optional:!0}),this.filler$=(0,S.a)([this.dateTexts$.pipe((0,w.U)(Nt=>(0,f.Yl)(Nt[this.dateFormat.mode],this.dateFormat.separator))),this.timeTexts$,this.timeMode$]).pipe((0,w.U)(([Nt,Rt,Bt])=>this.getDateTimeString(Nt,Rt[Bt]))),this.dateFormat=v.ZD,this.isMobile=(0,t.f3M)(m.fL),this.dateFormat$=(0,t.f3M)(v.P_).pipe((0,_.NA)(this.cdr),(0,a.sL)()).subscribe(Nt=>{this.dateFormat=Nt}),this.min=this.options.min,this.max=this.options.max,this.disabledItemHandler=g.tD,this.defaultActiveYearMonth=T.ql.currentLocal(),this.open=!1}set timeMode(Nt){this.timeMode$.next(Nt)}get timeMode(){return this.timeMode$.value}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return!!this.textfield?.focused}get computedValue(){const{value:Nt,nativeValue:Rt,timeMode:Bt}=this,[B,k]=Nt,yt=Rt().length>T.ek;return!B||!k&&yt?Rt():this.getDateTimeString(B,k,Bt)}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(Nt){super.writeValue(Nt),this.nativeValue.set(this.value&&(this.value[0]||this.value[1])?this.computedValue:"")}onValueChange(Nt){if(this.nativeValue.set(Nt),this.control&&this.control.updateValueAndValidity({emitEvent:!1}),Nt||this.onOpenChange(!0),Nt.length<T.ek)return void(this.value=[null,null]);const[Rt="",Bt]=Nt.split(ot),B=T.TU.normalizeParse(Rt,this.dateFormat.mode),k=Bt&&Bt.length===this.timeMode.length?T.qD.fromString(Bt):null;this.open=!1,this.value=[B,k]}get size(){return this.textfieldSize.size}get computedMin(){return this.toTuiDay(this.min,this.options.min)}get computedMax(){return this.toTuiDay(this.max,this.options.max)}get fillerLength(){return T.ek+2+this.timeMode.length}get maskOptions(){return this.calculateMask(this.computedMin,this.computedMax,this.timeMode,this.dateFormat.mode,this.dateFormat.separator)}get calendarIcon(){return this.options.icon}get showNativePicker(){return this.nativePicker&&"HH:MM"===this.timeMode}get calendarValue(){return this.value[0]}get calendarMinDay(){const Nt=this.computedMin;return Array.isArray(Nt)?Nt[0]:Nt}get calendarMaxDay(){const Nt=this.computedMax;return Array.isArray(Nt)?Nt[0]:Nt}get computedActiveYearMonth(){const{computedMin:Nt,computedMax:Rt}=this;return this.month||this.value[0]||(0,T.hV)(this.defaultActiveYearMonth,Array.isArray(Nt)?Nt[0]:Nt,Array.isArray(Rt)?Rt[0]:Rt)}onClick(){this.open=!this.open}onDayClick(Nt){const Rt=this.value[1]&&this.clampTime(this.value[1],Nt),Bt=T.ek+2;this.value=[Nt,Rt],this.nativeValue.update(B=>this.getDateTimeString(Nt,B.split(ot)[1]||"")),setTimeout(()=>this.nativeFocusableElement?.setSelectionRange(Bt,Bt)),this.open=!1}onMonthChange(Nt){this.month=Nt}onOpenChange(Nt){this.open=Nt}onFocused(Nt){if(this.updateFocused(Nt),Nt||((0,p.H)(0).pipe((0,a.sL)(this.destroyRef)).subscribe(()=>{this.nativeValue.update(B=>this.trimTrailingSeparator(B))}),null===this.value[0]||null!==this.value[1]||this.nativeValue().length===this.fillerLength||"HH:MM"===this.timeMode))return;const[,Rt]=this.nativeValue().split(ot);if(!Rt)return;const Bt=T.qD.fromString(Rt);this.value=[this.value[0],Bt]}getFallbackValue(){return[null,null]}valueIdenticalComparator(Nt,Rt){return(0,f.J$)(Nt[0],Rt[0],(Bt,B)=>Bt.daySame(B))&&(0,f.J$)(Nt[1],Rt[1],(Bt,B)=>String(Bt)===String(B))}get nativePicker(){return this.options.nativePicker&&this.isMobile}calculateMask(Nt,Rt,Bt,B,k){const yt=(0,i.H$)({timeMode:Bt,dateSeparator:k,dateMode:R.ux[B],min:this.toNativeDate(Nt),max:this.toNativeDate(Rt)}),Y=(0,i.gA)(xt=>{xt.inputMode=xt.selectionStart>=T.ek+2+Bt.indexOf(" AA")?"text":"numeric"});return{...yt,plugins:yt.plugins.concat(Bt.includes("AA")?Y:[])}}getDateTimeString(Nt,Rt,Bt="HH:MM"){const B=Nt instanceof T.TU?Nt.toString(this.dateFormat.mode,this.dateFormat.separator):Nt,k=Rt instanceof T.qD?Rt.toString(Bt):Rt||"";return k?`${B}${ot}${k}`:B}clampTime(Nt,Rt){const{computedMin:Bt,computedMax:B}=this,k=Nt.toAbsoluteMilliseconds(),yt=Array.isArray(Bt)&&Rt.daySame(this.calendarMinDay)?Bt[1].toAbsoluteMilliseconds():-1/0,Y=Array.isArray(B)&&Rt.daySame(this.calendarMaxDay)?B[1].toAbsoluteMilliseconds():1/0;return T.qD.fromAbsoluteMilliseconds((0,h.Ki)(k,yt,Y))}trimTrailingSeparator(Nt){return Nt.replace(new RegExp(`(\\${this.dateFormat.separator}|${ot}|\\.)$`),"")}toNativeDate(Nt){if(!Array.isArray(Nt))return Nt.toLocalNativeDate();const[{year:Rt,month:Bt,day:B},{hours:k,minutes:yt,seconds:Y,ms:xt}]=Nt;return new Date(Rt,Bt,B,k,yt,Y,xt)}toTuiDay(Nt,Rt){if(!Nt)return Rt;if(!Array.isArray(Nt))return Nt;const[Bt,B]=Nt;return Bt?B?Nt:Bt:Rt}static{this.\u0275fac=function(){let Nt;return function(Bt){return(Nt||(Nt=t.n5z(Dt)))(Bt||Dt)}}()}static{this.\u0275cmp=t.Xpm({type:Dt,selectors:[["tui-input-date-time"]],viewQuery:function(Rt,Bt){if(1&Rt&&t.Gf(y.yc,5),2&Rt){let B;t.iGM(B=t.CRH())&&(Bt.textfield=B.first)}},hostVars:1,hostBindings:function(Rt,Bt){1&Rt&&t.NdJ("click",function(){return Bt.onClick()}),2&Rt&&t.uIk("data-size",Bt.size)},inputs:{min:"min",max:"max",disabledItemHandler:"disabledItemHandler",defaultActiveYearMonth:"defaultActiveYearMonth",timeMode:"timeMode"},features:[t._Bn([(0,U.FT)(Dt),(0,D.wB)(Dt),(0,C._V)(C.Mu)]),t.qOj],ngContentSelectors:Z,decls:9,vars:16,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange"],["automation-id","tui-input-date-time__textfield","tuiValueAccessor","",1,"t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","focusedChange","valueChange"],["iconContent",""],[3,"polymorpheus"],["dropdown","polymorpheus"],["tuiAppearance","icon",3,"t-icon_small","t-icon","icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiDateTime","","class","t-native-input",4,"ngIf"],["tuiAppearance","icon",3,"icon"],["tuiDateTime","",1,"t-native-input"],["automation-id","tui-input-date-time__calendar",3,"disabledItemHandler","max","min","month","value","dayClick","monthChange","mousedown.prevent.silent"]],template:function(Rt,Bt){if(1&Rt&&(t.F$t(ut),t.TgZ(0,"div",0),t.NdJ("tuiDropdownOpenChange",function(k){return Bt.onOpenChange(k)}),t.TgZ(1,"tui-primitive-textfield",1),t.NdJ("focusedChange",function(k){return Bt.onFocused(k)})("valueChange",function(k){return Bt.onValueChange(k)}),t.ALo(2,"async"),t.Hsn(3),t.Hsn(4,1,["ngProjectAs","input",5,["input"]]),t.qZA(),t.YNc(5,bt,2,5,"ng-template",null,2,t.W1O),t.YNc(7,u,1,5,"ng-template",3,4,t.W1O),t.qZA()),2&Rt){const B=t.MAs(6),k=t.MAs(8);t.Q6J("tuiDropdown",k)("tuiDropdownEnabled",Bt.interactive&&!Bt.showNativePicker)("tuiDropdownOpen",Bt.open&&Bt.interactive),t.xp6(1),t.Q6J("disabled",Bt.computedDisabled)("invalid",Bt.computedInvalid)("maskito",Bt.maskOptions)("nativeId",Bt.nativeId)("pseudoFocus",Bt.pseudoFocus)("pseudoHover",Bt.pseudoHover)("readOnly",Bt.readOnly)("tuiTextfieldFiller",t.lcZ(2,14,Bt.filler$)||"")("tuiTextfieldIcon",Bt.calendarIcon&&B)("value",Bt.computedValue),t.xp6(6),t.Q6J("polymorpheus",Bt.type)}},dependencies:[L.O5,V.r,et.s$,et.GL,tt.XU,y.yc,y.B1,E.nx,O.AW,O.kD,M.C,ht.R,it.Nm,It.td,It.Bb,F,L.Ov],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border-width:.25rem}.t-button[_ngcontent-%COMP%]{display:flex;block-size:2.75rem;justify-content:center;box-shadow:inset 0 1px var(--tui-border-normal)}.t-native-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0})}}return(0,e.gn)([f.UM],Dt.prototype,"calculateMask",null),(0,e.gn)([f.UM],Dt.prototype,"getDateTimeString",null),Dt})(),At=(()=>{class Dt{static{this.\u0275fac=function(Rt){return new(Rt||Dt)}}static{this.\u0275mod=t.oAB({type:Dt})}static{this.\u0275inj=t.cJS({imports:[L.ez,tt.XU,y.KW,E.SC,O.cn,ht.R,It.nT]})}}return Dt})()},3069:(Qt,$,o)=>{"use strict";o.d($,{hr:()=>Dt,jL:()=>At,k_:()=>ot});var e=o(7582),t=o(5879),a=o(1993),i=o(4413),g=o(1260),T=o(4017),_=o(6266),m=o(4098),h=o(1393),f=o(385),v=o(8451),C=o(2701),D=o(5086),y=o(5414),E=o(1962),O=o(754),M=o(8293),U=o(5984),R=o(7511),A=o(11),S=o(7398),w=o(6814),p=o(5325),L=o(5586),V=o(8679),et=o(5505),tt=o(8767),ht=o(47),it=o(1534),It=o(334);function st(Wt,Nt){if(1&Wt){const Rt=t.EpF();t.TgZ(0,"tui-primitive-textfield",5),t.NdJ("focusedChange",function(B){t.CHM(Rt);const k=t.oxw();return t.KtG(k.onFocused(B))})("valueChange",function(B){t.CHM(Rt);const k=t.oxw();return t.KtG(k.onValueChange(B))}),t.Hsn(1),t.Hsn(2,1,["ngProjectAs","input",5,["input"]]),t.qZA()}if(2&Wt){const Rt=Nt.tuiLet,Bt=t.oxw(),B=t.MAs(4);t.Q6J("disabled",Bt.computedDisabled)("focusable",Bt.computedFocusable)("invalid",Bt.computedInvalid)("maskito",Bt.computedMask)("nativeId",Bt.nativeId)("pseudoFocus",Bt.pseudoFocus)("pseudoHover",Bt.pseudoHover)("readOnly",Bt.readOnly)("tuiTextfieldFiller",Bt.getComputedFiller(Rt||""))("tuiTextfieldIcon",Bt.calendarIcon&&B)("value",Bt.computedValue)}}function dt(Wt,Nt){if(1&Wt){const Rt=t.EpF();t.TgZ(0,"tui-icon",8),t.NdJ("click",function(){t.CHM(Rt);const B=t.oxw(2);return t.KtG(B.onIconClick())}),t.qZA()}if(2&Wt){const Rt=Nt.polymorpheusOutlet,Bt=t.oxw(2);t.ekj("t-icon_small","s"===Bt.size)("t-icon",!Bt.computedDisabled),t.Q6J("icon",Rt.toString())}}function St(Wt,Nt){1&Wt&&t._UZ(0,"input",9)}const bt=function(Wt){return{$implicit:Wt}};function u(Wt,Nt){if(1&Wt&&(t.YNc(0,dt,1,5,"tui-icon",6),t.YNc(1,St,1,0,"input",7)),2&Wt){const Rt=t.oxw();t.Q6J("polymorpheusOutlet",Rt.calendarIcon)("polymorpheusOutletContext",t.VKq(3,bt,Rt.size)),t.xp6(1),t.Q6J("ngIf",Rt.nativePicker)}}function ut(Wt,Nt){if(1&Wt){const Rt=t.EpF();t.TgZ(0,"div",12),t.NdJ("mousedown.prevent.silent",function(){return 0}),t.TgZ(1,"button",13),t.NdJ("click",function(){t.CHM(Rt);const B=t.oxw(2);return t.KtG(B.items[0]&&B.onDayClick(B.items[0].day))}),t._uU(2),t.qZA()()}if(2&Wt){const Rt=t.oxw(2);t.xp6(2),t.hij(" ",Rt.items[0]," ")}}function Z(Wt,Nt){if(1&Wt){const Rt=t.EpF();t.TgZ(0,"tui-calendar",10),t.NdJ("dayClick",function(B){t.CHM(Rt);const k=t.oxw();return t.KtG(k.onDayClick(B))})("monthChange",function(B){t.CHM(Rt);const k=t.oxw();return t.KtG(k.onMonthChange(B))})("mousedown.prevent.silent",function(){return 0}),t.qZA(),t.YNc(1,ut,3,1,"div",11)}if(2&Wt){const Rt=t.oxw();t.Q6J("disabledItemHandler",Rt.disabledItemHandler)("markerHandler",Rt.markerHandler)("max",Rt.computedMax)("min",Rt.computedMin)("month",Rt.computedActiveYearMonth)("value",Rt.value),t.xp6(1),t.Q6J("ngIf",1===Rt.items.length)}}const I=["*",[["input"]]],F=["*","input"];let ot=(()=>{class Wt extends y.D1{get value(){return this.host.computedValue}get max(){return this.host.computedMax}get min(){return this.host.computedMin}get format(){return this.host.dateFormat}onValueChange(Rt){this.host.onValueChange(Rt)}process(Rt){Rt.inputMode="numeric"}static{this.\u0275fac=function(){let Rt;return function(B){return(Rt||(Rt=t.n5z(Wt)))(B||Wt)}}()}static{this.\u0275dir=t.lG2({type:Wt,selectors:[["tui-input-date",3,"multiple",""]],features:[t._Bn([(0,R.cp)(Wt)]),t.qOj]})}}return Wt})(),nt=(()=>{class Wt{constructor(){this.host=(0,t.f3M)(ot)}get value(){return this.host.value.length===m.ek?m.TU.normalizeParse(this.host.value,this.host.format.mode).toString("YMD","-"):""}get max(){return this.host.max.toJSON()}get min(){return this.host.min.toJSON()}onChange(Rt){this.host.onValueChange(Rt?m.TU.normalizeParse(Rt,"YMD").toString(this.host.format.mode):"")}static{this.\u0275fac=function(Bt){return new(Bt||Wt)}}static{this.\u0275dir=t.lG2({type:Wt,selectors:[["input","tuiDate",""]],hostAttrs:["type","date"],hostVars:4,hostBindings:function(Bt,B){1&Bt&&t.NdJ("change",function(yt){return B.onChange(yt.target.value)})("click.stop.silent",function(){return 0})("input.stop.silent",function(){return 0})("mousedown.stop.silent",function(){return 0}),2&Bt&&t.Ikx("tabIndex",-1)("value",B.value)("max",B.max)("min",B.min)},features:[t._Bn([(0,R.cp)(ot)])]})}}return Wt})(),At=(()=>{class Wt extends y.F9{constructor(){super(...arguments),this.options=(0,t.f3M)(D.WB),this.textfieldSize=(0,t.f3M)(M.kI),this.mobileCalendar=(0,t.f3M)(D.vk,{optional:!0}),this.month=null,this.nativeValue=(0,t.tdS)(""),this.min=this.options.min,this.max=this.options.max,this.disabledItemHandler=_.tD,this.markerHandler=null,this.items=[],this.defaultActiveYearMonth=m.ql.currentLocal(),this.dateFormat=C.ZD,this.open=!1,this.dateTexts$=(0,t.f3M)(D.zf),this.valueTransformer=(0,t.f3M)(D.HF,{optional:!0}),this.isMobile=(0,t.f3M)(f.fL),this.filler$=this.dateTexts$.pipe((0,S.U)(Rt=>(0,v.Yl)(Rt[this.dateFormat.mode],this.dateFormat.separator))),this.dateFormat$=(0,t.f3M)(C.P_).pipe((0,h.NA)(this.cdr),(0,a.sL)()).subscribe(Rt=>{this.dateFormat=Rt})}get computedMin(){return this.min??this.options.min}get computedMax(){return this.max??this.options.max}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return!!this.textfield?.focused}get computedValue(){const{value:Rt,nativeValue:Bt,activeItem:B}=this;return B?String(B):Rt?Rt.toString(this.dateFormat.mode,this.dateFormat.separator):Bt()}onValueChange(Rt){this.nativeValue.set(Rt),this.control&&this.control.updateValueAndValidity({emitEvent:!1}),!Rt&&!this.mobileCalendar&&this.onOpenChange(!0),this.activeItem&&this.nativeValue.set(""),this.value=Rt.length!==m.ek||this.activeItem?null:m.TU.normalizeParse(Rt,this.dateFormat.mode)}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(Rt){super.writeValue(Rt),this.nativeValue.set(Rt?this.computedValue:"")}get size(){return this.textfieldSize.size}get nativePicker(){return this.options.nativePicker&&this.isMobile}get calendarIcon(){return this.options.icon}get computedActiveYearMonth(){const Rt=(0,m.hV)(this.defaultActiveYearMonth,this.computedMin,this.computedMax);return this.value?.dayAfter(m.Yz)?this.month||Rt:this.items[0]&&this.value?.daySame(this.items[0].day)?this.items[0].displayDay:this.month||this.value||Rt}get computedMask(){return this.activeItem?i.A_:this.computeMaskOptions(this.dateFormat.mode,this.dateFormat.separator,this.computedMin,this.computedMax)}get activeItem(){const{value:Rt}=this;return Rt&&this.items.find(Bt=>Bt.day.daySame(Rt))||null}onClick(){!this.isMobile&&this.interactive&&(this.open=!this.open)}getComputedFiller(Rt){return this.activeItem?"":Rt}onIconClick(){this.isMobile&&this.interactive&&(this.open=!0)}onDayClick(Rt){this.value=Rt,this.open=!1}onMonthChange(Rt){this.month=Rt}onOpenChange(Rt){this.open=Rt}onFocused(Rt){this.updateFocused(Rt)}valueIdenticalComparator(Rt,Bt){return(0,v.J$)(Rt,Bt,(B,k)=>B.daySame(k))}computeMaskOptions(Rt,Bt,B,k){return(0,g.tr)({separator:Bt,mode:A.ux[Rt],min:B.toLocalNativeDate(),max:k.toLocalNativeDate()})}static{this.\u0275fac=function(){let Rt;return function(B){return(Rt||(Rt=t.n5z(Wt)))(B||Wt)}}()}static{this.\u0275cmp=t.Xpm({type:Wt,selectors:[["tui-input-date",3,"multiple",""]],viewQuery:function(Bt,B){if(1&Bt&&t.Gf(E.yc,5),2&Bt){let k;t.iGM(k=t.CRH())&&(B.textfield=k.first)}},hostVars:1,hostBindings:function(Bt,B){1&Bt&&t.NdJ("click",function(){return B.onClick()}),2&Bt&&t.uIk("data-size",B.size)},inputs:{min:"min",max:"max",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",defaultActiveYearMonth:"defaultActiveYearMonth"},features:[t._Bn([(0,R.FT)(Wt),(0,T.wB)(Wt),(0,y.wB)(Wt),(0,D._V)(D.HF),D.xC]),t.qOj],ngContentSelectors:F,decls:7,vars:7,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","focusedChange","valueChange",4,"tuiLet"],["iconContent",""],[3,"polymorpheus"],["dropdown","polymorpheus"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","focusedChange","valueChange"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"t-icon_small","t-icon","icon","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiDate","","class","t-native-input",4,"ngIf"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"icon","click"],["tuiDate","",1,"t-native-input"],["automation-id","tui-input-date__calendar",3,"disabledItemHandler","markerHandler","max","min","month","value","dayClick","monthChange","mousedown.prevent.silent"],["class","t-button",3,"mousedown.prevent.silent",4,"ngIf"],[1,"t-button",3,"mousedown.prevent.silent"],["tuiLink","","type","button",3,"click"]],template:function(Bt,B){if(1&Bt&&(t.F$t(I),t.TgZ(0,"div",0),t.NdJ("tuiDropdownOpenChange",function(yt){return B.onOpenChange(yt)}),t.YNc(1,st,3,11,"tui-primitive-textfield",1),t.ALo(2,"async"),t.YNc(3,u,2,5,"ng-template",null,2,t.W1O),t.YNc(5,Z,2,7,"ng-template",3,4,t.W1O),t.qZA()),2&Bt){const k=t.MAs(6);t.Q6J("tuiDropdown",k)("tuiDropdownEnabled",B.interactive&&!B.nativePicker)("tuiDropdownOpen",B.open),t.xp6(1),t.Q6J("tuiLet",t.lcZ(2,5,B.filler$)),t.xp6(4),t.Q6J("polymorpheus",B.type)}},dependencies:[w.O5,p.r,L.s$,L.GL,V.XU,et.lI,E.yc,E.B1,O.nx,tt.i,M.AW,M.kD,U.C,ht.Nm,it.R,It.td,It.Bb,nt,w.Ov],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border-width:.25rem}.t-button[_ngcontent-%COMP%]{display:flex;block-size:2.75rem;justify-content:center;box-shadow:inset 0 1px var(--tui-border-normal)}.t-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;text-align:center}.t-native-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0})}}return(0,e.gn)([v.UM],Wt.prototype,"computeMaskOptions",null),Wt})(),Dt=(()=>{class Wt{static{this.\u0275fac=function(Bt){return new(Bt||Wt)}}static{this.\u0275mod=t.oAB({type:Wt})}static{this.\u0275inj=t.cJS({imports:[w.ez,V.XU,E.KW,O.SC,M.cn,it.R,It.nT]})}}return Wt})()},3416:(Qt,$,o)=>{"use strict";o.d($,{Iw:()=>Y,PZ:()=>Gt,cB:()=>De});var e=o(5879),t=o(1993),a=o(6266),i=o(5929),g=o(9298),T=o(8451),_=o(1018),m=o(1564),h=o(334),f=o(6201),v=o(2701),C=o(5414),D=o(343),y=o(5984),E=o(8293),O=o(7511),M=o(5586),U=o(9080),R=o(6814),A=o(6223),S=o(3460),w=o(6942),p=o(47),L=o(1534),V=o(5533);const et=["focusableElement"],tt=["tagsContainer"],ht=["cleaner"],it=["errorIcon"],It=["tag"];function st(Ut,Q){1&Ut&&e.GkF(0)}function dt(Ut,Q){1&Ut&&e._UZ(0,"tui-icon",21),2&Ut&&e.Q6J("icon",Q.polymorpheusOutlet.toString())}const St=function(Ut){return{$implicit:Ut}};function bt(Ut,Q){if(1&Ut&&(e.TgZ(0,"div",19),e.YNc(1,dt,1,1,"tui-icon",20),e.qZA()),2&Ut){const Ot=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",Ot.iconStart)("polymorpheusOutletContext",e.VKq(2,St,Ot.size))}}function u(Ut,Q){if(1&Ut&&(e.TgZ(0,"div",22),e.Hsn(1,2),e.qZA()),2&Ut){const Ot=e.oxw();e.ekj("t-placeholder_raised",Ot.placeholderRaised)}}function ut(Ut,Q){if(1&Ut){const Ot=e.EpF();e.TgZ(0,"tui-tag",24,25),e.NdJ("edited",function(le){const Ge=e.CHM(Ot).index,Se=e.oxw(2);return e.KtG(Se.onTagEdited(le,Ge))})("keydown.arrowLeft.prevent",function(){const ne=e.CHM(Ot).index,Ge=e.oxw(2);return e.KtG(Ge.onTagKeyDownArrowLeft(ne))})("keydown.arrowRight.prevent",function(){const ne=e.CHM(Ot).index,Ge=e.oxw(2);return e.KtG(Ge.onTagKeyDownArrowRight(ne))}),e.qZA()}if(2&Ut){const Ot=Q.$implicit,Ft=e.oxw(2);e.Q6J("autoColor",Ft.autoColor)("disabled",Ft.computedDisabled||Ft.disabledItemHandler(Ot))("editable",Ft.editable&&!Ft.readOnly)("hoverable",!Ft.readOnly)("leftContent",Ft.getLeftContent(Ot))("maxLength",Ft.maxLength)("removable",!Ft.readOnly&&Ft.removable)("separator",Ft.separator)("size",Ft.controller.size)("status",Ft.status)("value",Ot.toString())}}function Z(Ut,Q){if(1&Ut&&(e.ynx(0),e.YNc(1,ut,2,11,"tui-tag",23),e.BQk()),2&Ut){const Ot=e.oxw();e.xp6(1),e.Q6J("ngForOf",Ot.value)("ngForTrackBy",Ot.trackByFn)}}function I(Ut,Q){if(1&Ut&&e._UZ(0,"span",27),2&Ut){const Ot=Q.$implicit,Ft=e.oxw(2);e.ekj("t-text_comma",Ft.computedFocused&&!Ft.inputHidden)("t-text_disabled",Ft.disabledItemHandler(Ot))("t-text_error",!Ft.tagValidator(Ot)),e.Q6J("textContent",Ot)}}function F(Ut,Q){if(1&Ut&&e.YNc(0,I,1,7,"span",26),2&Ut){const Ot=e.oxw();e.Q6J("ngForOf",Ot.value)}}function ot(Ut,Q){if(1&Ut){const Ot=e.EpF();e.TgZ(0,"tui-icon",32,33),e.NdJ("click.stop",function(){e.CHM(Ot);const le=e.oxw(3);return e.KtG(le.onCleanerClick())}),e.qZA()}2&Ut&&e.Q6J("icon",Q.polymorpheusOutlet.toString())}function nt(Ut,Q){if(1&Ut&&(e.ynx(0),e.YNc(1,ot,2,1,"tui-icon",31),e.BQk()),2&Ut){const Ot=e.oxw(2);e.xp6(1),e.Q6J("polymorpheusOutlet",Ot.iconCleaner)("polymorpheusOutletContext",e.VKq(2,St,Ot.size))}}function At(Ut,Q){if(1&Ut&&e._UZ(0,"tui-tooltip",34),2&Ut){const Ot=e.oxw(2);e.Q6J("content",null==Ot.hintOptions?null:Ot.hintOptions.content)("describeId",Ot.id)}}function Dt(Ut,Q){1&Ut&&e._UZ(0,"tui-icon",21),2&Ut&&e.Q6J("icon",Q.polymorpheusOutlet.toString())}function Wt(Ut,Q){if(1&Ut&&(e.TgZ(0,"div",35),e.YNc(1,Dt,1,1,"tui-icon",20),e.qZA()),2&Ut){const Ot=e.oxw(2);e.xp6(1),e.Q6J("polymorpheusOutlet",Ot.icon)("polymorpheusOutletContext",e.VKq(2,St,Ot.size))}}function Nt(Ut,Q){if(1&Ut&&(e.TgZ(0,"div",28),e.YNc(1,nt,2,4,"ng-container",0),e.YNc(2,At,1,2,"tui-tooltip",29),e.YNc(3,Wt,2,4,"div",30),e.qZA()),2&Ut){const Ot=e.oxw();e.xp6(1),e.Q6J("ngIf",Ot.hasCleaner),e.xp6(1),e.Q6J("ngIf",Ot.showHint),e.xp6(1),e.Q6J("ngIf",Ot.icon)}}function Rt(Ut,Q){if(1&Ut&&e._UZ(0,"tui-icon",36),2&Ut){const Ot=e.oxw();e.Q6J("icon",Ot.icons.error)}}const Bt=[[["tuiContent"]],[["select"]],"*"],B=function(){return{standalone:!0}},k=["tuiContent","select","*"],Y=(0,T.JN)({autoColor:!1,separator:",",tagStatus:"default",uniqueTags:!0}),z={s:1.25,m:1.5,l:2},at={s:1,m:1.25,l:1.25};let Gt=(()=>{class Ut extends C.m6{constructor(){super(...arguments),this.tags=a.Mm,this.el=(0,i.AG)(),this.options=(0,e.f3M)(Y),this.hintOptions=(0,e.f3M)(f.bZ,{optional:!0}),this.controller=(0,e.f3M)(E.Cs),this.icons=(0,e.f3M)(v.Gs),this.status=this.options.tagStatus,this.open=!1,this.separator=this.options.separator,this.search="",this.editable=!0,this.tagValidator=a.oN,this.rows=1/0,this.inputHidden=!1,this.uniqueTags=this.options.uniqueTags,this.autoColor=this.options.autoColor,this.maxLength=null,this.placeholder="",this.removable=!0,this.pseudoOpen=!1,this.disabledItemHandler=a.tD,this.searchChange=new e.vpe}set pseudoFocusedSetter(Ot){!Ot&&!this.focused&&this.scrollTo(0),this.pseudoFocus=Ot}get labelOutside(){const{size:Ot,labelOutside:Ft}=this.controller;return"s"===Ot||Ft}get size(){return this.controller.size}get nativeFocusableElement(){return!this.focusableElement||this.computedDisabled?null:this.focusableElement.nativeElement}get hasValue(){return!!this.value.length||this.hasNativeValue}get hasExampleText(){return!!this.nativeFocusableElement?.placeholder&&this.computedFocused&&!this.hasValue&&!this.readOnly}get hasPlaceholder(){return!this.labelOutside||!this.hasValue&&(!this.hasExampleText||this.inputHidden)}get focused(){return(0,g.zb)(this.el)||!!this.dropdown?.tuiDropdownOpen}get tagsEmpty(){return(!this.focused||this.inputHidden)&&!this.value.length&&!this.search?.trim()?.length&&!this.placeholder||!!this.valueContent}onTagEdited(Ot,Ft){this.focusInput(""===Ot),this.value=this.filterValue(this.value.map((le,ne)=>ne!==Ft?le:Ot.split(this.separator).map(Ge=>Ge.trim()).filter(Boolean)).reduce((le,ne)=>le.concat(ne),[]))}handleOption(Ot){this.focusInput(),this.updateSearch(""),this.value=this.filterValue(this.value.concat(Ot)),this.open=!1,this.scrollTo()}setDisabledState(){super.setDisabledState(),this.open=!1}get iconStart(){return this.controller.iconStart}get appearance(){return this.controller.appearance}get expandable(){return this.rows>1}get icon(){return this.controller.icon}get iconCleaner(){return this.controller.options.iconCleaner}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&this.interactive}get hasNativeValue(){return!!this.search}get placeholderRaised(){return!this.labelOutside&&(this.computedFocused&&!this.readOnly||this.hasValue)}get hasRightIcons(){return this.hasCleaner||!!this.icon||!!this.hintOptions?.content&&!this.computedDisabled}get showHint(){return!!this.hintOptions?.content&&(this.controller.options.hintOnDisabled||!this.computedDisabled)}get canOpen(){return this.interactive&&!!this.datalist}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}onFocusInOut(){this.cdr.detectChanges()}detectRetargetFromLabel(Ot){(0,i.UP)(Ot)&&Ot.stopImmediatePropagation()}getLeftContent(Ot){return!this.tagValidator(Ot)&&this.errorIconTemplate?this.errorIconTemplate:""}onCleanerClick(){this.updateSearch(""),this.clear(),this.focusInput()}onActiveZone(Ot){this.open=!1,this.addTag(),this.updateFocused(Ot),!Ot&&!this.computedFocused&&this.scrollTo(0)}onMouseDown(Ot){const Ft=(0,i.mA)(Ot);!this.focusableElement||Ft===this.focusableElement.nativeElement||!(0,i.ve)(Ot.target)||this.cleanerSvg?.nativeElement.contains(Ot.target)||this.tagsContainer&&Ft!==this.tagsContainer.nativeElement&&this.tagsContainer.nativeElement.contains(Ft)||(Ot.preventDefault(),this.focusInput())}onFieldKeyDownBackspace(Ot){this.labelOutside||this.hasNativeValue||!this.value.length?this.onFieldKeyDownArrowLeft(Ot):this.deleteLastEnabledItem()}onFieldKeyDownArrowLeft(Ot){!this.labelOutside||this.hasNativeValue||!this.value.length||(Ot.preventDefault(),this.tags.last.nativeElement.focus())}onFieldKeyDownEnter(){this.addTag(),this.scrollTo()}onTagKeyDownArrowLeft(Ot){Ot>0&&this.onScrollKeyDown(Ot,-1)}onTagKeyDownArrowRight(Ot){Ot===this.value.length-1?this.focusInput():this.onScrollKeyDown(Ot,1)}onInput(Ot){const Ft=Ot.split(this.separator),le=Ft.map(Se=>this.clippedValue(Se.trim())).filter((Se,Pe,{length:Ue})=>Se.length>0&&Pe!==Ue-1),ne=le.filter(Se=>!this.disabledItemHandler(Se)),Ge=le.filter(Se=>this.disabledItemHandler(Se));if(Ft.length>1){const Se=Ge.length?Ge.join((0,T.Aj)(this.separator)?this.separator:","):Ft[Ft.length-1]?.trim()??"";this.updateSearch(this.clippedValue(Se)),this.value=this.filterValue([...this.value,...ne])}else this.updateSearch(this.clippedValue(Ot));this.open=this.hasNativeValue}onPaste(Ot){const Ft=(0,i.Nn)(Ot);this.onInput(Ft||"")}onDrop({dataTransfer:Ot}){Ot&&this.onInput(Ot.getData("text")||"")}trackByFn(Ot,Ft){return Ft.toString()}get lineHeight(){return this.labelOutside?z[this.controller.size]+.25:at[this.controller.size]}scrollTo(Ot=this.scrollBar?.nativeElement.scrollWidth){(0,U.H)(0).pipe((0,t.sL)(this.destroyRef)).subscribe(()=>{this.scrollBar&&(this.scrollBar.nativeElement.scrollLeft=Ot||0)})}filterValue(Ot){const Ft=new Set;return Ot.reverse().filter(le=>!this.uniqueTags||le&&!Ft.has(le)&&Ft.add(le)).reverse()}onScrollKeyDown(Ot,Ft){const le=this.tags.find((ne,Ge)=>Ge===Ot+Ft);!le||!this.scrollBar||(le.nativeElement.focus(),Ft*this.scrollBar.nativeElement.clientWidth-Ft*le.nativeElement.offsetLeft-le.nativeElement.clientWidth<0&&(this.scrollBar.nativeElement.scrollLeft+=Ft*le.nativeElement.clientWidth))}updateSearch(Ot){this.focusableElement&&(this.focusableElement.nativeElement.value=Ot),this.search=Ot,this.searchChange.emit(Ot)}addTag(){const Ot=this.search?.trim()??"";!Ot||this.disabledItemHandler(Ot)||(this.updateSearch(""),this.value=this.filterValue(this.value.concat(Ot)))}deleteLastEnabledItem(){for(let Ot=this.value.length-1;Ot>=0;Ot--)if(!this.disabledItemHandler(this.value[Ot]??"")){this.value=(0,T.WX)(this.value,Ot);break}}focusInput(Ot=!1){this.nativeFocusableElement?.focus({preventScroll:Ot})}clippedValue(Ot){return Ot.slice(0,this.maxLength||Ot.length)}static{this.\u0275fac=function(){let Ot;return function(le){return(Ot||(Ot=e.n5z(Ut)))(le||Ut)}}()}static{this.\u0275cmp=e.Xpm({type:Ut,selectors:[["tui-input-tag"]],contentQueries:function(Ft,le,ne){if(1&Ft&&(e.Suo(ne,_.gX,5,e.Rgc),e.Suo(ne,M.s$,5)),2&Ft){let Ge;e.iGM(Ge=e.CRH())&&(le.datalist=Ge.first),e.iGM(Ge=e.CRH())&&(le.valueContent=Ge.first)}},viewQuery:function(Ft,le){if(1&Ft&&(e.Gf(h.Bb,5),e.Gf(et,5),e.Gf(tt,5),e.Gf(ht,5,e.SBq),e.Gf(m.D1,5,e.SBq),e.Gf(it,5),e.Gf(It,5,e.SBq)),2&Ft){let ne;e.iGM(ne=e.CRH())&&(le.dropdown=ne.first),e.iGM(ne=e.CRH())&&(le.focusableElement=ne.first),e.iGM(ne=e.CRH())&&(le.tagsContainer=ne.first),e.iGM(ne=e.CRH())&&(le.cleanerSvg=ne.first),e.iGM(ne=e.CRH())&&(le.scrollBar=ne.first),e.iGM(ne=e.CRH())&&(le.errorIconTemplate=ne.first),e.iGM(ne=e.CRH())&&(le.tags=ne)}},hostVars:7,hostBindings:function(Ft,le){1&Ft&&e.NdJ("focusin.capture.silent",function(){return le.onFocusInOut()})("focusout.capture.silent",function(){return le.onFocusInOut()}),2&Ft&&(e.uIk("data-size",le.size),e.ekj("_icon-start",le.iconStart)("_expandable",le.expandable)("_label-outside",le.labelOutside))},inputs:{separator:"separator",search:"search",editable:"editable",tagValidator:"tagValidator",rows:"rows",inputHidden:"inputHidden",uniqueTags:"uniqueTags",autoColor:"autoColor",maxLength:"maxLength",placeholder:"placeholder",removable:"removable",pseudoOpen:"pseudoOpen",disabledItemHandler:"disabledItemHandler",pseudoFocusedSetter:["pseudoFocused","pseudoFocusedSetter"]},outputs:{searchChange:"searchChange"},features:[e._Bn([(0,O.FT)(Ut),(0,C.wB)(Ut),(0,_.oE)(Ut),E.Y0]),e.qOj,e.zW0([h.a6])],ngContentSelectors:k,decls:25,vars:36,consts:[[4,"ngIf"],["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange","tuiActiveZoneChange"],["tuiWrapper","",3,"appearance","disabled","focus","hover","invalid","readOnly","click.prevent.silent","mousedown"],[1,"t-content"],["class","t-icon t-icon_left t-textfield-icon t-icon-wrapper",4,"ngIf"],[1,"t-wrapper"],[1,"t-absolute-wrapper"],["automation-id","tui-input-tag__placeholder","class","t-placeholder",3,"t-placeholder_raised",4,"ngIf"],[1,"t-scrollbar",3,"hidden"],[1,"t-tags"],[4,"ngIf","ngIfElse"],["text",""],[1,"t-input-wrapper"],[1,"t-ghost"],["automation-id","tui-input-tag__native","type","text",1,"t-native",3,"disabled","id","ngModel","ngModelOptions","placeholder","readOnly","tabIndex","drop.prevent","keydown.arrowLeft","keydown.backspace","keydown.enter.prevent","ngModelChange","paste.prevent"],["focusableElement",""],[1,"t-value-content"],["class","t-icons t-icon-wrapper",4,"ngIf"],["errorIcon",""],[1,"t-icon","t-icon_left","t-textfield-icon","t-icon-wrapper"],["tuiAppearance","icon",3,"icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiAppearance","icon",3,"icon"],["automation-id","tui-input-tag__placeholder",1,"t-placeholder"],["automation-id","tui-input-tag__tag","tabIndex","-1","class","t-tag",3,"autoColor","disabled","editable","hoverable","leftContent","maxLength","removable","separator","size","status","value","edited","keydown.arrowLeft.prevent","keydown.arrowRight.prevent",4,"ngFor","ngForOf","ngForTrackBy"],["automation-id","tui-input-tag__tag","tabIndex","-1",1,"t-tag",3,"autoColor","disabled","editable","hoverable","leftContent","maxLength","removable","separator","size","status","value","edited","keydown.arrowLeft.prevent","keydown.arrowRight.prevent"],["tag",""],["class","t-text",3,"t-text_comma","t-text_disabled","t-text_error","textContent",4,"ngFor","ngForOf"],[1,"t-text",3,"textContent"],[1,"t-icons","t-icon-wrapper"],["automation-id","tui-input-tag__tooltip","class","t-tooltip",3,"content","describeId",4,"ngIf"],["class","t-icon t-textfield-icon",4,"ngIf"],["automation-id","tui-input-tag__cleaner","tuiAppearance","icon","class","t-cleaner",3,"icon","click.stop",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-input-tag__cleaner","tuiAppearance","icon",1,"t-cleaner",3,"icon","click.stop"],["cleaner",""],["automation-id","tui-input-tag__tooltip",1,"t-tooltip",3,"content","describeId"],[1,"t-icon","t-textfield-icon"],[1,"t-error-icon",3,"icon"]],template:function(Ft,le){if(1&Ft&&(e.F$t(Bt),e.YNc(0,st,1,0,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.NdJ("tuiDropdownOpenChange",function(Ge){return le.open=Ge})("tuiActiveZoneChange",function(Ge){return le.onActiveZone(Ge)}),e.TgZ(3,"div",2),e.NdJ("click.prevent.silent",function(Ge){return le.detectRetargetFromLabel(Ge)})("mousedown",function(Ge){return le.onMouseDown(Ge)}),e.TgZ(4,"div",3),e.YNc(5,bt,2,4,"div",4),e.TgZ(6,"div",5)(7,"div",6),e.YNc(8,u,2,2,"div",7),e.qZA(),e.TgZ(9,"tui-scrollbar",8)(10,"div",9),e.YNc(11,Z,2,2,"ng-container",10),e.YNc(12,F,1,1,"ng-template",null,11,e.W1O),e.TgZ(14,"div",12)(15,"div",13),e._uU(16),e.qZA(),e.TgZ(17,"input",14,15),e.NdJ("drop.prevent",function(Ge){return le.onDrop(Ge)})("keydown.arrowLeft",function(Ge){return le.onFieldKeyDownArrowLeft(Ge)})("keydown.backspace",function(Ge){return le.onFieldKeyDownBackspace(Ge)})("keydown.enter.prevent",function(){return le.onFieldKeyDownEnter()})("ngModelChange",function(Ge){return le.onInput(Ge)})("paste.prevent",function(Ge){return le.onPaste(Ge)}),e.qZA()()(),e.TgZ(19,"div",16),e.Hsn(20),e.qZA()()(),e.Hsn(21,1),e.YNc(22,Nt,4,3,"div",17),e.qZA(),e.YNc(23,Rt,1,1,"ng-template",null,18,e.W1O),e.qZA()()),2&Ft){const ne=e.MAs(13);e.Q6J("ngIf",e.lcZ(1,33,null==le.hintOptions?null:le.hintOptions.change$)),e.xp6(2),e.Q6J("tuiDropdown",le.datalist||"")("tuiDropdownEnabled",le.canOpen)("tuiDropdownOpen",le.open),e.xp6(1),e.Q6J("appearance",le.appearance)("disabled",le.computedDisabled)("focus",le.computedFocused)("hover",le.pseudoHover)("invalid",le.computedInvalid)("readOnly",le.readOnly),e.xp6(2),e.Q6J("ngIf",le.iconStart),e.xp6(3),e.Q6J("ngIf",le.hasPlaceholder),e.xp6(1),e.Udp("max-height",le.computeMaxHeight,"rem"),e.Q6J("hidden",!le.expandable),e.xp6(1),e.ekj("t-tags_empty",le.tagsEmpty),e.xp6(1),e.Q6J("ngIf",le.labelOutside)("ngIfElse",ne),e.xp6(3),e.ekj("t-input-wrapper_collapsed",le.computedDisabled||le.readOnly||le.inputHidden),e.xp6(2),e.Oqu(le.search),e.xp6(1),e.ekj("t-native_hidden",le.inputHidden),e.Q6J("disabled",le.computedDisabled)("id",le.id)("ngModel",le.search)("ngModelOptions",e.DdM(35,B))("placeholder",le.placeholder)("readOnly",le.readOnly||le.inputHidden)("tabIndex",le.computedFocusable?0:-1),e.uIk("maxLength",le.maxLength),e.xp6(5),e.Q6J("ngIf",le.hasRightIcons)}},dependencies:[R.sg,R.O5,A.Fj,A.JJ,A.On,M.s$,m.D1,S.w,w.Gi,D.o,y.C,p.Nm,L.R,h.td,h.Bb,R.Ov],styles:['[_nghost-%COMP%]{position:relative;display:block;text-align:start;border-radius:var(--tui-radius-m);block-size:var(--tui-height);min-block-size:var(--tui-height);max-block-size:var(--tui-height)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);font:var(--tui-font-text-m);line-height:1.25rem}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);color:var(--tui-text-primary);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-input[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}.t-input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator, .t-input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="s"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="s"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="s"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="s"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="s"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="s"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="m"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="m"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="m"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="m"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="m"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="l"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="l"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="l"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="l"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="l"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], .t-input   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], .t-input   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="l"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="m"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input.t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em}.t-content[_ngcontent-%COMP%]{display:flex;block-size:100%;inline-size:100%;box-sizing:border-box;align-items:center;overflow:hidden}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-wrapper[_ngcontent-%COMP%]{flex:1;min-inline-size:0;padding-inline-end:.25rem}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;inline-size:100%;-webkit-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none;will-change:transform;transform:translateY(0)}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-text-negative)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto;border-width:.25rem}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}[data-size=s][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin:0 .125rem 0 -.375rem}[data-size=m][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}[data-size=l][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-end:.75rem}.t-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.125rem}[data-size=s][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.375rem}[_nghost-%COMP%]:not([data-size=s])   .t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-inline-start:.25rem}[_nghost-%COMP%]{cursor:text}._expandable[_nghost-%COMP%]{block-size:auto;max-block-size:none}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}._readonly[_nghost-%COMP%]{cursor:default}[data-size=m][_nghost-%COMP%]{line-height:1rem}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-scrollbar[_ngcontent-%COMP%]{scroll-behavior:var(--tui-scroll-behavior);margin-inline-start:-.25rem;min-inline-size:100%}[_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%], ._label-outside._icon-start[_nghost-%COMP%]   .t-scrollbar[_ngcontent-%COMP%]{margin:0}[data-size=s]._icon-start[_nghost-%COMP%]   .t-scrollbar[_ngcontent-%COMP%]{margin-inline-start:.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%]{border-block-start:1rem solid transparent}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%]{border-block-start:1.25rem solid transparent}.t-tags[_ngcontent-%COMP%]{display:flex;padding-inline-start:.25rem}.t-tags_expandable[_ngcontent-%COMP%]{overflow:hidden}.t-tags_empty[_ngcontent-%COMP%]{block-size:0}._expandable[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{flex-wrap:wrap;white-space:normal;overflow:hidden}._readonly[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{pointer-events:none}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%], [data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%]{padding:0}.t-tags[_ngcontent-%COMP%]   tui-tag[_ngcontent-%COMP%]:last-of-type{max-inline-size:80%}.t-content[_ngcontent-%COMP%]{align-items:flex-start}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-l)}[data-size=s][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-l)}.t-absolute-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column;justify-content:center}[data-size=m][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-l)}.t-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:0;box-sizing:border-box}[data-size=s][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{min-block-size:var(--tui-height-s);padding:calc((var(--tui-height-s) - 1.5rem) / 2) 0}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{min-block-size:var(--tui-height-m);padding:calc((var(--tui-height-m) - var(--tui-height-xs) - .25rem) / 2) 0}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-l) - var(--tui-height-s) - .25rem) / 2) 0}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-m) - 2rem) / 2) 0}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-l) - 2.5rem) / 2) 0}.t-tag[_ngcontent-%COMP%]{margin:.125rem .5rem .125rem -.25rem;margin-inline-start:-.25rem;margin-inline-end:.5rem;max-inline-size:100%;flex-shrink:0}[data-size=m][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}.t-text[_ngcontent-%COMP%]:after{content:",\\a0"}.t-text_disabled[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-text_error[_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-text[_ngcontent-%COMP%]:not(.t-text_comma):last-of-type:after{content:""}[_nghost-%COMP%]:not(._expandable)   .t-text[_ngcontent-%COMP%]{white-space:nowrap}.t-input-wrapper[_ngcontent-%COMP%], .t-value-content[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;max-inline-size:100%}[data-size=s][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=s][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:1.5rem}[data-size=m][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:calc(var(--tui-height-xs) + 2 * .125rem)}[data-size=l][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=l][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:calc(var(--tui-height-s) + 2 * .125rem)}[_nghost-%COMP%]:not(._label-outside)   .t-input-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]:not(._label-outside)   .t-value-content[_ngcontent-%COMP%]{min-block-size:1rem}.t-input-wrapper_collapsed[_ngcontent-%COMP%]{flex:0;margin-inline-start:-.5rem}.t-value-content[_ngcontent-%COMP%]:empty{display:none}.t-ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip;min-inline-size:.125rem}[_nghost-%COMP%]:not(._expandable)   .t-ghost[_ngcontent-%COMP%]{min-inline-size:2rem}.t-native[_ngcontent-%COMP%]{margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;padding:0;cursor:inherit}.t-native[_ngcontent-%COMP%]:-webkit-autofill, .t-native[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-native[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-native[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-native_hidden[_ngcontent-%COMP%]{opacity:0;text-indent:-10em}.t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}[tuiTheme="dark"][_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder, [tuiTheme="dark"]   [_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary)}._focused[_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}.t-error-icon[_ngcontent-%COMP%]{display:block;color:var(--tui-status-negative);font-size:1rem}._readonly[_nghost-%COMP%]   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]{pointer-events:none}@media (hover: hover) and (pointer: fine){[_nghost-%COMP%]:not(._readonly):not(._disabled):hover   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]:after{color:var(--tui-text-secondary)}}'],changeDetection:0})}}return Ut})(),De=(()=>{class Ut{static{this.\u0275fac=function(Ft){return new(Ft||Ut)}}static{this.\u0275mod=e.oAB({type:Ut})}static{this.\u0275inj=e.cJS({providers:[V.FY],imports:[R.ez,A.u5,m.D1,S.Q,w.d3,D.W,L.R,h.nT]})}}return Ut})()},7588:(Qt,$,o)=>{"use strict";o.d($,{Vs:()=>S,gI:()=>A,xs:()=>w});var e=o(7582),t=o(5879),a=o(1260),i=o(6266),g=o(4098),T=o(8451),_=o(5086),m=o(5414),h=o(1962),f=o(8293),v=o(7511),C=o(5325),D=o(334),y=o(1564),E=o(8679);function O(p,L){if(1&p){const V=t.EpF();t.TgZ(0,"div",2)(1,"tui-scrollbar",3)(2,"tui-calendar-year",4),t.NdJ("mousedown.prevent.silent",function(){return 0})("yearClick",function(tt){t.CHM(V);const ht=t.oxw();return t.KtG(ht.onYearClick(tt))}),t.qZA()()()}if(2&p){const V=t.oxw();t.xp6(2),t.Q6J("disabledItemHandler",V.disabledItemHandler)("initialItem",V.value||V.initialItem)("max",V.max)("min",V.min)("value",null===V.value?null:V.value)}}const M=["*",[["input"]]],U=["*","input"],R=/^\d{0,4}$/;let A=(()=>{class p extends m.F9{constructor(){super(...arguments),this.options=(0,t.f3M)(_.WB),this.textfieldSize=(0,t.f3M)(f.kI),this.open=!1,this.initialItem=(new Date).getFullYear(),this.min=this.options.min.year,this.max=this.options.max.year,this.disabledItemHandler=i.tD,this.nativeValue=""}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement||null}get focused(){return!!this.textfield?.focused}onValueChange(V){this.value=V?Number(V):null}writeValue(V){super.writeValue(V),this.updateNativeValue(V)}get size(){return this.textfieldSize.size}get calendarIcon(){return this.options.icon}getMaskOptions(V,et){return{...(0,a.f8)({min:V??g.nN,max:et??g.cO,thousandSeparator:""}),mask:R}}onYearClick(V){this.value=V,this.updateNativeValue(V),this.onOpenChange(!1)}onFocused(V){this.updateFocused(V)}onOpenChange(V){this.open=V}toggle(){this.open=!this.open}updateNativeValue(V){this.nativeValue=V?.toString()||""}static{this.\u0275fac=function(){let V;return function(tt){return(V||(V=t.n5z(p)))(tt||p)}}()}static{this.\u0275cmp=t.Xpm({type:p,selectors:[["tui-input-year"]],viewQuery:function(et,tt){if(1&et&&t.Gf(h.yc,5),2&et){let ht;t.iGM(ht=t.CRH())&&(tt.textfield=ht.first)}},hostVars:1,hostBindings:function(et,tt){2&et&&t.uIk("data-size",tt.size)},inputs:{min:"min",max:"max",disabledItemHandler:"disabledItemHandler"},features:[t._Bn([(0,v.FT)(p),(0,m.wB)(p)]),t.qOj],ngContentSelectors:U,decls:5,vars:12,consts:[[1,"t-textfield",3,"disabled","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiTextfieldIcon","value","valueChange","click","focusedChange","tuiDropdownOpenChange"],["dropdown",""],[1,"t-container"],[1,"t-scrollbar"],[3,"disabledItemHandler","initialItem","max","min","value","mousedown.prevent.silent","yearClick"]],template:function(et,tt){if(1&et&&(t.F$t(M),t.TgZ(0,"tui-primitive-textfield",0),t.NdJ("valueChange",function(it){return tt.nativeValue=it})("click",function(){return tt.toggle()})("focusedChange",function(it){return tt.onFocused(it)})("tuiDropdownOpenChange",function(it){return tt.onOpenChange(it)})("valueChange",function(it){return tt.onValueChange(it)}),t.Hsn(1),t.Hsn(2,1,["ngProjectAs","input",5,["input"]]),t.qZA(),t.YNc(3,O,3,5,"ng-template",null,1,t.W1O)),2&et){const ht=t.MAs(4);t.Q6J("disabled",tt.computedDisabled)("invalid",tt.computedInvalid)("maskito",tt.getMaskOptions(tt.min,tt.max))("nativeId",tt.nativeId)("pseudoFocus",tt.pseudoFocus)("pseudoHover",tt.pseudoHover)("readOnly",tt.readOnly)("tuiDropdown",ht)("tuiDropdownEnabled",tt.interactive)("tuiDropdownOpen",tt.open&&tt.interactive)("tuiTextfieldIcon",tt.calendarIcon)("value",tt.nativeValue)}},dependencies:[C.r,D.Bb,h.yc,h.B1,y.D1,E.u8,f.AW,D.td],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-container[_ngcontent-%COMP%]{inline-size:15.75rem;padding:1rem 1.125rem}.t-scrollbar[_ngcontent-%COMP%]{max-block-size:18.25rem;inline-size:16.875rem}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0})}}return(0,e.gn)([T.UM],p.prototype,"getMaskOptions",null),p})(),S=(()=>{class p extends m.D1{get value(){return this.host.nativeValue}onValueChange(V){this.host.onValueChange(V),this.host.nativeValue=V}process(V){V.inputMode="numeric"}static{this.\u0275fac=function(){let V;return function(tt){return(V||(V=t.n5z(p)))(tt||p)}}()}static{this.\u0275dir=t.lG2({type:p,selectors:[["tui-input-year"]],features:[t._Bn([(0,v.cp)(p)]),t.qOj]})}}return p})(),w=(()=>{class p{static{this.\u0275fac=function(et){return new(et||p)}}static{this.\u0275mod=t.oAB({type:p})}static{this.\u0275inj=t.cJS({imports:[h.KW,y.D1,E.u8,f.cn,D.nT]})}}return p})()},4224:(Qt,$,o)=>{"use strict";o.d($,{K3:()=>y,Qf:()=>O,wU:()=>E});var e=o(5879),t=o(9298),a=o(1018),i=o(334),g=o(5414),T=o(1962),_=o(5984),m=o(8293),h=o(754),f=o(7511),v=o(6814);const C=["*",[["input"]]],D=["*","input"];let y=(()=>{class M extends g.M${constructor(){super(...arguments),this.textfieldSize=(0,e.f3M)(m.kI),this.open=!1}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement}get focused(){return(0,t.V8)(this.nativeFocusableElement)||!!this.dropdown?.tuiDropdownOpen}handleOption(R){this.setNativeValue(String(R)),this.focusInput(),this.value=String(R),this.open=!1}onValueChange(R){this.value=R,this.open=!0}get canOpen(){return this.interactive&&!!this.datalist}onActiveZone(R){this.updateFocused(R)}getFallbackValue(){return""}focusInput(R=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:R})}setNativeValue(R){this.nativeFocusableElement&&(this.nativeFocusableElement.value=R)}static{this.\u0275fac=function(){let R;return function(S){return(R||(R=e.n5z(M)))(S||M)}}()}static{this.\u0275cmp=e.Xpm({type:M,selectors:[["tui-input"]],contentQueries:function(A,S,w){if(1&A&&e.Suo(w,a.gX,5,e.Rgc),2&A){let p;e.iGM(p=e.CRH())&&(S.datalist=p.first)}},viewQuery:function(A,S){if(1&A&&(e.Gf(i.Bb,5),e.Gf(T.yc,5)),2&A){let w;e.iGM(w=e.CRH())&&(S.dropdown=w.first),e.iGM(w=e.CRH())&&(S.textfield=w.first)}},hostVars:1,hostBindings:function(A,S){2&A&&e.uIk("data-size",S.size)},features:[e._Bn([h.E2,(0,f.FT)(M),(0,a.oE)(M),(0,g.wB)(M)],[i.a6]),e.qOj],ngContentSelectors:D,decls:4,vars:11,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange","tuiActiveZoneChange"],["automation-id","tui-input__textfield",1,"t-textfield",3,"disabled","focusable","invalid","nativeId","pseudoFocus","pseudoHover","readOnly","value","valueChange"]],template:function(A,S){1&A&&(e.F$t(C),e.TgZ(0,"div",0),e.NdJ("tuiDropdownOpenChange",function(p){return S.open=p})("tuiActiveZoneChange",function(p){return S.onActiveZone(p)}),e.TgZ(1,"tui-primitive-textfield",1),e.NdJ("valueChange",function(p){return S.onValueChange(p)}),e.Hsn(2),e.Hsn(3,1,["ngProjectAs","input",5,["input"]]),e.qZA()()),2&A&&(e.Q6J("tuiDropdown",S.datalist||"")("tuiDropdownEnabled",S.canOpen)("tuiDropdownOpen",S.open),e.xp6(1),e.Q6J("disabled",S.computedDisabled)("focusable",S.computedFocusable)("invalid",S.computedInvalid)("nativeId",S.nativeId)("pseudoFocus",S.computedFocused)("pseudoHover",S.pseudoHover)("readOnly",S.readOnly)("value",S.value))},dependencies:[T.yc,T.B1,i.td,i.Bb,_.C],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}"],changeDetection:0})}}return M})(),E=(()=>{class M extends g.D1{onValueChange(R){this.host.onValueChange(R)}static{this.\u0275fac=function(){let R;return function(S){return(R||(R=e.n5z(M)))(S||M)}}()}static{this.\u0275dir=e.lG2({type:M,selectors:[["tui-input"]],features:[e._Bn([(0,f.cp)(M)]),e.qOj]})}}return M})(),O=(()=>{class M{static{this.\u0275fac=function(A){return new(A||M)}}static{this.\u0275mod=e.oAB({type:M})}static{this.\u0275inj=e.cJS({imports:[v.ez,T.KW,i.nT]})}}return M})()},8651:(Qt,$,o)=>{"use strict";o.d($,{E6:()=>Ut,VT:()=>De,bJ:()=>Q,lm:()=>Se});var e=o(7582),t=o(5879),a=o(8451),i=o(8422),g=o(6266),T=o(385),_=o(5929),m=o(9298),h=o(1018),f=o(334),v=o(5086),C=o(5414),D=o(1163),y=o(3416),E=o(343),O=o(8293),M=o(5984),U=o(7511),R=o(6814),A=o(6223),S=o(5586),w=o(1603),p=o(7494),L=o(5200),V=o(4767);let et=(()=>{class Pe extends L.TA{get size(){return"l"===this.dataList?.size?"m":"s"}get selected(){const{value:Ee}=this.option;return(0,a.Pc)(Ee)&&(0,a.Pc)(this.value)&&this.value.some(de=>this.matcher(de,Ee))}static{this.\u0275fac=function(){let Ee;return function(ae){return(Ee||(Ee=t.n5z(Pe)))(ae||Pe)}}()}static{this.\u0275cmp=t.Xpm({type:Pe,selectors:[["tui-multi-select-option"]],features:[t.qOj],decls:3,vars:5,consts:[["tuiCheckbox","","type","checkbox",3,"checked","size"],[3,"ngTemplateOutlet"]],template:function(de,ae){1&de&&(t._UZ(0,"input",0),t.ALo(1,"async"),t.GkF(2,1)),2&de&&(t.Q6J("checked",t.lcZ(1,3,ae.selected$))("size",ae.size),t.xp6(2),t.Q6J("ngTemplateOutlet",ae.context.$implicit))},dependencies:[R.tP,V.u3,R.Ov],styles:["@keyframes _ngcontent-%COMP%_retrigger{0%{left:1px}to{left:2px}}[_nghost-%COMP%]{display:flex;flex:1;flex-direction:inherit;gap:.75rem;align-items:center;animation:_ngcontent-%COMP%_retrigger 1s;overflow:hidden}"],changeDetection:0})}}return Pe})(),tt=(()=>{class Pe{static{this.\u0275fac=function(de){return new(de||Pe)}}static{this.\u0275mod=t.oAB({type:Pe})}static{this.\u0275inj=t.cJS({imports:[R.ez,V.u3]})}}return Pe})();function ht(Pe,Ue){1&Pe&&t.Hsn(0,1,["*ngIf","isMobile"])}function it(Pe,Ue){if(1&Pe&&t.YNc(0,ht,1,0,"ng-content",7),2&Pe){const Ee=t.oxw();t.Q6J("ngIf",Ee.isMobile)}}function It(Pe,Ue){1&Pe&&t.GkF(0,8)}function st(Pe,Ue){if(1&Pe&&(t.TgZ(0,"span",11),t._uU(1),t.qZA()),2&Pe){const Ee=Ue.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ee," ")}}const dt=function(Pe){return{$implicit:Pe}};function St(Pe,Ue){if(1&Pe&&(t.TgZ(0,"div",9),t.YNc(1,st,2,1,"span",10),t.qZA()),2&Pe){const Ee=t.oxw(),de=t.MAs(2);t.ekj("t-content_fullsize",de.labelOutside),t.xp6(1),t.Q6J("polymorpheusOutlet",Ee.valueContent)("polymorpheusOutletContext",t.VKq(4,dt,Ee.value))}}function bt(Pe,Ue){if(1&Pe&&(t.ynx(0),t._uU(1),t.BQk()),2&Pe){const Ee=Ue.polymorpheusOutlet;t.xp6(1),t.hij(" ",Ee," ")}}function u(Pe,Ue){if(1&Pe&&(t.TgZ(0,"div",12),t.NdJ("mousedown.prevent.silent",function(){return 0}),t.YNc(1,bt,2,1,"ng-container",13),t.qZA()),2&Pe){const Ee=t.oxw();t.ekj("t-arrow_native-dropdown",Ee.nativeDropdownMode),t.xp6(1),t.Q6J("polymorpheusOutlet",Ee.arrow)}}const ut=["*",[["select"]]],Z=function(){return{standalone:!0}},I=["*","select"],at=(0,a.JN)({rows:1/0,valueContent:""});let Gt=(()=>{class Pe extends C.sC{constructor(){super(...arguments),this.selectedMapper=(Ee,de)=>de.includes(Ee)}get stringify(){return this.host.stringify}static{this.\u0275fac=function(){let Ee;return function(ae){return(Ee||(Ee=t.n5z(Pe)))(ae||Pe)}}()}static{this.\u0275dir=t.lG2({type:Pe,features:[t.qOj]})}}return Pe})(),De=(()=>{class Pe extends C.m6{constructor(){super(...arguments),this.arrowMode=(0,t.f3M)(D.Ii),this.itemsHandlers=(0,t.f3M)(v.Ys),this.options=(0,t.f3M)(at),this.inputTagOptions=(0,t.f3M)(y.Iw),this.open=!1,this.controller=(0,t.f3M)(O.Cs),this.isMobile=(0,t.f3M)(T.fL),this.stringify=this.itemsHandlers.stringify,this.identityMatcher=this.itemsHandlers.identityMatcher,this.search="",this.placeholder="",this.editable=!0,this.disabledItemHandler=this.itemsHandlers.disabledItemHandler,this.valueContent=this.options.valueContent,this.tagValidator=g.oN,this.rows=this.options.rows,this.autoColor=!1,this.searchChange=new t.vpe,this.valueMapper=(Ee,de,ae)=>ae?g.LZ:Ee.map($e=>new C.rE($e,de)),this.disabledItemHandlerWrapper=Ee=>de=>(0,a.Aj)(de)||Ee(de.item)}get size(){return this.controller.size}get nativeFocusableElement(){return this.input?.nativeFocusableElement??null}get focused(){return!!this.input?.focused||!!this.dropdown?.tuiDropdownOpen}onValueChange(Ee){this.value=Ee}onSearch(Ee){""!==Ee&&(this.open=!0),this.updateSearch(Ee)}setDisabledState(){super.setDisabledState(),this.open=!1}handleOption(Ee){const{value:de,identityMatcher:ae}=this,$e=de.findIndex(Bn=>ae(Bn,Ee));this.value=-1===$e?[...de,Ee]:de.filter((Bn,Ae)=>Ae!==$e),this.updateSearch(null)}get arrow(){return this.interactive?this.arrowMode.interactive:this.arrowMode.disabled}get nativeDropdownMode(){return!!this.nativeSelect&&this.isMobile&&!this.editable}get computedValue(){return this.computedGroup?g.LZ:this.value}get searchOrSpace(){return this.computedGroup?" ":this.searchString}get searchString(){return null===this.search?"":this.search}get computedGroup(){return!!this.valueContent&&this.value.length>0&&(!this.focused||!this.editable)}getStringifier(Ee){return({$implicit:de})=>Ee(de)}onSpace(Ee){this.editable||Ee.preventDefault(),this.readOnly||(this.open=!0)}onEnter(Ee){const{value:de}=this,ae=this.accessor?this.accessor.getOptions():[];1===ae.length&&(Ee.preventDefault(),this.value=ae[0]?(0,a.jp)(de,ae[0]):de,this.updateSearch(null))}onKeyDown(Ee){Ee.key===this.inputTagOptions.separator&&this.onEnter(Ee)}onPaste(Ee){const ae=(0,_.Nn)(Ee).split(this.inputTagOptions.separator).map(re=>re.trim()),$e=this.accessor?.getOptions()??[],Bn=(0,a.Aj)(this.inputTagOptions.separator)?this.inputTagOptions.separator:",",Ae=$e?.filter(re=>ae.includes(this.stringify(re)))??[],Hn=Ae.map(re=>String(re)),rn=ae.filter(re=>!Hn.includes(re));this.value=this.filterValue([...this.value,...Ae]),this.updateSearch(rn.length?rn.join(Bn):null)}onClick({nativeFocusableElement:Ee}){this.interactive&&Ee&&(0,m.V8)(Ee)&&(this.open=!this.open)}onInput(Ee){this.value=Ee.map(({item:de})=>de)}onActiveZone(Ee){this.updateFocused(Ee)}filterValue(Ee){const de=new Set;return Ee.reverse().filter(ae=>ae&&!de.has(ae)&&de.add(ae)).reverse()}updateSearch(Ee){this.search!==Ee&&(this.search=Ee,this.searchChange.emit(Ee))}static{this.\u0275fac=function(){let Ee;return function(ae){return(Ee||(Ee=t.n5z(Pe)))(ae||Pe)}}()}static{this.\u0275cmp=t.Xpm({type:Pe,selectors:[["tui-multi-select"]],contentQueries:function(de,ae,$e){if(1&de&&(t.Suo($e,h.Cc,5),t.Suo($e,Gt,7),t.Suo($e,h.gX,5,t.Rgc)),2&de){let Bn;t.iGM(Bn=t.CRH())&&(ae.accessor=Bn.first),t.iGM(Bn=t.CRH())&&(ae.nativeSelect=Bn.first),t.iGM(Bn=t.CRH())&&(ae.datalist=Bn.first)}},viewQuery:function(de,ae){if(1&de&&(t.Gf(f.Bb,5),t.Gf(y.PZ,5)),2&de){let $e;t.iGM($e=t.CRH())&&(ae.dropdown=$e.first),t.iGM($e=t.CRH())&&(ae.input=$e.first)}},hostVars:5,hostBindings:function(de,ae){2&de&&(t.uIk("data-size",ae.size),t.ekj("_editable",ae.editable)("_expandable",ae.rows>1))},inputs:{stringify:"stringify",identityMatcher:"identityMatcher",search:"search",placeholder:"placeholder",editable:"editable",disabledItemHandler:"disabledItemHandler",valueContent:"valueContent",tagValidator:"tagValidator",rows:"rows",autoColor:"autoColor"},outputs:{searchChange:"searchChange"},features:[t._Bn([(0,U.FT)(Pe),(0,C.wB)(Pe),(0,h.oE)(Pe),O.Y0]),t.qOj,t.zW0([f.a6])],ngContentSelectors:I,decls:13,vars:35,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange","tuiActiveZoneChange"],["automation-id","tui-multi-select__input",1,"t-input",3,"autoColor","disabled","disabledItemHandler","editable","inputHidden","nativeId","ngModel","ngModelOptions","placeholder","pseudoFocus","pseudoHover","pseudoInvalid","pseudoOpen","readOnly","removable","rows","search","tagValidator","tuiTextfieldIcon","click.prevent","keydown.enter","keydown.space","keydown","ngModelChange","paste.capture.stop.prevent","searchChange"],["inputTag",""],["select",""],["ngProjectAs","select",5,["select"],4,"ngTemplateOutlet"],["ngProjectAs","tuiContent","class","t-content",5,["tuiContent"],3,"t-content_fullsize",4,"ngIf"],["icon",""],[4,"ngIf"],["ngProjectAs","select",5,["select"]],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-content"],["class","t-primitive",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-primitive"],["appearance","icon","automation-id","tui-multi-select__arrow","tuiWrapper","",1,"t-arrow",3,"mousedown.prevent.silent"],[4,"polymorpheusOutlet"]],template:function(de,ae){if(1&de){const $e=t.EpF();t.F$t(ut),t.TgZ(0,"div",0),t.NdJ("tuiDropdownOpenChange",function(Ae){return ae.open=Ae})("tuiActiveZoneChange",function(Ae){return ae.onActiveZone(Ae)}),t.TgZ(1,"tui-input-tag",1,2),t.NdJ("click.prevent",function(){t.CHM($e);const Ae=t.MAs(2);return t.KtG(ae.onClick(Ae))})("keydown.enter",function(Ae){return ae.onEnter(Ae)})("keydown.space",function(Ae){return ae.onSpace(Ae)})("keydown",function(Ae){return ae.onKeyDown(Ae)})("ngModelChange",function(Ae){return ae.onInput(Ae)})("paste.capture.stop.prevent",function(Ae){return ae.onPaste(Ae)})("searchChange",function(Ae){return ae.onSearch(Ae)}),t.ALo(3,"tuiMapper"),t.ALo(4,"tuiMapper"),t.ALo(5,"tuiMapper"),t.Hsn(6),t.YNc(7,it,1,1,"ng-template",null,3,t.W1O),t.YNc(9,It,1,0,"ng-container",4),t.YNc(10,St,2,6,"div",5),t.qZA(),t.YNc(11,u,2,3,"ng-template",null,6,t.W1O),t.qZA()}if(2&de){const $e=t.MAs(8),Bn=t.MAs(12);t.Q6J("tuiDropdown",ae.datalist||"")("tuiDropdownEnabled",ae.interactive&&!ae.nativeDropdownMode)("tuiDropdownOpen",ae.open),t.xp6(1),t.Q6J("autoColor",ae.autoColor)("disabled",ae.disabled)("disabledItemHandler",t.xi3(3,24,ae.disabledItemHandler,ae.disabledItemHandlerWrapper))("editable",!1)("inputHidden",!ae.editable)("nativeId",ae.nativeId)("ngModel",t.Dn7(4,27,ae.computedValue,ae.valueMapper,ae.stringify))("ngModelOptions",t.DdM(34,Z))("placeholder",ae.placeholder)("pseudoFocus",ae.computedFocused)("pseudoHover",ae.pseudoHover)("pseudoInvalid",ae.computedInvalid)("pseudoOpen",ae.open)("readOnly",ae.readOnly)("removable",!ae.nativeDropdownMode)("rows",ae.rows)("search",ae.searchOrSpace)("tagValidator",t.xi3(5,31,ae.tagValidator,ae.disabledItemHandlerWrapper))("tuiTextfieldIcon",ae.arrow?Bn:""),t.xp6(8),t.Q6J("ngTemplateOutlet",$e),t.xp6(1),t.Q6J("ngIf",ae.computedGroup)}},dependencies:[R.O5,R.tP,A.JJ,A.On,S.s$,E.o,y.PZ,f.td,f.Bb,O.AW,M.C,w.c],styles:["[_nghost-%COMP%]{position:relative;display:block;border-radius:var(--tui-radius-m)}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-input[_ngcontent-%COMP%]{border-radius:inherit}[_nghost-%COMP%]:not(._editable):not(._readonly)   .t-input[_ngcontent-%COMP%]{cursor:pointer}.t-content[_ngcontent-%COMP%]{display:flex;align-items:center;pointer-events:none;box-sizing:border-box}.t-primitive[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-arrow[_ngcontent-%COMP%]{pointer-events:auto;cursor:pointer}.t-arrow_native-dropdown[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}}return(0,e.gn)([a.UM],Pe.prototype,"getStringifier",null),Pe})(),Ut=(()=>{class Pe{constructor(){this.component=(0,t.f3M)(De)}transform(Ee){const{value:de,identityMatcher:ae}=this.component;return Ee?(0,i.fR)(Ee)?this.filter(Ee,de,ae):this.filter2d(Ee,de,ae):null}filter2d(Ee,de,ae){return Ee.map($e=>this.filter($e,de,ae))}filter(Ee,de,ae){return Ee.filter($e=>de.every(Bn=>!ae(Bn,$e)))}static{this.\u0275fac=function(de){return new(de||Pe)}}static{this.\u0275pipe=t.Yjl({name:"tuiHideSelected",type:Pe,pure:!1})}}return(0,e.gn)([a.UM],Pe.prototype,"filter2d",null),(0,e.gn)([a.UM],Pe.prototype,"filter",null),Pe})(),Q=(()=>{class Pe extends C.D1{constructor(){super(...arguments),this.disableItemHandler=Ee=>this.host.disabledItemHandler(Ee)}get readOnly(){return!0}get stringify(){return this.host.stringify}onValueChange(){}onSelectionChange(Ee){this.host.onValueChange(Ee)}static{this.\u0275fac=function(){let Ee;return function(ae){return(Ee||(Ee=t.n5z(Pe)))(ae||Pe)}}()}static{this.\u0275dir=t.lG2({type:Pe,selectors:[["tui-multi-select"]],features:[t._Bn([(0,U.cp)(Pe)]),t.qOj]})}}return Pe})();new S.Al(et);let Se=(()=>{class Pe{static{this.\u0275fac=function(de){return new(de||Pe)}}static{this.\u0275mod=t.oAB({type:Pe})}static{this.\u0275inj=t.cJS({imports:[R.ez,A.u5,E.W,D.jj,y.cB,tt,O.cn,f.nT,h.qi,h.bH,p.eC,p.Qz]})}}return Pe})()},1962:(Qt,$,o)=>{"use strict";o.d($,{B1:()=>k,KW:()=>Y,MB:()=>yt,pm:()=>Bt,yc:()=>B});var e=o(7582),t=o(5879),a=o(5929),i=o(9298),g=o(8451),T=o(4507),_=o(6201),m=o(5414),h=o(8293),f=o(7511),v=o(11),C=o(5586),D=o(5619),y=o(3019),E=o(932),O=o(2181),M=o(7398),U=o(3997),R=o(2438),A=o(6814),S=o(6223),w=o(343),p=o(3460),L=o(1534),V=o(47),et=o(5533);const tt=["pre"],ht=["focusableElement"];function it(Pt,Gt){1&Pt&&t.GkF(0)}function It(Pt,Gt){1&Pt&&t.GkF(0)}function st(Pt,Gt){1&Pt&&t._UZ(0,"tui-icon",19),2&Pt&&t.Q6J("icon",Gt.polymorpheusOutlet.toString())}const dt=function(Pt){return{$implicit:Pt}};function St(Pt,Gt){if(1&Pt&&(t.TgZ(0,"div",17),t.YNc(1,st,1,1,"tui-icon",18),t.qZA()),2&Pt){const De=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",De.iconLeftContent)("polymorpheusOutletContext",t.VKq(2,dt,De.size))}}function bt(Pt,Gt){if(1&Pt&&(t.TgZ(0,"label",20),t.Hsn(1,3),t.qZA()),2&Pt){const De=t.oxw();t.ekj("t-placeholder_raised",De.placeholderRaised),t.Q6J("for",De.computedId)}}function u(Pt,Gt){1&Pt&&t._UZ(0,"tui-icon",23),2&Pt&&t.Q6J("icon",Gt.polymorpheusOutlet)}function ut(Pt,Gt){if(1&Pt&&(t.TgZ(0,"div",21),t.YNc(1,u,1,1,"tui-icon",22),t.qZA()),2&Pt){const De=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",De.controller.customContent)}}function Z(Pt,Gt){if(1&Pt&&t._UZ(0,"tui-icon",26),2&Pt){const De=Gt.polymorpheusOutlet;t.Udp("border","0.25rem solid transparent"),t.Q6J("icon",De.toString())}}function I(Pt,Gt){if(1&Pt){const De=t.EpF();t.TgZ(0,"span",24),t.NdJ("click.stop",function(){t.CHM(De);const Q=t.oxw();return t.KtG(Q.clear())}),t.YNc(1,Z,1,3,"tui-icon",25),t.qZA()}if(2&Pt){const De=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",De.iconCleaner||De.controller.options.iconCleaner)("polymorpheusOutletContext",t.VKq(2,dt,De.size))}}function F(Pt,Gt){if(1&Pt&&t._UZ(0,"tui-tooltip",27),2&Pt){const De=t.oxw();t.Q6J("content",null==De.hintOptions?null:De.hintOptions.content)("describeId",De.computedId)}}function ot(Pt,Gt){1&Pt&&t._UZ(0,"tui-icon",19),2&Pt&&t.Q6J("icon",Gt.polymorpheusOutlet.toString())}function nt(Pt,Gt){if(1&Pt&&(t.TgZ(0,"div",28),t.YNc(1,ot,1,1,"tui-icon",18),t.qZA()),2&Pt){const De=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",De.iconContent)("polymorpheusOutletContext",t.VKq(2,dt,De.size))}}const At=[[["input"]],[["select"]],[["tuiContent"]],"*"],Dt=function(){return{standalone:!0}},Wt=["input","select","tuiContent","*"],Nt=["tuiTextfieldLegacy",""];let Rt=(()=>{class Pt{constructor(){this.textfield=(0,t.f3M)(f.KZ),this.fontsReady$=(0,t.f3M)(f.tS),this.prefix$=new D.X(""),this.pre$=(0,y.T)(this.fontsReady$,this.prefix$).pipe((0,E.g)(0),(0,O.h)(()=>!!this.pre?.nativeElement.isConnected),(0,M.U)(()=>this.pre?.nativeElement.offsetWidth||0),(0,U.x)())}ngDoCheck(){this.prefix$.next(this.prefix)}get isContextTable(){return"table"===this.textfield.appearance}get filler(){const{focused:De,placeholder:Ut,exampleText:Q,value:Ot,textfield:Ft}=this;return Ut&&Q?"":De?Q||Ft.filler.slice(Ot.length):""}get value(){return this.textfield.value}get prefix(){return this.decorationsVisible?this.textfield.prefix:""}get postfix(){return this.decorationsVisible?this.computedPostfix:""}get placeholder(){return this.textfield.nativeFocusableElement?.placeholder||""}get exampleText(){return!this.value&&this.focused?this.placeholder:""}get decorationsVisible(){return!!this.value||this.focused&&!this.placeholder}get focused(){return this.textfield.computedFocused&&!this.textfield.readOnly}get computedPostfix(){return this.textfield.postfix&&(this.filler||this.value)?` ${this.textfield.postfix}`:this.textfield.postfix}static{this.\u0275fac=function(Ut){return new(Ut||Pt)}}static{this.\u0275cmp=t.Xpm({type:Pt,selectors:[["tui-value-decoration"]],viewQuery:function(Ut,Q){if(1&Ut&&t.Gf(tt,7,t.SBq),2&Ut){let Ot;t.iGM(Ot=t.CRH())&&(Q.pre=Ot.first)}},hostVars:4,hostBindings:function(Ut,Q){1&Ut&&t.NdJ("animationstart",function(){return Q.ngDoCheck()}),2&Ut&&t.ekj("_table",Q.isContextTable)("_filler",Q.filler)},decls:5,vars:4,consts:[[1,"t-prefix",3,"textContent"],["pre",""],[1,"t-ghost",3,"textContent"],[1,"t-filler",3,"textContent"],[1,"t-postfix",3,"textContent"]],template:function(Ut,Q){1&Ut&&t._UZ(0,"span",0,1)(2,"span",2)(3,"span",3)(4,"span",4),2&Ut&&(t.Q6J("textContent",Q.prefix),t.xp6(2),t.Q6J("textContent",Q.value),t.xp6(1),t.Q6J("textContent",Q.filler),t.xp6(1),t.Q6J("textContent",Q.postfix))},styles:['[_nghost-%COMP%]{position:absolute;display:block;inline-size:100%;line-height:var(--tui-height);margin-top:calc(var(--tui-height) / -2);box-sizing:content-box;color:var(--tui-text-tertiary);animation:tuiPresent 1s;white-space:nowrap}._table[_nghost-%COMP%]{position:static;margin-top:0}._filler[_nghost-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}tui-primitive-textfield[data-size="m"]:not(._label-outside)   [_nghost-%COMP%]{line-height:calc(var(--tui-height) - .25rem)}.t-ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip}.t-prefix[_ngcontent-%COMP%], .t-postfix[_ngcontent-%COMP%]{white-space:pre;color:var(--tui-text-primary)}.t-filler[_ngcontent-%COMP%]{max-inline-size:100%;white-space:nowrap}']})}}return Pt})();const Bt={s:1.25,m:1.75,l:2.25};let B=(()=>{class Pt extends m.Xn{constructor(){super(...arguments),this.legacyOptions=(0,t.f3M)(h.z1),this.el=(0,a.AG)(),this.options=(0,t.f3M)(T.z1),this.controller=(0,t.f3M)(h.Cs),this.hintOptions=(0,t.f3M)(_.bZ,{optional:!0}),this.autofilled=!1,this.editable=!0,this.iconCleaner=this.legacyOptions.iconCleaner,this.readOnly=!1,this.invalid=!1,this.disabled=!1,this.value="",this.valueChange=new t.vpe}get prefix(){return this.controller.prefix}get postfix(){return this.controller.postfix}get filler(){return this.controller.filler}get nativeFocusableElement(){if(this.computedDisabled||!this.focusableElement)return null;const{nativeElement:De}=this.focusableElement;return De.previousElementSibling||De}get focused(){return(0,i.zb)(this.el)}get appearance(){return"table"===this.options.appearance()?"table":this.controller.appearance}onModelChange(De){this.updateValue(De)}get size(){return this.controller.size}get computedInvalid(){return!this.readOnly&&!this.disabled&&this.invalid}get inputHidden(){return!!this.content?.length}get borderStart(){return this.iconLeftContent?this.iconPaddingLeft:0}get borderEnd(){return(0,v._X)(!!this.iconContent,this.hasCleaner,this.hasTooltip,this.hasCustomContent,this.size)}get hasValue(){return!!this.value}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&!this.computedDisabled&&!this.readOnly}get hasTooltip(){return!!this.hintOptions?.content&&!this.computedDisabled}get hasCustomContent(){return!!this.controller.customContent}get placeholderVisible(){return!(this.hasValue||(this.nativeFocusableElement?.placeholder||this.prefix||this.postfix||this.filler)&&!this.readOnly&&this.computedFocused)}get hasPlaceholder(){return this.placeholderRaisable||this.placeholderVisible}get placeholderRaised(){return this.placeholderRaisable&&(this.computedFocused&&!this.readOnly||this.hasValue||this.autofilled)}get iconContent(){return this.controller.icon}get iconLeftContent(){return this.controller.iconStart}get showHint(){return!!this.hintOptions?.content&&(this.legacyOptions.hintOnDisabled||!this.computedDisabled)}get name(){return"cc-exp"===this.nativeFocusableElement?.autocomplete?"ccexpiryyear":null}get computedId(){return this.nativeFocusableElement?.id||""}getIndent$(De){return(0,R.R)(De,"scroll").pipe((0,M.U)(()=>-1*Math.max(De.scrollLeft,0)))}onFocused(De){this.updateFocused(De)}clear(){this.nativeFocusableElement&&(this.nativeFocusableElement.value=""),this.updateValue("")}onMouseDown(De){const{nativeFocusableElement:Ut}=this;!Ut||De.target===Ut||(De.preventDefault(),Ut.focus())}transitionStartHandler({propertyName:De,target:Ut}){De.includes("box-shadow")&&Ut?.matches("input")&&this.onAutofilled(!this.autofilled)}onAutofilled(De){this.updateAutofilled(De)}detectRetargetFromLabel(De){(0,a.UP)(De)&&De.stopImmediatePropagation()}get iconPaddingLeft(){return Bt[this.size]}get placeholderRaisable(){return"s"!==this.size&&!this.controller.labelOutside}updateAutofilled(De){this.autofilled!==De&&(this.autofilled=De)}updateValue(De){this.value=De,this.valueChange.emit(De)}static{this.\u0275fac=function(){let De;return function(Q){return(De||(De=t.n5z(Pt)))(Q||Pt)}}()}static{this.\u0275cmp=t.Xpm({type:Pt,selectors:[["tui-primitive-textfield"]],contentQueries:function(Ut,Q,Ot){if(1&Ut&&t.Suo(Ot,C.s$,5),2&Ut){let Ft;t.iGM(Ft=t.CRH())&&(Q.content=Ft)}},viewQuery:function(Ut,Q){if(1&Ut&&t.Gf(ht,5),2&Ut){let Ot;t.iGM(Ot=t.CRH())&&(Q.focusableElement=Ot.first)}},hostVars:15,hostBindings:function(Ut,Q){1&Ut&&t.NdJ("focusin",function(){return Q.onFocused(!0)})("focusout",function(){return Q.onFocused(!1)})("transitionstart.capture",function(Ft){return Q.transitionStartHandler(Ft)}),2&Ut&&(t.uIk("data-size",Q.size),t.Udp("--border-start",Q.borderStart,"rem")("--border-end",Q.borderEnd,"rem"),t.ekj("_readonly",Q.readOnly)("_hidden",Q.inputHidden)("_invalid",Q.computedInvalid)("_autofilled",Q.autofilled)("_label-outside","table"===Q.options.appearance()||Q.controller.labelOutside))},inputs:{editable:"editable",iconCleaner:"iconCleaner",readOnly:"readOnly",invalid:"invalid",disabled:"disabled",value:"value"},outputs:{valueChange:"valueChange"},features:[t._Bn([(0,f.FT)(Pt),h.Y0]),t.qOj],ngContentSelectors:Wt,decls:25,vars:40,consts:[[4,"ngIf"],["automation-id","tui-primitive-textfield__wrapper","tuiWrapper","",3,"active","appearance","disabled","focus","hover","invalid","readOnly","click.prevent.silent","mousedown"],["automation-id","tui-primitive-textfield__native-input",1,"t-input",3,"disabled","id","ngModel","ngModelOptions","readOnly","tabIndex","ngModelChange"],["focusableElement",""],["automation-id","tui-primitive-textfield__value",1,"t-input","t-input_template"],[1,"t-content"],["class","t-icon t-icon_left t-textfield-icon",4,"ngIf"],[1,"t-wrapper"],["automation-id","tui-primitive-textfield__placeholder","class","t-placeholder",3,"t-placeholder_raised","for",4,"ngIf"],[1,"t-wrapper-value-decoration"],["aria-hidden","true","automation-id","tui-primitive-textfield__value-decoration",1,"t-value-decoration"],["decor",""],[1,"t-icons"],["automation-id","tui-primitive-textfield__custom-content","class","t-custom-content",4,"ngIf"],["appearance","icon","automation-id","tui-primitive-textfield__cleaner","tuiWrapper","","class","t-cleaner",3,"click.stop",4,"ngIf"],["automation-id","tui-primitive-textfield__tooltip","class","t-tooltip",3,"content","describeId",4,"ngIf"],["class","t-icon t-textfield-icon",4,"ngIf"],[1,"t-icon","t-icon_left","t-textfield-icon"],["tuiAppearance","icon",3,"icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiAppearance","icon",3,"icon"],["automation-id","tui-primitive-textfield__placeholder",1,"t-placeholder",3,"for"],["automation-id","tui-primitive-textfield__custom-content",1,"t-custom-content"],["class","t-custom-icon",3,"icon",4,"polymorpheusOutlet"],[1,"t-custom-icon",3,"icon"],["appearance","icon","automation-id","tui-primitive-textfield__cleaner","tuiWrapper","",1,"t-cleaner",3,"click.stop"],[3,"icon","border",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"icon"],["automation-id","tui-primitive-textfield__tooltip",1,"t-tooltip",3,"content","describeId"],[1,"t-icon","t-textfield-icon"]],template:function(Ut,Q){if(1&Ut&&(t.F$t(At),t.YNc(0,it,1,0,"ng-container",0),t.ALo(1,"async"),t.YNc(2,It,1,0,"ng-container",0),t.ALo(3,"async"),t.TgZ(4,"div",1),t.NdJ("click.prevent.silent",function(Ft){return Q.detectRetargetFromLabel(Ft)})("mousedown",function(Ft){return Q.onMouseDown(Ft)}),t.ALo(5,"async"),t.Hsn(6),t.Hsn(7,1),t.TgZ(8,"input",2,3),t.NdJ("ngModelChange",function(Ft){return Q.onModelChange(Ft)}),t.qZA(),t.TgZ(10,"div",4),t.Hsn(11,2),t.qZA(),t.TgZ(12,"div",5),t.YNc(13,St,2,4,"div",6),t.TgZ(14,"div",7),t.YNc(15,bt,2,3,"label",8),t.TgZ(16,"div",9)(17,"tui-value-decoration",10,11),t.ALo(19,"async"),t.qZA()()(),t.TgZ(20,"div",12),t.YNc(21,ut,2,1,"div",13),t.YNc(22,I,2,4,"span",14),t.YNc(23,F,1,2,"tui-tooltip",15),t.YNc(24,nt,2,4,"div",16),t.qZA()()()),2&Ut){const Ot=t.MAs(9),Ft=t.MAs(18);t.Q6J("ngIf",t.lcZ(1,31,null==Q.content?null:Q.content.changes)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,33,null==Q.hintOptions?null:Q.hintOptions.change$)),t.xp6(2),t.Udp("--text-indent",t.lcZ(5,35,Ft.pre$),"px"),t.Q6J("active",Q.pseudoActive)("appearance",Q.appearance)("disabled",Q.disabled)("focus",Q.computedFocused)("hover",Q.pseudoHover)("invalid",Q.computedInvalid)("readOnly",Q.readOnly),t.xp6(4),t.Q6J("disabled",Q.computedDisabled)("id",Q.id)("ngModel",Q.value)("ngModelOptions",t.DdM(39,Dt))("readOnly",Q.readOnly||!Q.editable)("tabIndex",Q.computedFocusable?0:-1),t.uIk("aria-invalid",Q.computedInvalid)("name",Q.name),t.xp6(2),t.ekj("t-input_template_hidden",!Q.inputHidden),t.xp6(3),t.Q6J("ngIf",Q.iconLeftContent),t.xp6(2),t.Q6J("ngIf",Q.hasPlaceholder),t.xp6(2),t.Udp("text-indent",t.lcZ(19,37,Q.getIndent$(Ot)),"px"),t.ekj("t-has-value",Q.value),t.xp6(4),t.Q6J("ngIf",Q.hasCustomContent),t.xp6(1),t.Q6J("ngIf",Q.hasCleaner),t.xp6(1),t.Q6J("ngIf",Q.showHint),t.xp6(1),t.Q6J("ngIf",Q.iconContent)}},dependencies:[A.O5,S.Fj,S.JJ,S.On,C.s$,w.o,p.w,L.R,V.Nm,Rt,A.Ov],styles:['[_nghost-%COMP%]{position:relative;display:block;text-align:start;border-radius:var(--tui-radius-m);block-size:var(--tui-height);min-block-size:var(--tui-height);max-block-size:var(--tui-height)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);font:var(--tui-font-text-m);line-height:1.25rem}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);color:var(--tui-text-primary);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-input[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}.t-input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator, .t-input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="s"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="s"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="s"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="s"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="s"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="s"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="m"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="m"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="m"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="m"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="m"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="l"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size="l"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="l"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size="l"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="l"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], .t-input   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], .t-input   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="l"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size="m"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input.t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em}.t-content[_ngcontent-%COMP%]{display:flex;block-size:100%;inline-size:100%;box-sizing:border-box;align-items:center;overflow:hidden}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-wrapper[_ngcontent-%COMP%]{flex:1;min-inline-size:0;padding-inline-end:.25rem}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;inline-size:100%;-webkit-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none;will-change:transform;transform:translateY(0)}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-text-negative)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto;border-width:.25rem}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}[data-size=s][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin:0 .125rem 0 -.375rem}[data-size=m][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}[data-size=l][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-end:.75rem}.t-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.125rem}[data-size=s][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.375rem}[_nghost-%COMP%]:not([data-size=s])   .t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-inline-start:.25rem}[_nghost-%COMP%]     input{transition:box-shadow .01s}._autofilled[data-size=s][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], ._autofilled._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], ._autofilled[_nghost-%COMP%]   .t-value-decoration[_ngcontent-%COMP%]:not(.t-has-value){visibility:hidden}[data-size=s][_nghost-%COMP%]   tui-icon[_ngcontent-%COMP%]{border-width:.25rem}.t-custom-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;min-inline-size:2rem;block-size:2rem;pointer-events:none}.t-custom-icon[_ngcontent-%COMP%]{inline-size:2rem;block-size:100%}.t-input[_ngcontent-%COMP%]:not(:first-child){display:none}[data-size][_nghost-%COMP%]   .t-input_template[_ngcontent-%COMP%]{display:flex;inline-size:calc(100% - 1rem);max-inline-size:calc(100% - 1rem);align-items:center;pointer-events:none;padding-inline-end:0}.t-input_template_hidden[_ngcontent-%COMP%]{display:none}.t-text-template[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-wrapper-value-decoration[_ngcontent-%COMP%]{position:relative;pointer-events:none}._readonly[_nghost-%COMP%]   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]{pointer-events:none}@media (hover: hover) and (pointer: fine){[_nghost-%COMP%]:not(._readonly):not(._disabled):hover   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]:after{color:var(--tui-text-secondary)}}'],changeDetection:0})}}return(0,e.gn)([g.UM],Pt.prototype,"getIndent$",null),Pt})(),k=(()=>{class Pt extends m.D1{constructor(){super(...arguments),this.host=(0,t.f3M)(B)}get readOnly(){return this.host.readOnly||!this.host.editable}onValueChange(De){this.host.onModelChange(De)}static{this.\u0275fac=function(){let De;return function(Q){return(De||(De=t.n5z(Pt)))(Q||Pt)}}()}static{this.\u0275dir=t.lG2({type:Pt,selectors:[["tui-primitive-textfield"]],features:[t._Bn([(0,f.cp)(Pt)]),t.qOj]})}}return Pt})(),yt=(()=>{class Pt{constructor(){this.autoId=(0,et.$z)(),this.el=(0,a.AG)(),this.controller=(0,t.f3M)(h.Cs),this.host=(0,t.f3M)(f.S0),this.host.process(this.el)}get id(){return this.el.id||this.autoId}get inputMode(){return this.el.inputMode||this.host.inputMode}static{this.\u0275fac=function(Ut){return new(Ut||Pt)}}static{this.\u0275cmp=t.Xpm({type:Pt,selectors:[["input","tuiTextfieldLegacy",""],["textarea","tuiTextfieldLegacy",""]],hostAttrs:["type","text"],hostVars:7,hostBindings:function(Ut,Q){1&Ut&&t.NdJ("input",function(Ft){return Q.host.onValueChange(Ft.target.value)}),2&Ut&&(t.Ikx("tabIndex",Q.host.focusable?0:-1)("readOnly",Q.host.readOnly)("value",Q.host.value),t.uIk("id",Q.id)("inputMode",Q.inputMode)("aria-invalid",Q.host.invalid)("disabled",Q.host.disabled||null))},features:[t._Bn([h.Y0])],attrs:Nt,decls:0,vars:0,template:function(Ut,Q){},styles:['[_nghost-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);color:var(--tui-text-primary);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}[_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}[inputMode=none][_nghost-%COMP%]{caret-color:transparent}[_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}[_nghost-%COMP%]::-webkit-caps-lock-indicator, [_nghost-%COMP%]::-webkit-contacts-auto-fill-button, [_nghost-%COMP%]::-webkit-credit-card-auto-fill-button, [_nghost-%COMP%]::-webkit-credentials-auto-fill-button, [_nghost-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}[_nghost-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   [_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="s"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="s"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size="s"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="s"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size="s"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="s"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="m"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size="m"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="m"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size="m"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="m"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="l"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size="l"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="l"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size="l"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="l"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], [_nghost-%COMP%]   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], [_nghost-%COMP%]   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="l"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="m"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   [_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   [_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em}textarea[_nghost-%COMP%]{white-space:pre-wrap}textarea[_nghost-%COMP%]   tui-textarea._ios[_nghost-%COMP%], tui-textarea._ios   [_nghost-%COMP%], textarea[_nghost-%COMP%]   tui-text-area._ios[_nghost-%COMP%], tui-text-area._ios   [_nghost-%COMP%]{padding-left:.8125rem}textarea[_nghost-%COMP%]   tui-textarea[data-size="s"][_nghost-%COMP%], tui-textarea[data-size="s"]   [_nghost-%COMP%], textarea[_nghost-%COMP%]   tui-textarea[data-size="m"][_nghost-%COMP%], tui-textarea[data-size="m"]   [_nghost-%COMP%]{font:var(--tui-font-text-s)}textarea[_nghost-%COMP%]   tui-textarea[data-size="l"][_nghost-%COMP%], tui-textarea[data-size="l"]   [_nghost-%COMP%]{font:var(--tui-font-text-m)}'],changeDetection:0})}}return Pt})(),Y=(()=>{class Pt{static{this.\u0275fac=function(Ut){return new(Ut||Pt)}}static{this.\u0275mod=t.oAB({type:Pt})}static{this.\u0275inj=t.cJS({imports:[A.ez,S.u5,w.W,p.Q,L.R]})}}return Pt})()},5200:(Qt,$,o)=>{"use strict";o.d($,{Ig:()=>L,Q4:()=>p,TA:()=>w});var e=o(5879),t=o(6223),a=o(6266),i=o(1393),g=o(5929),T=o(8451),_=o(1018),m=o(2701),h=o(5414),f=o(5586),v=o(8645),C=o(3019),D=o(6232),y=o(7921),E=o(7398),O=o(3997),M=o(6814),U=o(1564),R=o(1534);function A(V,et){if(1&V&&e._UZ(0,"tui-icon",3),2&V){const tt=e.oxw();e.Q6J("icon",tt.icons.check)("tuiScrollIntoView",!0)}}function S(V,et){1&V&&e._UZ(0,"span",4)}let w=(()=>{class V{constructor(){this.host=(0,e.f3M)(_.N1),this.el=(0,g.AG)(),this.changeDetection$=new v.x,this.abstractControl=(0,e.f3M)(h.M$,{optional:!0}),this.control=(0,e.f3M)(t.a5),this.option=(0,e.f3M)(_.bH),this.dataList=(0,e.f3M)(_.qi,{optional:!0}),this.icons=(0,e.f3M)(m.Gs),this.context=(0,f.FQ)(),this.selected$=(0,C.T)(this.abstractControl?.update$||D.E,this.changeDetection$,this.control.valueChanges||D.E,(0,i.mL)(this.el,"animationstart")).pipe((0,y.O)(null),(0,E.U)(()=>this.selected),(0,O.x)())}ngOnInit(){Promise.resolve().then(()=>{(0,T.Pc)(this.option.value)&&!this.option.disabled&&this.host.checkOption?.(this.option.value)})}ngDoCheck(){this.changeDetection$.next()}get value(){return this.abstractControl?.value??this.control.value}get matcher(){return this.host.identityMatcher||a.bg}get selected(){return(0,T.Pc)(this.option.value)&&(0,T.Pc)(this.value)&&this.matcher(this.value,this.option.value)}static{this.\u0275fac=function(ht){return new(ht||V)}}static{this.\u0275cmp=e.Xpm({type:V,selectors:[["tui-select-option"]],decls:5,vars:5,consts:[[3,"ngTemplateOutlet"],["automation-id","tui-select-option__checkmark","class","t-checkmark",3,"icon","tuiScrollIntoView",4,"ngIf","ngIfElse"],["dummy",""],["automation-id","tui-select-option__checkmark",1,"t-checkmark",3,"icon","tuiScrollIntoView"],[1,"t-dummy"]],template:function(ht,it){if(1&ht&&(e.GkF(0,0),e.YNc(1,A,1,2,"tui-icon",1),e.ALo(2,"async"),e.YNc(3,S,1,0,"ng-template",null,2,e.W1O)),2&ht){const It=e.MAs(4);e.Q6J("ngTemplateOutlet",it.context.$implicit),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,it.selected$))("ngIfElse",It)}},dependencies:[M.O5,M.tP,U._H,R.R,M.Ov],styles:['@keyframes _ngcontent-%COMP%_retrigger{0%{left:1px}to{left:2px}}[_nghost-%COMP%]{display:flex;flex:1;align-items:center;max-inline-size:100%;animation:_ngcontent-%COMP%_retrigger 1s}.t-checkmark[_ngcontent-%COMP%]{margin-inline-start:auto;inline-size:1.75rem;border-width:.25rem;border-inline-start-width:.5rem}tui-data-list[data-size="s"][_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%], tui-data-list[data-size="s"]   [_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%]{margin-inline-end:-.375rem}tui-data-list[data-size="m"][_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%], tui-data-list[data-size="m"]   [_nghost-%COMP%]   .t-checkmark[_ngcontent-%COMP%]{margin-inline-end:-.125rem}.t-dummy[_ngcontent-%COMP%]{inline-size:1.75rem}'],changeDetection:0})}}return V})();const p=new f.Al(w);let L=(()=>{class V{static{this.\u0275fac=function(ht){return new(ht||V)}}static{this.\u0275mod=e.oAB({type:V})}static{this.\u0275inj=e.cJS({imports:[M.ez,R.R]})}}return V})()},7244:(Qt,$,o)=>{"use strict";o.d($,{Jy:()=>Rt,OI:()=>Nt,uJ:()=>Wt});var e=o(5879),t=o(8451),a=o(1018),i=o(5414),g=o(6814),T=o(7494),_=o(385),m=o(9298),h=o(334),f=o(5086),v=o(1163),C=o(1962),D=o(5200),y=o(343),E=o(8293),O=o(5984),M=o(7511),U=o(5586);function st(Bt,B){1&Bt&&(e.ynx(0,5),e.Hsn(1,2),e.BQk())}function dt(Bt,B){1&Bt&&e._UZ(0,"div",8),2&Bt&&e.Q6J("textContent",B.polymorpheusOutlet)}const St=function(Bt,B){return{$implicit:Bt,active:B}};function bt(Bt,B){if(1&Bt&&(e.TgZ(0,"div",6),e.YNc(1,dt,1,1,"div",7),e.qZA()),2&Bt){const k=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",k.computedContent)("polymorpheusOutletContext",e.WLB(2,St,k.value,k.computedFocused))}}function u(Bt,B){1&Bt&&e.GkF(0)}function ut(Bt,B){if(1&Bt&&(e.TgZ(0,"div",9),e.YNc(1,u,1,0,"ng-container",10),e.qZA()),2&Bt){const k=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",k.arrow)}}const Z=["*",[["input"]],[["select"]]],I=["*","input","select"],At=(0,t.JN)({valueContent:""});let Wt=(()=>{class Bt extends i.F9{constructor(){super(...arguments),this.itemsHandlers=(0,e.f3M)(f.Ys),this.textfieldCleaner=(0,e.f3M)(E.Ym),this.textfieldSize=(0,e.f3M)(E.kI),this.arrowMode=(0,e.f3M)(v.Ii),this.options=(0,e.f3M)(At),this.isMobile=(0,e.f3M)(_.fL),this.open=!1,this.stringify=this.itemsHandlers.stringify,this.identityMatcher=this.itemsHandlers.identityMatcher,this.valueContent=this.options.valueContent}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return(0,m.V8)(this.nativeFocusableElement)||!!this.dropdown?.tuiDropdownOpen}get computedValue(){return null===this.value?"":this.stringify(this.value)||" "}onValueChange(k){this.value=k||null}handleOption(k){this.focusInput(),this.value=k,this.open=!1}get arrow(){return this.interactive?this.arrowMode.interactive:this.arrowMode.disabled}get nativeDropdownMode(){return!!this.nativeSelect&&this.isMobile}get computedContent(){return this.valueContent||this.computedValue}onActiveZone(k){this.updateFocused(k)}onKeyDownDelete(){this.textfieldCleaner.cleaner&&(this.value=null)}focusInput(k=!1){this.nativeFocusableElement&&this.nativeFocusableElement.focus({preventScroll:k})}static{this.\u0275fac=function(){let k;return function(Y){return(k||(k=e.n5z(Bt)))(Y||Bt)}}()}static{this.\u0275cmp=e.Xpm({type:Bt,selectors:[["tui-select"]],contentQueries:function(yt,Y,xt){if(1&yt&&(e.Suo(xt,i.sC,7),e.Suo(xt,a.gX,5,e.Rgc)),2&yt){let z;e.iGM(z=e.CRH())&&(Y.nativeSelect=z.first),e.iGM(z=e.CRH())&&(Y.datalist=z.first)}},viewQuery:function(yt,Y){if(1&yt&&(e.Gf(C.yc,5),e.Gf(h.Bb,5)),2&yt){let xt;e.iGM(xt=e.CRH())&&(Y.textfield=xt.first),e.iGM(xt=e.CRH())&&(Y.dropdown=xt.first)}},hostVars:1,hostBindings:function(yt,Y){2&yt&&e.uIk("data-size",Y.size)},inputs:{stringify:"stringify",identityMatcher:"identityMatcher",valueContent:"valueContent"},features:[e._Bn([(0,M.FT)(Bt),(0,i.wB)(Bt),(0,a.oE)(Bt),(0,a.P7)(D.Q4)]),e.qOj,e.zW0([h.a6])],ngContentSelectors:I,decls:8,vars:16,consts:[["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen","tuiDropdownOpenChange","tuiActiveZoneChange"],["automation-id","tui-select__textfield",1,"t-textfield",3,"disabled","editable","focusable","invalid","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldIcon","value","keydown.backspace.prevent","keydown.delete.prevent","valueChange"],["ngProjectAs","select",5,["select"],4,"ngIf"],["automation-id","tui-select__value","ngProjectAs","tuiContent","class","t-value",5,["tuiContent"],4,"ngIf"],["icon",""],["ngProjectAs","select",5,["select"]],["automation-id","tui-select__value","ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value"],["class","t-primitive-value",3,"textContent",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-primitive-value",3,"textContent"],["appearance","icon","tuiWrapper","",1,"t-icon"],[4,"polymorpheusOutlet"]],template:function(yt,Y){if(1&yt&&(e.F$t(Z),e.TgZ(0,"div",0),e.NdJ("tuiDropdownOpenChange",function(z){return Y.open=z})("tuiActiveZoneChange",function(z){return Y.onActiveZone(z)}),e.TgZ(1,"tui-primitive-textfield",1),e.NdJ("keydown.backspace.prevent",function(){return Y.onKeyDownDelete()})("keydown.delete.prevent",function(){return Y.onKeyDownDelete()})("valueChange",function(z){return Y.onValueChange(z)}),e.Hsn(2),e.Hsn(3,1,["ngProjectAs","input",5,["input"]]),e.YNc(4,st,2,0,"ng-container",2),e.YNc(5,bt,2,5,"div",3),e.qZA(),e.YNc(6,ut,2,1,"ng-template",null,4,e.W1O),e.qZA()),2&yt){const xt=e.MAs(7);e.Q6J("tuiDropdown",Y.datalist||"")("tuiDropdownEnabled",Y.interactive&&!Y.nativeDropdownMode)("tuiDropdownOpen",Y.open),e.xp6(1),e.Q6J("disabled",Y.computedDisabled)("editable",!1)("focusable",Y.computedFocusable)("invalid",Y.computedInvalid)("nativeId",Y.nativeId)("pseudoActive",Y.pseudoActive)("pseudoFocus",Y.computedFocused)("pseudoHover",Y.pseudoHover)("readOnly",Y.readOnly)("tuiTextfieldIcon",Y.arrow?xt:"")("value",Y.computedValue),e.xp6(3),e.Q6J("ngIf",Y.isMobile),e.xp6(1),e.Q6J("ngIf",null!==Y.value)}},dependencies:[g.O5,U.s$,C.yc,C.B1,y.o,E.AW,O.C,h.td,h.Bb],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]:not(._readonly)     input:not(:disabled){cursor:pointer}._readonly[_nghost-%COMP%]     input{cursor:default}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-value[_ngcontent-%COMP%]{display:flex;inline-size:100%;align-items:center}.t-primitive-value[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})}}return Bt})(),Nt=(()=>{class Bt extends i.D1{get readOnly(){return!0}get value(){return this.host.computedValue}get stringify(){return this.host.stringify}onValueChange(k){this.host.onValueChange(k)}static{this.\u0275fac=function(){let k;return function(Y){return(k||(k=e.n5z(Bt)))(Y||Bt)}}()}static{this.\u0275dir=e.lG2({type:Bt,selectors:[["tui-select"]],features:[e._Bn([(0,M.cp)(Bt)]),e.qOj]})}}return Bt})(),Rt=(()=>{class Bt{static{this.\u0275fac=function(yt){return new(yt||Bt)}}static{this.\u0275mod=e.oAB({type:Bt})}static{this.\u0275inj=e.cJS({imports:[g.ez,C.KW,D.Ig,v.jj,y.W,E.cn,h.nT,a.qi,a.bH,T.eC,T.Qz]})}}return Bt})()},6942:(Qt,$,o)=>{"use strict";o.d($,{Gi:()=>w,d3:()=>p});var e=o(5879),t=o(5929),a=o(2701),i=o(1862),g=o(8797),T=o(8451),_=o(6814),m=o(6223),h=o(1534),f=o(6669),v=o(5586);const C=["input"];function D(L,V){if(1&L&&(e.ynx(0),e._uU(1),e.BQk()),2&L){const et=V.polymorpheusOutlet;e.xp6(1),e.hij(" ",et," ")}}function y(L,V){if(1&L&&(e.TgZ(0,"div",6),e.YNc(1,D,2,1,"ng-container",7),e.qZA()),2&L){const et=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",et.leftContent)}}function E(L,V){if(1&L&&e._UZ(0,"tui-loader",8),2&L){const et=e.oxw();e.Q6J("inheritColor",!0)("size",et.loaderSize)}}function O(L,V){if(1&L){const et=e.EpF();e.TgZ(0,"tui-icon",9),e.NdJ("click",function(ht){e.CHM(et);const it=e.oxw();return e.KtG(it.remove(ht))})("mousedown.stop.prevent.silent",function(){return 0}),e.qZA()}if(2&L){const et=e.oxw();e.Q6J("icon",et.icons.close)}}const M=function(){return{standalone:!0}};function U(L,V){if(1&L){const et=e.EpF();e.TgZ(0,"input",10,11),e.NdJ("blur",function(){e.CHM(et);const ht=e.oxw();return e.KtG(ht.onBlur())})("keydown",function(ht){e.CHM(et);const it=e.oxw();return e.KtG(it.onKeyDown(ht))})("ngModelChange",function(ht){e.CHM(et);const it=e.oxw();return e.KtG(it.onInput(ht))}),e.qZA()}if(2&L){const et=e.oxw();e.Q6J("ngModel",et.editedText)("ngModelOptions",e.DdM(3,M)),e.uIk("maxLength",et.maxLength)}}const A=(0,T.JN)({size:"m",status:"default",autoColor:!1});let w=(()=>{class L{constructor(){this.el=(0,t.AG)(),this.options=(0,e.f3M)(A),this.editing=!1,this.icons=(0,e.f3M)(a.Gs),this.editedText=null,this.value="",this.editable=!1,this.separator=",",this.maxLength=null,this.size=this.options.size,this.showLoader=!1,this.status=this.options.status,this.hoverable=!1,this.removable=!1,this.disabled=!1,this.autoColor=this.options.autoColor,this.edited=new e.vpe}set input(et){et&&et.nativeElement.focus()}get backgroundColor(){return this.autoColor?(0,i.sn)(this.value):null}get canRemove(){return this.removable&&!this.disabled&&!this.showLoader}get displayText(){return this.editedText??this.value}get loaderSize(){return(0,g.R9)(this.size)?"s":"xs"}edit(et){this.canEdit&&(et.preventDefault(),this.editing=!0,this.editedText=this.value)}remove(et){this.canRemove&&(et.preventDefault(),et.stopPropagation(),this.edited.emit(""))}onInput(et){const tt=et.split(this.separator);tt.length>1?this.save(String(tt)):this.editedText=et}onKeyDown(et){switch(et.stopPropagation(),et.key.toLowerCase()){case"enter":et.preventDefault(),this.save(this.editedText||"");break;case"esc":case"escape":et.preventDefault(),this.stopEditing(),this.el.focus()}}onBlur(){null!==this.editedText&&this.save(this.editedText)}get canEdit(){return this.editable&&!this.disabled&&!this.showLoader}stopEditing(){this.editing=!1,this.editedText=null}save(et){this.stopEditing(),this.edited.emit(et.trim())}static{this.\u0275fac=function(tt){return new(tt||L)}}static{this.\u0275cmp=e.Xpm({type:L,selectors:[["tui-tag"],["a","tuiTag",""],["button","tuiTag",""]],viewQuery:function(tt,ht){if(1&tt&&e.Gf(C,5,e.SBq),2&tt){let it;e.iGM(it=e.CRH())&&(ht.input=it.first)}},hostVars:10,hostBindings:function(tt,ht){1&tt&&e.NdJ("keydown.delete",function(It){return ht.remove(It)})("keydown.backspace",function(It){return ht.remove(It)})("keydown.enter",function(It){return ht.edit(It)}),2&tt&&(e.uIk("data-size",ht.size)("data-status",ht.status),e.ekj("_editing",ht.editing)("_hoverable",ht.hoverable)("_autocolor",ht.autoColor)("_disabled",ht.disabled))},inputs:{value:"value",editable:"editable",separator:"separator",maxLength:"maxLength",size:"size",showLoader:"showLoader",status:"status",hoverable:"hoverable",removable:"removable",disabled:"disabled",autoColor:"autoColor",leftContent:"leftContent"},outputs:{edited:"edited"},decls:6,vars:7,consts:[[1,"t-tag",3,"dblclick"],["class","t-content",4,"ngIf"],["automation-id","tui-tag__text",1,"t-text",3,"textContent"],["class","t-content",3,"inheritColor","size",4,"ngIf"],["automation-id","tui-tag__remove","class","t-icon",3,"icon","click","mousedown.stop.prevent.silent",4,"ngIf"],["automation-id","tui-tag__edit","type","text","class","t-edit",3,"ngModel","ngModelOptions","blur","keydown","ngModelChange",4,"ngIf"],[1,"t-content"],[4,"polymorpheusOutlet"],[1,"t-content",3,"inheritColor","size"],["automation-id","tui-tag__remove",1,"t-icon",3,"icon","click","mousedown.stop.prevent.silent"],["automation-id","tui-tag__edit","type","text",1,"t-edit",3,"ngModel","ngModelOptions","blur","keydown","ngModelChange"],["input",""]],template:function(tt,ht){1&tt&&(e.TgZ(0,"div",0),e.NdJ("dblclick",function(It){return ht.edit(It)}),e.YNc(1,y,2,1,"div",1),e._UZ(2,"span",2),e.YNc(3,E,1,2,"tui-loader",3),e.YNc(4,O,1,1,"tui-icon",4),e.qZA(),e.YNc(5,U,2,4,"input",5)),2&tt&&(e.Udp("background-color",ht.backgroundColor),e.xp6(1),e.Q6J("ngIf",ht.leftContent),e.xp6(1),e.Q6J("textContent",ht.displayText),e.xp6(1),e.Q6J("ngIf",ht.showLoader),e.xp6(1),e.Q6J("ngIf",ht.canRemove),e.xp6(1),e.Q6J("ngIf",ht.editing))},dependencies:[_.O5,m.Fj,m.JJ,m.On,h.R,f.A6,v.s$],styles:['[_nghost-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;font:var(--tui-font-text-s);line-height:1.25rem;max-inline-size:100%;cursor:default;outline:none;text-decoration:none;padding:0;border:0}[_nghost-%COMP%]:after{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";box-sizing:border-box;border-radius:inherit;pointer-events:none}._hoverable[_nghost-%COMP%]:hover[data-status=custom]:after, ._hoverable[_nghost-%COMP%]:active[data-status=custom]:after{background-color:var(--tui-background-neutral-1)}[_nghost-%COMP%]:focus:after{border:2px solid var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;border-radius:var(--tui-radius-xs)}[data-size=m][_nghost-%COMP%]{border-radius:var(--tui-radius-xs)}[data-size=l][_nghost-%COMP%]{border-radius:var(--tui-radius-s)}[data-status=primary][_nghost-%COMP%]{background-color:var(--tui-background-accent-1);color:var(--tui-text-primary-on-accent-1)}[data-status=primary]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-background-accent-1-hover)}[data-status=primary]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-background-accent-1-pressed)}[data-status=error][_nghost-%COMP%]{background-color:var(--tui-status-negative-pale);color:var(--tui-text-primary)}[data-status=error]._hoverable[_nghost-%COMP%]:hover, [data-status=error]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-negative-pale-hover)}[tuiTheme="dark"]   [data-status=error][_nghost-%COMP%]{background-color:var(--tui-status-negative-pale);color:var(--tui-text-primary)}[tuiTheme="dark"]   [data-status=error]._hoverable[_nghost-%COMP%]:hover, [tuiTheme="dark"]   [data-status=error]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-negative-pale-hover)}[data-status=success][_nghost-%COMP%]{background-color:var(--tui-status-positive-pale);color:var(--tui-text-primary)}[data-status=success]._hoverable[_nghost-%COMP%]:hover, [data-status=success]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-positive-pale-hover)}[tuiTheme="dark"]   [data-status=success][_nghost-%COMP%]{background-color:var(--tui-status-positive-pale);color:var(--tui-text-primary)}[tuiTheme="dark"]   [data-status=success]._hoverable[_nghost-%COMP%]:hover, [tuiTheme="dark"]   [data-status=success]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-positive-pale-hover)}[data-status=warning][_nghost-%COMP%]{background-color:var(--tui-status-warning-pale);color:var(--tui-text-primary)}[data-status=warning]._hoverable[_nghost-%COMP%]:hover, [data-status=warning]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-warning-pale-hover)}[tuiTheme="dark"]   [data-status=warning][_nghost-%COMP%]{background-color:var(--tui-status-warning-pale);color:var(--tui-text-primary)}[tuiTheme="dark"]   [data-status=warning]._hoverable[_nghost-%COMP%]:hover, [tuiTheme="dark"]   [data-status=warning]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-warning-pale-hover)}[data-status=default][_nghost-%COMP%]{color:#fff;background-color:var(--tui-text-tertiary)}[data-status=default]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-background-accent-opposite-pressed)}[data-status=default]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-background-accent-opposite-hover)}[tuiTheme="dark"]   [data-status=default][_nghost-%COMP%]{color:var(--tui-text-primary);background-color:var(--tui-background-neutral-1)}[tuiTheme="dark"]   [data-status=default]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-background-neutral-1-hover)}[tuiTheme="dark"]   [data-status=default]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-background-neutral-1-pressed)}[tuiTheme="dark"]   [data-status=default][_nghost-%COMP%]:focus:after{border:2px solid var(--tui-background-base)}._editing[_nghost-%COMP%]{background:transparent!important}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}._hoverable[_nghost-%COMP%]{cursor:pointer}._autocolor[_nghost-%COMP%]{color:#000c}.t-text[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;text-overflow:ellipsis;padding-right:.02em}.t-tag[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:flex;inline-size:auto;align-items:center;font:inherit;border-radius:inherit}[data-size=s][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{block-size:1.25rem;padding:0 .375rem}[data-size=m][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{block-size:var(--tui-height-xs);padding:0 .5rem}[data-size=l][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{block-size:var(--tui-height-s);padding:0 .75rem}._editing[_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{visibility:hidden}.t-edit[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;font:inherit;color:var(--tui-text-primary);inline-size:100%;block-size:100%;box-sizing:border-box;padding:0 .5rem}.t-edit[_ngcontent-%COMP%]:-webkit-autofill, .t-edit[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-edit[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}[data-size=s][_nghost-%COMP%]   .t-edit[_ngcontent-%COMP%]{padding:0 .375rem}[data-size=m][_nghost-%COMP%]   .t-edit[_ngcontent-%COMP%]{padding:0 .5rem}[data-size=l][_nghost-%COMP%]   .t-edit[_ngcontent-%COMP%]{padding:0 .75rem}.t-icon[_ngcontent-%COMP%]{font-size:1rem;block-size:100%;cursor:pointer;pointer-events:all;opacity:var(--tui-disabled-opacity);margin-inline-start:.25rem;margin-inline-end:-.25rem}.t-icon[_ngcontent-%COMP%]:hover{opacity:1}[data-size=s][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{margin-inline-start:0;block-size:.75rem}.t-content[_ngcontent-%COMP%]{inline-size:1rem;block-size:1rem;margin-inline-end:.25rem}'],changeDetection:0})}}return L})(),p=(()=>{class L{static{this.\u0275fac=function(tt){return new(tt||L)}}static{this.\u0275mod=e.oAB({type:L})}static{this.\u0275inj=e.cJS({imports:[_.ez,m.u5,h.R,f.A6]})}}return L})()},250:(Qt,$,o)=>{"use strict";o.d($,{Bq:()=>ot,FC:()=>F,Mu:()=>nt});var e=o(5879),t=o(385),a=o(9298),i=o(4507),g=o(6201),T=o(5414),_=o(1962),m=o(343),h=o(8293),f=o(7511),v=o(11),C=o(6814),D=o(6223),y=o(1564),E=o(3460),O=o(5586),M=o(1534),U=o(47);const R=["focusableElement"];function A(At,Dt){1&At&&e.GkF(0)}function S(At,Dt){if(1&At&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&At){const Wt=e.oxw();e.xp6(1),e.AsE(" ",Wt.value.length,"/",Wt.maxLength," ")}}function w(At,Dt){if(1&At&&(e.TgZ(0,"div",20),e.Hsn(1,1),e.qZA()),2&At){const Wt=e.oxw();e.ekj("t-placeholder_raised",Wt.placeholderRaised)}}function p(At,Dt){1&At&&e._UZ(0,"tui-icon",23),2&At&&e.Q6J("icon",Dt.polymorpheusOutlet.toString())}const L=function(At){return{$implicit:At}};function V(At,Dt){if(1&At&&(e.TgZ(0,"div",21),e.YNc(1,p,1,1,"tui-icon",22),e.qZA()),2&At){const Wt=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",Wt.iconLeftContent)("polymorpheusOutletContext",e.VKq(2,L,Wt.size))}}function et(At,Dt){1&At&&e._UZ(0,"tui-icon",25),2&At&&e.Q6J("icon",Dt.polymorpheusOutlet)}function tt(At,Dt){if(1&At&&(e.ynx(0),e.YNc(1,et,1,1,"tui-icon",24),e.BQk()),2&At){const Wt=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",Wt.controller.customContent)}}function ht(At,Dt){if(1&At){const Wt=e.EpF();e.TgZ(0,"tui-icon",27),e.NdJ("click.stop",function(){e.CHM(Wt);const Rt=e.oxw(2);return e.KtG(Rt.onValueChange(""))}),e.qZA()}2&At&&e.Q6J("icon",Dt.polymorpheusOutlet.toString())}function it(At,Dt){if(1&At&&(e.ynx(0),e.YNc(1,ht,1,1,"tui-icon",26),e.BQk()),2&At){const Wt=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",Wt.iconCleaner)("polymorpheusOutletContext",e.VKq(2,L,Wt.size))}}function It(At,Dt){if(1&At&&e._UZ(0,"tui-tooltip",28),2&At){const Wt=e.oxw();e.Q6J("content",null==Wt.hintOptions?null:Wt.hintOptions.content)("describeId",Wt.id)}}function st(At,Dt){1&At&&e._UZ(0,"tui-icon",23),2&At&&e.Q6J("icon",Dt.polymorpheusOutlet.toString())}function dt(At,Dt){if(1&At&&(e.TgZ(0,"div",29),e.YNc(1,st,1,1,"tui-icon",22),e.qZA()),2&At){const Wt=e.oxw();e.xp6(1),e.Q6J("polymorpheusOutlet",Wt.iconContent)("polymorpheusOutletContext",e.VKq(2,L,Wt.size))}}const St=[[["textarea"]],"*"],bt=function(){return{standalone:!0}},u=["textarea","*"];let F=(()=>{class At extends T.M${constructor(){super(...arguments),this.options=(0,e.f3M)(i.z1),this.isIOS=(0,e.f3M)(t.FA),this.controller=(0,e.f3M)(h.Cs),this.hintOptions=(0,e.f3M)(g.bZ,{optional:!0}),this.rows=20,this.maxLength=null,this.expandable=!1}get nativeFocusableElement(){return this.computedDisabled?null:this.textfield?.nativeElement||this.focusableElement?.nativeElement||null}get focused(){return(0,a.V8)(this.nativeFocusableElement)}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}onValueChange(Wt){this.value=Wt}get labelOutside(){return"table"===this.options.appearance()||this.controller.labelOutside}get size(){return this.controller.size}get borderStart(){return this.iconLeftContent?_.pm[this.size]:0}get borderEnd(){return(0,v._X)(!!this.iconContent,this.hasCleaner,this.hasTooltip,this.hasCustomContent,this.size)}get hasTooltip(){return!!this.hintOptions?.content&&(this.controller.options.hintOnDisabled||!this.computedDisabled)}get hasValue(){return""!==this.value}get hasCounter(){return!!this.maxLength&&this.interactive}get appearance(){return"table"===this.options.appearance()?"table":this.controller.appearance}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&this.interactive}get hasPlaceholder(){return this.placeholderRaisable||!this.hasValue&&!this.hasExampleText}get hasCustomContent(){return!!this.controller.customContent}get iconLeftContent(){return this.controller.iconStart}get iconContent(){return this.controller.icon}get iconCleaner(){return this.controller.options.iconCleaner}get hasExampleText(){return!!this.textfield?.nativeElement.placeholder&&this.focused&&!this.hasValue&&!this.readOnly}get placeholderRaised(){return this.placeholderRaisable&&(this.computedFocused&&!this.readOnly||this.hasValue)}get fittedContent(){return this.value.slice(0,this.maxLength||1/0)}get extraContent(){return this.value.slice(this.maxLength||1/0)}onFocused(Wt){this.updateFocused(Wt)}onMouseDown(Wt){Wt.target!==this.nativeFocusableElement&&(Wt.preventDefault(),this.nativeFocusableElement&&this.nativeFocusableElement.focus())}getFallbackValue(){return""}get lineHeight(){return"m"===this.controller.size?20:24}get placeholderRaisable(){return"s"!==this.size&&!this.controller.labelOutside}static{this.\u0275fac=function(){let Wt;return function(Rt){return(Wt||(Wt=e.n5z(At)))(Rt||At)}}()}static{this.\u0275cmp=e.Xpm({type:At,selectors:[["tui-textarea"]],contentQueries:function(Nt,Rt,Bt){if(1&Nt&&e.Suo(Bt,_.MB,5,e.SBq),2&Nt){let B;e.iGM(B=e.CRH())&&(Rt.textfield=B.first)}},viewQuery:function(Nt,Rt){if(1&Nt&&e.Gf(R,5),2&Nt){let Bt;e.iGM(Bt=e.CRH())&&(Rt.focusableElement=Bt.first)}},hostVars:17,hostBindings:function(Nt,Rt){1&Nt&&e.NdJ("focusin",function(){return Rt.onFocused(!0)})("focusout",function(){return Rt.onFocused(!1)}),2&Nt&&(e.uIk("data-size",Rt.size),e.Udp("--border-end",Rt.borderEnd,"rem")("--border-start",Rt.borderStart,"rem"),e.ekj("_ios",Rt.isIOS)("_expandable",Rt.expandable)("_has-counter",Rt.hasCounter)("_label-outside",Rt.labelOutside)("_has-tooltip",Rt.hasTooltip)("_has-value",Rt.hasValue))},inputs:{rows:"rows",maxLength:"maxLength",expandable:"expandable"},features:[e._Bn([(0,f.FT)(At),(0,T.wB)(At),h.Y0]),e.qOj],ngContentSelectors:u,decls:23,vars:27,consts:[[4,"ngIf"],["automation-id","tui-text-area__wrapper","tuiWrapper","",1,"t-outline",3,"appearance","disabled","focus","hover","invalid","readOnly"],["automation-id","tui-text-area__counter","class","t-counter",4,"ngIf"],[1,"t-content",3,"mousedown"],[1,"t-wrapper"],["automation-id","tui-text-area__placeholder","class","t-placeholder",3,"t-placeholder_raised",4,"ngIf"],["automation-id","tui-text-area__scrollbar",1,"t-box"],[1,"t-input-wrapper"],[1,"t-relative"],["aria-hidden","true",1,"t-pseudo-content"],[3,"textContent"],[1,"t-pseudo-content__extra",3,"textContent"],[1,"t-caret"],["automation-id","tui-text-area__native",1,"t-input",3,"disabled","id","ngModelOptions","readOnly","tabIndex","ngModel","ngModelChange"],["focusableElement",""],[1,"t-icons"],["class","t-icon t-icon_left t-textfield-icon",4,"ngIf"],["automation-id","tui-text-area__tooltip",3,"content","describeId",4,"ngIf"],["class","t-icon t-textfield-icon",4,"ngIf"],["automation-id","tui-text-area__counter",1,"t-counter"],["automation-id","tui-text-area__placeholder",1,"t-placeholder"],[1,"t-icon","t-icon_left","t-textfield-icon"],["tuiAppearance","icon",3,"icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiAppearance","icon",3,"icon"],[3,"icon",4,"polymorpheusOutlet"],[3,"icon"],["tuiAppearance","icon","class","t-cleaner",3,"icon","click.stop",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiAppearance","icon",1,"t-cleaner",3,"icon","click.stop"],["automation-id","tui-text-area__tooltip",3,"content","describeId"],[1,"t-icon","t-textfield-icon"]],template:function(Nt,Rt){1&Nt&&(e.F$t(St),e.YNc(0,A,1,0,"ng-container",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.YNc(3,S,2,2,"div",2),e.TgZ(4,"label",3),e.NdJ("mousedown",function(B){return Rt.onMouseDown(B)}),e.TgZ(5,"div",4),e.YNc(6,w,2,2,"div",5),e.TgZ(7,"tui-scrollbar",6)(8,"div",7)(9,"div",8)(10,"div",9),e._UZ(11,"span",10)(12,"span",11)(13,"span",12),e.qZA(),e.TgZ(14,"textarea",13,14),e.NdJ("ngModelChange",function(B){return Rt.value=B}),e.qZA(),e.Hsn(16),e.qZA()()()(),e.TgZ(17,"div",15),e.YNc(18,V,2,4,"div",16),e.YNc(19,tt,2,1,"ng-container",0),e.YNc(20,it,2,4,"ng-container",0),e.YNc(21,It,1,2,"tui-tooltip",17),e.YNc(22,dt,2,4,"div",18),e.qZA()()()),2&Nt&&(e.Q6J("ngIf",e.lcZ(1,24,null==Rt.hintOptions?null:Rt.hintOptions.change$)),e.xp6(2),e.Q6J("appearance",Rt.appearance)("disabled",Rt.disabled)("focus",Rt.computedFocused)("hover",Rt.pseudoHover)("invalid",Rt.computedInvalid)("readOnly",Rt.readOnly),e.xp6(1),e.Q6J("ngIf",Rt.hasCounter),e.xp6(3),e.Q6J("ngIf",Rt.hasPlaceholder),e.xp6(1),e.Udp("max-height",Rt.computeMaxHeight,"px"),e.xp6(4),e.Q6J("textContent",Rt.fittedContent||(null==Rt.nativeFocusableElement?null:Rt.nativeFocusableElement.placeholder)),e.xp6(1),e.Q6J("textContent",Rt.extraContent),e.xp6(2),e.Q6J("disabled",Rt.computedDisabled)("id",Rt.id)("ngModelOptions",e.DdM(26,bt))("readOnly",Rt.readOnly)("tabIndex",Rt.computedFocusable?0:-1)("ngModel",Rt.value),e.xp6(4),e.Q6J("ngIf",Rt.iconLeftContent),e.xp6(1),e.Q6J("ngIf",Rt.hasCustomContent),e.xp6(1),e.Q6J("ngIf",Rt.hasCleaner),e.xp6(1),e.Q6J("ngIf",Rt.hasTooltip),e.xp6(1),e.Q6J("ngIf",Rt.iconContent))},dependencies:[C.O5,D.Fj,D.JJ,D.On,y.D1,E.w,m.o,O.s$,M.R,U.Nm,C.Ov],styles:["[_nghost-%COMP%]{position:relative;z-index:0;display:flex;flex-direction:column;min-block-size:var(--tui-textarea-height);border-radius:var(--tui-radius-m);color:var(--tui-text-primary)}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);--tui-textarea-height: 4.5625rem;font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);--tui-textarea-height: 5.5rem;font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);--tui-textarea-height: 6.75rem;font:var(--tui-font-text-m)}[data-size=m]._has-counter[_nghost-%COMP%]{--tui-textarea-height: 6.625rem}[data-size=l]._has-counter[_nghost-%COMP%]{--tui-textarea-height: 7.875rem}@supports (-webkit-hyphens: none){[_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{text-wrap:balance}}.t-outline[_ngcontent-%COMP%]{min-block-size:inherit}.t-content[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;min-block-size:inherit;box-sizing:border-box;overflow:hidden;cursor:text}._disabled[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{cursor:auto;opacity:var(--tui-disabled-opacity)}[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:1px;right:0;min-block-size:auto}._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1.6875rem}._label-outside._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;inline-size:100%;block-size:100%;min-block-size:inherit;box-sizing:border-box;padding:calc((var(--tui-height) - 1.25rem) / 2) 0}[data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 1.5rem) / 2) 0}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 2.25rem) / 2) 0}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 2.625rem) / 2) 0}table[data-size=m]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], table   [data-size=m]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-bottom:.75rem}table[data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], table   [data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-bottom:1rem}.t-input-wrapper[_ngcontent-%COMP%]{min-block-size:inherit;inline-size:100%;flex:1}.t-relative[_ngcontent-%COMP%]{position:relative;min-block-size:inherit}.t-box[_ngcontent-%COMP%]{display:flex;min-block-size:calc(100% - 1rem);inline-size:100%}[_nghost-%COMP%]:not(._expandable)   .t-box[_ngcontent-%COMP%]{block-size:calc(100% - 1rem)}[_nghost-%COMP%]:not(._expandable)._label-outside   .t-box[_ngcontent-%COMP%]{block-size:100%}._has-counter._expandable[_nghost-%COMP%]   .t-box[_ngcontent-%COMP%]{margin-bottom:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-box[_ngcontent-%COMP%]{border-block-start:1rem solid transparent}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-box[_ngcontent-%COMP%]{border-block-start:1.25rem solid transparent}.t-pseudo-content[_ngcontent-%COMP%]{white-space:pre-wrap;overflow-wrap:break-word;word-break:keep-all;pointer-events:none;color:transparent;overflow:hidden;border:0 solid transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0)}[data-size=s][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 1rem}.t-pseudo-content__extra[_ngcontent-%COMP%]{background-color:var(--tui-status-negative-pale)}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;box-sizing:border-box;resize:none;overflow:hidden;outline:none;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0)}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-input[_ngcontent-%COMP%]:not(:last-of-type){display:none}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 .75rem;font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 1rem;font:var(--tui-font-text-m)}@supports (-webkit-marquee-repetition: infinite) and (object-fit: fill){._ios[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding-left:.8125rem}}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;inline-size:100%;-webkit-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none;will-change:transform;transform:translateY(0);position:absolute;top:calc(var(--tui-height) / 2 - .625rem);left:0;max-inline-size:100%;border:0 solid transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);box-sizing:border-box}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-text-negative)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-primary)}[data-size=s][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=m][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 1rem}._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{overflow:initial;block-size:auto;white-space:initial}.t-icons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;justify-content:flex-end;pointer-events:none;padding:calc((var(--tui-height) - 1.5rem) / 2) 1rem}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 1.5rem) / 2) .625rem}.t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-inline-start:.25rem}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}.t-icon_left[_ngcontent-%COMP%]{margin-inline-end:auto}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto;border-width:.25rem}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-caret[_ngcontent-%COMP%]{display:inline-block;block-size:1rem;inline-size:0}.t-counter[_ngcontent-%COMP%]{position:absolute;right:.75rem;bottom:.5rem;font:var(--tui-font-text-s);pointer-events:none;margin-top:auto;text-align:end;color:var(--tui-text-tertiary)}._readonly[_nghost-%COMP%]   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]{pointer-events:none}@media (hover: hover) and (pointer: fine){[_nghost-%COMP%]:not(._readonly):not(._disabled):hover   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]:after{color:var(--tui-text-secondary)}}"],changeDetection:0})}}return At})(),ot=(()=>{class At extends T.D1{onValueChange(Wt){this.host.onValueChange(Wt)}static{this.\u0275fac=function(){let Wt;return function(Rt){return(Wt||(Wt=e.n5z(At)))(Rt||At)}}()}static{this.\u0275dir=e.lG2({type:At,selectors:[["tui-textarea"]],features:[e._Bn([(0,f.cp)(At)]),e.qOj]})}}return At})(),nt=(()=>{class At{static{this.\u0275fac=function(Nt){return new(Nt||At)}}static{this.\u0275mod=e.oAB({type:At})}static{this.\u0275inj=e.cJS({imports:[C.ez,D.u5,y.D1,E.Q,m.W,_.KW,M.R]})}}return At})()},3460:(Qt,$,o)=>{"use strict";o.d($,{w:()=>M,Q:()=>U});var e=o(5879),t=o(6201),a=o(1534),i=o(1993),g=o(1393),T=o(385),_=o(8451),m=o(4507),h=o(47),f=o(2701),v=o(7398),C=o(5297);const[D,y]=(0,C.j)({icon:"",appearance:"icon"});let E=(()=>{class R{static{this.\u0275fac=function(w){return new(w||R)}}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["ng-component"]],hostAttrs:[1,"tui-tooltip"],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(w,p){},styles:["[tuiTooltip]{border-width:.125rem;border-radius:100%;cursor:pointer;pointer-events:auto;background-clip:content-box!important}[tuiTooltip] [tuiBlock],[tuiTooltip] [tuiCell][data-size=s],[tuiLabel][data-orientation=horizontal] [tuiTooltip]{border-width:.25rem}[tuiTitle] [tuiTooltip]{font-size:1rem;border:none}[tuiTooltip]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);inline-size:1rem;block-size:1rem}@media (hover: hover) and (pointer: fine){tui-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-textarea:hover [tuiTooltip][data-appearance=icon]:after,tui-primitive-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-input-tag:hover [tuiTooltip][data-appearance=icon]:after{color:var(--tui-text-secondary)}}\n"],encapsulation:2,changeDetection:0})}}return R})(),O=(()=>{class R{constructor(){this.textfield=(0,e.f3M)(m.MB,{optional:!0}),this.isMobile=(0,e.f3M)(T.fL),this.describe=(0,e.f3M)(t.eW),this.driver=(0,e.f3M)(t.Hr),this.nothing=(0,_.__)(E),this.state=(0,h.kE)((0,i.O4)((0,e.f3M)(t.Hr).pipe((0,v.U)(S=>S?"hover":null),(0,g.NA)()),{initialValue:null}))}ngDoCheck(){this.textfield?.id&&(this.describe.tuiHintDescribe=this.textfield.id)}onClick(S){this.isMobile?(S.preventDefault(),S.stopPropagation()):this.driver.toggle()}static{this.\u0275fac=function(w){return new(w||R)}}static{this.\u0275dir=e.lG2({type:R,selectors:[["tui-icon","tuiTooltip",""]],hostAttrs:["tuiTooltip",""],hostBindings:function(w,p){1&w&&e.NdJ("click.prevent",function(){return 0})("mousedown",function(V){return p.onClick(V)})},standalone:!0,features:[e._Bn([(0,h.mS)(D),{provide:f.Hd,useFactory:()=>(0,e.f3M)(D).icon||(0,e.f3M)(t.H3).icon}]),e.zW0([h.$y,{directive:t.eW,inputs:["tuiHintDescribe","tuiTooltipDescribe"]},{directive:t.D,inputs:["tuiHint","tuiTooltip","tuiHintAppearance","tuiHintAppearance","tuiHintContext","tuiHintContext"]}])]})}}return R})(),M=(()=>{class R extends t.bZ{constructor(){super(...arguments),this.describeId=""}static{this.\u0275fac=function(){let S;return function(p){return(S||(S=e.n5z(R)))(p||R)}}()}static{this.\u0275cmp=e.Xpm({type:R,selectors:[["tui-tooltip"]],inputs:{content:"content",direction:"direction",appearance:"appearance",showDelay:"showDelay",hideDelay:"hideDelay",describeId:"describeId",context:"context"},features:[e.qOj],decls:1,vars:7,consts:[["automation-id","tui-tooltip__icon",3,"tuiHintAppearance","tuiHintContext","tuiHintDirection","tuiHintHideDelay","tuiHintShowDelay","tuiTooltip","tuiTooltipDescribe"]],template:function(w,p){1&w&&e._UZ(0,"tui-icon",0),2&w&&e.Q6J("tuiHintAppearance",p.appearance||"")("tuiHintContext",p.context)("tuiHintDirection",p.direction)("tuiHintHideDelay",p.hideDelay)("tuiHintShowDelay",p.showDelay)("tuiTooltip",p.content)("tuiTooltipDescribe",p.describeId)},dependencies:[a.R,O],encapsulation:2,changeDetection:0})}}return R})(),U=(()=>{class R{static{this.\u0275fac=function(w){return new(w||R)}}static{this.\u0275mod=e.oAB({type:R})}static{this.\u0275inj=e.cJS({imports:[a.R]})}}return R})()},5984:(Qt,$,o)=>{"use strict";o.d($,{C:()=>_});var e=o(5879),t=o(1993),a=o(5929),i=o(9298),g=o(334),T=o(3997);let _=(()=>{class m{constructor(){this.destroyRef=(0,e.f3M)(e.ktI),this.el=(0,a.AG)(),this.host=(0,e.f3M)(g.Bb,{self:!0}),this.external=(0,e.f3M)(g.gy,{optional:!0})}ngAfterViewInit(){this.external?.tuiDropdownOpenChange.pipe((0,T.x)(),(0,t.sL)(this.destroyRef)).subscribe(f=>{f&&(0,i.BW)({initial:this.el,root:this.el})?.focus(),this.host.toggle(f)}),this.host.driver.pipe((0,T.x)(),(0,t.sL)(this.destroyRef)).subscribe(f=>this.external?.emitOpenChange(f))}static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275dir=e.lG2({type:m,selectors:[["","tuiDropdownOpenMonitor",""]],standalone:!0})}}return m})()},8293:(Qt,$,o)=>{"use strict";o.d($,{A7:()=>It,AW:()=>w,Cs:()=>bt,Tq:()=>ht,Y0:()=>u,Ym:()=>E,aR:()=>L,be:()=>O,cn:()=>St,kD:()=>A,kI:()=>st,qc:()=>y,sz:()=>dt,xT:()=>et,z1:()=>v});var e=o(8451),t=o(5879),a=o(5414),i=o(1993),g=o(1393),T=o(7511),_=o(3019),m=o(4366);class h{constructor(Z,I,F,ot,nt,At,Dt,Wt,Nt,Rt,Bt,B,k){this.change$=Z,this.options=I,this.legacyAppearance=F,this.appearanceDirective=ot,this.cleanerDirective=nt,this.customContentDirective=At,this.iconDirective=Dt,this.iconLeftDirective=Wt,this.labelOutsideDirective=Nt,this.sizeDirective=Rt,this.prefixDirective=Bt,this.postfixDirective=B,this.fillerDirective=k}get appearance(){return this.appearanceDirective.appearance||this.legacyAppearance}get cleaner(){return this.cleanerDirective.cleaner}get customContent(){return this.customContentDirective.customContent||""}get icon(){return this.iconDirective.icon}get iconStart(){return this.iconLeftDirective.iconStart}get labelOutside(){return this.labelOutsideDirective.labelOutside}get size(){return this.sizeDirective.size}get prefix(){return this.prefixDirective.prefix}get postfix(){return this.postfixDirective.postfix}get filler(){return this.fillerDirective.filler}}const v=(0,e.JN)({iconCleaner:"@tui.x",hintOnDisabled:!1}),D=(0,e.N1)(()=>new y);let y=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.appearance=""}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldAppearance",""]],inputs:{appearance:["tuiTextfieldAppearance","appearance"]},features:[t._Bn([(0,e.Q2)(D,ut)]),t.qOj]})}}return ut})();const E=(0,e.N1)(()=>new O);let O=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.cleaner=!1}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldCleaner",""]],inputs:{cleaner:["tuiTextfieldCleaner","cleaner"]},features:[t._Bn([(0,e.Q2)(E,ut)]),t.qOj]})}}return ut})();const M=(0,e.N1)(()=>new U);let U=(()=>{class ut extends a.QJ{static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldCustomContent",""]],inputs:{customContent:["tuiTextfieldCustomContent","customContent"]},features:[t._Bn([(0,e.Q2)(M,ut)]),t.qOj]})}}return ut})();const R=(0,e.N1)(()=>new A);let A=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.filler=""}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldFiller",""]],inputs:{filler:["tuiTextfieldFiller","filler"]},features:[t._Bn([(0,e.Q2)(R,ut)]),t.qOj]})}}return ut})();const S=(0,e.N1)(()=>new w);let w=(()=>{class ut extends a.QJ{static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldIcon",""]],inputs:{icon:["tuiTextfieldIcon","icon"]},features:[t._Bn([(0,e.Q2)(S,ut)]),t.qOj]})}}return ut})();const p=(0,e.N1)(()=>new L);let L=(()=>{class ut extends a.QJ{static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldIconLeft",""]],inputs:{iconStart:["tuiTextfieldIconLeft","iconStart"]},features:[t._Bn([(0,e.Q2)(p,ut)]),t.qOj]})}}return ut})();const V=(0,e.N1)(()=>new et);let et=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.labelOutside=!1}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldLabelOutside",""]],inputs:{labelOutside:["tuiTextfieldLabelOutside","labelOutside"]},features:[t._Bn([(0,e.Q2)(V,ut)]),t.qOj]})}}return ut})();const tt=(0,e.N1)(()=>new ht);let ht=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.postfix=""}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldPostfix",""]],inputs:{postfix:["tuiTextfieldPostfix","postfix"]},features:[t._Bn([(0,e.Q2)(tt,ut)]),t.qOj]})}}return ut})();const it=(0,e.N1)(()=>new It);let It=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.prefix=""}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldPrefix",""]],inputs:{prefix:["tuiTextfieldPrefix","prefix"]},features:[t._Bn([(0,e.Q2)(it,ut)]),t.qOj]})}}return ut})();const st=(0,e.N1)(()=>new dt);let dt=(()=>{class ut extends a.QJ{constructor(){super(...arguments),this.size="l"}static{this.\u0275fac=function(){let I;return function(ot){return(I||(I=t.n5z(ut)))(ot||ut)}}()}static{this.\u0275dir=t.lG2({type:ut,selectors:[["","tuiTextfieldSize",""]],inputs:{size:["tuiTextfieldSize","size"]},features:[t._Bn([(0,e.Q2)(st,ut)]),t.qOj]})}}return ut})(),St=(()=>{class ut{static{this.\u0275fac=function(F){return new(F||ut)}}static{this.\u0275mod=t.oAB({type:ut})}static{this.\u0275inj=t.cJS({})}}return ut})();const bt=(0,e.JN)(),u=[{provide:bt,deps:[t.sBO,v,T.jt,D,E,M,S,p,V,st,it,tt,R],useFactory:(ut,Z,I,...F)=>{const ot=(0,_.T)(...F.map(({change$:nt})=>nt||m.C)).pipe((0,g.NA)(ut),(0,i.sL)());return ot.subscribe(),new h(ot,Z,I,...F)}}]},754:(Qt,$,o)=>{"use strict";o.d($,{E2:()=>g,SC:()=>_,nx:()=>T});var e=o(5879),t=o(6223),a=o(7511),i=o(2737);const g={provide:a.sE,deps:[[new e.FiY,new e.PiD,t.JU]],useFactory:i.y};let T=(()=>{class m{static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275dir=e.lG2({type:m,selectors:[["","tuiValueAccessor",""]],features:[e._Bn([g])]})}}return m})(),_=(()=>{class m{static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275mod=e.oAB({type:m})}static{this.\u0275inj=e.cJS({})}}return m})()},343:(Qt,$,o)=>{"use strict";o.d($,{W:()=>a,o:()=>t});var e=o(5879);let t=(()=>{class i{constructor(){this.disabled=!1,this.readOnly=!1,this.hover=null,this.active=null,this.focus=!1,this.invalid=!1,this.appearance=""}get computedInvalid(){return!this.disabled&&!this.readOnly&&this.invalid}get computedFocused(){return this.focus&&!this.disabled}get interactiveState(){return this.disabled?"disabled":this.readOnly?"readonly":this.active?"active":this.hover?"hover":null}get noHover(){return this.readOnly||!1===this.hover}get noActive(){return this.readOnly||!1===this.active}static{this.\u0275fac=function(_){return new(_||i)}}static{this.\u0275dir=e.lG2({type:i,selectors:[["","tuiWrapper",""]],hostAttrs:["tuiAppearance",""],hostVars:10,hostBindings:function(_,m){2&_&&(e.uIk("data-appearance",m.appearance)("data-state",m.interactiveState),e.ekj("_invalid",m.computedInvalid)("_focused",m.computedFocused)("_no-hover",m.noHover)("_no-active",m.noActive))},inputs:{disabled:"disabled",readOnly:"readOnly",hover:"hover",active:"active",focus:"focus",invalid:"invalid",appearance:"appearance"}})}}return i})(),a=(()=>{class i{static{this.\u0275fac=function(_){return new(_||i)}}static{this.\u0275mod=e.oAB({type:i})}static{this.\u0275inj=e.cJS({})}}return i})()},2334:(Qt,$,o)=>{"use strict";o.d($,{r:()=>i});var e=o(5879),t=o(6266),a=o(11);let i=(()=>{class g{transform(_,m=`${t.kU}7`,h="(###) ###-##-##"){return(0,a.ev)(_,m,h)}static{this.\u0275fac=function(m){return new(m||g)}}static{this.\u0275pipe=e.Yjl({name:"tuiFormatPhone",type:g,pure:!0,standalone:!0})}}return g})()},7511:(Qt,$,o)=>{"use strict";o.d($,{FT:()=>y,KZ:()=>D,S0:()=>V,cp:()=>et,jt:()=>L,sE:()=>ht,tS:()=>E});var e=o(8451),t=o(6814),a=o(5879),i=o(2664),g=o(6232),T=o(7081),h=(o(7398),o(2096),o(5742)),f=o(5136);o(3513),(0,e.JN)({AD:"+376###-###",AE:"+971-##-###-####",AF:"+93##-###-####",AG:"+1(268) ###-####",AI:"+1(264) ###-####",AL:"+355(###) ###-###",AM:"+374##-###-###",AO:"+244(###) ###-###",AR:"+54(###) ####-####",AT:"+43(###) ###-####",AU:"+61#-####-####",AW:"+297###-####",AZ:"+994##-###-##-##",BA:"+387 ###-####-##",BB:"+1(246) ###-####",BD:"+880##-###-###",BE:"+32(###) ###-###",BF:"+226##-##-####",BG:"+359(###) ###-###",BH:"+973####-####",BI:"+257##-##-####",BJ:"+229##-##-####",BL:"+590 ## ## ## ## ##",BM:"+1(441) ###-####",BN:"+673###-####",BO:"+591#-###-####",BQ:"+599-###-####",BR:"+55(##) ####-####",BS:"+1(242) ###-####",BT:"+975#-###-###",BW:"+267##-###-###",BY:"+375(##) ###-##-##",BZ:"+501###-####",CA:"+1(###) ###-####",CD:"+243(###) ###-###",CF:"+236-##-##-####",CG:"+242##-###-####",CH:"+41##-###-####",CI:"+225##-##-###-###",CL:"+56#-####-####",CM:"+237#####-####",CN:"+86(###) ####-####",CO:"+57(###) ###-####",CR:"+506####-####",CU:"+53#-###-####",CV:"+238(###) ##-##",CW:"+5999-###-####",CY:"+357##-###-###",CZ:"+420(###) ###-###",DE:"+49(###) ###-###-##",DJ:"+253##-##-##-##",DK:"+45##-##-##-##",DM:"+1(767) ###-####",DO:"+1(###) ###-####",DZ:"+213##-###-####",EC:"+593##-###-####",EE:"+372####-####",EG:"+20(###) ###-####",ER:"+291#-###-###",ES:"+34(###) ###-###",ET:"+251##-###-####",FI:"+358(###) ###-##-##",FJ:"+679##-#####",FK:"+500#####",FM:"+691###-####",FR:"+33 ## ## ## ## ##",GA:"+241##-##-##-##",GB:"+44##-####-####",GD:"+1(473) ###-####",GE:"+995(###) ###-###",GF:"+594 ## ## ## ## ##",GH:"+233(###) ###-###",GI:"+350###-#####",GL:"+299##-##-##",GM:"+220(###) ##-##",GN:"+224##-###-###",GP:"+590 ## ## ## ## ##",GQ:"+240##-###-####",GR:"+30(###) ###-####",GT:"+502#-###-####",GW:"+245#-######",GY:"+592###-####",HK:"+852####-####",HN:"+504####-####",HR:"+385##-###-####",HT:"+509##-##-####",HU:"+36(###) ###-###",ID:"+62(###) ###-##-###",IE:"+353(###) ###-###",IL:"+972##-###-####",IN:"+91(####) ###-###",IQ:"+964(###) ###-####",IR:"+98(###) ###-####",IS:"+354###-####",IT:"+39(###) ####-###",JM:"+1(876) ###-####",JO:"+962#-####-####",JP:"+81-##-####-####",KE:"+254###-######",KG:"+996(###) ###-###",KH:"+855##-###-###",KM:"+269##-#####",KN:"+1(869) ###-####",KP:"+850####-#############",KR:"+82##-###-####",KW:"+965####-####",KY:"+1(345) ###-####",KZ:"+7(###) ###-##-##",LA:"+856##-##-###-###",LB:"+961##-###-###",LC:"+1(758) ###-####",LI:"+423(###) ###-####",LK:"+94##-###-####",LR:"+231##-###-###",LS:"+266#-###-####",LT:"+370(###) ##-###",LU:"+352(###) ###-###",LV:"+371##-###-###",LY:"+218##-###-####",MA:"+212##-####-###",MC:"+377###-###-###",MD:"+373####-####",ME:"+382##-###-###",MF:"+590 ## ## ## ## ##",MG:"+261##-##-#####",MK:"+389##-###-###",ML:"+223##-##-####",MM:"+95##-###-###",MN:"+976##-##-####",MO:"+853####-####",MQ:"+596 ## ## ## ## ##",MR:"+222##-##-####",MS:"+1(664) ###-####",MT:"+356####-####",MU:"+230####-####",MV:"+960###-####",MW:"+265#-####-####",MX:"+52(###) ###-####",MY:"+60(###) ###-###",MZ:"+258##-###-###",NA:"+264##-###-####",NC:"+687 ### ###",NE:"+227##-##-####",NG:"+234(###) ###-####",NI:"+505####-####",NL:"+31##-###-####",NO:"+47(###) ##-###",NP:"+977##-###-###",NZ:"+64(###) ###-####",OM:"+968##-###-###",PA:"+507###-####",PE:"+51(###) ###-###",PF:"+689 ## ## ## ##",PG:"+675(###) ##-###",PH:"+63(###) ###-####",PK:"+92(###) ###-####",PL:"+48(###) ###-###",PT:"+351##-###-####",PW:"+680###-####",PY:"+595(###) ###-###",QA:"+974####-####",RE:"+262 ## ## ## ## ##",RO:"+40##-###-####",RS:"+381##-###-####",RU:"+7### ###-##-##",RW:"+250(###) ###-###",SA:"+966#-####-####",SB:"+677###-####",SC:"+248#-###-###",SD:"+249##-###-####",SE:"+46##-###-####",SG:"+65####-####",SH:"+290####",SI:"+386##-###-###",SK:"+421(###) ###-###",SL:"+232##-######",SM:"+378####-######",SN:"+221##-###-####",SO:"+252##-###-###",SR:"+597###-####",ST:"+239##-#####",SV:"+503##-##-####",SX:"+1(721) ###-####",SY:"+963##-####-###",SZ:"+268##-##-####",TC:"+1(649) ###-####",TD:"+235##-##-##-##",TG:"+228##-###-###",TH:"+66##-###-####",TJ:"+992##-###-####",TL:"+670###-#####",TM:"+993#-###-####",TN:"+216##-###-###",TO:"+676#####",TR:"+90(###) ###-####",TT:"+1(868) ###-####",TW:"+886#-####-####",TZ:"+255##-###-####",UA:"+380(##) ###-##-##",UG:"+256(###) ###-###",US:"+1(###) ###-####",UY:"+598#-###-##-##",UZ:"+998##-###-####",VC:"+1(784) ###-####",VE:"+58(###) ###-####",VG:"+1(284)###-####",VN:"+84(###) ####-###",VU:"+678##-#####",WS:"+685##-####",XK:"+383##-###-###",YE:"+967###-###-###",YT:"+262 ## ## ## ## ##",ZA:"+27##-###-####",ZM:"+260##-###-####",ZW:"+263#-######",VA:"+39 #### ###-####",WF:"+681 ## ##-##",VI:"+1(340) ###-####",JE:"+44(####) ######",AC:"+247###-####",TV:"+686###-####",TK:"+690###-####",TA:"+290###-####",SS:"+211### ###-###",SJ:"+47 ## ##-##-##",PS:"+970 #### ###-###",PR:"+1(###) ###-####",PM:"+508 ### ##-##-##",NU:"+683 ###-####",NR:"+674 ###-####",NF:"+672##-####",MP:"+1(670) ###-####",MH:"+692 ###-####",KI:"+686 ####-####",IO:"+246 ### ####",IM:"+44(####) ######",GU:"+1(###) ###-###",GG:"+44(###) ###-####",FO:"+298 ######",EH:"+212 #### #####",CX:"+61 # ####-####",CK:"+682 ## ###",CC:"+61 # ####-####",AX:"+358 ## ###-####",AS:"+1(###) ###-####"});const D=(0,e.JN)();function y(it){return(0,e.Q2)(D,it)}const E=(0,e.N1)(()=>(0,i.D)((0,a.f3M)(t.K0).fonts?.ready||g.E).pipe((0,T.d)({bufferSize:1,refCount:!1}))),L=((0,e.JN)({}),(0,e.N1)(()=>(0,f.mL)((0,a.f3M)(h.uA))),(0,e.N1)(()=>!!(0,a.f3M)(h.Az).chrome),(0,e.N1)(()=>void 0!==(0,a.f3M)(h.Az)?.mozCancelFullScreen),(0,e.N1)(()=>(0,a.f3M)(h.Az).location.host.endsWith("stackblitz.io")),(0,e.JN)(),(0,e.JN)(),(0,e.JN)("textfield")),V=(0,e.JN)();function et(it){return(0,e.Q2)(V,it)}(0,e.N1)(()=>(0,a.f3M)(h.Az).matchMedia("(any-pointer: coarse)").matches);const ht=(0,e.JN)()},11:(Qt,$,o)=>{"use strict";o.d($,{_X:()=>m,ev:()=>g,ux:()=>i,yn:()=>p});var e=o(6266),t=o(334);const i={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"};function g(L,V,et){if(!L)return"";let tt=V;V=V.replaceAll(/[()]/g,""),L.startsWith(V)||(L=V+L.replace(e.kU,""));const ht=et.split(""),it=L.slice(V.length).split("");if(tt+=" ",0===it.length)return tt;for(const It of ht){if(0===it.length)break;"#"===It?(tt+=it[0]||"",it.splice(0,1)):tt+=It}return tt}const T=1.5,_=2.5;function m(L,V=!1,et=!1,tt=!1,ht="m"){const it="s"===ht?0:.25;let It=0;return L&&(It+=T+it),V&&(It+=T+it),et&&(It+=T+it),tt&&(It+=_+it),It}const p=(0,t.fx)({limitWidth:"fixed",align:"right"})},5586:(Qt,$,o)=>{"use strict";o.d($,{Al:()=>i,FQ:()=>a,GL:()=>m,s$:()=>h,yf:()=>t});var e=o(5879);const t=new e.OlP("");function a(y={}){return(0,e.f3M)(t,y)}class i{constructor(E,O){this.component=E,this.i=O}createInjector(E,O){return e.zs3.create({parent:this.i||E,providers:[{provide:t,useValue:O}]})}}class g{constructor(E){this.$implicit=E}get polymorpheusOutlet(){return this.$implicit}}let m=(()=>{class y{constructor(O=(0,e.f3M)(e.Rgc,{self:!0}),M=(0,e.f3M)(e.sBO)){this.template=O,this.cdr=M,this.polymorpheus=""}static ngTemplateContextGuard(O,M){return!0}check(){this.cdr.markForCheck()}static{this.\u0275fac=function(M){return new(M||y)(e.Y36(e.Rgc),e.Y36(e.sBO))}}static{this.\u0275dir=e.lG2({type:y,selectors:[["ng-template","polymorpheus",""]],inputs:{polymorpheus:"polymorpheus"},exportAs:["polymorpheus"],standalone:!0})}}return y})(),h=(()=>{class y{constructor(){this.vcr=(0,e.f3M)(e.s_b),this.i=(0,e.f3M)(e.gxx),this.t=(0,e.f3M)(e.Rgc),this.content=""}static ngTemplateContextGuard(O,M){return!0}ngOnChanges({content:O}){const M=this.getContext();if(this.c?.injector.get(e.sBO).markForCheck(),!O)return;this.vcr.clear();const U=M&&new Proxy(D(M),{get:(R,A)=>D(this.getContext())?.[A]});v(this.content)?this.process(this.content,U):null!=(M instanceof g&&M.$implicit)&&this.vcr.createEmbeddedView(this.template,U,{injector:this.i})}ngDoCheck(){f(this.content)&&this.content.check()}get template(){return f(this.content)?this.content.template:this.content instanceof e.Rgc?this.content:this.t}getContext(){return function C(y){return f(y)||y instanceof e.Rgc}(this.content)||v(this.content)?this.context:new g("function"==typeof this.content?this.content(this.context??{}):this.content)}process(O,M){const U=O.createInjector(this.i,M);this.c=this.vcr.createComponent(O.component,{injector:U})}static{this.\u0275fac=function(M){return new(M||y)}}static{this.\u0275dir=e.lG2({type:y,selectors:[["","polymorpheusOutlet",""]],inputs:{content:["polymorpheusOutlet","content"],context:["polymorpheusOutletContext","context"]},standalone:!0,features:[e.TTD]})}}return y})();function f(y){return y instanceof m}function v(y){return y instanceof i}function D(y){return y&&function _(y){return Object(y)!==y}(y)?new g(y):y}},4869:(Qt,$,o)=>{"use strict";o.d($,{nj:()=>R,RA:()=>O,MZ:()=>U});var e=o(5861),t=o(5879),a=o(9862),i=o(8645),g=o(2664),T=o(2572),_=o(7398),m=o(1631),h=o(2413);class f extends Error{}function D(w,p){if("string"!=typeof w)throw new f("Invalid token specified: must be a string");p||(p={});const L=!0===p.header?0:1,V=w.split(".")[L];if("string"!=typeof V)throw new f(`Invalid token specified: missing part #${L+1}`);let et;try{et=function C(w){let p=w.replace(/-/g,"+").replace(/_/g,"/");switch(p.length%4){case 0:break;case 2:p+="==";break;case 3:p+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function v(w){return decodeURIComponent(atob(w).replace(/(.)/g,(p,L)=>{let V=L.charCodeAt(0).toString(16).toUpperCase();return V.length<2&&(V="0"+V),"%"+V}))}(p)}catch{return atob(p)}}(V)}catch(tt){throw new f(`Invalid token specified: invalid base64 for part #${L+1} (${tt.message})`)}try{return JSON.parse(et)}catch(tt){throw new f(`Invalid token specified: invalid json for part #${L+1} (${tt.message})`)}}if(f.prototype.name="InvalidTokenError",typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");function y(w){if(!(this instanceof y))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");for(var L,et,p=this,V=[],tt={enable:!0,callbackList:[],interval:5},ht=document.getElementsByTagName("script"),it=0;it<ht.length;it++)(-1!==ht[it].src.indexOf("keycloak.js")||-1!==ht[it].src.indexOf("keycloak.min.js"))&&-1!==ht[it].src.indexOf("version=")&&(p.iframeVersion=ht[it].src.substring(ht[it].src.indexOf("version=")+8).split("&")[0]);var It=!0,st=Ut(console.info),dt=Ut(console.warn);function u(Q,Ot){for(var Ft=function St(Q){var Ot=null,Ft=window.crypto||window.msCrypto;if(Ft&&Ft.getRandomValues&&window.Uint8Array)return Ot=new Uint8Array(Q),Ft.getRandomValues(Ot),Ot;Ot=new Array(Q);for(var le=0;le<Ot.length;le++)Ot[le]=Math.floor(256*Math.random());return Ot}(Q),le=new Array(Q),ne=0;ne<Q;ne++)le[ne]=Ot.charCodeAt(Ft[ne]%Ot.length);return String.fromCharCode.apply(null,le)}function I(){if(typeof p.authServerUrl<"u")return"/"==p.authServerUrl.charAt(p.authServerUrl.length-1)?p.authServerUrl+"realms/"+encodeURIComponent(p.realm):p.authServerUrl+"/realms/"+encodeURIComponent(p.realm)}function ot(Q,Ot){var Ft=Q.code,le=Q.error,ne=Q.prompt,Ge=(new Date).getTime();if(Q.kc_action_status&&p.onActionUpdate&&p.onActionUpdate(Q.kc_action_status),le)if("none"!=ne)if(Q.error_description&&"authentication_expired"===Q.error_description)p.login(Q.loginOptions);else{var Se={error:le,error_description:Q.error_description};p.onAuthError&&p.onAuthError(Se),Ot&&Ot.setError(Se)}else Ot&&Ot.setSuccess();else if("standard"!=p.flow&&(Q.access_token||Q.id_token)&&de(Q.access_token,null,Q.id_token,!0),"implicit"!=p.flow&&Ft){var Pe="code="+Ft+"&grant_type=authorization_code",Ue=p.endpoints.token(),Ee=new XMLHttpRequest;Ee.open("POST",Ue,!0),Ee.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Pe+="&client_id="+encodeURIComponent(p.clientId),Pe+="&redirect_uri="+Q.redirectUri,Q.pkceCodeVerifier&&(Pe+="&code_verifier="+Q.pkceCodeVerifier),Ee.withCredentials=!0,Ee.onreadystatechange=function(){if(4==Ee.readyState)if(200==Ee.status){var ae=JSON.parse(Ee.responseText);de(ae.access_token,ae.refresh_token,ae.id_token,"standard"===p.flow),Y()}else p.onAuthError&&p.onAuthError(),Ot&&Ot.setError()},Ee.send(Pe)}function de(ae,$e,Bn,Ae){Dt(ae,$e,Bn,Ge=(Ge+(new Date).getTime())/2),It&&p.idTokenParsed&&p.idTokenParsed.nonce!=Q.storedNonce?(st("[KEYCLOAK] Invalid nonce, clearing token"),p.clearToken(),Ot&&Ot.setError()):Ae&&(p.onAuthSuccess&&p.onAuthSuccess(),Ot&&Ot.setSuccess())}}function At(Q){return 0==Q.status&&Q.responseText&&Q.responseURL.startsWith("file:")}function Dt(Q,Ot,Ft,le){if(p.tokenTimeoutHandle&&(clearTimeout(p.tokenTimeoutHandle),p.tokenTimeoutHandle=null),Ot?(p.refreshToken=Ot,p.refreshTokenParsed=D(Ot)):(delete p.refreshToken,delete p.refreshTokenParsed),Ft?(p.idToken=Ft,p.idTokenParsed=D(Ft)):(delete p.idToken,delete p.idTokenParsed),Q){if(p.token=Q,p.tokenParsed=D(Q),p.sessionId=p.tokenParsed.sid,p.authenticated=!0,p.subject=p.tokenParsed.sub,p.realmAccess=p.tokenParsed.realm_access,p.resourceAccess=p.tokenParsed.resource_access,le&&(p.timeSkew=Math.floor(le/1e3)-p.tokenParsed.iat),null!=p.timeSkew&&(st("[KEYCLOAK] Estimated time difference between browser and server is "+p.timeSkew+" seconds"),p.onTokenExpired)){var ne=1e3*(p.tokenParsed.exp-(new Date).getTime()/1e3+p.timeSkew);st("[KEYCLOAK] Token expires in "+Math.round(ne/1e3)+" s"),ne<=0?p.onTokenExpired():p.tokenTimeoutHandle=setTimeout(p.onTokenExpired,ne)}}else delete p.token,delete p.tokenParsed,delete p.subject,delete p.realmAccess,delete p.resourceAccess,p.authenticated=!1}function Wt(){var Q="0123456789abcdef",Ot=u(36,Q).split("");return Ot[14]="4",Ot[19]=Q.substr(3&Ot[19]|8,1),Ot[8]=Ot[13]=Ot[18]=Ot[23]="-",Ot.join("")}function Nt(Q){var Ot=function Rt(Q){var Ot;switch(p.flow){case"standard":Ot=["code","state","session_state","kc_action_status","iss"];break;case"implicit":Ot=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","iss"];break;case"hybrid":Ot=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","iss"]}Ot.push("error"),Ot.push("error_description"),Ot.push("error_uri");var ne,Ge,Ft=Q.indexOf("?"),le=Q.indexOf("#");if("query"===p.responseMode&&-1!==Ft?(ne=Q.substring(0,Ft),""!==(Ge=Bt(Q.substring(Ft+1,-1!==le?le:Q.length),Ot)).paramsString&&(ne+="?"+Ge.paramsString),-1!==le&&(ne+=Q.substring(le))):"fragment"===p.responseMode&&-1!==le&&(ne=Q.substring(0,le),""!==(Ge=Bt(Q.substring(le+1),Ot)).paramsString&&(ne+="#"+Ge.paramsString)),Ge&&Ge.oauthParams)if("standard"===p.flow||"hybrid"===p.flow){if((Ge.oauthParams.code||Ge.oauthParams.error)&&Ge.oauthParams.state)return Ge.oauthParams.newUrl=ne,Ge.oauthParams}else if("implicit"===p.flow&&(Ge.oauthParams.access_token||Ge.oauthParams.error)&&Ge.oauthParams.state)return Ge.oauthParams.newUrl=ne,Ge.oauthParams}(Q);if(Ot){var Ft=et.get(Ot.state);return Ft&&(Ot.valid=!0,Ot.redirectUri=Ft.redirectUri,Ot.storedNonce=Ft.nonce,Ot.prompt=Ft.prompt,Ot.pkceCodeVerifier=Ft.pkceCodeVerifier,Ot.loginOptions=Ft.loginOptions),Ot}}function Bt(Q,Ot){for(var Ft=Q.split("&"),le={paramsString:"",oauthParams:{}},ne=0;ne<Ft.length;ne++){var Ge=Ft[ne].indexOf("="),Se=Ft[ne].slice(0,Ge);-1!==Ot.indexOf(Se)?le.oauthParams[Se]=Ft[ne].slice(Ge+1):(""!==le.paramsString&&(le.paramsString+="&"),le.paramsString+=Ft[ne])}return le}function B(){var Q={setSuccess:function(Ot){Q.resolve(Ot)},setError:function(Ot){Q.reject(Ot)}};return Q.promise=new Promise(function(Ot,Ft){Q.resolve=Ot,Q.reject=Ft}),Q}function yt(){var Q=B();if(!tt.enable||tt.iframe)return Q.setSuccess(),Q.promise;var Ot=document.createElement("iframe");tt.iframe=Ot,Ot.onload=function(){var ne=p.endpoints.authorize();tt.iframeOrigin="/"===ne.charAt(0)?function F(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}():ne.substring(0,ne.indexOf("/",8)),Q.setSuccess()};var Ft=p.endpoints.checkSessionIframe();return Ot.setAttribute("src",Ft),Ot.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),Ot.setAttribute("title","keycloak-session-iframe"),Ot.style.display="none",document.body.appendChild(Ot),window.addEventListener("message",function(ne){if(ne.origin===tt.iframeOrigin&&tt.iframe.contentWindow===ne.source&&("unchanged"==ne.data||"changed"==ne.data||"error"==ne.data)){"unchanged"!=ne.data&&p.clearToken();for(var Ge=tt.callbackList.splice(0,tt.callbackList.length),Se=Ge.length-1;Se>=0;--Se){var Pe=Ge[Se];"error"==ne.data?Pe.setError():Pe.setSuccess("unchanged"==ne.data)}}},!1),Q.promise}function Y(){tt.enable&&p.token&&setTimeout(function(){xt().then(function(Q){Q&&Y()})},1e3*tt.interval)}function xt(){var Q=B();if(tt.iframe&&tt.iframeOrigin){var Ot=p.clientId+" "+(p.sessionId?p.sessionId:"");tt.callbackList.push(Q),1==tt.callbackList.length&&tt.iframe.contentWindow.postMessage(Ot,tt.iframeOrigin)}else Q.setSuccess();return Q.promise}function z(){var Q=B();if(tt.enable||p.silentCheckSsoRedirectUri){var Ot=document.createElement("iframe");Ot.setAttribute("src",p.endpoints.thirdPartyCookiesIframe()),Ot.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),Ot.setAttribute("title","keycloak-3p-check-iframe"),Ot.style.display="none",document.body.appendChild(Ot);var Ft=function(le){Ot.contentWindow===le.source&&("supported"!==le.data&&"unsupported"!==le.data||("unsupported"===le.data&&(dt("[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\n\n - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\n - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\n\nFor more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers"),tt.enable=!1,p.silentCheckSsoFallback&&(p.silentCheckSsoRedirectUri=!1)),document.body.removeChild(Ot),window.removeEventListener("message",Ft),Q.setSuccess()))};window.addEventListener("message",Ft,!1)}else Q.setSuccess();return function k(Q,Ot,Ft){var le=null,ne=new Promise(function(Ge,Se){le=setTimeout(function(){Se({error:Ft})},Ot)});return Promise.race([Q,ne]).finally(function(){clearTimeout(le)})}(Q.promise,p.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function at(Q){if(!Q||"default"==Q)return{login:function(Se){return window.location.assign(p.createLoginUrl(Se)),B().promise},logout:(Se=(0,e.Z)(function*(Pe){if("GET"===(Pe?.logoutMethod??p.logoutMethod))return void window.location.replace(p.createLogoutUrl(Pe));const Ee=p.createLogoutUrl(Pe),de=yield fetch(Ee,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id_token_hint:p.idToken,client_id:p.clientId,post_logout_redirect_uri:L.redirectUri(Pe,!1)})});if(de.redirected)window.location.href=de.url;else{if(!de.ok)throw new Error("Logout failed, request returned an error code.");window.location.reload()}}),function(Ue){return Se.apply(this,arguments)}),register:function(Se){return window.location.assign(p.createRegisterUrl(Se)),B().promise},accountManagement:function(){var Se=p.createAccountUrl();if(!(typeof Se<"u"))throw"Not supported by the OIDC server";return window.location.href=Se,B().promise},redirectUri:function(Se,Pe){return Se&&Se.redirectUri?Se.redirectUri:p.redirectUri?p.redirectUri:location.href}};var Se;if("cordova"==Q){tt.enable=!1;var Ot=function(Se,Pe,Ue){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(Se,Pe,Ue):window.open(Se,Pe,Ue)},ne=function(Se){var Pe=function(Se){return Se&&Se.cordovaOptions?Object.keys(Se.cordovaOptions).reduce(function(Pe,Ue){return Pe[Ue]=Se.cordovaOptions[Ue],Pe},{}):{}}(Se);return Pe.location="no",Se&&"none"==Se.prompt&&(Pe.hidden="yes"),function(Se){return Object.keys(Se).reduce(function(Pe,Ue){return Pe.push(Ue+"="+Se[Ue]),Pe},[]).join(",")}(Pe)},Ge=function(){return p.redirectUri||"http://localhost"};return{login:function(Se){var Pe=B(),Ue=ne(Se),Ee=p.createLoginUrl(Se),de=Ot(Ee,"_blank",Ue),ae=!1,$e=!1,Bn=function(){$e=!0,de.close()};return de.addEventListener("loadstart",function(Ae){0==Ae.url.indexOf(Ge())&&(ot(Nt(Ae.url),Pe),Bn(),ae=!0)}),de.addEventListener("loaderror",function(Ae){ae||(0==Ae.url.indexOf(Ge())?(ot(Nt(Ae.url),Pe),Bn(),ae=!0):(Pe.setError(),Bn()))}),de.addEventListener("exit",function(Ae){$e||Pe.setError({reason:"closed_by_user"})}),Pe.promise},logout:function(Se){var de,Pe=B(),Ue=p.createLogoutUrl(Se),Ee=Ot(Ue,"_blank","location=no,hidden=yes,clearcache=yes");return Ee.addEventListener("loadstart",function(ae){0==ae.url.indexOf(Ge())&&Ee.close()}),Ee.addEventListener("loaderror",function(ae){0==ae.url.indexOf(Ge())||(de=!0),Ee.close()}),Ee.addEventListener("exit",function(ae){de?Pe.setError():(p.clearToken(),Pe.setSuccess())}),Pe.promise},register:function(Se){var Pe=B(),Ue=p.createRegisterUrl(),Ee=ne(Se),de=Ot(Ue,"_blank",Ee);return de.addEventListener("loadstart",function(ae){0==ae.url.indexOf(Ge())&&(de.close(),ot(Nt(ae.url),Pe))}),Pe.promise},accountManagement:function(){var Se=p.createAccountUrl();if(!(typeof Se<"u"))throw"Not supported by the OIDC server";var Pe=Ot(Se,"_blank","location=no");Pe.addEventListener("loadstart",function(Ue){0==Ue.url.indexOf(Ge())&&Pe.close()})},redirectUri:function(Se){return Ge()}}}if("cordova-native"==Q)return tt.enable=!1,{login:function(Se){var Pe=B(),Ue=p.createLoginUrl(Se);return universalLinks.subscribe("keycloak",function(Ee){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),ot(Nt(Ee.url),Pe)}),window.cordova.plugins.browsertab.openUrl(Ue),Pe.promise},logout:function(Se){var Pe=B(),Ue=p.createLogoutUrl(Se);return universalLinks.subscribe("keycloak",function(Ee){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),p.clearToken(),Pe.setSuccess()}),window.cordova.plugins.browsertab.openUrl(Ue),Pe.promise},register:function(Se){var Pe=B(),Ue=p.createRegisterUrl(Se);return universalLinks.subscribe("keycloak",function(Ee){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),ot(Nt(Ee.url),Pe)}),window.cordova.plugins.browsertab.openUrl(Ue),Pe.promise},accountManagement:function(){var Se=p.createAccountUrl();if(!(typeof Se<"u"))throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(Se)},redirectUri:function(Se){return Se&&Se.redirectUri?Se.redirectUri:p.redirectUri?p.redirectUri:"http://localhost"}};throw"invalid adapter type: "+Q}p.init=function(Q){if(p.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");if(p.didInitialize=!0,p.authenticated=!1,et=function De(){try{return new Pt}catch{}return new Gt}(),L=Q&&["default","cordova","cordova-native"].indexOf(Q.adapter)>-1?at(Q.adapter):Q&&"object"==typeof Q.adapter?Q.adapter:window.Cordova||window.cordova?at("cordova"):at(),Q){if(typeof Q.useNonce<"u"&&(It=Q.useNonce),typeof Q.checkLoginIframe<"u"&&(tt.enable=Q.checkLoginIframe),Q.checkLoginIframeInterval&&(tt.interval=Q.checkLoginIframeInterval),"login-required"===Q.onLoad&&(p.loginRequired=!0),Q.responseMode){if("query"!==Q.responseMode&&"fragment"!==Q.responseMode)throw"Invalid value for responseMode";p.responseMode=Q.responseMode}if(Q.flow){switch(Q.flow){case"standard":p.responseType="code";break;case"implicit":p.responseType="id_token token";break;case"hybrid":p.responseType="code id_token token";break;default:throw"Invalid value for flow"}p.flow=Q.flow}if(null!=Q.timeSkew&&(p.timeSkew=Q.timeSkew),Q.redirectUri&&(p.redirectUri=Q.redirectUri),Q.silentCheckSsoRedirectUri&&(p.silentCheckSsoRedirectUri=Q.silentCheckSsoRedirectUri),p.silentCheckSsoFallback="boolean"!=typeof Q.silentCheckSsoFallback||Q.silentCheckSsoFallback,typeof Q.pkceMethod<"u"){if("S256"!==Q.pkceMethod&&!1!==Q.pkceMethod)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${Q.pkceMethod}.`);p.pkceMethod=Q.pkceMethod}else p.pkceMethod="S256";p.enableLogging="boolean"==typeof Q.enableLogging&&Q.enableLogging,p.logoutMethod="POST"===Q.logoutMethod?"POST":"GET","string"==typeof Q.scope&&(p.scope=Q.scope),"string"==typeof Q.acrValues&&(p.acrValues=Q.acrValues),p.messageReceiveTimeout="number"==typeof Q.messageReceiveTimeout&&Q.messageReceiveTimeout>0?Q.messageReceiveTimeout:1e4}p.responseMode||(p.responseMode="fragment"),p.responseType||(p.responseType="code",p.flow="standard");var Ft=B(),le=B();le.promise.then(function(){p.onReady&&p.onReady(p.authenticated),Ft.setSuccess(p.authenticated)}).catch(function(Ue){Ft.setError(Ue)});var ne=function nt(Q){var Ft,Ot=B();function le(Ee){p.endpoints=Ee?{authorize:function(){return Ee.authorization_endpoint},token:function(){return Ee.token_endpoint},logout:function(){if(!Ee.end_session_endpoint)throw"Not supported by the OIDC server";return Ee.end_session_endpoint},checkSessionIframe:function(){if(!Ee.check_session_iframe)throw"Not supported by the OIDC server";return Ee.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!Ee.userinfo_endpoint)throw"Not supported by the OIDC server";return Ee.userinfo_endpoint}}:{authorize:function(){return I()+"/protocol/openid-connect/auth"},token:function(){return I()+"/protocol/openid-connect/token"},logout:function(){return I()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var de=I()+"/protocol/openid-connect/login-status-iframe.html";return p.iframeVersion&&(de=de+"?version="+p.iframeVersion),de},thirdPartyCookiesIframe:function(){var de=I()+"/protocol/openid-connect/3p-cookies/step1.html";return p.iframeVersion&&(de=de+"?version="+p.iframeVersion),de},register:function(){return I()+"/protocol/openid-connect/registrations"},userinfo:function(){return I()+"/protocol/openid-connect/userinfo"}}}if(w?"string"==typeof w&&(Ft=w):Ft="keycloak.json",Ft)(ne=new XMLHttpRequest).open("GET",Ft,!0),ne.setRequestHeader("Accept","application/json"),ne.onreadystatechange=function(){if(4==ne.readyState)if(200==ne.status||At(ne)){var Ee=JSON.parse(ne.responseText);p.authServerUrl=Ee["auth-server-url"],p.realm=Ee.realm,p.clientId=Ee.resource,le(null),Ot.setSuccess()}else Ot.setError()},ne.send();else{if(!w.clientId)throw"clientId missing";p.clientId=w.clientId;var Ge=w.oidcProvider;if(Ge)if("string"==typeof Ge){var Ue,ne;Ue="/"==Ge.charAt(Ge.length-1)?Ge+".well-known/openid-configuration":Ge+"/.well-known/openid-configuration",(ne=new XMLHttpRequest).open("GET",Ue,!0),ne.setRequestHeader("Accept","application/json"),ne.onreadystatechange=function(){4==ne.readyState&&(200==ne.status||At(ne)?(le(JSON.parse(ne.responseText)),Ot.setSuccess()):Ot.setError())},ne.send()}else le(Ge),Ot.setSuccess();else{if(!w.url)for(var Se=document.getElementsByTagName("script"),Pe=0;Pe<Se.length;Pe++)if(Se[Pe].src.match(/.*keycloak\.js/)){w.url=Se[Pe].src.substr(0,Se[Pe].src.indexOf("/js/keycloak.js"));break}if(!w.realm)throw"realm missing";p.authServerUrl=w.url,p.realm=w.realm,le(null),Ot.setSuccess()}}return Ot.promise}();function Ge(){var Ue=function(ae){ae||(de.prompt="none"),Q&&Q.locale&&(de.locale=Q.locale),p.login(de).then(function(){le.setSuccess()}).catch(function($e){le.setError($e)})},Ee=function(){var ae=document.createElement("iframe"),$e=p.createLoginUrl({prompt:"none",redirectUri:p.silentCheckSsoRedirectUri});ae.setAttribute("src",$e),ae.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),ae.setAttribute("title","keycloak-silent-check-sso"),ae.style.display="none",document.body.appendChild(ae);var Bn=function(Ae){Ae.origin===window.location.origin&&ae.contentWindow===Ae.source&&(ot(Nt(Ae.data),le),document.body.removeChild(ae),window.removeEventListener("message",Bn))};window.addEventListener("message",Bn)},de={};switch(Q.onLoad){case"check-sso":tt.enable?yt().then(function(){xt().then(function(ae){ae?le.setSuccess():p.silentCheckSsoRedirectUri?Ee():Ue(!1)}).catch(function(ae){le.setError(ae)})}):p.silentCheckSsoRedirectUri?Ee():Ue(!1);break;case"login-required":Ue(!0);break;default:throw"Invalid value for onLoad"}}function Se(){var Ue=Nt(window.location.href);if(Ue&&window.history.replaceState(window.history.state,null,Ue.newUrl),Ue&&Ue.valid)return yt().then(function(){ot(Ue,le)}).catch(function(Ee){le.setError(Ee)});Q?Q.token&&Q.refreshToken?(Dt(Q.token,Q.refreshToken,Q.idToken),tt.enable?yt().then(function(){xt().then(function(Ee){Ee?(p.onAuthSuccess&&p.onAuthSuccess(),le.setSuccess(),Y()):le.setSuccess()}).catch(function(Ee){le.setError(Ee)})}):p.updateToken(-1).then(function(){p.onAuthSuccess&&p.onAuthSuccess(),le.setSuccess()}).catch(function(Ee){p.onAuthError&&p.onAuthError(),Q.onLoad?Ge():le.setError(Ee)})):Q.onLoad?Ge():le.setSuccess():le.setSuccess()}return ne.then(function(){(function Pe(){var Ue=B(),Ee=function(){("interactive"===document.readyState||"complete"===document.readyState)&&(document.removeEventListener("readystatechange",Ee),Ue.setSuccess())};return document.addEventListener("readystatechange",Ee),Ee(),Ue.promise})().then(z).then(Se).catch(function(Ue){Ft.setError(Ue)})}),ne.catch(function(Ue){Ft.setError(Ue)}),Ft.promise},p.login=function(Q){return L.login(Q)},p.createLoginUrl=function(Q){var Ge,Ot=Wt(),Ft=Wt(),le=L.redirectUri(Q),ne={state:Ot,nonce:Ft,redirectUri:encodeURIComponent(le),loginOptions:Q};Q&&Q.prompt&&(ne.prompt=Q.prompt),Ge=Q&&"register"==Q.action?p.endpoints.register():p.endpoints.authorize();var Se=Q&&Q.scope||p.scope;Se?-1===Se.indexOf("openid")&&(Se="openid "+Se):Se="openid";var Pe=Ge+"?client_id="+encodeURIComponent(p.clientId)+"&redirect_uri="+encodeURIComponent(le)+"&state="+encodeURIComponent(Ot)+"&response_mode="+encodeURIComponent(p.responseMode)+"&response_type="+encodeURIComponent(p.responseType)+"&scope="+encodeURIComponent(Se);if(It&&(Pe=Pe+"&nonce="+encodeURIComponent(Ft)),Q&&Q.prompt&&(Pe+="&prompt="+encodeURIComponent(Q.prompt)),Q&&Q.maxAge&&(Pe+="&max_age="+encodeURIComponent(Q.maxAge)),Q&&Q.loginHint&&(Pe+="&login_hint="+encodeURIComponent(Q.loginHint)),Q&&Q.idpHint&&(Pe+="&kc_idp_hint="+encodeURIComponent(Q.idpHint)),Q&&Q.action&&"register"!=Q.action&&(Pe+="&kc_action="+encodeURIComponent(Q.action)),Q&&Q.locale&&(Pe+="&ui_locales="+encodeURIComponent(Q.locale)),Q&&Q.acr){var Ue=function Z(Q){return JSON.stringify({id_token:{acr:Q}})}(Q.acr);Pe+="&claims="+encodeURIComponent(Ue)}if((Q&&Q.acrValues||p.acrValues)&&(Pe+="&acr_values="+encodeURIComponent(Q.acrValues||p.acrValues)),p.pkceMethod){var Ee=function bt(Q){return u(Q,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}(96);ne.pkceCodeVerifier=Ee,Pe+="&code_challenge="+function ut(Q,Ot){if("S256"!==Q)throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${Q}'.`);return function E(w){const p=String.fromCodePoint(...w);return btoa(p)}(new Uint8Array(h.arrayBuffer(Ot))).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}(p.pkceMethod,Ee),Pe+="&code_challenge_method="+p.pkceMethod}return et.add(ne),Pe},p.logout=function(Q){return L.logout(Q)},p.createLogoutUrl=function(Q){if("POST"===(Q?.logoutMethod??p.logoutMethod))return p.endpoints.logout();var Ft=p.endpoints.logout()+"?client_id="+encodeURIComponent(p.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(L.redirectUri(Q,!1));return p.idToken&&(Ft+="&id_token_hint="+encodeURIComponent(p.idToken)),Ft},p.register=function(Q){return L.register(Q)},p.createRegisterUrl=function(Q){return Q||(Q={}),Q.action="register",p.createLoginUrl(Q)},p.createAccountUrl=function(Q){var Ot=I(),Ft=void 0;return typeof Ot<"u"&&(Ft=Ot+"/account?referrer="+encodeURIComponent(p.clientId)+"&referrer_uri="+encodeURIComponent(L.redirectUri(Q))),Ft},p.accountManagement=function(){return L.accountManagement()},p.hasRealmRole=function(Q){var Ot=p.realmAccess;return!!Ot&&Ot.roles.indexOf(Q)>=0},p.hasResourceRole=function(Q,Ot){if(!p.resourceAccess)return!1;var Ft=p.resourceAccess[Ot||p.clientId];return!!Ft&&Ft.roles.indexOf(Q)>=0},p.loadUserProfile=function(){var Q=I()+"/account",Ot=new XMLHttpRequest;Ot.open("GET",Q,!0),Ot.setRequestHeader("Accept","application/json"),Ot.setRequestHeader("Authorization","bearer "+p.token);var Ft=B();return Ot.onreadystatechange=function(){4==Ot.readyState&&(200==Ot.status?(p.profile=JSON.parse(Ot.responseText),Ft.setSuccess(p.profile)):Ft.setError())},Ot.send(),Ft.promise},p.loadUserInfo=function(){var Q=p.endpoints.userinfo(),Ot=new XMLHttpRequest;Ot.open("GET",Q,!0),Ot.setRequestHeader("Accept","application/json"),Ot.setRequestHeader("Authorization","bearer "+p.token);var Ft=B();return Ot.onreadystatechange=function(){4==Ot.readyState&&(200==Ot.status?(p.userInfo=JSON.parse(Ot.responseText),Ft.setSuccess(p.userInfo)):Ft.setError())},Ot.send(),Ft.promise},p.isTokenExpired=function(Q){if(!p.tokenParsed||!p.refreshToken&&"implicit"!=p.flow)throw"Not authenticated";if(null==p.timeSkew)return st("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var Ot=p.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+p.timeSkew;if(Q){if(isNaN(Q))throw"Invalid minValidity";Ot-=Q}return Ot<0},p.updateToken=function(Q){var Ot=B();if(!p.refreshToken)return Ot.setError(),Ot.promise;Q=Q||5;var Ft=function(){var ne=!1;if(-1==Q?(ne=!0,st("[KEYCLOAK] Refreshing token: forced refresh")):(!p.tokenParsed||p.isTokenExpired(Q))&&(ne=!0,st("[KEYCLOAK] Refreshing token: token expired")),ne){var Ge="grant_type=refresh_token&refresh_token="+p.refreshToken,Se=p.endpoints.token();if(V.push(Ot),1==V.length){var Pe=new XMLHttpRequest;Pe.open("POST",Se,!0),Pe.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Pe.withCredentials=!0,Ge+="&client_id="+encodeURIComponent(p.clientId);var Ue=(new Date).getTime();Pe.onreadystatechange=function(){if(4==Pe.readyState)if(200==Pe.status){st("[KEYCLOAK] Token refreshed"),Ue=(Ue+(new Date).getTime())/2;var Ee=JSON.parse(Pe.responseText);Dt(Ee.access_token,Ee.refresh_token,Ee.id_token,Ue),p.onAuthRefreshSuccess&&p.onAuthRefreshSuccess();for(var de=V.pop();null!=de;de=V.pop())de.setSuccess(!0)}else for(dt("[KEYCLOAK] Failed to refresh token"),400==Pe.status&&p.clearToken(),p.onAuthRefreshError&&p.onAuthRefreshError(),de=V.pop();null!=de;de=V.pop())de.setError(!0)},Pe.send(Ge)}}else Ot.setSuccess(!1)};return tt.enable?xt().then(function(){Ft()}).catch(function(ne){Ot.setError(ne)}):Ft(),Ot.promise},p.clearToken=function(){p.token&&(Dt(null,null,null),p.onAuthLogout&&p.onAuthLogout(),p.loginRequired&&p.login())};var Pt=function(){if(!(this instanceof Pt))return new Pt;function Ot(){for(var Ft=(new Date).getTime(),le=0;le<localStorage.length;le++){var ne=localStorage.key(le);if(ne&&0==ne.indexOf("kc-callback-")){var Ge=localStorage.getItem(ne);if(Ge)try{var Se=JSON.parse(Ge).expires;(!Se||Se<Ft)&&localStorage.removeItem(ne)}catch{localStorage.removeItem(ne)}}}}localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test"),this.get=function(Ft){if(Ft){var le="kc-callback-"+Ft,ne=localStorage.getItem(le);return ne&&(localStorage.removeItem(le),ne=JSON.parse(ne)),Ot(),ne}},this.add=function(Ft){Ot();var le="kc-callback-"+Ft.state;Ft.expires=(new Date).getTime()+36e5,localStorage.setItem(le,JSON.stringify(Ft))}},Gt=function(){if(!(this instanceof Gt))return new Gt;var Q=this;Q.get=function(ne){if(ne){var Ge=Ft("kc-callback-"+ne);if(le("kc-callback-"+ne,"",Ot(-100)),Ge)return JSON.parse(Ge)}},Q.add=function(ne){le("kc-callback-"+ne.state,JSON.stringify(ne),Ot(60))},Q.removeItem=function(ne){le(ne,"",Ot(-100))};var Ot=function(ne){var Ge=new Date;return Ge.setTime(Ge.getTime()+60*ne*1e3),Ge},Ft=function(ne){for(var Ge=ne+"=",Se=document.cookie.split(";"),Pe=0;Pe<Se.length;Pe++){for(var Ue=Se[Pe];" "==Ue.charAt(0);)Ue=Ue.substring(1);if(0==Ue.indexOf(Ge))return Ue.substring(Ge.length,Ue.length)}return""},le=function(ne,Ge,Se){var Pe=ne+"="+Ge+"; expires="+Se.toUTCString()+"; ";document.cookie=Pe}};function Ut(Q){return function(){p.enableLogging&&Q.apply(console,Array.prototype.slice.call(arguments))}}}var O=function(w){return w[w.OnAuthError=0]="OnAuthError",w[w.OnAuthLogout=1]="OnAuthLogout",w[w.OnAuthRefreshError=2]="OnAuthRefreshError",w[w.OnAuthRefreshSuccess=3]="OnAuthRefreshSuccess",w[w.OnAuthSuccess=4]="OnAuthSuccess",w[w.OnReady=5]="OnReady",w[w.OnTokenExpired=6]="OnTokenExpired",w[w.OnActionUpdate=7]="OnActionUpdate",w}(O||{});let U=(()=>{class w{constructor(){this._keycloakEvents$=new i.x}bindsKeycloakEvents(){this._instance.onAuthError=L=>{this._keycloakEvents$.next({args:L,type:O.OnAuthError})},this._instance.onAuthLogout=()=>{this._keycloakEvents$.next({type:O.OnAuthLogout})},this._instance.onAuthRefreshSuccess=()=>{this._keycloakEvents$.next({type:O.OnAuthRefreshSuccess})},this._instance.onAuthRefreshError=()=>{this._keycloakEvents$.next({type:O.OnAuthRefreshError})},this._instance.onAuthSuccess=()=>{this._keycloakEvents$.next({type:O.OnAuthSuccess})},this._instance.onTokenExpired=()=>{this._keycloakEvents$.next({type:O.OnTokenExpired})},this._instance.onActionUpdate=L=>{this._keycloakEvents$.next({args:L,type:O.OnActionUpdate})},this._instance.onReady=L=>{this._keycloakEvents$.next({args:L,type:O.OnReady})}}loadExcludedUrls(L){const V=[];for(const et of L){let tt;tt="string"==typeof et?{urlPattern:new RegExp(et,"i"),httpMethods:[]}:{urlPattern:new RegExp(et.url,"i"),httpMethods:et.httpMethods},V.push(tt)}return V}initServiceValues({enableBearerInterceptor:L=!0,loadUserProfileAtStartUp:V=!1,bearerExcludedUrls:et=[],authorizationHeaderName:tt="Authorization",bearerPrefix:ht="Bearer",initOptions:it,updateMinValidity:It=20,shouldAddToken:st=(()=>!0),shouldUpdateToken:dt=(()=>!0)}){this._enableBearerInterceptor=L,this._loadUserProfileAtStartUp=V,this._authorizationHeaderName=tt,this._bearerPrefix=ht.trim().concat(" "),this._excludedUrls=this.loadExcludedUrls(et),this._silentRefresh=!!it&&"implicit"===it.flow,this._updateMinValidity=It,this.shouldAddToken=st,this.shouldUpdateToken=dt}init(){var L=this;return(0,e.Z)(function*(V={}){L.initServiceValues(V);const{config:et,initOptions:tt}=V;L._instance=new y(et),L.bindsKeycloakEvents();const ht=yield L._instance.init(tt);return ht&&L._loadUserProfileAtStartUp&&(yield L.loadUserProfile()),ht}).apply(this,arguments)}login(){var L=this;return(0,e.Z)(function*(V={}){yield L._instance.login(V),L._loadUserProfileAtStartUp&&(yield L.loadUserProfile())}).apply(this,arguments)}logout(L){var V=this;return(0,e.Z)(function*(){const et={redirectUri:L};yield V._instance.logout(et),V._userProfile=void 0})()}register(){var L=this;return(0,e.Z)(function*(V={action:"register"}){yield L._instance.register(V)}).apply(this,arguments)}isUserInRole(L,V){let et;return et=this._instance.hasResourceRole(L,V),et||(et=this._instance.hasRealmRole(L)),et}getUserRoles(L=!0,V){let et=[];if(this._instance.resourceAccess)for(const tt in this._instance.resourceAccess)!this._instance.resourceAccess.hasOwnProperty(tt)||V&&V!=tt||(et=et.concat(this._instance.resourceAccess[tt].roles||[]));return L&&this._instance.realmAccess&&et.push(...this._instance.realmAccess.roles||[]),et}isLoggedIn(){var L=this;return(0,e.Z)(function*(){return!!L._instance&&L._instance.authenticated})()}isTokenExpired(L=0){return this._instance.isTokenExpired(L)}updateToken(){var L=this;return(0,e.Z)(function*(V=L._updateMinValidity){if(L._silentRefresh){if(L.isTokenExpired())throw new Error("Failed to refresh the token, or the session is expired");return!0}if(!L._instance)throw new Error("Keycloak Angular library is not initialized.");try{return yield L._instance.updateToken(V)}catch{return!1}}).apply(this,arguments)}loadUserProfile(){var L=this;return(0,e.Z)(function*(V=!1){if(L._userProfile&&!V)return L._userProfile;if(!L._instance.authenticated)throw new Error("The user profile was not loaded as the user is not logged in.");return L._userProfile=yield L._instance.loadUserProfile()}).apply(this,arguments)}getToken(){var L=this;return(0,e.Z)(function*(){return L._instance.token})()}getUsername(){if(!this._userProfile)throw new Error("User not logged in or user profile was not loaded.");return this._userProfile.username}clearToken(){this._instance.clearToken()}addTokenToHeader(L=new a.WM){return(0,g.D)(this.getToken()).pipe((0,_.U)(V=>V?L.set(this._authorizationHeaderName,this._bearerPrefix+V):L))}getKeycloakInstance(){return this._instance}get excludedUrls(){return this._excludedUrls}get enableBearerInterceptor(){return this._enableBearerInterceptor}get keycloakEvents$(){return this._keycloakEvents$}static{this.\u0275fac=function(V){return new(V||w)}}static{this.\u0275prov=t.Yz7({token:w,factory:w.\u0275fac})}}return w})(),R=(()=>{class w{constructor(L){this.keycloak=L}conditionallyUpdateToken(L){var V=this;return(0,e.Z)(function*(){return!V.keycloak.shouldUpdateToken(L)||(yield V.keycloak.updateToken())})()}isUrlExcluded({method:L,url:V},{urlPattern:et,httpMethods:tt}){const ht=0===tt.length||tt.join().indexOf(L.toUpperCase())>-1,it=et.test(V);return ht&&it}intercept(L,V){const{enableBearerInterceptor:et,excludedUrls:tt}=this.keycloak;return!et||!this.keycloak.shouldAddToken(L)||tt.findIndex(it=>this.isUrlExcluded(L,it))>-1?V.handle(L):(0,T.a)([this.conditionallyUpdateToken(L),this.keycloak.isLoggedIn()]).pipe((0,m.z)(([it,It])=>It?this.handleRequestWithTokenHeader(L,V):V.handle(L)))}handleRequestWithTokenHeader(L,V){return this.keycloak.addTokenToHeader(L.headers).pipe((0,m.z)(et=>{const tt=L.clone({headers:et});return V.handle(tt)}))}static{this.\u0275fac=function(V){return new(V||w)(t.LFG(U))}}static{this.\u0275prov=t.Yz7({token:w,factory:w.\u0275fac})}}return w})()},5037:(Qt,$,o)=>{"use strict";o.d($,{ou:()=>qt});class e extends Error{}class t extends e{constructor(b){super(`Invalid DateTime: ${b.toMessage()}`)}}class a extends e{constructor(b){super(`Invalid Interval: ${b.toMessage()}`)}}class i extends e{constructor(b){super(`Invalid Duration: ${b.toMessage()}`)}}class g extends e{}class T extends e{constructor(b){super(`Invalid unit ${b}`)}}class _ extends e{}class m extends e{constructor(){super("Zone is an abstract class")}}const h="numeric",f="short",v="long",C={year:h,month:h,day:h},D={year:h,month:f,day:h},y={year:h,month:f,day:h,weekday:f},E={year:h,month:v,day:h},O={year:h,month:v,day:h,weekday:v},M={hour:h,minute:h},U={hour:h,minute:h,second:h},R={hour:h,minute:h,second:h,timeZoneName:f},A={hour:h,minute:h,second:h,timeZoneName:v},S={hour:h,minute:h,hourCycle:"h23"},w={hour:h,minute:h,second:h,hourCycle:"h23"},p={hour:h,minute:h,second:h,hourCycle:"h23",timeZoneName:f},L={hour:h,minute:h,second:h,hourCycle:"h23",timeZoneName:v},V={year:h,month:h,day:h,hour:h,minute:h},et={year:h,month:h,day:h,hour:h,minute:h,second:h},tt={year:h,month:f,day:h,hour:h,minute:h},ht={year:h,month:f,day:h,hour:h,minute:h,second:h},it={year:h,month:f,day:h,weekday:f,hour:h,minute:h},It={year:h,month:v,day:h,hour:h,minute:h,timeZoneName:f},st={year:h,month:v,day:h,hour:h,minute:h,second:h,timeZoneName:f},dt={year:h,month:v,day:h,weekday:v,hour:h,minute:h,timeZoneName:v},St={year:h,month:v,day:h,weekday:v,hour:h,minute:h,second:h,timeZoneName:v};class bt{get type(){throw new m}get name(){throw new m}get ianaName(){return this.name}get isUniversal(){throw new m}offsetName(b,ft){throw new m}formatOffset(b,ft){throw new m}offset(b){throw new m}equals(b){throw new m}get isValid(){throw new m}}let u=null;class ut extends bt{static get instance(){return null===u&&(u=new ut),u}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(b,{format:ft,locale:jt}){return bn(b,ft,jt)}formatOffset(b,ft){return un(this.offset(b),ft)}offset(b){return-new Date(b).getTimezoneOffset()}equals(b){return"system"===b.type}get isValid(){return!0}}const Z=new Map,F={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},At=new Map;class Dt extends bt{static create(b){let ft=At.get(b);return void 0===ft&&At.set(b,ft=new Dt(b)),ft}static resetCache(){At.clear(),Z.clear()}static isValidSpecifier(b){return this.isValidZone(b)}static isValidZone(b){if(!b)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:b}).format(),!0}catch{return!1}}constructor(b){super(),this.zoneName=b,this.valid=Dt.isValidZone(b)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(b,{format:ft,locale:jt}){return bn(b,ft,jt,this.name)}formatOffset(b,ft){return un(this.offset(b),ft)}offset(b){if(!this.valid)return NaN;const ft=new Date(b);if(isNaN(ft))return NaN;const jt=function I(vt){let b=Z.get(vt);return void 0===b&&(b=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:vt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Z.set(vt,b)),b}(this.name);let[ye,vn,Nn,Un,Wn,Oi,oo]=jt.formatToParts?function nt(vt,b){const ft=vt.formatToParts(b),jt=[];for(let ye=0;ye<ft.length;ye++){const{type:vn,value:Nn}=ft[ye],Un=F[vn];"era"===vn?jt[Un]=Nn:mi(Un)||(jt[Un]=parseInt(Nn,10))}return jt}(jt,ft):function ot(vt,b){const ft=vt.format(b).replace(/\u200E/g,""),jt=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ft),[,ye,vn,Nn,Un,Wn,Oi,oo]=jt;return[Nn,ye,vn,Un,Wn,Oi,oo]}(jt,ft);"BC"===Un&&(ye=1-Math.abs(ye));let fo=+ft;const _r=fo%1e3;return fo-=_r>=0?_r:1e3+_r,(fn({year:ye,month:vn,day:Nn,hour:24===Wn?0:Wn,minute:Oi,second:oo,millisecond:0})-fo)/6e4}equals(b){return"iana"===b.type&&b.name===this.name}get isValid(){return this.valid}}let Wt={};const Rt=new Map;function Bt(vt,b={}){const ft=JSON.stringify([vt,b]);let jt=Rt.get(ft);return void 0===jt&&(jt=new Intl.DateTimeFormat(vt,b),Rt.set(ft,jt)),jt}const B=new Map,yt=new Map;let xt=null;const at=new Map;function Pt(vt){let b=at.get(vt);return void 0===b&&(b=new Intl.DateTimeFormat(vt).resolvedOptions(),at.set(vt,b)),b}const Gt=new Map;function le(vt,b,ft,jt){const ye=vt.listingMode();return"error"===ye?null:"en"===ye?ft(b):jt(b)}class Ge{constructor(b,ft,jt){this.padTo=jt.padTo||0,this.floor=jt.floor||!1;const{padTo:ye,floor:vn,...Nn}=jt;if(!ft||Object.keys(Nn).length>0){const Un={useGrouping:!1,...jt};jt.padTo>0&&(Un.minimumIntegerDigits=jt.padTo),this.inf=function k(vt,b={}){const ft=JSON.stringify([vt,b]);let jt=B.get(ft);return void 0===jt&&(jt=new Intl.NumberFormat(vt,b),B.set(ft,jt)),jt}(b,Un)}}format(b){if(this.inf){const ft=this.floor?Math.floor(b):b;return this.inf.format(ft)}return An(this.floor?Math.floor(b):Wo(b,3),this.padTo)}}class Se{constructor(b,ft,jt){let ye;if(this.opts=jt,this.originalZone=void 0,this.opts.timeZone)this.dt=b;else if("fixed"===b.zone.type){const Nn=b.offset/60*-1,Un=Nn>=0?`Etc/GMT+${Nn}`:`Etc/GMT${Nn}`;0!==b.offset&&Dt.create(Un).valid?(ye=Un,this.dt=b):(ye="UTC",this.dt=0===b.offset?b:b.setZone("UTC").plus({minutes:b.offset}),this.originalZone=b.zone)}else"system"===b.zone.type?this.dt=b:"iana"===b.zone.type?(this.dt=b,ye=b.zone.name):(ye="UTC",this.dt=b.setZone("UTC").plus({minutes:b.offset}),this.originalZone=b.zone);const vn={...this.opts};vn.timeZone=vn.timeZone||ye,this.dtf=Bt(ft,vn)}format(){return this.originalZone?this.formatToParts().map(({value:b})=>b).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const b=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?b.map(ft=>{if("timeZoneName"===ft.type){const jt=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...ft,value:jt}}return ft}):b}resolvedOptions(){return this.dtf.resolvedOptions()}}class Pe{constructor(b,ft,jt){this.opts={style:"long",...jt},!ft&&Ui()&&(this.rtf=function Y(vt,b={}){const{base:ft,...jt}=b,ye=JSON.stringify([vt,jt]);let vn=yt.get(ye);return void 0===vn&&(vn=new Intl.RelativeTimeFormat(vt,b),yt.set(ye,vn)),vn}(b,jt))}format(b,ft){return this.rtf?this.rtf.format(b,ft):function so(vt,b,ft="always",jt=!1){const ye={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},vn=-1===["hours","minutes","seconds"].indexOf(vt);if("auto"===ft&&vn){const Do="days"===vt;switch(b){case 1:return Do?"tomorrow":`next ${ye[vt][0]}`;case-1:return Do?"yesterday":`last ${ye[vt][0]}`;case 0:return Do?"today":`this ${ye[vt][0]}`}}const Nn=Object.is(b,-0)||b<0,Un=Math.abs(b),Wn=1===Un,Oi=ye[vt],oo=jt?Wn?Oi[1]:Oi[2]||Oi[1]:Wn?ye[vt][0]:vt;return Nn?`${Un} ${oo} ago`:`in ${Un} ${oo}`}(ft,b,this.opts.numeric,"long"!==this.opts.style)}formatToParts(b,ft){return this.rtf?this.rtf.formatToParts(b,ft):[]}}const Ue={firstDay:1,minimalDays:4,weekend:[6,7]};class Ee{static fromOpts(b){return Ee.create(b.locale,b.numberingSystem,b.outputCalendar,b.weekSettings,b.defaultToEN)}static create(b,ft,jt,ye,vn=!1){const Nn=b||ke.defaultLocale,Un=Nn||(vn?"en-US":function z(){return xt||(xt=(new Intl.DateTimeFormat).resolvedOptions().locale,xt)}()),Wn=ft||ke.defaultNumberingSystem,Oi=jt||ke.defaultOutputCalendar,oo=Ye(ye)||ke.defaultWeekSettings;return new Ee(Un,Wn,Oi,oo,Nn)}static resetCache(){xt=null,Rt.clear(),B.clear(),yt.clear(),at.clear(),Gt.clear()}static fromObject({locale:b,numberingSystem:ft,outputCalendar:jt,weekSettings:ye}={}){return Ee.create(b,ft,jt,ye)}constructor(b,ft,jt,ye,vn){const[Nn,Un,Wn]=function Ut(vt){const b=vt.indexOf("-x-");-1!==b&&(vt=vt.substring(0,b));const ft=vt.indexOf("-u-");if(-1===ft)return[vt];{let jt,ye;try{jt=Bt(vt).resolvedOptions(),ye=vt}catch{const Wn=vt.substring(0,ft);jt=Bt(Wn).resolvedOptions(),ye=Wn}const{numberingSystem:vn,calendar:Nn}=jt;return[ye,vn,Nn]}}(b);this.locale=Nn,this.numberingSystem=ft||Un||null,this.outputCalendar=jt||Wn||null,this.weekSettings=ye,this.intl=function Q(vt,b,ft){return(ft||b)&&(vt.includes("-u-")||(vt+="-u"),ft&&(vt+=`-ca-${ft}`),b&&(vt+=`-nu-${b}`)),vt}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=vn,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function ne(vt){return(!vt.numberingSystem||"latn"===vt.numberingSystem)&&("latn"===vt.numberingSystem||!vt.locale||vt.locale.startsWith("en")||"latn"===Pt(vt.locale).numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(b){return b&&0!==Object.getOwnPropertyNames(b).length?Ee.create(b.locale||this.specifiedLocale,b.numberingSystem||this.numberingSystem,b.outputCalendar||this.outputCalendar,Ye(b.weekSettings)||this.weekSettings,b.defaultToEN||!1):this}redefaultToEN(b={}){return this.clone({...b,defaultToEN:!0})}redefaultToSystem(b={}){return this.clone({...b,defaultToEN:!1})}months(b,ft=!1){return le(this,b,Vi,()=>{const jt="ja"===this.intl||this.intl.startsWith("ja-"),ye=(ft&=!jt)?{month:b,day:"numeric"}:{month:b},vn=ft?"format":"standalone";return this.monthsCache[vn][b]||(this.monthsCache[vn][b]=function Ot(vt){const b=[];for(let ft=1;ft<=12;ft++){const jt=qt.utc(2009,ft,1);b.push(vt(jt))}return b}(jt?Un=>this.dtFormatter(Un,ye).format():Un=>this.extract(Un,ye,"month"))),this.monthsCache[vn][b]})}weekdays(b,ft=!1){return le(this,b,Mo,()=>{const jt=ft?{weekday:b,year:"numeric",month:"long",day:"numeric"}:{weekday:b},ye=ft?"format":"standalone";return this.weekdaysCache[ye][b]||(this.weekdaysCache[ye][b]=function Ft(vt){const b=[];for(let ft=1;ft<=7;ft++){const jt=qt.utc(2016,11,13+ft);b.push(vt(jt))}return b}(vn=>this.extract(vn,jt,"weekday"))),this.weekdaysCache[ye][b]})}meridiems(){return le(this,void 0,()=>io,()=>{if(!this.meridiemCache){const b={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[qt.utc(2016,11,13,9),qt.utc(2016,11,13,19)].map(ft=>this.extract(ft,b,"dayperiod"))}return this.meridiemCache})}eras(b){return le(this,b,mr,()=>{const ft={era:b};return this.eraCache[b]||(this.eraCache[b]=[qt.utc(-40,1,1),qt.utc(2017,1,1)].map(jt=>this.extract(jt,ft,"era"))),this.eraCache[b]})}extract(b,ft,jt){const Nn=this.dtFormatter(b,ft).formatToParts().find(Un=>Un.type.toLowerCase()===jt);return Nn?Nn.value:null}numberFormatter(b={}){return new Ge(this.intl,b.forceSimple||this.fastNumbers,b)}dtFormatter(b,ft={}){return new Se(b,this.intl,ft)}relFormatter(b={}){return new Pe(this.intl,this.isEnglish(),b)}listFormatter(b={}){return function Nt(vt,b={}){const ft=JSON.stringify([vt,b]);let jt=Wt[ft];return jt||(jt=new Intl.ListFormat(vt,b),Wt[ft]=jt),jt}(this.intl,b)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Pt(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ki()?function De(vt){let b=Gt.get(vt);if(!b){const ft=new Intl.Locale(vt);b="getWeekInfo"in ft?ft.getWeekInfo():ft.weekInfo,"minimalDays"in b||(b={...Ue,...b}),Gt.set(vt,b)}return b}(this.locale):Ue}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(b){return this.locale===b.locale&&this.numberingSystem===b.numberingSystem&&this.outputCalendar===b.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let de=null;class ae extends bt{static get utcInstance(){return null===de&&(de=new ae(0)),de}static instance(b){return 0===b?ae.utcInstance:new ae(b)}static parseSpecifier(b){if(b){const ft=b.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(ft)return new ae(ie(ft[1],ft[2]))}return null}constructor(b){super(),this.fixed=b}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${un(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${un(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(b,ft){return un(this.fixed,ft)}get isUniversal(){return!0}offset(){return this.fixed}equals(b){return"fixed"===b.type&&b.fixed===this.fixed}get isValid(){return!0}}class $e extends bt{constructor(b){super(),this.zoneName=b}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Bn(vt,b){if(mi(vt)||null===vt)return b;if(vt instanceof bt)return vt;if(function Yi(vt){return"string"==typeof vt}(vt)){const jt=vt.toLowerCase();return"default"===jt?b:"local"===jt||"system"===jt?ut.instance:"utc"===jt||"gmt"===jt?ae.utcInstance:ae.parseSpecifier(jt)||Dt.create(vt)}return Zi(vt)?ae.instance(vt):"object"==typeof vt&&"offset"in vt&&"function"==typeof vt.offset?vt:new $e(vt)}const Ae={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Hn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},rn=Ae.hanidec.replace(/[\[|\]]/g,"").split(""),wn=new Map;function Ht({numberingSystem:vt},b=""){const ft=vt||"latn";let jt=wn.get(ft);void 0===jt&&(jt=new Map,wn.set(ft,jt));let ye=jt.get(b);return void 0===ye&&(ye=new RegExp(`${Ae[ft]}${b}`),jt.set(b,ye)),ye}let xe,xn=()=>Date.now(),ce="system",me=null,En=null,_n=null,Qe=60,je=null;class ke{static get now(){return xn}static set now(b){xn=b}static set defaultZone(b){ce=b}static get defaultZone(){return Bn(ce,ut.instance)}static get defaultLocale(){return me}static set defaultLocale(b){me=b}static get defaultNumberingSystem(){return En}static set defaultNumberingSystem(b){En=b}static get defaultOutputCalendar(){return _n}static set defaultOutputCalendar(b){_n=b}static get defaultWeekSettings(){return je}static set defaultWeekSettings(b){je=Ye(b)}static get twoDigitCutoffYear(){return Qe}static set twoDigitCutoffYear(b){Qe=b%100}static get throwOnInvalid(){return xe}static set throwOnInvalid(b){xe=b}static resetCaches(){Ee.resetCache(),Dt.resetCache(),qt.resetCache(),function oe(){wn.clear()}()}}class we{constructor(b,ft){this.reason=b,this.explanation=ft}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ne=[0,31,59,90,120,151,181,212,243,273,304,334],Ke=[0,31,60,91,121,152,182,213,244,274,305,335];function qe(vt,b){return new we("unit out of range",`you specified ${b} (of type ${typeof b}) as a ${vt}, which is invalid`)}function kn(vt,b,ft){const jt=new Date(Date.UTC(vt,b-1,ft));vt<100&&vt>=0&&jt.setUTCFullYear(jt.getUTCFullYear()-1900);const ye=jt.getUTCDay();return 0===ye?7:ye}function ui(vt,b,ft){return ft+(Ie(vt)?Ke:Ne)[b-1]}function eo(vt,b){const ft=Ie(vt)?Ke:Ne,jt=ft.findIndex(vn=>vn<b);return{month:jt+1,day:b-ft[jt]}}function Pn(vt,b){return(vt-b+7)%7+1}function tn(vt,b=4,ft=1){const{year:jt,month:ye,day:vn}=vt,Nn=ui(jt,ye,vn),Un=Pn(kn(jt,ye,vn),ft);let Oi,Wn=Math.floor((Nn-Un+14-b)/7);return Wn<1?(Oi=jt-1,Wn=Mn(Oi,b,ft)):Wn>Mn(jt,b,ft)?(Oi=jt+1,Wn=1):Oi=jt,{weekYear:Oi,weekNumber:Wn,weekday:Un,...Rn(vt)}}function ln(vt,b=4,ft=1){const{weekYear:jt,weekNumber:ye,weekday:vn}=vt,Nn=Pn(kn(jt,1,b),ft),Un=ze(jt);let Oi,Wn=7*ye+vn-Nn-7+b;Wn<1?(Oi=jt-1,Wn+=ze(Oi)):Wn>Un?(Oi=jt+1,Wn-=ze(jt)):Oi=jt;const{month:oo,day:Do}=eo(Oi,Wn);return{year:Oi,month:oo,day:Do,...Rn(vt)}}function Zn(vt){const{year:b,month:ft,day:jt}=vt;return{year:b,ordinal:ui(b,ft,jt),...Rn(vt)}}function Jn(vt){const{year:b,ordinal:ft}=vt,{month:jt,day:ye}=eo(b,ft);return{year:b,month:jt,day:ye,...Rn(vt)}}function hi(vt,b){if(mi(vt.localWeekday)&&mi(vt.localWeekNumber)&&mi(vt.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!mi(vt.weekday)||!mi(vt.weekNumber)||!mi(vt.weekYear))throw new g("Cannot mix locale-based week fields with ISO-based week fields");return mi(vt.localWeekday)||(vt.weekday=vt.localWeekday),mi(vt.localWeekNumber)||(vt.weekNumber=vt.localWeekNumber),mi(vt.localWeekYear)||(vt.weekYear=vt.localWeekYear),delete vt.localWeekday,delete vt.localWeekNumber,delete vt.localWeekYear,{minDaysInFirstWeek:b.getMinDaysInFirstWeek(),startOfWeek:b.getStartOfWeek()}}function oi(vt){const b=Qi(vt.year),ft=se(vt.month,1,12),jt=se(vt.day,1,pn(vt.year,vt.month));return b?ft?!jt&&qe("day",vt.day):qe("month",vt.month):qe("year",vt.year)}function Li(vt){const{hour:b,minute:ft,second:jt,millisecond:ye}=vt,vn=se(b,0,23)||24===b&&0===ft&&0===jt&&0===ye,Nn=se(ft,0,59),Un=se(jt,0,59),Wn=se(ye,0,999);return vn?Nn?Un?!Wn&&qe("millisecond",ye):qe("second",jt):qe("minute",ft):qe("hour",b)}function mi(vt){return typeof vt>"u"}function Zi(vt){return"number"==typeof vt}function Qi(vt){return"number"==typeof vt&&vt%1==0}function Ui(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ki(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function sn(vt,b,ft){if(0!==vt.length)return vt.reduce((jt,ye)=>{const vn=[b(ye),ye];return jt&&ft(jt[0],vn[0])===jt[0]?jt:vn},null)[1]}function Xt(vt,b){return Object.prototype.hasOwnProperty.call(vt,b)}function Ye(vt){if(null==vt)return null;if("object"!=typeof vt)throw new _("Week settings must be an object");if(!se(vt.firstDay,1,7)||!se(vt.minimalDays,1,7)||!Array.isArray(vt.weekend)||vt.weekend.some(b=>!se(b,1,7)))throw new _("Invalid week settings");return{firstDay:vt.firstDay,minimalDays:vt.minimalDays,weekend:Array.from(vt.weekend)}}function se(vt,b,ft){return Qi(vt)&&vt>=b&&vt<=ft}function An(vt,b=2){let jt;return jt=vt<0?"-"+(""+-vt).padStart(b,"0"):(""+vt).padStart(b,"0"),jt}function Ei(vt){if(!mi(vt)&&null!==vt&&""!==vt)return parseInt(vt,10)}function ji(vt){if(!mi(vt)&&null!==vt&&""!==vt)return parseFloat(vt)}function Ji(vt){if(!mi(vt)&&null!==vt&&""!==vt){const b=1e3*parseFloat("0."+vt);return Math.floor(b)}}function Wo(vt,b,ft="round"){const jt=10**b;switch(ft){case"expand":return vt>0?Math.ceil(vt*jt)/jt:Math.floor(vt*jt)/jt;case"trunc":return Math.trunc(vt*jt)/jt;case"round":return Math.round(vt*jt)/jt;case"floor":return Math.floor(vt*jt)/jt;case"ceil":return Math.ceil(vt*jt)/jt;default:throw new RangeError(`Value rounding ${ft} is out of range`)}}function Ie(vt){return vt%4==0&&(vt%100!=0||vt%400==0)}function ze(vt){return Ie(vt)?366:365}function pn(vt,b){const ft=function Ve(vt,b){return vt-b*Math.floor(vt/b)}(b-1,12)+1;return 2===ft?Ie(vt+(b-ft)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ft-1]}function fn(vt){let b=Date.UTC(vt.year,vt.month-1,vt.day,vt.hour,vt.minute,vt.second,vt.millisecond);return vt.year<100&&vt.year>=0&&(b=new Date(b),b.setUTCFullYear(vt.year,vt.month-1,vt.day)),+b}function an(vt,b,ft){return-Pn(kn(vt,1,b),ft)+b-1}function Mn(vt,b=4,ft=1){const jt=an(vt,b,ft),ye=an(vt+1,b,ft);return(ze(vt)-jt+ye)/7}function Tn(vt){return vt>99?vt:vt>ke.twoDigitCutoffYear?1900+vt:2e3+vt}function bn(vt,b,ft,jt=null){const ye=new Date(vt),vn={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};jt&&(vn.timeZone=jt);const Nn={timeZoneName:b,...vn},Un=new Intl.DateTimeFormat(ft,Nn).formatToParts(ye).find(Wn=>"timezonename"===Wn.type.toLowerCase());return Un?Un.value:null}function ie(vt,b){let ft=parseInt(vt,10);Number.isNaN(ft)&&(ft=0);const jt=parseInt(b,10)||0;return 60*ft+(ft<0||Object.is(ft,-0)?-jt:jt)}function We(vt){const b=Number(vt);if("boolean"==typeof vt||""===vt||!Number.isFinite(b))throw new _(`Invalid unit value ${vt}`);return b}function Le(vt,b){const ft={};for(const jt in vt)if(Xt(vt,jt)){const ye=vt[jt];if(null==ye)continue;ft[b(jt)]=We(ye)}return ft}function un(vt,b){const ft=Math.trunc(Math.abs(vt/60)),jt=Math.trunc(Math.abs(vt%60)),ye=vt>=0?"+":"-";switch(b){case"short":return`${ye}${An(ft,2)}:${An(jt,2)}`;case"narrow":return`${ye}${ft}${jt>0?`:${jt}`:""}`;case"techie":return`${ye}${An(ft,2)}${An(jt,2)}`;default:throw new RangeError(`Value format ${b} is out of range for property format`)}}function Rn(vt){return function fi(vt,b){return b.reduce((ft,jt)=>(ft[jt]=vt[jt],ft),{})}(vt,["hour","minute","second","millisecond"])}const si=["January","February","March","April","May","June","July","August","September","October","November","December"],Di=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ii=["J","F","M","A","M","J","J","A","S","O","N","D"];function Vi(vt){switch(vt){case"narrow":return[...Ii];case"short":return[...Di];case"long":return[...si];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const gi=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ni=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],zi=["M","T","W","T","F","S","S"];function Mo(vt){switch(vt){case"narrow":return[...zi];case"short":return[...Ni];case"long":return[...gi];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const io=["AM","PM"],qo=["Before Christ","Anno Domini"],$o=["BC","AD"],tr=["B","A"];function mr(vt){switch(vt){case"narrow":return[...tr];case"short":return[...$o];case"long":return[...qo];default:return null}}function cr(vt,b){let ft="";for(const jt of vt)ft+=jt.literal?jt.val:b(jt.val);return ft}const Uo={D:C,DD:D,DDD:E,DDDD:O,t:M,tt:U,ttt:R,tttt:A,T:S,TT:w,TTT:p,TTTT:L,f:V,ff:tt,fff:It,ffff:dt,F:et,FF:ht,FFF:st,FFFF:St};class bo{static create(b,ft={}){return new bo(b,ft)}static parseFormat(b){let ft=null,jt="",ye=!1;const vn=[];for(let Nn=0;Nn<b.length;Nn++){const Un=b.charAt(Nn);"'"===Un?((jt.length>0||ye)&&vn.push({literal:ye||/^\s+$/.test(jt),val:""===jt?"'":jt}),ft=null,jt="",ye=!ye):ye||Un===ft?jt+=Un:(jt.length>0&&vn.push({literal:/^\s+$/.test(jt),val:jt}),jt=Un,ft=Un)}return jt.length>0&&vn.push({literal:ye||/^\s+$/.test(jt),val:jt}),vn}static macroTokenToFormatOpts(b){return Uo[b]}constructor(b,ft){this.opts=ft,this.loc=b,this.systemLoc=null}formatWithSystemDefault(b,ft){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(b,{...this.opts,...ft}).format()}dtFormatter(b,ft={}){return this.loc.dtFormatter(b,{...this.opts,...ft})}formatDateTime(b,ft){return this.dtFormatter(b,ft).format()}formatDateTimeParts(b,ft){return this.dtFormatter(b,ft).formatToParts()}formatInterval(b,ft){return this.dtFormatter(b.start,ft).dtf.formatRange(b.start.toJSDate(),b.end.toJSDate())}resolvedOptions(b,ft){return this.dtFormatter(b,ft).resolvedOptions()}num(b,ft=0,jt=void 0){if(this.opts.forceSimple)return An(b,ft);const ye={...this.opts};return ft>0&&(ye.padTo=ft),jt&&(ye.signDisplay=jt),this.loc.numberFormatter(ye).format(b)}formatDateTimeFromString(b,ft){const jt="en"===this.loc.listingMode(),ye=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,vn=(fo,_r)=>this.loc.extract(b,fo,_r),Nn=fo=>b.isOffsetFixed&&0===b.offset&&fo.allowZ?"Z":b.isValid?b.zone.formatOffset(b.ts,fo.format):"",Wn=(fo,_r)=>jt?function Ti(vt,b){return Vi(b)[vt.month-1]}(b,fo):vn(_r?{month:fo}:{month:fo,day:"numeric"},"month"),Oi=(fo,_r)=>jt?function po(vt,b){return Mo(b)[vt.weekday-1]}(b,fo):vn(_r?{weekday:fo}:{weekday:fo,month:"long",day:"numeric"},"weekday"),oo=fo=>{const _r=bo.macroTokenToFormatOpts(fo);return _r?this.formatWithSystemDefault(b,_r):fo},Do=fo=>jt?function Wi(vt,b){return mr(b)[vt.year<0?0:1]}(b,fo):vn({era:fo},"era");return cr(bo.parseFormat(ft),fo=>{switch(fo){case"S":return this.num(b.millisecond);case"u":case"SSS":return this.num(b.millisecond,3);case"s":return this.num(b.second);case"ss":return this.num(b.second,2);case"uu":return this.num(Math.floor(b.millisecond/10),2);case"uuu":return this.num(Math.floor(b.millisecond/100));case"m":return this.num(b.minute);case"mm":return this.num(b.minute,2);case"h":return this.num(b.hour%12==0?12:b.hour%12);case"hh":return this.num(b.hour%12==0?12:b.hour%12,2);case"H":return this.num(b.hour);case"HH":return this.num(b.hour,2);case"Z":return Nn({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Nn({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Nn({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return b.zone.offsetName(b.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return b.zone.offsetName(b.ts,{format:"long",locale:this.loc.locale});case"z":return b.zoneName;case"a":return jt?function er(vt){return io[vt.hour<12?0:1]}(b):vn({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return ye?vn({day:"numeric"},"day"):this.num(b.day);case"dd":return ye?vn({day:"2-digit"},"day"):this.num(b.day,2);case"c":case"E":return this.num(b.weekday);case"ccc":return Oi("short",!0);case"cccc":return Oi("long",!0);case"ccccc":return Oi("narrow",!0);case"EEE":return Oi("short",!1);case"EEEE":return Oi("long",!1);case"EEEEE":return Oi("narrow",!1);case"L":return ye?vn({month:"numeric",day:"numeric"},"month"):this.num(b.month);case"LL":return ye?vn({month:"2-digit",day:"numeric"},"month"):this.num(b.month,2);case"LLL":return Wn("short",!0);case"LLLL":return Wn("long",!0);case"LLLLL":return Wn("narrow",!0);case"M":return ye?vn({month:"numeric"},"month"):this.num(b.month);case"MM":return ye?vn({month:"2-digit"},"month"):this.num(b.month,2);case"MMM":return Wn("short",!1);case"MMMM":return Wn("long",!1);case"MMMMM":return Wn("narrow",!1);case"y":return ye?vn({year:"numeric"},"year"):this.num(b.year);case"yy":return ye?vn({year:"2-digit"},"year"):this.num(b.year.toString().slice(-2),2);case"yyyy":return ye?vn({year:"numeric"},"year"):this.num(b.year,4);case"yyyyyy":return ye?vn({year:"numeric"},"year"):this.num(b.year,6);case"G":return Do("short");case"GG":return Do("long");case"GGGGG":return Do("narrow");case"kk":return this.num(b.weekYear.toString().slice(-2),2);case"kkkk":return this.num(b.weekYear,4);case"W":return this.num(b.weekNumber);case"WW":return this.num(b.weekNumber,2);case"n":return this.num(b.localWeekNumber);case"nn":return this.num(b.localWeekNumber,2);case"ii":return this.num(b.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(b.localWeekYear,4);case"o":return this.num(b.ordinal);case"ooo":return this.num(b.ordinal,3);case"q":return this.num(b.quarter);case"qq":return this.num(b.quarter,2);case"X":return this.num(Math.floor(b.ts/1e3));case"x":return this.num(b.ts);default:return oo(fo)}})}formatDurationFromString(b,ft){const jt="negativeLargestOnly"===this.opts.signMode?-1:1,ye=oo=>{switch(oo[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},Nn=bo.parseFormat(ft),Un=Nn.reduce((oo,{literal:Do,val:Qo})=>Do?oo:oo.concat(Qo),[]),Wn=b.shiftTo(...Un.map(ye).filter(oo=>oo));return cr(Nn,((oo,Do)=>Qo=>{const fo=ye(Qo);if(fo){const _r=Do.isNegativeDuration&&fo!==Do.largestUnit?jt:1;let q;return q="negativeLargestOnly"===this.opts.signMode&&fo!==Do.largestUnit?"never":"all"===this.opts.signMode?"always":"auto",this.num(oo.get(fo)*_r,Qo.length,q)}return Qo})(Wn,{isNegativeDuration:Wn<0,largestUnit:Object.keys(Wn.values)[0]}))}}const qi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xo(...vt){const b=vt.reduce((ft,jt)=>ft+jt.source,"");return RegExp(`^${b}$`)}function Lo(...vt){return b=>vt.reduce(([ft,jt,ye],vn)=>{const[Nn,Un,Wn]=vn(b,ye);return[{...ft,...Nn},Un||jt,Wn]},[{},null,1]).slice(0,2)}function Fi(vt,...b){if(null==vt)return[null,null];for(const[ft,jt]of b){const ye=ft.exec(vt);if(ye)return jt(ye)}return[null,null]}function Go(...vt){return(b,ft)=>{const jt={};let ye;for(ye=0;ye<vt.length;ye++)jt[vt[ye]]=Ei(b[ft+ye]);return[jt,null,ft+ye]}}const gn=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,te=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,hn=RegExp(`${te.source}(?:${gn.source}?(?:\\[(${qi.source})\\])?)?`),In=RegExp(`(?:[Tt]${hn.source})?`),zo=Go("weekYear","weekNumber","weekDay"),ao=Go("year","ordinal"),Qn=RegExp(`${te.source} ?(?:${gn.source}|(${qi.source}))?`),J=RegExp(`(?: ${Qn.source})?`);function Zt(vt,b,ft){const jt=vt[b];return mi(jt)?ft:Ei(jt)}function on(vt,b){return[{hours:Zt(vt,b,0),minutes:Zt(vt,b+1,0),seconds:Zt(vt,b+2,0),milliseconds:Ji(vt[b+3])},null,b+4]}function ii(vt,b){const ft=!vt[b]&&!vt[b+1],jt=ie(vt[b+1],vt[b+2]);return[{},ft?null:ae.instance(jt),b+3]}function Si(vt,b){return[{},vt[b]?Dt.create(vt[b]):null,b+1]}const Oo=RegExp(`^T?${te.source}$`),rr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jo(vt){const[b,ft,jt,ye,vn,Nn,Un,Wn,Oi]=vt,oo="-"===b[0],Do=Wn&&"-"===Wn[0],Qo=(fo,_r=!1)=>void 0!==fo&&(_r||fo&&oo)?-fo:fo;return[{years:Qo(ji(ft)),months:Qo(ji(jt)),weeks:Qo(ji(ye)),days:Qo(ji(vn)),hours:Qo(ji(Nn)),minutes:Qo(ji(Un)),seconds:Qo(ji(Wn),"-0"===Wn),milliseconds:Qo(Ji(Oi),Do)}]}const Nr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Io(vt,b,ft,jt,ye,vn,Nn){const Un={year:2===b.length?Tn(Ei(b)):Ei(b),month:Di.indexOf(ft)+1,day:Ei(jt),hour:Ei(ye),minute:Ei(vn)};return Nn&&(Un.second=Ei(Nn)),vt&&(Un.weekday=vt.length>3?gi.indexOf(vt)+1:Ni.indexOf(vt)+1),Un}const _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function W(vt){const[,b,ft,jt,ye,vn,Nn,Un,Wn,Oi,oo,Do]=vt,Qo=Io(b,ye,jt,ft,vn,Nn,Un);let fo;return fo=Wn?Nr[Wn]:Oi?0:ie(oo,Do),[Qo,new ae(fo)]}const zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,pe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Be=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function On(vt){const[,b,ft,jt,ye,vn,Nn,Un]=vt;return[Io(b,ye,jt,ft,vn,Nn,Un),ae.utcInstance]}function Sn(vt){const[,b,ft,jt,ye,vn,Nn,Un]=vt;return[Io(b,Un,ft,jt,ye,vn,Nn),ae.utcInstance]}const Gn=xo(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,In),ni=xo(/(\d{4})-?W(\d\d)(?:-?(\d))?/,In),Lt=xo(/(\d{4})-?(\d{3})/,In),$t=xo(hn),mt=Lo(function Et(vt,b){return[{year:Zt(vt,b),month:Zt(vt,b+1,1),day:Zt(vt,b+2,1)},null,b+3]},on,ii,Si),ue=Lo(zo,on,ii,Si),He=Lo(ao,on,ii,Si),ci=Lo(on,ii,Si),nr=Lo(on),dr=xo(/(\d{4})-(\d\d)-(\d\d)/,J),lr=xo(Qn),fr=Lo(on,ii,Si),Fe="Invalid Duration",cn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ve={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...cn},en=365.2425,zn=30.436875,Mi={years:{quarters:4,months:12,weeks:en/7,days:en,hours:24*en,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:en/28,days:en/4,hours:24*en/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:zn/7,days:zn,hours:24*zn,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...cn},ti=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],_i=ti.slice(0).reverse();function vi(vt,b,ft=!1){const jt={values:ft?b.values:{...vt.values,...b.values||{}},loc:vt.loc.clone(b.loc),conversionAccuracy:b.conversionAccuracy||vt.conversionAccuracy,matrix:b.matrix||vt.matrix};return new to(jt)}function no(vt,b){let ft=b.milliseconds??0;for(const jt of _i.slice(1))b[jt]&&(ft+=b[jt]*vt[jt].milliseconds);return ft}function ho(vt,b){const ft=no(vt,b)<0?-1:1;ti.reduceRight((jt,ye)=>{if(mi(b[ye]))return jt;if(jt){const Nn=vt[ye][jt],Un=Math.floor(b[jt]*ft/Nn);b[ye]+=Un*ft,b[jt]-=Un*Nn*ft}return ye},null),ti.reduce((jt,ye)=>{if(mi(b[ye]))return jt;if(jt){const vn=b[jt]%1;b[jt]-=vn,b[ye]+=vn*vt[jt][ye]}return ye},null)}function ir(vt){const b={};for(const[ft,jt]of Object.entries(vt))0!==jt&&(b[ft]=jt);return b}class to{constructor(b){const ft="longterm"===b.conversionAccuracy||!1;let jt=ft?Mi:ve;b.matrix&&(jt=b.matrix),this.values=b.values,this.loc=b.loc||Ee.create(),this.conversionAccuracy=ft?"longterm":"casual",this.invalid=b.invalid||null,this.matrix=jt,this.isLuxonDuration=!0}static fromMillis(b,ft){return to.fromObject({milliseconds:b},ft)}static fromObject(b,ft={}){if(null==b||"object"!=typeof b)throw new _("Duration.fromObject: argument expected to be an object, got "+(null===b?"null":typeof b));return new to({values:Le(b,to.normalizeUnit),loc:Ee.fromObject(ft),conversionAccuracy:ft.conversionAccuracy,matrix:ft.matrix})}static fromDurationLike(b){if(Zi(b))return to.fromMillis(b);if(to.isDuration(b))return b;if("object"==typeof b)return to.fromObject(b);throw new _(`Unknown duration argument ${b} of type ${typeof b}`)}static fromISO(b,ft){const[jt]=function Xo(vt){return Fi(vt,[rr,jo])}(b);return jt?to.fromObject(jt,ft):to.invalid("unparsable",`the input "${b}" can't be parsed as ISO 8601`)}static fromISOTime(b,ft){const[jt]=function Lr(vt){return Fi(vt,[Oo,nr])}(b);return jt?to.fromObject(jt,ft):to.invalid("unparsable",`the input "${b}" can't be parsed as ISO 8601`)}static invalid(b,ft=null){if(!b)throw new _("need to specify a reason the Duration is invalid");const jt=b instanceof we?b:new we(b,ft);if(ke.throwOnInvalid)throw new i(jt);return new to({invalid:jt})}static normalizeUnit(b){const ft={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[b&&b.toLowerCase()];if(!ft)throw new T(b);return ft}static isDuration(b){return b&&b.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(b,ft={}){const jt={...ft,floor:!1!==ft.round&&!1!==ft.floor};return this.isValid?bo.create(this.loc,jt).formatDurationFromString(this,b):Fe}toHuman(b={}){if(!this.isValid)return Fe;const ft=!1!==b.showZeros,jt=ti.map(ye=>{const vn=this.values[ye];return mi(vn)||0===vn&&!ft?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...b,unit:ye.slice(0,-1)}).format(vn)}).filter(ye=>ye);return this.loc.listFormatter({type:"conjunction",style:b.listStyle||"narrow",...b}).format(jt)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let b="P";return 0!==this.years&&(b+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(b+=this.months+3*this.quarters+"M"),0!==this.weeks&&(b+=this.weeks+"W"),0!==this.days&&(b+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(b+="T"),0!==this.hours&&(b+=this.hours+"H"),0!==this.minutes&&(b+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(b+=Wo(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===b&&(b+="T0S"),b}toISOTime(b={}){if(!this.isValid)return null;const ft=this.toMillis();return ft<0||ft>=864e5?null:(b={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...b,includeOffset:!1},qt.fromMillis(ft,{zone:"UTC"}).toISOTime(b))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?no(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(b){if(!this.isValid)return this;const ft=to.fromDurationLike(b),jt={};for(const ye of ti)(Xt(ft.values,ye)||Xt(this.values,ye))&&(jt[ye]=ft.get(ye)+this.get(ye));return vi(this,{values:jt},!0)}minus(b){if(!this.isValid)return this;const ft=to.fromDurationLike(b);return this.plus(ft.negate())}mapUnits(b){if(!this.isValid)return this;const ft={};for(const jt of Object.keys(this.values))ft[jt]=We(b(this.values[jt],jt));return vi(this,{values:ft},!0)}get(b){return this[to.normalizeUnit(b)]}set(b){return this.isValid?vi(this,{values:{...this.values,...Le(b,to.normalizeUnit)}}):this}reconfigure({locale:b,numberingSystem:ft,conversionAccuracy:jt,matrix:ye}={}){return vi(this,{loc:this.loc.clone({locale:b,numberingSystem:ft}),matrix:ye,conversionAccuracy:jt})}as(b){return this.isValid?this.shiftTo(b).get(b):NaN}normalize(){if(!this.isValid)return this;const b=this.toObject();return ho(this.matrix,b),vi(this,{values:b},!0)}rescale(){return this.isValid?vi(this,{values:ir(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...b){if(!this.isValid)return this;if(0===b.length)return this;b=b.map(Nn=>to.normalizeUnit(Nn));const ft={},jt={},ye=this.toObject();let vn;for(const Nn of ti)if(b.indexOf(Nn)>=0){vn=Nn;let Un=0;for(const Oi in jt)Un+=this.matrix[Oi][Nn]*jt[Oi],jt[Oi]=0;Zi(ye[Nn])&&(Un+=ye[Nn]);const Wn=Math.trunc(Un);ft[Nn]=Wn,jt[Nn]=(1e3*Un-1e3*Wn)/1e3}else Zi(ye[Nn])&&(jt[Nn]=ye[Nn]);for(const Nn in jt)0!==jt[Nn]&&(ft[vn]+=Nn===vn?jt[Nn]:jt[Nn]/this.matrix[vn][Nn]);return ho(this.matrix,ft),vi(this,{values:ft},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const b={};for(const ft of Object.keys(this.values))b[ft]=0===this.values[ft]?0:-this.values[ft];return vi(this,{values:b},!0)}removeZeros(){return this.isValid?vi(this,{values:ir(this.values)},!0):this}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(b){if(!this.isValid||!b.isValid||!this.loc.equals(b.loc))return!1;function ft(jt,ye){return void 0===jt||0===jt?void 0===ye||0===ye:jt===ye}for(const jt of ti)if(!ft(this.values[jt],b.values[jt]))return!1;return!0}}const sr="Invalid Interval";class co{constructor(b){this.s=b.start,this.e=b.end,this.invalid=b.invalid||null,this.isLuxonInterval=!0}static invalid(b,ft=null){if(!b)throw new _("need to specify a reason the Interval is invalid");const jt=b instanceof we?b:new we(b,ft);if(ke.throwOnInvalid)throw new a(jt);return new co({invalid:jt})}static fromDateTimes(b,ft){const jt=Je(b),ye=Je(ft),vn=function Fo(vt,b){return vt&&vt.isValid?b&&b.isValid?b<vt?co.invalid("end before start",`The end of an interval must be after its start, but you had start=${vt.toISO()} and end=${b.toISO()}`):null:co.invalid("missing or invalid end"):co.invalid("missing or invalid start")}(jt,ye);return vn??new co({start:jt,end:ye})}static after(b,ft){const jt=to.fromDurationLike(ft),ye=Je(b);return co.fromDateTimes(ye,ye.plus(jt))}static before(b,ft){const jt=to.fromDurationLike(ft),ye=Je(b);return co.fromDateTimes(ye.minus(jt),ye)}static fromISO(b,ft){const[jt,ye]=(b||"").split("/",2);if(jt&&ye){let vn,Nn,Un,Wn;try{vn=qt.fromISO(jt,ft),Nn=vn.isValid}catch{Nn=!1}try{Un=qt.fromISO(ye,ft),Wn=Un.isValid}catch{Wn=!1}if(Nn&&Wn)return co.fromDateTimes(vn,Un);if(Nn){const Oi=to.fromISO(ye,ft);if(Oi.isValid)return co.after(vn,Oi)}else if(Wn){const Oi=to.fromISO(jt,ft);if(Oi.isValid)return co.before(Un,Oi)}}return co.invalid("unparsable",`the input "${b}" can't be parsed as ISO 8601`)}static isInterval(b){return b&&b.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(b="milliseconds"){return this.isValid?this.toDuration(b).get(b):NaN}count(b="milliseconds",ft){if(!this.isValid)return NaN;const jt=this.start.startOf(b,ft);let ye;return ye=ft?.useLocaleWeeks?this.end.reconfigure({locale:jt.locale}):this.end,ye=ye.startOf(b,ft),Math.floor(ye.diff(jt,b).get(b))+(ye.valueOf()!==this.end.valueOf())}hasSame(b){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,b))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(b){return!!this.isValid&&this.s>b}isBefore(b){return!!this.isValid&&this.e<=b}contains(b){return!!this.isValid&&this.s<=b&&this.e>b}set({start:b,end:ft}={}){return this.isValid?co.fromDateTimes(b||this.s,ft||this.e):this}splitAt(...b){if(!this.isValid)return[];const ft=b.map(Je).filter(Nn=>this.contains(Nn)).sort((Nn,Un)=>Nn.toMillis()-Un.toMillis()),jt=[];let{s:ye}=this,vn=0;for(;ye<this.e;){const Nn=ft[vn]||this.e,Un=+Nn>+this.e?this.e:Nn;jt.push(co.fromDateTimes(ye,Un)),ye=Un,vn+=1}return jt}splitBy(b){const ft=to.fromDurationLike(b);if(!this.isValid||!ft.isValid||0===ft.as("milliseconds"))return[];let vn,{s:jt}=this,ye=1;const Nn=[];for(;jt<this.e;){const Un=this.start.plus(ft.mapUnits(Wn=>Wn*ye));vn=+Un>+this.e?this.e:Un,Nn.push(co.fromDateTimes(jt,vn)),jt=vn,ye+=1}return Nn}divideEqually(b){return this.isValid?this.splitBy(this.length()/b).slice(0,b):[]}overlaps(b){return this.e>b.s&&this.s<b.e}abutsStart(b){return!!this.isValid&&+this.e==+b.s}abutsEnd(b){return!!this.isValid&&+b.e==+this.s}engulfs(b){return!!this.isValid&&this.s<=b.s&&this.e>=b.e}equals(b){return!(!this.isValid||!b.isValid)&&this.s.equals(b.s)&&this.e.equals(b.e)}intersection(b){if(!this.isValid)return this;const ft=this.s>b.s?this.s:b.s,jt=this.e<b.e?this.e:b.e;return ft>=jt?null:co.fromDateTimes(ft,jt)}union(b){return this.isValid?co.fromDateTimes(this.s<b.s?this.s:b.s,this.e>b.e?this.e:b.e):this}static merge(b){const[ft,jt]=b.sort((ye,vn)=>ye.s-vn.s).reduce(([ye,vn],Nn)=>vn?vn.overlaps(Nn)||vn.abutsStart(Nn)?[ye,vn.union(Nn)]:[ye.concat([vn]),Nn]:[ye,Nn],[[],null]);return jt&&ft.push(jt),ft}static xor(b){let ft=null,jt=0;const ye=[],vn=b.map(Wn=>[{time:Wn.s,type:"s"},{time:Wn.e,type:"e"}]),Un=Array.prototype.concat(...vn).sort((Wn,Oi)=>Wn.time-Oi.time);for(const Wn of Un)jt+="s"===Wn.type?1:-1,1===jt?ft=Wn.time:(ft&&+ft!=+Wn.time&&ye.push(co.fromDateTimes(ft,Wn.time)),ft=null);return co.merge(ye)}difference(...b){return co.xor([this].concat(b)).map(ft=>this.intersection(ft)).filter(ft=>ft&&!ft.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:sr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(b=C,ft={}){return this.isValid?bo.create(this.s.loc.clone(ft),b).formatInterval(this):sr}toISO(b){return this.isValid?`${this.s.toISO(b)}/${this.e.toISO(b)}`:sr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:sr}toISOTime(b){return this.isValid?`${this.s.toISOTime(b)}/${this.e.toISOTime(b)}`:sr}toFormat(b,{separator:ft=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(b)}${ft}${this.e.toFormat(b)}`:sr}toDuration(b,ft){return this.isValid?this.e.diff(this.s,b,ft):to.invalid(this.invalidReason)}mapEndpoints(b){return co.fromDateTimes(b(this.s),b(this.e))}}class br{static hasDST(b=ke.defaultZone){const ft=qt.now().setZone(b).set({month:12});return!b.isUniversal&&ft.offset!==ft.set({month:6}).offset}static isValidIANAZone(b){return Dt.isValidZone(b)}static normalizeZone(b){return Bn(b,ke.defaultZone)}static getStartOfWeek({locale:b=null,locObj:ft=null}={}){return(ft||Ee.create(b)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:b=null,locObj:ft=null}={}){return(ft||Ee.create(b)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:b=null,locObj:ft=null}={}){return(ft||Ee.create(b)).getWeekendDays().slice()}static months(b="long",{locale:ft=null,numberingSystem:jt=null,locObj:ye=null,outputCalendar:vn="gregory"}={}){return(ye||Ee.create(ft,jt,vn)).months(b)}static monthsFormat(b="long",{locale:ft=null,numberingSystem:jt=null,locObj:ye=null,outputCalendar:vn="gregory"}={}){return(ye||Ee.create(ft,jt,vn)).months(b,!0)}static weekdays(b="long",{locale:ft=null,numberingSystem:jt=null,locObj:ye=null}={}){return(ye||Ee.create(ft,jt,null)).weekdays(b)}static weekdaysFormat(b="long",{locale:ft=null,numberingSystem:jt=null,locObj:ye=null}={}){return(ye||Ee.create(ft,jt,null)).weekdays(b,!0)}static meridiems({locale:b=null}={}){return Ee.create(b).meridiems()}static eras(b="short",{locale:ft=null}={}){return Ee.create(ft,null,"gregory").eras(b)}static features(){return{relative:Ui(),localeWeek:Ki()}}}function or(vt,b){const ft=ye=>ye.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),jt=ft(b)-ft(vt);return Math.floor(to.fromMillis(jt).as("days"))}function go(vt,b=(ft=>ft)){return{regex:vt,deser:([ft])=>b(function re(vt){let b=parseInt(vt,10);if(isNaN(b)){b="";for(let ft=0;ft<vt.length;ft++){const jt=vt.charCodeAt(ft);if(-1!==vt[ft].search(Ae.hanidec))b+=rn.indexOf(vt[ft]);else for(const ye in Hn){const[vn,Nn]=Hn[ye];jt>=vn&&jt<=Nn&&(b+=jt-vn)}}return parseInt(b,10)}return b}(ft))}}const Zr=`[ ${String.fromCharCode(160)}]`,Xr=new RegExp(Zr,"g");function Jr(vt){return vt.replace(/\./g,"\\.?").replace(Xr,Zr)}function Hr(vt){return vt.replace(/\./g,"").replace(Xr," ").toLowerCase()}function hr(vt,b){return null===vt?null:{regex:RegExp(vt.map(Jr).join("|")),deser:([ft])=>vt.findIndex(jt=>Hr(ft)===Hr(jt))+b}}function zr(vt,b){return{regex:vt,deser:([,ft,jt])=>ie(ft,jt),groups:b}}function Vr(vt){return{regex:vt,deser:([b])=>b}}function os(vt){return vt.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Wr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let G=null;function Jt(vt,b){return Array.prototype.concat(...vt.map(ft=>function Tt(vt,b){if(vt.literal)return vt;const jt=Ai(bo.macroTokenToFormatOpts(vt.val),b);return null==jt||jt.includes(void 0)?vt:jt}(ft,b)))}class Ze{constructor(b,ft){if(this.locale=b,this.format=ft,this.tokens=Jt(bo.parseFormat(ft),b),this.units=this.tokens.map(jt=>function Fr(vt,b){const ft=Ht(b),jt=Ht(b,"{2}"),ye=Ht(b,"{3}"),vn=Ht(b,"{4}"),Nn=Ht(b,"{6}"),Un=Ht(b,"{1,2}"),Wn=Ht(b,"{1,3}"),Oi=Ht(b,"{1,6}"),oo=Ht(b,"{1,9}"),Do=Ht(b,"{2,4}"),Qo=Ht(b,"{4,6}"),fo=Re=>({regex:RegExp(os(Re.val)),deser:([_t])=>_t,literal:!0}),q=(Re=>{if(vt.literal)return fo(Re);switch(Re.val){case"G":return hr(b.eras("short"),0);case"GG":return hr(b.eras("long"),0);case"y":return go(Oi);case"yy":case"kk":return go(Do,Tn);case"yyyy":case"kkkk":return go(vn);case"yyyyy":return go(Qo);case"yyyyyy":return go(Nn);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return go(Un);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return go(jt);case"MMM":return hr(b.months("short",!0),1);case"MMMM":return hr(b.months("long",!0),1);case"LLL":return hr(b.months("short",!1),1);case"LLLL":return hr(b.months("long",!1),1);case"o":case"S":return go(Wn);case"ooo":case"SSS":return go(ye);case"u":return Vr(oo);case"uu":return Vr(Un);case"uuu":case"E":case"c":return go(ft);case"a":return hr(b.meridiems(),0);case"EEE":return hr(b.weekdays("short",!1),1);case"EEEE":return hr(b.weekdays("long",!1),1);case"ccc":return hr(b.weekdays("short",!0),1);case"cccc":return hr(b.weekdays("long",!0),1);case"Z":case"ZZ":return zr(new RegExp(`([+-]${Un.source})(?::(${jt.source}))?`),2);case"ZZZ":return zr(new RegExp(`([+-]${Un.source})(${jt.source})?`),2);case"z":return Vr(/[a-z_+-/]{1,256}?/i);case" ":return Vr(/[^\S\n\r]/);default:return fo(Re)}})(vt)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return q.token=vt,q}(jt,b)),this.disqualifyingUnit=this.units.find(jt=>jt.invalidReason),!this.disqualifyingUnit){const[jt,ye]=function Qr(vt){return[`^${vt.map(ft=>ft.regex).reduce((ft,jt)=>`${ft}(${jt.source})`,"")}$`,vt]}(this.units);this.regex=RegExp(jt,"i"),this.handlers=ye}}explainFromTokens(b){if(this.isValid){const[ft,jt]=function Ar(vt,b,ft){const jt=vt.match(b);if(jt){const ye={};let vn=1;for(const Nn in ft)if(Xt(ft,Nn)){const Un=ft[Nn],Wn=Un.groups?Un.groups+1:1;!Un.literal&&Un.token&&(ye[Un.token.val[0]]=Un.deser(jt.slice(vn,vn+Wn))),vn+=Wn}return[jt,ye]}return[jt,{}]}(b,this.regex,this.handlers),[ye,vn,Nn]=jt?function wr(vt){let jt,ft=null;return mi(vt.z)||(ft=Dt.create(vt.z)),mi(vt.Z)||(ft||(ft=new ae(vt.Z)),jt=vt.Z),mi(vt.q)||(vt.M=3*(vt.q-1)+1),mi(vt.h)||(vt.h<12&&1===vt.a?vt.h+=12:12===vt.h&&0===vt.a&&(vt.h=0)),0===vt.G&&vt.y&&(vt.y=-vt.y),mi(vt.u)||(vt.S=Ji(vt.u)),[Object.keys(vt).reduce((vn,Nn)=>{const Un=(vn=>{switch(vn){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Nn);return Un&&(vn[Un]=vt[Nn]),vn},{}),ft,jt]}(jt):[null,null,void 0];if(Xt(jt,"a")&&Xt(jt,"H"))throw new g("Can't include meridiem when specifying 24-hour format");return{input:b,tokens:this.tokens,regex:this.regex,rawMatches:ft,matches:jt,result:ye,zone:vn,specificOffset:Nn}}return{input:b,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Vn(vt,b,ft){return new Ze(vt,ft).explainFromTokens(b)}function Ai(vt,b){if(!vt)return null;const jt=bo.create(b,vt).dtFormatter(function fe(){return G||(G=qt.fromMillis(1555555555555)),G}()),ye=jt.formatToParts(),vn=jt.resolvedOptions();return ye.map(Nn=>function $r(vt,b,ft){const{type:jt,value:ye}=vt;if("literal"===jt){const Wn=/^\s+$/.test(ye);return{literal:!Wn,val:Wn?" ":ye}}let Nn=jt;"hour"===jt&&(Nn=null!=b.hour12?b.hour12?"hour12":"hour24":null!=b.hourCycle?"h11"===b.hourCycle||"h12"===b.hourCycle?"hour12":"hour24":ft.hour12?"hour12":"hour24");let Un=Wr[Nn];if("object"==typeof Un&&(Un=Un[b[jt]]),Un)return{literal:!1,val:Un}}(Nn,vt,vn))}const ko="Invalid DateTime",Ao=864e13;function Eo(vt){return new we("unsupported zone",`the zone "${vt.name}" is not supported`)}function Xi(vt){return null===vt.weekData&&(vt.weekData=tn(vt.c)),vt.weekData}function Bo(vt){return null===vt.localWeekData&&(vt.localWeekData=tn(vt.c,vt.loc.getMinDaysInFirstWeek(),vt.loc.getStartOfWeek())),vt.localWeekData}function _o(vt,b){const ft={ts:vt.ts,zone:vt.zone,c:vt.c,o:vt.o,loc:vt.loc,invalid:vt.invalid};return new qt({...ft,...b,old:ft})}function wo(vt,b,ft){let jt=vt-60*b*1e3;const ye=ft.offset(jt);if(b===ye)return[jt,b];jt-=60*(ye-b)*1e3;const vn=ft.offset(jt);return ye===vn?[jt,ye]:[vt-60*Math.min(ye,vn)*1e3,Math.max(ye,vn)]}function Dr(vt,b){const ft=new Date(vt+=60*b*1e3);return{year:ft.getUTCFullYear(),month:ft.getUTCMonth()+1,day:ft.getUTCDate(),hour:ft.getUTCHours(),minute:ft.getUTCMinutes(),second:ft.getUTCSeconds(),millisecond:ft.getUTCMilliseconds()}}function Er(vt,b,ft){return wo(fn(vt),b,ft)}function kr(vt,b){const ft=vt.o,jt=vt.c.year+Math.trunc(b.years),ye=vt.c.month+Math.trunc(b.months)+3*Math.trunc(b.quarters),vn={...vt.c,year:jt,month:ye,day:Math.min(vt.c.day,pn(jt,ye))+Math.trunc(b.days)+7*Math.trunc(b.weeks)},Nn=to.fromObject({years:b.years-Math.trunc(b.years),quarters:b.quarters-Math.trunc(b.quarters),months:b.months-Math.trunc(b.months),weeks:b.weeks-Math.trunc(b.weeks),days:b.days-Math.trunc(b.days),hours:b.hours,minutes:b.minutes,seconds:b.seconds,milliseconds:b.milliseconds}).as("milliseconds"),Un=fn(vn);let[Wn,Oi]=wo(Un,ft,vt.zone);return 0!==Nn&&(Wn+=Nn,Oi=vt.zone.offset(Wn)),{ts:Wn,o:Oi}}function gr(vt,b,ft,jt,ye,vn){const{setZone:Nn,zone:Un}=ft;if(vt&&0!==Object.keys(vt).length||b){const Wn=b||Un,Oi=qt.fromObject(vt,{...ft,zone:Wn,specificOffset:vn});return Nn?Oi:Oi.setZone(Un)}return qt.invalid(new we("unparsable",`the input "${ye}" can't be parsed as ${jt}`))}function Jo(vt,b,ft=!0){return vt.isValid?bo.create(Ee.create("en-US"),{allowZ:ft,forceSimple:!0}).formatDateTimeFromString(vt,b):null}function ar(vt,b,ft){const jt=vt.c.year>9999||vt.c.year<0;let ye="";if(jt&&vt.c.year>=0&&(ye+="+"),ye+=An(vt.c.year,jt?6:4),"year"===ft)return ye;if(b){if(ye+="-",ye+=An(vt.c.month),"month"===ft)return ye;ye+="-"}else if(ye+=An(vt.c.month),"month"===ft)return ye;return ye+=An(vt.c.day),ye}function xr(vt,b,ft,jt,ye,vn,Nn){let Un=!ft||0!==vt.c.millisecond||0!==vt.c.second,Wn="";switch(Nn){case"day":case"month":case"year":break;default:if(Wn+=An(vt.c.hour),"hour"===Nn)break;if(b){if(Wn+=":",Wn+=An(vt.c.minute),"minute"===Nn)break;Un&&(Wn+=":",Wn+=An(vt.c.second))}else{if(Wn+=An(vt.c.minute),"minute"===Nn)break;Un&&(Wn+=An(vt.c.second))}if("second"===Nn)break;Un&&(!jt||0!==vt.c.millisecond)&&(Wn+=".",Wn+=An(vt.c.millisecond,3))}return ye&&(vt.isOffsetFixed&&0===vt.offset&&!vn?Wn+="Z":vt.o<0?(Wn+="-",Wn+=An(Math.trunc(-vt.o/60)),Wn+=":",Wn+=An(Math.trunc(-vt.o%60))):(Wn+="+",Wn+=An(Math.trunc(vt.o/60)),Wn+=":",Wn+=An(Math.trunc(vt.o%60)))),vn&&(Wn+="["+vt.zone.ianaName+"]"),Wn}const Tr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Zo={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rs={ordinal:1,hour:0,minute:0,second:0,millisecond:0},wt=["year","month","day","hour","minute","second","millisecond"],nn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],X=["year","ordinal","hour","minute","second","millisecond"];function Yt(vt){const b={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[vt.toLowerCase()];if(!b)throw new T(vt);return b}function Te(vt){switch(vt.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Yt(vt)}}function di(vt,b){const ft=Bn(b.zone,ke.defaultZone);if(!ft.isValid)return qt.invalid(Eo(ft));const jt=Ee.fromObject(b);let ye,vn;if(mi(vt.year))ye=ke.now();else{for(const Wn of wt)mi(vt[Wn])&&(vt[Wn]=Tr[Wn]);const Nn=oi(vt)||Li(vt);if(Nn)return qt.invalid(Nn);const Un=function Cn(vt){if(void 0===yn&&(yn=ke.now()),"iana"!==vt.type)return vt.offset(yn);const b=vt.name;let ft=Ct.get(b);return void 0===ft&&(ft=vt.offset(yn),Ct.set(b,ft)),ft}(ft);[ye,vn]=Er(vt,Un,ft)}return new qt({ts:ye,zone:ft,loc:jt,o:vn})}function ro(vt,b,ft){const jt=!!mi(ft.round)||ft.round,ye=mi(ft.rounding)?"trunc":ft.rounding,vn=(Un,Wn)=>(Un=Wo(Un,jt||ft.calendary?0:2,ft.calendary?"round":ye),b.loc.clone(ft).relFormatter(ft).format(Un,Wn)),Nn=Un=>ft.calendary?b.hasSame(vt,Un)?0:b.startOf(Un).diff(vt.startOf(Un),Un).get(Un):b.diff(vt,Un).get(Un);if(ft.unit)return vn(Nn(ft.unit),ft.unit);for(const Un of ft.units){const Wn=Nn(Un);if(Math.abs(Wn)>=1)return vn(Wn,Un)}return vn(vt>b?-0:0,ft.units[ft.units.length-1])}function Mt(vt){let ft,b={};return vt.length>0&&"object"==typeof vt[vt.length-1]?(b=vt[vt.length-1],ft=Array.from(vt).slice(0,vt.length-1)):ft=Array.from(vt),[b,ft]}let yn;const Ct=new Map;class qt{constructor(b){const ft=b.zone||ke.defaultZone;let jt=b.invalid||(Number.isNaN(b.ts)?new we("invalid input"):null)||(ft.isValid?null:Eo(ft));this.ts=mi(b.ts)?ke.now():b.ts;let ye=null,vn=null;if(!jt)if(b.old&&b.old.ts===this.ts&&b.old.zone.equals(ft))[ye,vn]=[b.old.c,b.old.o];else{const Un=Zi(b.o)&&!b.old?b.o:ft.offset(this.ts);ye=Dr(this.ts,Un),jt=Number.isNaN(ye.year)?new we("invalid input"):null,ye=jt?null:ye,vn=jt?null:Un}this._zone=ft,this.loc=b.loc||Ee.create(),this.invalid=jt,this.weekData=null,this.localWeekData=null,this.c=ye,this.o=vn,this.isLuxonDateTime=!0}static now(){return new qt({})}static local(){const[b,ft]=Mt(arguments),[jt,ye,vn,Nn,Un,Wn,Oi]=ft;return di({year:jt,month:ye,day:vn,hour:Nn,minute:Un,second:Wn,millisecond:Oi},b)}static utc(){const[b,ft]=Mt(arguments),[jt,ye,vn,Nn,Un,Wn,Oi]=ft;return b.zone=ae.utcInstance,di({year:jt,month:ye,day:vn,hour:Nn,minute:Un,second:Wn,millisecond:Oi},b)}static fromJSDate(b,ft={}){const jt=function uo(vt){return"[object Date]"===Object.prototype.toString.call(vt)}(b)?b.valueOf():NaN;if(Number.isNaN(jt))return qt.invalid("invalid input");const ye=Bn(ft.zone,ke.defaultZone);return ye.isValid?new qt({ts:jt,zone:ye,loc:Ee.fromObject(ft)}):qt.invalid(Eo(ye))}static fromMillis(b,ft={}){if(Zi(b))return b<-Ao||b>Ao?qt.invalid("Timestamp out of range"):new qt({ts:b,zone:Bn(ft.zone,ke.defaultZone),loc:Ee.fromObject(ft)});throw new _(`fromMillis requires a numerical input, but received a ${typeof b} with value ${b}`)}static fromSeconds(b,ft={}){if(Zi(b))return new qt({ts:1e3*b,zone:Bn(ft.zone,ke.defaultZone),loc:Ee.fromObject(ft)});throw new _("fromSeconds requires a numerical input")}static fromObject(b,ft={}){b=b||{};const jt=Bn(ft.zone,ke.defaultZone);if(!jt.isValid)return qt.invalid(Eo(jt));const ye=Ee.fromObject(ft),vn=Le(b,Te),{minDaysInFirstWeek:Nn,startOfWeek:Un}=hi(vn,ye),Wn=ke.now(),Oi=mi(ft.specificOffset)?jt.offset(Wn):ft.specificOffset,oo=!mi(vn.ordinal),Do=!mi(vn.year),Qo=!mi(vn.month)||!mi(vn.day),fo=Do||Qo,_r=vn.weekYear||vn.weekNumber;if((fo||oo)&&_r)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Qo&&oo)throw new g("Can't mix ordinal dates with month/day");const q=_r||vn.weekday&&!fo;let Re,_t,ee=Dr(Wn,Oi);q?(Re=nn,_t=Zo,ee=tn(ee,Nn,Un)):oo?(Re=X,_t=rs,ee=Zn(ee)):(Re=wt,_t=Tr);let he=!1;for(const cs of Re)mi(vn[cs])?vn[cs]=he?_t[cs]:ee[cs]:he=!0;const ri=q?function ei(vt,b=4,ft=1){const jt=Qi(vt.weekYear),ye=se(vt.weekNumber,1,Mn(vt.weekYear,b,ft)),vn=se(vt.weekday,1,7);return jt?ye?!vn&&qe("weekday",vt.weekday):qe("week",vt.weekNumber):qe("weekYear",vt.weekYear)}(vn,Nn,Un):oo?function wi(vt){const b=Qi(vt.year),ft=se(vt.ordinal,1,ze(vt.year));return b?!ft&&qe("ordinal",vt.ordinal):qe("year",vt.year)}(vn):oi(vn),bi=ri||Li(vn);if(bi)return qt.invalid(bi);const vo=q?ln(vn,Nn,Un):oo?Jn(vn):vn,[Rr,ss]=Er(vo,Oi,jt),qr=new qt({ts:Rr,zone:jt,o:ss,loc:ye});return vn.weekday&&fo&&b.weekday!==qr.weekday?qt.invalid("mismatched weekday",`you can't specify both a weekday of ${vn.weekday} and a date of ${qr.toISO()}`):qr.isValid?qr:qt.invalid(qr.invalid)}static fromISO(b,ft={}){const[jt,ye]=function Hi(vt){return Fi(vt,[Gn,mt],[ni,ue],[Lt,He],[$t,ci])}(b);return gr(jt,ye,ft,"ISO 8601",b)}static fromRFC2822(b,ft={}){const[jt,ye]=function So(vt){return Fi(function rt(vt){return vt.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(vt),[_e,W])}(b);return gr(jt,ye,ft,"RFC 2822",b)}static fromHTTP(b,ft={}){const[jt,ye]=function Co(vt){return Fi(vt,[zt,On],[pe,On],[Be,Sn])}(b);return gr(jt,ye,ft,"HTTP",ft)}static fromFormat(b,ft,jt={}){if(mi(b)||mi(ft))throw new _("fromFormat requires an input string and a format");const{locale:ye=null,numberingSystem:vn=null}=jt,Nn=Ee.fromOpts({locale:ye,numberingSystem:vn,defaultToEN:!0}),[Un,Wn,Oi,oo]=function Kn(vt,b,ft){const{result:jt,zone:ye,specificOffset:vn,invalidReason:Nn}=Vn(vt,b,ft);return[jt,ye,vn,Nn]}(Nn,b,ft);return oo?qt.invalid(oo):gr(Un,Wn,jt,`format ${ft}`,b,Oi)}static fromString(b,ft,jt={}){return qt.fromFormat(b,ft,jt)}static fromSQL(b,ft={}){const[jt,ye]=function Or(vt){return Fi(vt,[dr,mt],[lr,fr])}(b);return gr(jt,ye,ft,"SQL",b)}static invalid(b,ft=null){if(!b)throw new _("need to specify a reason the DateTime is invalid");const jt=b instanceof we?b:new we(b,ft);if(ke.throwOnInvalid)throw new t(jt);return new qt({invalid:jt})}static isDateTime(b){return b&&b.isLuxonDateTime||!1}static parseFormatForOpts(b,ft={}){const jt=Ai(b,Ee.fromObject(ft));return jt?jt.map(ye=>ye?ye.val:null).join(""):null}static expandFormat(b,ft={}){return Jt(bo.parseFormat(b),Ee.fromObject(ft)).map(ye=>ye.val).join("")}static resetCache(){yn=void 0,Ct.clear()}get(b){return this[b]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Xi(this).weekYear:NaN}get weekNumber(){return this.isValid?Xi(this).weekNumber:NaN}get weekday(){return this.isValid?Xi(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Bo(this).weekday:NaN}get localWeekNumber(){return this.isValid?Bo(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Bo(this).weekYear:NaN}get ordinal(){return this.isValid?Zn(this.c).ordinal:NaN}get monthShort(){return this.isValid?br.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?br.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?br.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?br.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const b=864e5,ft=6e4,jt=fn(this.c),ye=this.zone.offset(jt-b),vn=this.zone.offset(jt+b),Nn=this.zone.offset(jt-ye*ft),Un=this.zone.offset(jt-vn*ft);if(Nn===Un)return[this];const Wn=jt-Nn*ft,Oi=jt-Un*ft,oo=Dr(Wn,Nn),Do=Dr(Oi,Un);return oo.hour===Do.hour&&oo.minute===Do.minute&&oo.second===Do.second&&oo.millisecond===Do.millisecond?[_o(this,{ts:Wn}),_o(this,{ts:Oi})]:[this]}get isInLeapYear(){return Ie(this.year)}get daysInMonth(){return pn(this.year,this.month)}get daysInYear(){return this.isValid?ze(this.year):NaN}get weeksInWeekYear(){return this.isValid?Mn(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Mn(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(b={}){const{locale:ft,numberingSystem:jt,calendar:ye}=bo.create(this.loc.clone(b),b).resolvedOptions(this);return{locale:ft,numberingSystem:jt,outputCalendar:ye}}toUTC(b=0,ft={}){return this.setZone(ae.instance(b),ft)}toLocal(){return this.setZone(ke.defaultZone)}setZone(b,{keepLocalTime:ft=!1,keepCalendarTime:jt=!1}={}){if((b=Bn(b,ke.defaultZone)).equals(this.zone))return this;if(b.isValid){let ye=this.ts;if(ft||jt){const vn=b.offset(this.ts),Nn=this.toObject();[ye]=Er(Nn,vn,b)}return _o(this,{ts:ye,zone:b})}return qt.invalid(Eo(b))}reconfigure({locale:b,numberingSystem:ft,outputCalendar:jt}={}){return _o(this,{loc:this.loc.clone({locale:b,numberingSystem:ft,outputCalendar:jt})})}setLocale(b){return this.reconfigure({locale:b})}set(b){if(!this.isValid)return this;const ft=Le(b,Te),{minDaysInFirstWeek:jt,startOfWeek:ye}=hi(ft,this.loc),vn=!mi(ft.weekYear)||!mi(ft.weekNumber)||!mi(ft.weekday),Nn=!mi(ft.ordinal),Un=!mi(ft.year),Wn=!mi(ft.month)||!mi(ft.day);if((Un||Wn||Nn)&&(ft.weekYear||ft.weekNumber))throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Wn&&Nn)throw new g("Can't mix ordinal dates with month/day");let Do;vn?Do=ln({...tn(this.c,jt,ye),...ft},jt,ye):mi(ft.ordinal)?(Do={...this.toObject(),...ft},mi(ft.day)&&(Do.day=Math.min(pn(Do.year,Do.month),Do.day))):Do=Jn({...Zn(this.c),...ft});const[Qo,fo]=Er(Do,this.o,this.zone);return _o(this,{ts:Qo,o:fo})}plus(b){return this.isValid?_o(this,kr(this,to.fromDurationLike(b))):this}minus(b){return this.isValid?_o(this,kr(this,to.fromDurationLike(b).negate())):this}startOf(b,{useLocaleWeeks:ft=!1}={}){if(!this.isValid)return this;const jt={},ye=to.normalizeUnit(b);switch(ye){case"years":jt.month=1;case"quarters":case"months":jt.day=1;case"weeks":case"days":jt.hour=0;case"hours":jt.minute=0;case"minutes":jt.second=0;case"seconds":jt.millisecond=0}if("weeks"===ye)if(ft){const vn=this.loc.getStartOfWeek(),{weekday:Nn}=this;Nn<vn&&(jt.weekNumber=this.weekNumber-1),jt.weekday=vn}else jt.weekday=1;if("quarters"===ye){const vn=Math.ceil(this.month/3);jt.month=3*(vn-1)+1}return this.set(jt)}endOf(b,ft){return this.isValid?this.plus({[b]:1}).startOf(b,ft).minus(1):this}toFormat(b,ft={}){return this.isValid?bo.create(this.loc.redefaultToEN(ft)).formatDateTimeFromString(this,b):ko}toLocaleString(b=C,ft={}){return this.isValid?bo.create(this.loc.clone(ft),b).formatDateTime(this):ko}toLocaleParts(b={}){return this.isValid?bo.create(this.loc.clone(b),b).formatDateTimeParts(this):[]}toISO({format:b="extended",suppressSeconds:ft=!1,suppressMilliseconds:jt=!1,includeOffset:ye=!0,extendedZone:vn=!1,precision:Nn="milliseconds"}={}){if(!this.isValid)return null;const Un="extended"===b;let Wn=ar(this,Un,Nn=Yt(Nn));return wt.indexOf(Nn)>=3&&(Wn+="T"),Wn+=xr(this,Un,ft,jt,ye,vn,Nn),Wn}toISODate({format:b="extended",precision:ft="day"}={}){return this.isValid?ar(this,"extended"===b,Yt(ft)):null}toISOWeekDate(){return Jo(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:b=!1,suppressSeconds:ft=!1,includeOffset:jt=!0,includePrefix:ye=!1,extendedZone:vn=!1,format:Nn="extended",precision:Un="milliseconds"}={}){return this.isValid?(Un=Yt(Un),(ye&&wt.indexOf(Un)>=3?"T":"")+xr(this,"extended"===Nn,ft,b,jt,vn,Un)):null}toRFC2822(){return Jo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Jo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ar(this,!0):null}toSQLTime({includeOffset:b=!0,includeZone:ft=!1,includeOffsetSpace:jt=!0}={}){let ye="HH:mm:ss.SSS";return(ft||b)&&(jt&&(ye+=" "),ft?ye+="z":b&&(ye+="ZZ")),Jo(this,ye,!0)}toSQL(b={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(b)}`:null}toString(){return this.isValid?this.toISO():ko}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(b={}){if(!this.isValid)return{};const ft={...this.c};return b.includeConfig&&(ft.outputCalendar=this.outputCalendar,ft.numberingSystem=this.loc.numberingSystem,ft.locale=this.loc.locale),ft}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(b,ft="milliseconds",jt={}){if(!this.isValid||!b.isValid)return to.invalid("created by diffing an invalid DateTime");const ye={locale:this.locale,numberingSystem:this.numberingSystem,...jt},vn=function Gi(vt){return Array.isArray(vt)?vt:[vt]}(ft).map(to.normalizeUnit),Nn=b.valueOf()>this.valueOf(),Oi=function ur(vt,b,ft,jt){let[ye,vn,Nn,Un]=function Cr(vt,b,ft){const jt=[["years",(Wn,Oi)=>Oi.year-Wn.year],["quarters",(Wn,Oi)=>Oi.quarter-Wn.quarter+4*(Oi.year-Wn.year)],["months",(Wn,Oi)=>Oi.month-Wn.month+12*(Oi.year-Wn.year)],["weeks",(Wn,Oi)=>{const oo=or(Wn,Oi);return(oo-oo%7)/7}],["days",or]],ye={},vn=vt;let Nn,Un;for(const[Wn,Oi]of jt)ft.indexOf(Wn)>=0&&(Nn=Wn,ye[Wn]=Oi(vt,b),Un=vn.plus(ye),Un>b?(ye[Wn]--,(vt=vn.plus(ye))>b&&(Un=vt,ye[Wn]--,vt=vn.plus(ye))):vt=Un);return[vt,ye,Un,Nn]}(vt,b,ft);const Wn=b-ye,Oi=ft.filter(Do=>["hours","minutes","seconds","milliseconds"].indexOf(Do)>=0);0===Oi.length&&(Nn<b&&(Nn=ye.plus({[Un]:1})),Nn!==ye&&(vn[Un]=(vn[Un]||0)+Wn/(Nn-ye)));const oo=to.fromObject(vn,jt);return Oi.length>0?to.fromMillis(Wn,jt).shiftTo(...Oi).plus(oo):oo}(Nn?this:b,Nn?b:this,vn,ye);return Nn?Oi.negate():Oi}diffNow(b="milliseconds",ft={}){return this.diff(qt.now(),b,ft)}until(b){return this.isValid?co.fromDateTimes(this,b):this}hasSame(b,ft,jt){if(!this.isValid)return!1;const ye=b.valueOf(),vn=this.setZone(b.zone,{keepLocalTime:!0});return vn.startOf(ft,jt)<=ye&&ye<=vn.endOf(ft,jt)}equals(b){return this.isValid&&b.isValid&&this.valueOf()===b.valueOf()&&this.zone.equals(b.zone)&&this.loc.equals(b.loc)}toRelative(b={}){if(!this.isValid)return null;const ft=b.base||qt.fromObject({},{zone:this.zone}),jt=b.padding?this<ft?-b.padding:b.padding:0;let ye=["years","months","days","hours","minutes","seconds"],vn=b.unit;return Array.isArray(b.unit)&&(ye=b.unit,vn=void 0),ro(ft,this.plus(jt),{...b,numeric:"always",units:ye,unit:vn})}toRelativeCalendar(b={}){return this.isValid?ro(b.base||qt.fromObject({},{zone:this.zone}),this,{...b,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...b){if(!b.every(qt.isDateTime))throw new _("min requires all arguments be DateTimes");return sn(b,ft=>ft.valueOf(),Math.min)}static max(...b){if(!b.every(qt.isDateTime))throw new _("max requires all arguments be DateTimes");return sn(b,ft=>ft.valueOf(),Math.max)}static fromFormatExplain(b,ft,jt={}){const{locale:ye=null,numberingSystem:vn=null}=jt;return Vn(Ee.fromOpts({locale:ye,numberingSystem:vn,defaultToEN:!0}),b,ft)}static fromStringExplain(b,ft,jt={}){return qt.fromFormatExplain(b,ft,jt)}static buildFormatParser(b,ft={}){const{locale:jt=null,numberingSystem:ye=null}=ft,vn=Ee.fromOpts({locale:jt,numberingSystem:ye,defaultToEN:!0});return new Ze(vn,b)}static fromFormatParser(b,ft,jt={}){if(mi(b)||mi(ft))throw new _("fromFormatParser requires an input string and a format parser");const{locale:ye=null,numberingSystem:vn=null}=jt,Nn=Ee.fromOpts({locale:ye,numberingSystem:vn,defaultToEN:!0});if(!Nn.equals(ft.locale))throw new _(`fromFormatParser called with a locale of ${Nn}, but the format parser was created for ${ft.locale}`);const{result:Un,zone:Wn,specificOffset:Oi,invalidReason:oo}=ft.explainFromTokens(b);return oo?qt.invalid(oo):gr(Un,Wn,jt,`format ${ft.format}`,b,Oi)}static get DATE_SHORT(){return C}static get DATE_MED(){return D}static get DATE_MED_WITH_WEEKDAY(){return y}static get DATE_FULL(){return E}static get DATE_HUGE(){return O}static get TIME_SIMPLE(){return M}static get TIME_WITH_SECONDS(){return U}static get TIME_WITH_SHORT_OFFSET(){return R}static get TIME_WITH_LONG_OFFSET(){return A}static get TIME_24_SIMPLE(){return S}static get TIME_24_WITH_SECONDS(){return w}static get TIME_24_WITH_SHORT_OFFSET(){return p}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return V}static get DATETIME_SHORT_WITH_SECONDS(){return et}static get DATETIME_MED(){return tt}static get DATETIME_MED_WITH_SECONDS(){return ht}static get DATETIME_MED_WITH_WEEKDAY(){return it}static get DATETIME_FULL(){return It}static get DATETIME_FULL_WITH_SECONDS(){return st}static get DATETIME_HUGE(){return dt}static get DATETIME_HUGE_WITH_SECONDS(){return St}}function Je(vt){if(qt.isDateTime(vt))return vt;if(vt&&vt.valueOf&&Zi(vt.valueOf()))return qt.fromJSDate(vt);if(vt&&"object"==typeof vt)return qt.fromObject(vt);throw new _(`Unknown datetime argument: ${vt}, of type ${typeof vt}`)}},247:(Qt,$,o)=>{"use strict";o.d($,{Rq:()=>Bt,Ry:()=>Nt});var e=o(5879),t=o(2096),a=o(2438),i=o(1631),g=o(7398),T=o(9397),_=o(2181),m=o(8753);function f(B,k,yt,Y){const xt=window&&!!window.document&&window.document.documentElement;let z=xt&&k?window:yt;if(B&&(z=B&&xt&&"string"==typeof B?function v(B,k,yt){return(yt?window.document:k).querySelector(B)}(B,yt.nativeElement,Y):B,!z))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return z}function C(B){return B&&!B.firstChange}const y={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},E={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class O{constructor(k=!0){this.vertical=k,this.propsMap=k?y:E}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function A(B){return["Window","global"].some(yt=>Object.prototype.toString.call(B).includes(yt))}function S(B,k){return B?k.document.documentElement:null}function w(B,k){const yt=function et({container:B,isWindow:k,axis:yt}){const{offsetHeightKey:Y,clientHeightKey:xt}=V(yt);return tt(B,k,Y,xt)}(k);return k.isWindow?function p(B,k,yt){const{axis:Y,container:xt,isWindow:z}=yt,{offsetHeightKey:at,clientHeightKey:Pt}=V(Y),Gt=B+it(S(z,xt),Y,z),De=tt(k.nativeElement,z,at,Pt),Ut=function ht(B,k,yt){const Y=k.topKey();if(B.getBoundingClientRect)return B.getBoundingClientRect()[Y]+it(B,k,yt)}(k.nativeElement,Y,z)+De;return{height:B,scrolled:Gt,totalToScroll:Ut,isWindow:z}}(yt,B,k):function L(B,k,yt){const{axis:Y,container:xt}=yt;return{height:B,scrolled:xt[Y.scrollTopKey()],totalToScroll:xt[Y.scrollHeightKey()],isWindow:!1}}(yt,0,k)}function V(B){return{offsetHeightKey:B.offsetHeightKey(),clientHeightKey:B.clientHeightKey()}}function tt(B,k,yt,Y){if(isNaN(B[yt])){const xt=S(k,B);return xt?xt[Y]:0}return B[yt]}function it(B,k,yt){const Y=k.pageYOffsetKey(),xt=k.scrollTopKey(),z=k.offsetTopKey();return isNaN(window.pageYOffset)?S(yt,B)[xt]:B.ownerDocument?B.ownerDocument.defaultView[Y]:B[z]}function It(B,k={down:0,up:0},yt){let Y,xt;if(B.totalToScroll<=0)return!1;const z=B.isWindow?B.scrolled:B.height+B.scrolled;return yt?(Y=(B.totalToScroll-z)/B.totalToScroll,xt=(k?.down?k.down:0)/10):(Y=B.scrolled/(B.scrolled+(B.totalToScroll-z)),xt=(k?.up?k.up:0)/10),Y<=xt}class F{constructor({totalToScroll:k}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=k}updateScrollPosition(k){return this.lastScrollPosition=k}updateTotalToScroll(k){this.lastTotalToScroll!==k&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=k)}updateScroll(k,yt){this.updateScrollPosition(k),this.updateTotalToScroll(yt)}updateTriggeredFlag(k,yt){yt?this.triggered.down=k:this.triggered.up=k}isTriggeredScroll(k,yt){return yt?this.triggered.down===k:this.triggered.up===k}}const Dt={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Wt(B){const{scrollDown:k,stats:{scrolled:yt}}=B;return{type:k?Dt.DOWN:Dt.UP,payload:{currentScrollPosition:yt}}}let Nt=(()=>{class B{constructor(yt,Y){this.element=yt,this.zone=Y,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:yt,infiniteScrollDisabled:Y,infiniteScrollDistance:xt}){const z=C(yt),at=C(Y),Pt=C(xt),Gt=!at&&!this.infiniteScrollDisabled||at&&!Y.currentValue||Pt;(z||at||Pt)&&(this.destroyScroller(),Gt&&this.setup())}setup(){(function D(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function ot(B){const{scrollContainer:k,scrollWindow:yt,element:Y,fromRoot:xt}=B,z=function U({windowElement:B,axis:k}){return function R(B,k){const yt=B.isWindow||k&&!k.nativeElement?k:k.nativeElement;return{...B,container:yt}}({axis:k,isWindow:A(B)},B)}({axis:new O(!B.horizontal),windowElement:f(k,yt,Y,xt)}),at=new F({totalToScroll:w(Y,z)}),Gt={up:B.upDistance,down:B.downDistance};return function nt(B){let k=(0,a.R)(B.container,"scroll");return B.throttle&&(k=k.pipe((0,m.p)(B.throttle,void 0,{leading:!0,trailing:!0}))),k}({container:z.container,throttle:B.throttle}).pipe((0,i.z)(()=>(0,t.of)(w(Y,z))),(0,g.U)(De=>function At(B,k,yt){const{scrollDown:Y,fire:xt}=function dt(B,k,yt){const Y=function st(B,k){return B<k.scrolled}(B,k);return{fire:It(k,yt,Y),scrollDown:Y}}(B,k,yt);return{scrollDown:Y,fire:xt,stats:k}}(at.lastScrollPosition,De,Gt)),(0,T.b)(({stats:De})=>at.updateScroll(De.scrolled,De.totalToScroll)),(0,_.h)(({fire:De,scrollDown:Ut,stats:{totalToScroll:Q}})=>function M(B,k,yt){return!!(B&&k||!yt&&k)}(B.alwaysCallback,De,at.isTriggeredScroll(Q,Ut))),(0,T.b)(({scrollDown:De,stats:{totalToScroll:Ut}})=>{at.updateTriggeredFlag(Ut,De)}),(0,g.U)(Wt))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(yt=>this.handleOnScroll(yt))})}handleOnScroll({type:yt,payload:Y}){const xt=yt===Dt.DOWN?this.scrolled:this.scrolledUp;(function Rt(B){return B.observed??B.observers.length>0})(xt)&&this.zone.run(()=>xt.emit(Y))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(Y){return new(Y||B)(e.Y36(e.SBq),e.Y36(e.R0b))}}static{this.\u0275dir=e.lG2({type:B,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]})}}return B})(),Bt=(()=>{class B{static{this.\u0275fac=function(Y){return new(Y||B)}}static{this.\u0275mod=e.oAB({type:B})}static{this.\u0275inj=e.cJS({})}}return B})()},5861:(Qt,$,o)=>{"use strict";function e(a,i,g,T,_,m,h){try{var f=a[m](h),v=f.value}catch(C){return void g(C)}f.done?i(v):Promise.resolve(v).then(T,_)}function t(a){return function(){var i=this,g=arguments;return new Promise(function(T,_){var m=a.apply(i,g);function h(v){e(m,T,_,h,f,"next",v)}function f(v){e(m,T,_,h,f,"throw",v)}h(void 0)})}}o.d($,{Z:()=>t})},7582:(Qt,$,o)=>{"use strict";function g(I,F,ot,nt){var Wt,At=arguments.length,Dt=At<3?F:null===nt?nt=Object.getOwnPropertyDescriptor(F,ot):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Dt=Reflect.decorate(I,F,ot,nt);else for(var Nt=I.length-1;Nt>=0;Nt--)(Wt=I[Nt])&&(Dt=(At<3?Wt(Dt):At>3?Wt(F,ot,Dt):Wt(F,ot))||Dt);return At>3&&Dt&&Object.defineProperty(F,ot,Dt),Dt}function v(I,F){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(I,F)}function C(I,F,ot,nt){return new(ot||(ot=Promise))(function(Dt,Wt){function Nt(B){try{Bt(nt.next(B))}catch(k){Wt(k)}}function Rt(B){try{Bt(nt.throw(B))}catch(k){Wt(k)}}function Bt(B){B.done?Dt(B.value):function At(Dt){return Dt instanceof ot?Dt:new ot(function(Wt){Wt(Dt)})}(B.value).then(Nt,Rt)}Bt((nt=nt.apply(I,F||[])).next())})}function S(I){return this instanceof S?(this.v=I,this):new S(I)}function w(I,F,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var At,nt=ot.apply(I,F||[]),Dt=[];return At=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Nt("next"),Nt("throw"),Nt("return",function Wt(Y){return function(xt){return Promise.resolve(xt).then(Y,k)}}),At[Symbol.asyncIterator]=function(){return this},At;function Nt(Y,xt){nt[Y]&&(At[Y]=function(z){return new Promise(function(at,Pt){Dt.push([Y,z,at,Pt])>1||Rt(Y,z)})},xt&&(At[Y]=xt(At[Y])))}function Rt(Y,xt){try{!function Bt(Y){Y.value instanceof S?Promise.resolve(Y.value.v).then(B,k):yt(Dt[0][2],Y)}(nt[Y](xt))}catch(z){yt(Dt[0][3],z)}}function B(Y){Rt("next",Y)}function k(Y){Rt("throw",Y)}function yt(Y,xt){Y(xt),Dt.shift(),Dt.length&&Rt(Dt[0][0],Dt[0][1])}}function L(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,F=I[Symbol.asyncIterator];return F?F.call(I):(I=function O(I){var F="function"==typeof Symbol&&Symbol.iterator,ot=F&&I[F],nt=0;if(ot)return ot.call(I);if(I&&"number"==typeof I.length)return{next:function(){return I&&nt>=I.length&&(I=void 0),{value:I&&I[nt++],done:!I}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}(I),ot={},nt("next"),nt("throw"),nt("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function nt(Dt){ot[Dt]=I[Dt]&&function(Wt){return new Promise(function(Nt,Rt){!function At(Dt,Wt,Nt,Rt){Promise.resolve(Rt).then(function(Bt){Dt({value:Bt,done:Nt})},Wt)}(Nt,Rt,(Wt=I[Dt](Wt)).done,Wt.value)})}}}o.d($,{FC:()=>w,KL:()=>L,gn:()=>g,mG:()=>C,qq:()=>S,w6:()=>v}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=1141)}]);